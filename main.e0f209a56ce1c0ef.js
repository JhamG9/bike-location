"use strict";(self.webpackChunkangular_mobile_app=self.webpackChunkangular_mobile_app||[]).push([[179],{3805:(yt,Oe,P)=>{P.d(Oe,{KQ:()=>rf,JS:()=>Cp});var f=P(4650),k=P(4986),$=P(9751),fe=P(9646),me=P(6451),_e=P(4004),Se=P(3099),ge=P(3900),Ee=P(5026),J=P(1884),ue=P(4482),le=P(5403),Ke=P(8421),$e=P(4671),at=P(5032),gt=P(3269),qe=P(2122),Ye=P(2011),de=(P(750),P(3942)),Ve=P(4859),et=P(5861),tt=P(9681),O=P(2090),Be=P(1877);const be="@firebase/database";let Fe="";function Ue(o){Fe=o}class ft{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,O.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,O.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class dt{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,O.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const Nt=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new ft(r)}}catch{}return new dt},an=Nt("localStorage"),Bn=Nt("sessionStorage"),$t=new Be.Yd("@firebase/database"),zt=function(){let o=1;return function(){return o++}}(),xt=function(o){const r=(0,O.dS)(o),i=new O.gQ;i.update(r);const l=i.digest();return O.US.encodeByteArray(l)},fn=function(...o){let r="";for(let i=0;i<o.length;i++){const l=o[i];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=fn.apply(null,l):r+="object"==typeof l?(0,O.Wl)(l):l,r+=" "}return r};let Ft=null,ur=!0;const Vt=function(o,r){(0,O.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?($t.logLevel=Be.in.VERBOSE,Ft=$t.log.bind($t),r&&Bn.set("logging_enabled",!0)):"function"==typeof o?Ft=o:(Ft=null,Bn.remove("logging_enabled"))},en=function(...o){if(!0===ur&&(ur=!1,null===Ft&&!0===Bn.get("logging_enabled")&&Vt(!0)),Ft){const r=fn.apply(null,o);Ft(r)}},Ir=function(o){return function(...r){en(o,...r)}},yr=function(...o){const r="FIREBASE INTERNAL ERROR: "+fn(...o);$t.error(r)},In=function(...o){const r=`FIREBASE FATAL ERROR: ${fn(...o)}`;throw $t.error(r),new Error(r)},Cn=function(...o){const r="FIREBASE WARNING: "+fn(...o);$t.warn(r)},vr=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},ln="[MIN_NAME]",kn="[MAX_NAME]",un=function(o,r){if(o===r)return 0;if(o===ln||r===kn)return-1;if(r===ln||o===kn)return 1;{const i=Yn(o),l=Yn(r);return null!==i?null!==l?i-l==0?o.length-r.length:i-l:-1:null!==l?1:o<r?-1:1}},ar=function(o,r){return o===r?0:o<r?-1:1},It=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,O.Wl)(r))},br=function(o){if("object"!=typeof o||null===o)return(0,O.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let i="{";for(let l=0;l<r.length;l++)0!==l&&(i+=","),i+=(0,O.Wl)(r[l]),i+=":",i+=br(o[r[l]]);return i+="}",i},Dr=function(o,r){const i=o.length;if(i<=r)return[o];const l=[];for(let h=0;h<i;h+=r)l.push(o.substring(h,h+r>i?i:h+r));return l};function tn(o,r){for(const i in o)o.hasOwnProperty(i)&&r(i,o[i])}const nr=function(o){(0,O.hu)(!vr(o),"Invalid JSON number");const l=1023;let h,D,M,K,re;0===o?(D=0,M=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?(K=Math.min(Math.floor(Math.log(o)/Math.LN2),l),D=K+l,M=Math.round(o*Math.pow(2,52-K)-Math.pow(2,52))):(D=0,M=Math.round(o/Math.pow(2,-1074))));const ye=[];for(re=52;re;re-=1)ye.push(M%2?1:0),M=Math.floor(M/2);for(re=11;re;re-=1)ye.push(D%2?1:0),D=Math.floor(D/2);ye.push(h?1:0),ye.reverse();const Xe=ye.join("");let Je="";for(re=0;re<64;re+=8){let ut=parseInt(Xe.substr(re,8),2).toString(16);1===ut.length&&(ut="0"+ut),Je+=ut}return Je.toLowerCase()},Et=new RegExp("^-?(0*)\\d{1,10}$"),Yn=function(o){if(Et.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},Gn=function(o){try{o()}catch(r){setTimeout(()=>{throw Cn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},pr=function(o,r){const i=setTimeout(o,r);return"number"==typeof i&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class Pn{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){Cn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Hr{constructor(r,i,l){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(en("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cn(r)}}let Yt=(()=>{class o{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const W=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,X="ac",ae="websocket",Ie="long_polling";class je{constructor(r,i,l,h,D=!1,M="",K=!1){this.secure=i,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=D,this.persistenceKey=M,this.includeNamespaceInQueryParams=K,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=an.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&an.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mt(o,r,i){let l;if((0,O.hu)("string"==typeof r,"typeof type must == string"),(0,O.hu)("object"==typeof i,"typeof params must == object"),r===ae)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==Ie)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function we(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(i.ns=o.namespace);const h=[];return tn(i,(D,M)=>{h.push(D+"="+M)}),l+h.join("&")}class Gt{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,O.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,O.p$)(this.counters_)}}const qt={},Ae={};function V(o){const r=o.toString();return qt[r]||(qt[r]=new Gt),qt[r]}class U{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&Gn(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class sr{constructor(r,i,l,h,D,M,K){this.connId=r,this.repoInfo=i,this.applicationId=l,this.appCheckToken=h,this.authToken=D,this.transportSessionId=M,this.lastSessionId=K,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ir(r),this.stats_=V(i),this.urlFn=re=>(this.appCheckToken&&(re[X]=this.appCheckToken),mt(i,Ie,re))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new U(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,O.Yr)()||"complete"===document.readyState)o();else{let r=!1;const i=function(){document.body?r||(r=!0,o()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ar((...D)=>{const[M,K,re,ye,Xe]=D;if(this.incrementIncomingBytes_(D),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===M)this.id=K,this.password=re;else{if("close"!==M)throw new Error("Unrecognized command received: "+M);K?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(K,()=>{this.onClosed_()})):this.onClosed_()}},(...D)=>{const[M,K]=D;this.incrementIncomingBytes_(D),this.myPacketOrderer.handleResponse(M,K)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l[X]=this.appCheckToken),typeof location<"u"&&location.hostname&&W.test(location.hostname)&&(l.r="f");const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sr.forceAllow_=!0}static forceDisallow(){sr.forceDisallow_=!0}static isAvailable(){return!((0,O.Yr)()||!sr.forceAllow_&&(sr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,O.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=(0,O.h$)(i),h=Dr(l,1840);for(let D=0;D<h.length;D++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[D]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,O.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,O.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ar{constructor(r,i,l,h){if(this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,O.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=zt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ar.createIFrame_();let D="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(D='<script>document.domain="'+document.domain+'";<\/script>');const M="<html><body>"+D+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(M),this.myIFrame.doc.close()}catch(K){en("frame writing exception"),K.stack&&en(K.stack),en(K)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||en("No IE domain setting required")}catch{const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const M=this.pendingSegs.shift();l=l+"&seg"+h+"="+M.seg+"&ts"+h+"="+M.ts+"&d"+h+"="+M.d,h++}return i+=l,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,l){this.pendingSegs.push({seg:r,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},h=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(h),l()})}addTag(r,i){(0,O.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||"loaded"===h||"complete"===h)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{en("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let hn=null;typeof MozWebSocket<"u"?hn=MozWebSocket:typeof WebSocket<"u"&&(hn=WebSocket);let Wn=(()=>{class o{constructor(i,l,h,D,M,K,re){this.connId=i,this.applicationId=h,this.appCheckToken=D,this.authToken=M,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ir(this.connId),this.stats_=V(l),this.connURL=o.connectionURL_(l,K,re,D,h),this.nodeAdmin=l.nodeAdmin}static connectionURL_(i,l,h,D,M){const K={v:"5"};return!(0,O.Yr)()&&typeof location<"u"&&location.hostname&&W.test(location.hostname)&&(K.r="f"),l&&(K.s=l),h&&(K.ls=h),D&&(K[X]=D),M&&(K.p=M),mt(i,ae,K)}open(i,l){this.onDisconnect=l,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,an.set("previous_websocket_failure",!0);try{let h;if((0,O.Yr)()){h={headers:{"User-Agent":`Firebase/5/${Fe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const M=process.env,K=0===this.connURL.indexOf("wss://")?M.HTTPS_PROXY||M.https_proxy:M.HTTP_PROXY||M.http_proxy;K&&(h.proxy={origin:K})}this.mySock=new hn(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const D=h.message||h.data;return D&&this.log_(D),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const D=h.message||h.data;D&&this.log_(D),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(i=!0)}return!i&&null!==hn&&!o.forceDisallow_}static previouslyFailed(){return an.isInMemoryStorage||!0===an.get("previous_websocket_failure")}markConnectionHealthy(){an.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const h=(0,O.cI)(l);this.onMessage(h)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,O.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const l=Number(i);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const l=i.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const h=this.extractFrameCount_(l);null!==h&&this.appendFrame_(h)}}send(i){this.resetKeepAlive();const l=(0,O.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=Dr(l,16384);h.length>1&&this.sendString_(String(h.length));for(let D=0;D<h.length;D++)this.sendString_(h[D])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Zr=(()=>{class o{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[sr,Wn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const l=Wn&&Wn.isAvailable();let h=l&&!Wn.previouslyFailed();if(i.webSocketOnly&&(l||Cn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[Wn];else{const D=this.transports_=[];for(const M of o.ALL_TRANSPORTS)M&&M.isAvailable()&&D.push(M);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class gi{constructor(r,i,l,h,D,M,K,re,ye,Xe){this.id=r,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=D,this.onMessage_=M,this.onReady_=K,this.onDisconnect_=re,this.onKill_=ye,this.lastSessionId=Xe,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ir("c:"+this.id+":"),this.transportManager_=new Zr(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const h=r.healthyTimeout||0;h>0&&(this.healthyTimeout_=pr(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=It("t",r),l=It("d",r);if("c"===i)this.onSecondaryControl_(l);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=It("t",r),l=It("d",r);"c"===i?this.onControl_(l):"d"===i&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=It("t",r);if("d"in r){const l=r.d;if("h"===i)this.onHandshake_(l);else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(l):"r"===i?this.onReset_(l):"e"===i?yr("Server Error: "+l):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yr("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,l=r.v,h=r.h;this.sessionId=r.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==l&&Cn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),pr(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pr(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(an.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class ei{put(r,i,l,h){}merge(r,i,l,h){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,l){}onDisconnectMerge(r,i,l){}onDisconnectCancel(r,i){}reportStats(r){}}class li{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,O.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,i)}}on(r,i,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:l});const h=this.getInitialEvent(r);h&&i.apply(l,h)}off(r,i,l){this.validateEventType_(r);const h=this.listeners_[r]||[];for(let D=0;D<h.length;D++)if(h[D].callback===i&&(!l||l===h[D].context))return void h.splice(D,1)}validateEventType_(r){(0,O.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class Qn extends li{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,O.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Qn}getInitialEvent(r){return(0,O.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class tr{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function Nn(){return new tr("")}function pn(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Or(o){return o.pieces_.length-o.pieceNum_}function gn(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new tr(o.pieces_,r)}function Ms(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function gr(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function ui(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let i=o.pieceNum_;i<o.pieces_.length-1;i++)r.push(o.pieces_[i]);return new tr(r,0)}function Vn(o,r){const i=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)i.push(o.pieces_[l]);if(r instanceof tr)for(let l=r.pieceNum_;l<r.pieces_.length;l++)i.push(r.pieces_[l]);else{const l=r.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&i.push(l[h])}return new tr(i,0)}function _n(o){return o.pieceNum_>=o.pieces_.length}function dr(o,r){const i=pn(o),l=pn(r);if(null===i)return r;if(i===l)return dr(gn(o),gn(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function Xi(o,r){const i=gr(o,0),l=gr(r,0);for(let h=0;h<i.length&&h<l.length;h++){const D=un(i[h],l[h]);if(0!==D)return D}return i.length===l.length?0:i.length<l.length?-1:1}function Rs(o,r){if(Or(o)!==Or(r))return!1;for(let i=o.pieceNum_,l=r.pieceNum_;i<=o.pieces_.length;i++,l++)if(o.pieces_[i]!==r.pieces_[l])return!1;return!0}function _i(o,r){let i=o.pieceNum_,l=r.pieceNum_;if(Or(o)>Or(r))return!1;for(;i<o.pieces_.length;){if(o.pieces_[i]!==r.pieces_[l])return!1;++i,++l}return!0}class Ti{constructor(r,i){this.errorPrefix_=i,this.parts_=gr(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,O.ug)(this.parts_[l]);ys(this)}}function ys(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Vi(o))}function Vi(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class lo extends li{constructor(){let r,i;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new lo}getInitialEvent(r){return(0,O.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const uo=1e3;let Ji,Nr=(()=>{class o extends ei{constructor(i,l,h,D,M,K,re,ye){if(super(),this.repoInfo_=i,this.applicationId_=l,this.onDataUpdate_=h,this.onConnectStatus_=D,this.onServerInfoUpdate_=M,this.authTokenProvider_=K,this.appCheckTokenProvider_=re,this.authOverride_=ye,this.id=o.nextPersistentConnectionId_++,this.log_=Ir("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=uo,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ye&&!(0,O.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");lo.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&Qn.getInstance().on("online",this.onOnline_,this)}sendRequest(i,l,h){const D=++this.requestNumber_,M={r:D,a:i,b:l};this.log_((0,O.Wl)(M)),(0,O.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(M),h&&(this.requestCBHash_[D]=h)}get(i){this.initConnection_();const l=new O.BH,D={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:K=>{const re=K.d;"ok"===K.s?l.resolve(re):l.reject(re)}};return this.outstandingGets_.push(D),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(i,l,h,D){this.initConnection_();const M=i._queryIdentifier,K=i._path.toString();this.log_("Listen called for "+K+" "+M),this.listens.has(K)||this.listens.set(K,new Map),(0,O.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,O.hu)(!this.listens.get(K).has(M),"listen() called twice for same path/queryId.");const re={onComplete:D,hashFn:l,query:i,tag:h};this.listens.get(K).set(M,re),this.connected_&&this.sendListen_(re)}sendGet_(i){const l=this.outstandingGets_[i];this.sendRequest("g",l.request,h=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(h)})}sendListen_(i){const l=i.query,h=l._path.toString(),D=l._queryIdentifier;this.log_("Listen on "+h+" for "+D);const M={p:h};i.tag&&(M.q=l._queryObject,M.t=i.tag),M.h=i.hashFn(),this.sendRequest("q",M,re=>{const ye=re.d,Xe=re.s;o.warnOnListenWarnings_(ye,l),(this.listens.get(h)&&this.listens.get(h).get(D))===i&&(this.log_("listen response",re),"ok"!==Xe&&this.removeListen_(h,D),i.onComplete&&i.onComplete(Xe,ye))})}static warnOnListenWarnings_(i,l){if(i&&"object"==typeof i&&(0,O.r3)(i,"w")){const h=(0,O.DV)(i,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const D='".indexOn": "'+l._queryParams.getIndex().toString()+'"',M=l._path.toString();Cn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${D} at ${M} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,O.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,l=(0,O.w9)(i)?"auth":"gauth",h={cred:i};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(l,h,D=>{const M=D.s,K=D.d||"error";this.authToken_===i&&("ok"===M?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(M,K))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const l=i.s,h=i.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,h)})}unlisten(i,l){const h=i._path.toString(),D=i._queryIdentifier;this.log_("Unlisten called for "+h+" "+D),(0,O.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,D)&&this.connected_&&this.sendUnlisten_(h,D,i._queryObject,l)}sendUnlisten_(i,l,h,D){this.log_("Unlisten on "+i+" for "+l);const M={p:i};D&&(M.q=h,M.t=D),this.sendRequest("n",M)}onDisconnectPut(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:l,onComplete:h})}onDisconnectMerge(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:l,onComplete:h})}onDisconnectCancel(i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,l):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(i,l,h,D){const M={p:l,d:h};this.log_("onDisconnect "+i,M),this.sendRequest(i,M,K=>{D&&setTimeout(()=>{D(K.s,K.d)},Math.floor(0))})}put(i,l,h,D){this.putInternal("p",i,l,h,D)}merge(i,l,h,D){this.putInternal("m",i,l,h,D)}putInternal(i,l,h,D,M){this.initConnection_();const K={p:l,d:h};void 0!==M&&(K.h=M),this.outstandingPuts_.push({action:i,request:K,onComplete:D}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(i){const l=this.outstandingPuts_[i].action,h=this.outstandingPuts_[i].request,D=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(l,h,M=>{this.log_(l+" response",M),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),D&&D(M.s,M.d)})}reportStats(i){if(this.connected_){const l={c:i};this.log_("reportStats",l),this.sendRequest("s",l,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,O.Wl)(i));const l=i.r,h=this.requestCBHash_[l];h&&(delete this.requestCBHash_[l],h(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,l){this.log_("handleServerMessage",i,l),"d"===i?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===i?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===i?this.onListenRevoked_(l.p,l.q):"ac"===i?this.onAuthRevoked_(l.s,l.d):"apc"===i?this.onAppCheckRevoked_(l.s,l.d):"sd"===i?this.onSecurityDebugPacket_(l):yr("Unrecognized action received from server: "+(0,O.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,O.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=uo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-i);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,et.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const l=i.onDataMessage_.bind(i),h=i.onReady_.bind(i),D=i.onRealtimeDisconnect_.bind(i),M=i.id+":"+o.nextConnectionId_++,K=i.lastSessionId;let re=!1,ye=null;const Xe=function(){ye?ye.close():(re=!0,D())};i.realtime_={close:Xe,sendRequest:function(Ut){(0,O.hu)(ye,"sendRequest call when we're not connected not allowed."),ye.sendRequest(Ut)}};const ut=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[Ut,rn]=yield Promise.all([i.authTokenProvider_.getToken(ut),i.appCheckTokenProvider_.getToken(ut)]);re?en("getToken() completed but was canceled"):(en("getToken() completed. Creating connection."),i.authToken_=Ut&&Ut.accessToken,i.appCheckToken_=rn&&rn.token,ye=new gi(M,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,l,h,D,Zn=>{Cn(Zn+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},K))}catch(Ut){i.log_("Failed to get token: "+Ut),re||(i.repoInfo_.nodeAdmin&&Cn(Ut),Xe())}}})()}interrupt(i){en("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){en("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,O.xb)(this.interruptReasons_)&&(this.reconnectDelay_=uo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const l=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const l=this.outstandingPuts_[i];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,l){let h;h=l?l.map(M=>br(M)).join("$"):"default";const D=this.removeListen_(i,h);D&&D.onComplete&&D.onComplete("permission_denied")}removeListen_(i,l){const h=new tr(i).toString();let D;if(this.listens.has(h)){const M=this.listens.get(h);D=M.get(l),M.delete(l),0===M.size&&this.listens.delete(h)}else D=void 0;return D}onAuthRevoked_(i,l){en("Auth token revoked: "+i+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,l){en("App check token revoked: "+i+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const l of i.values())this.sendListen_(l);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let l="js";(0,O.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+l+"."+Fe.replace(/\./g,"-")]=1,(0,O.uI)()?i["framework.cordova"]=1:(0,O.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=Qn.getInstance().currentlyOnline();return(0,O.xb)(this.interruptReasons_)&&i}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class bn{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new bn(r,i)}}class Os{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const l=new bn(ln,r),h=new bn(ln,i);return 0!==this.compare(l,h)}minPost(){return bn.MIN}}class es extends Os{static get __EMPTY_NODE(){return Ji}static set __EMPTY_NODE(r){Ji=r}compare(r,i){return un(r.name,i.name)}isDefinedOn(r){throw(0,O.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return bn.MIN}maxPost(){return new bn(kn,Ji)}makePost(r,i){return(0,O.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new bn(r,Ji)}toString(){return".key"}}const Gr=new es;class Wi{constructor(r,i,l,h,D=null){this.isReverse_=h,this.resultGenerator_=D,this.nodeStack_=[];let M=1;for(;!r.isEmpty();)if(M=i?l(r.key,i):1,h&&(M*=-1),M<0)r=this.isReverse_?r.left:r.right;else{if(0===M){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let cs,ci=(()=>{class o{constructor(i,l,h,D,M){this.key=i,this.value=l,this.color=h??o.RED,this.left=D??jr.EMPTY_NODE,this.right=M??jr.EMPTY_NODE}copy(i,l,h,D,M){return new o(i??this.key,l??this.value,h??this.color,D??this.left,M??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,h){let D=this;const M=h(i,D.key);return D=M<0?D.copy(null,null,null,D.left.insert(i,l,h),null):0===M?D.copy(null,l,null,null,null):D.copy(null,null,null,null,D.right.insert(i,l,h)),D.fixUp_()}removeMin_(){if(this.left.isEmpty())return jr.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,l){let h,D;if(h=this,l(i,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(i,l),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===l(i,h.key)){if(h.right.isEmpty())return jr.EMPTY_NODE;D=h.right.min_(),h=h.copy(D.key,D.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(i,l))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class jr{constructor(r,i=jr.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new jr(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(r){return new jr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(r){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(r){let i,l=this.root_,h=null;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}i<0?l=l.left:i>0&&(h=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new Wi(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new Wi(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new Wi(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new Wi(this.root_,null,this.comparator_,!0,r)}}function Ws(o,r){return un(o.name,r.name)}function $r(o,r){return un(o,r)}jr.EMPTY_NODE=new class us{copy(r,i,l,h,D){return this}insert(r,i,l){return new ci(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Oi=function(o){return"number"==typeof o?"number:"+nr(o):"string:"+o},vs=function(o){if(o.isLeafNode()){const r=o.val();(0,O.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,O.r3)(r,".sv"),"Priority must be a string or number.")}else(0,O.hu)(o===cs||o.isEmpty(),"priority of unexpected type.");(0,O.hu)(o===cs||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let di,Es,Kn,lr=(()=>{class o{constructor(i,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=l,this.lazyHash_=null,(0,O.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vs(this.priorityNode_)}static set __childrenNodeConstructor(i){di=i}static get __childrenNodeConstructor(){return di}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new o(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return _n(i)?this:".priority"===pn(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,l){return null}updateImmediateChild(i,l){return".priority"===i?this.updatePriority(l):l.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,l).updatePriority(this.priorityNode_)}updateChild(i,l){const h=pn(i);return null===h?l:l.isEmpty()&&".priority"!==h?this:((0,O.hu)(".priority"!==h||1===Or(i),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(gn(i),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,l){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Oi(this.priorityNode_.val())+":");const l=typeof this.value_;i+=l+":",i+="number"===l?nr(this.value_):this.value_,this.lazyHash_=xt(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,O.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const l=typeof i.value_,h=typeof this.value_,D=o.VALUE_TYPE_ORDER.indexOf(l),M=o.VALUE_TYPE_ORDER.indexOf(h);return(0,O.hu)(D>=0,"Unknown leaf type: "+l),(0,O.hu)(M>=0,"Unknown leaf type: "+h),D===M?"object"===h?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:M-D}withIndex(){return this}isIndexed(){return!0}equals(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const or=new class Lr extends Os{compare(r,i){const l=r.node.getPriority(),h=i.node.getPriority(),D=l.compareTo(h);return 0===D?un(r.name,i.name):D}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return bn.MIN}maxPost(){return new bn(kn,new lr("[PRIORITY-POST]",Kn))}makePost(r,i){const l=Es(r);return new bn(i,new lr("[PRIORITY-POST]",l))}toString(){return".priority"}},hs=Math.log(2);class xr{constructor(r){this.count=parseInt(Math.log(r+1)/hs,10),this.current_=this.count-1;const h=(D=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&h}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const mr=function(o,r,i,l){o.sort(r);const h=function(re,ye){const Xe=ye-re;let Je,ut;if(0===Xe)return null;if(1===Xe)return Je=o[re],ut=i?i(Je):Je,new ci(ut,Je.node,ci.BLACK,null,null);{const Ut=parseInt(Xe/2,10)+re,rn=h(re,Ut),Zn=h(Ut+1,ye);return Je=o[Ut],ut=i?i(Je):Je,new ci(ut,Je.node,ci.BLACK,rn,Zn)}},K=function(re){let ye=null,Xe=null,Je=o.length;const ut=function(rn,Zn){const Di=Je-rn,Ts=Je;Je-=rn;const Qo=h(Di+1,Ts),la=o[Di],Hi=i?i(la):la;Ut(new ci(Hi,la.node,Zn,null,Qo))},Ut=function(rn){ye?(ye.left=rn,ye=rn):(Xe=rn,ye=rn)};for(let rn=0;rn<re.count;++rn){const Zn=re.nextBitIsOne(),Di=Math.pow(2,re.count-(rn+1));Zn?ut(Di,ci.BLACK):(ut(Di,ci.BLACK),ut(Di,ci.RED))}return Xe}(new xr(o.length));return new jr(l||r,K)};let Is;const ti={};class qr{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,O.hu)(ti&&or,"ChildrenNode.ts has not been loaded"),Is=Is||new qr({".priority":ti},{".priority":or}),Is}get(r){const i=(0,O.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof jr?i:null}hasIndex(r){return(0,O.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,O.hu)(r!==Gr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const D=i.getIterator(bn.Wrap);let K,M=D.getNext();for(;M;)h=h||r.isDefinedOn(M.node),l.push(M),M=D.getNext();K=h?mr(l,r.getCompare()):ti;const re=r.toString(),ye=Object.assign({},this.indexSet_);ye[re]=r;const Xe=Object.assign({},this.indexes_);return Xe[re]=K,new qr(Xe,ye)}addToIndexes(r,i){const l=(0,O.UI)(this.indexes_,(h,D)=>{const M=(0,O.DV)(this.indexSet_,D);if((0,O.hu)(M,"Missing index implementation for "+D),h===ti){if(M.isDefinedOn(r.node)){const K=[],re=i.getIterator(bn.Wrap);let ye=re.getNext();for(;ye;)ye.name!==r.name&&K.push(ye),ye=re.getNext();return K.push(r),mr(K,M.getCompare())}return ti}{const K=i.get(r.name);let re=h;return K&&(re=re.remove(new bn(r.name,K))),re.insert(r,r.node)}});return new qr(l,this.indexSet_)}removeFromIndexes(r,i){const l=(0,O.UI)(this.indexes_,h=>{if(h===ti)return h;{const D=i.get(r.name);return D?h.remove(new bn(r.name,D)):h}});return new qr(l,this.indexSet_)}}let yi,cn=(()=>{class o{constructor(i,l,h){this.children_=i,this.priorityNode_=l,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&vs(this.priorityNode_),this.children_.isEmpty()&&(0,O.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return yi||(yi=new o(new jr($r),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||yi}updatePriority(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const l=this.children_.get(i);return null===l?yi:l}}getChild(i){const l=pn(i);return null===l?this:this.getImmediateChild(l).getChild(gn(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,l){if((0,O.hu)(l,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(l);{const h=new bn(i,l);let D,M;l.isEmpty()?(D=this.children_.remove(i),M=this.indexMap_.removeFromIndexes(h,this.children_)):(D=this.children_.insert(i,l),M=this.indexMap_.addToIndexes(h,this.children_));const K=D.isEmpty()?yi:this.priorityNode_;return new o(D,K,M)}}updateChild(i,l){const h=pn(i);if(null===h)return l;{(0,O.hu)(".priority"!==pn(i)||1===Or(i),".priority must be the last token in a path");const D=this.getImmediateChild(h).updateChild(gn(i),l);return this.updateImmediateChild(h,D)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const l={};let h=0,D=0,M=!0;if(this.forEachChild(or,(K,re)=>{l[K]=re.val(i),h++,M&&o.INTEGER_REGEXP_.test(K)?D=Math.max(D,Number(K)):M=!1}),!i&&M&&D<2*h){const K=[];for(const re in l)K[re]=l[re];return K}return i&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Oi(this.getPriority().val())+":"),this.forEachChild(or,(l,h)=>{const D=h.hash();""!==D&&(i+=":"+l+":"+D)}),this.lazyHash_=""===i?"":xt(i)}return this.lazyHash_}getPredecessorChildName(i,l,h){const D=this.resolveIndex_(h);if(D){const M=D.getPredecessorKey(new bn(i,l));return M?M.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(i){const l=this.getFirstChildName(i);return l?new bn(l,this.children_.get(l)):null}getLastChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(i){const l=this.getLastChildName(i);return l?new bn(l,this.children_.get(l)):null}forEachChild(i,l){const h=this.resolveIndex_(i);return h?h.inorderTraversal(D=>l(D.name,D.node)):this.children_.inorderTraversal(l)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getIteratorFrom(i,D=>D);{const D=this.children_.getIteratorFrom(i.name,bn.Wrap);let M=D.peek();for(;null!=M&&l.compare(M,i)<0;)D.getNext(),M=D.peek();return D}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getReverseIteratorFrom(i,D=>D);{const D=this.children_.getReverseIteratorFrom(i.name,bn.Wrap);let M=D.peek();for(;null!=M&&l.compare(M,i)>0;)D.getNext(),M=D.peek();return D}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===Qt?-1:0}withIndex(i){if(i===Gr||this.indexMap_.hasIndex(i))return this;{const l=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(i){return i===Gr||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const l=i;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const h=this.getIterator(or),D=l.getIterator(or);let M=h.getNext(),K=D.getNext();for(;M&&K;){if(M.name!==K.name||!M.node.equals(K.node))return!1;M=h.getNext(),K=D.getNext()}return null===M&&null===K}return!1}return!1}}resolveIndex_(i){return i===Gr?null:this.indexMap_.get(i.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const Qt=new class Si extends cn{constructor(){super(new jr($r),cn.EMPTY_NODE,qr.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return cn.EMPTY_NODE}isEmpty(){return!1}};function fr(o,r=null){if(null===o)return cn.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,O.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new lr(o,fr(r));if(o instanceof Array){let i=cn.EMPTY_NODE;return tn(o,(l,h)=>{if((0,O.r3)(o,l)&&"."!==l.substring(0,1)){const D=fr(h);(D.isLeafNode()||!D.isEmpty())&&(i=i.updateImmediateChild(l,D))}}),i.updatePriority(fr(r))}{const i=[];let l=!1;if(tn(o,(M,K)=>{if("."!==M.substring(0,1)){const re=fr(K);re.isEmpty()||(l=l||!re.getPriority().isEmpty(),i.push(new bn(M,re)))}}),0===i.length)return cn.EMPTY_NODE;const D=mr(i,Ws,M=>M.name,$r);if(l){const M=mr(i,or.getCompare());return new cn(D,fr(r),new qr({".priority":M},{".priority":or}))}return new cn(D,fr(r),qr.Default)}}Object.defineProperties(bn,{MIN:{value:new bn(ln,cn.EMPTY_NODE)},MAX:{value:new bn(kn,Qt)}}),es.__EMPTY_NODE=cn.EMPTY_NODE,lr.__childrenNodeConstructor=cn,function zs(o){cs=o}(Qt),function Ni(o){Kn=o}(Qt),function ds(o){Es=o}(fr);class Ns extends Os{constructor(r){super(),this.indexPath_=r,(0,O.hu)(!_n(r)&&".priority"!==pn(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const l=this.extractChild(r.node),h=this.extractChild(i.node),D=l.compareTo(h);return 0===D?un(r.name,i.name):D}makePost(r,i){const l=fr(r),h=cn.EMPTY_NODE.updateChild(this.indexPath_,l);return new bn(i,h)}maxPost(){const r=cn.EMPTY_NODE.updateChild(this.indexPath_,Qt);return new bn(kn,r)}toString(){return gr(this.indexPath_,0).join("/")}}const Gs=new class fo extends Os{compare(r,i){const l=r.node.compareTo(i.node);return 0===l?un(r.name,i.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return bn.MIN}maxPost(){return bn.MAX}makePost(r,i){const l=fr(r);return new bn(i,l)}toString(){return".value"}};function xs(o){return{type:"value",snapshotNode:o}}function Ks(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function bs(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function nt(o,r,i){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:i}}class vi{constructor(r){this.index_=r}updateChild(r,i,l,h,D,M){(0,O.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const K=r.getImmediateChild(i);return K.getChild(h).equals(l.getChild(h))&&K.isEmpty()===l.isEmpty()||(null!=M&&(l.isEmpty()?r.hasChild(i)?M.trackChildChange(bs(i,K)):(0,O.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):K.isEmpty()?M.trackChildChange(Ks(i,l)):M.trackChildChange(nt(i,l,K))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(r,i,l){return null!=l&&(r.isLeafNode()||r.forEachChild(or,(h,D)=>{i.hasChild(h)||l.trackChildChange(bs(h,D))}),i.isLeafNode()||i.forEachChild(or,(h,D)=>{if(r.hasChild(h)){const M=r.getImmediateChild(h);M.equals(D)||l.trackChildChange(nt(h,D,M))}else l.trackChildChange(Ks(h,D))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?cn.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ds{constructor(r){this.indexedFilter_=new vi(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Ds.getStartPost_(r),this.endPost_=Ds.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,l=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return i&&l}updateChild(r,i,l,h,D,M){return this.matches(new bn(i,l))||(l=cn.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,l,h,D,M)}updateFullNode(r,i,l){i.isLeafNode()&&(i=cn.EMPTY_NODE);let h=i.withIndex(this.index_);h=h.updatePriority(cn.EMPTY_NODE);const D=this;return i.forEachChild(or,(M,K)=>{D.matches(new bn(M,K))||(h=h.updateImmediateChild(M,cn.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class ni{constructor(r){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ds(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,i,l,h,D,M){return this.rangedFilter_.matches(new bn(i,l))||(l=cn.EMPTY_NODE),r.getImmediateChild(i).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,l,h,D,M):this.fullLimitUpdateChild_(r,i,l,D,M)}updateFullNode(r,i,l){let h;if(i.isLeafNode()||i.isEmpty())h=cn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let D;h=cn.EMPTY_NODE.withIndex(this.index_),D=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let M=0;for(;D.hasNext()&&M<this.limit_;){const K=D.getNext();if(this.withinDirectionalStart(K)){if(!this.withinDirectionalEnd(K))break;h=h.updateImmediateChild(K.name,K.node),M++}}}else{let D;h=i.withIndex(this.index_),h=h.updatePriority(cn.EMPTY_NODE),D=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let M=0;for(;D.hasNext();){const K=D.getNext();M<this.limit_&&this.withinDirectionalStart(K)&&this.withinDirectionalEnd(K)?M++:h=h.updateImmediateChild(K.name,cn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,l,h,D){let M;if(this.reverse_){const Je=this.index_.getCompare();M=(ut,Ut)=>Je(Ut,ut)}else M=this.index_.getCompare();const K=r;(0,O.hu)(K.numChildren()===this.limit_,"");const re=new bn(i,l),ye=this.reverse_?K.getFirstChild(this.index_):K.getLastChild(this.index_),Xe=this.rangedFilter_.matches(re);if(K.hasChild(i)){const Je=K.getImmediateChild(i);let ut=h.getChildAfterChild(this.index_,ye,this.reverse_);for(;null!=ut&&(ut.name===i||K.hasChild(ut.name));)ut=h.getChildAfterChild(this.index_,ut,this.reverse_);const Ut=null==ut?1:M(ut,re);if(Xe&&!l.isEmpty()&&Ut>=0)return D?.trackChildChange(nt(i,l,Je)),K.updateImmediateChild(i,l);{D?.trackChildChange(bs(i,Je));const Zn=K.updateImmediateChild(i,cn.EMPTY_NODE);return null!=ut&&this.rangedFilter_.matches(ut)?(D?.trackChildChange(Ks(ut.name,ut.node)),Zn.updateImmediateChild(ut.name,ut.node)):Zn}}return l.isEmpty()?r:Xe&&M(ye,re)>=0?(null!=D&&(D.trackChildChange(bs(ye.name,ye.node)),D.trackChildChange(Ks(i,l))),K.updateImmediateChild(i,l).updateImmediateChild(ye.name,cn.EMPTY_NODE)):r}}class ts{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=or}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,O.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ln}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,O.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,O.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===or}copy(){const r=new ts;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function ks(o,r,i){const l=o.copy();return l.startSet_=!0,void 0===r&&(r=null),l.indexStartValue_=r,null!=i?(l.startNameSet_=!0,l.indexStartName_=i):(l.startNameSet_=!1,l.indexStartName_=""),l}function Zs(o,r,i){const l=o.copy();return l.endSet_=!0,void 0===r&&(r=null),l.indexEndValue_=r,void 0!==i?(l.endNameSet_=!0,l.indexEndName_=i):(l.endNameSet_=!1,l.indexEndName_=""),l}function wr(o,r){const i=o.copy();return i.index_=r,i}function Qr(o){const r={};if(o.isDefault())return r;let i;if(o.index_===or?i="$priority":o.index_===Gs?i="$value":o.index_===Gr?i="$key":((0,O.hu)(o.index_ instanceof Ns,"Unrecognized index type!"),i=o.index_.toString()),r.orderBy=(0,O.Wl)(i),o.startSet_){const l=o.startAfterSet_?"startAfter":"startAt";r[l]=(0,O.Wl)(o.indexStartValue_),o.startNameSet_&&(r[l]+=","+(0,O.Wl)(o.indexStartName_))}if(o.endSet_){const l=o.endBeforeSet_?"endBefore":"endAt";r[l]=(0,O.Wl)(o.indexEndValue_),o.endNameSet_&&(r[l]+=","+(0,O.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function zi(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_),r.sin=!o.startAfterSet_),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_),r.ein=!o.endBeforeSet_),o.limitSet_){r.l=o.limit_;let i=o.viewFrom_;""===i&&(i=o.isViewFromLeft()?"l":"r"),r.vf=i}return o.index_!==or&&(r.i=o.index_.toString()),r}class xi extends ei{constructor(r,i,l,h){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=Ir("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,O.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,l,h){const D=r._path.toString();this.log_("Listen called for "+D+" "+r._queryIdentifier);const M=xi.getListenId_(r,l),K={};this.listens_[M]=K;const re=Qr(r._queryParams);this.restRequest_(D+".json",re,(ye,Xe)=>{let Je=Xe;if(404===ye&&(Je=null,ye=null),null===ye&&this.onDataUpdate_(D,Je,!1,l),(0,O.DV)(this.listens_,M)===K){let ut;ut=ye?401===ye?"permission_denied":"rest_error:"+ye:"ok",h(ut,null)}})}unlisten(r,i){const l=xi.getListenId_(r,i);delete this.listens_[l]}get(r){const i=Qr(r._queryParams),l=r._path.toString(),h=new O.BH;return this.restRequest_(l+".json",i,(D,M)=>{let K=M;404===D&&(K=null,D=null),null===D?(this.onDataUpdate_(l,K,!1,null),h.resolve(K)):h.reject(new Error(K))}),h.promise}refreshAuthToken(r){}restRequest_(r,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,D])=>{h&&h.accessToken&&(i.auth=h.accessToken),D&&D.token&&(i.ac=D.token);const M=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,O.xO)(i);this.log_("Sending REST request for "+M);const K=new XMLHttpRequest;K.onreadystatechange=()=>{if(l&&4===K.readyState){this.log_("REST Response for "+M+" received. status:",K.status,"response:",K.responseText);let re=null;if(K.status>=200&&K.status<300){try{re=(0,O.cI)(K.responseText)}catch{Cn("Failed to parse JSON response for "+M+": "+K.responseText)}l(null,re)}else 401!==K.status&&404!==K.status&&Cn("Got unsuccessful REST response for "+M+" Status: "+K.status),l(K.status);l=null}},K.open("GET",M,!0),K.send()})}}class Ai{constructor(){this.rootNode_=cn.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function mo(){return{value:null,children:new Map}}function ki(o,r,i){if(_n(r))o.value=i,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,i);else{const l=pn(r);o.children.has(l)||o.children.set(l,mo()),ki(o.children.get(l),r=gn(r),i)}}function _o(o,r){if(_n(r))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const i=o.value;return o.value=null,i.forEachChild(or,(l,h)=>{ki(o,new tr(l),h)}),_o(o,r)}}if(o.children.size>0){const i=pn(r);return r=gn(r),o.children.has(i)&&_o(o.children.get(i),r)&&o.children.delete(i),0===o.children.size}return!0}function Gi(o,r,i){null!==o.value?i(r,o.value):function z(o,r){o.children.forEach((i,l)=>{r(l,i)})}(o,(l,h)=>{Gi(h,new tr(r.toString()+"/"+l),i)})}class _{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&tn(this.last_,(l,h)=>{i[l]=i[l]-h}),this.last_=r,i}}class ie{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new _(r);const l=1e4+2e4*Math.random();pr(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),i={};let l=!1;tn(r,(h,D)=>{D>0&&(0,O.r3)(this.statsToReport_,h)&&(i[h]=D,l=!0)}),l&&this.server_.reportStats(i),pr(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ve=(()=>{return(o=ve||(ve={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ve;var o})();function ot(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class Tt{constructor(r,i,l){this.path=r,this.affectedTree=i,this.revert=l,this.type=ve.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(_n(this.path)){if(null!=this.affectedTree.value)return(0,O.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new tr(r));return new Tt(Nn(),i,this.revert)}}return(0,O.hu)(pn(this.path)===r,"operationForChild called for unrelated child."),new Tt(gn(this.path),this.affectedTree,this.revert)}}class Rt{constructor(r,i){this.source=r,this.path=i,this.type=ve.LISTEN_COMPLETE}operationForChild(r){return _n(this.path)?new Rt(this.source,Nn()):new Rt(this.source,gn(this.path))}}class Dn{constructor(r,i,l){this.source=r,this.path=i,this.snap=l,this.type=ve.OVERWRITE}operationForChild(r){return _n(this.path)?new Dn(this.source,Nn(),this.snap.getImmediateChild(r)):new Dn(this.source,gn(this.path),this.snap)}}class dn{constructor(r,i,l){this.source=r,this.path=i,this.children=l,this.type=ve.MERGE}operationForChild(r){if(_n(this.path)){const i=this.children.subtree(new tr(r));return i.isEmpty()?null:i.value?new Dn(this.source,Nn(),i.value):new dn(this.source,Nn(),i)}return(0,O.hu)(pn(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new dn(this.source,gn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pt{constructor(r,i,l){this.node_=r,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(_n(r))return this.isFullyInitialized()&&!this.filtered_;const i=pn(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class sn{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Ln(o,r,i,l,h,D){const M=l.filter(K=>K.type===i);M.sort((K,re)=>function Xn(o,r,i){if(null==r.childName||null==i.childName)throw(0,O.g5)("Should only compare child_ events.");const l=new bn(r.childName,r.snapshotNode),h=new bn(i.childName,i.snapshotNode);return o.index_.compare(l,h)}(o,K,re)),M.forEach(K=>{const re=function Fr(o,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,K,D);h.forEach(ye=>{ye.respondsTo(K.type)&&r.push(ye.createEvent(re,o.query_))})})}function Ur(o,r){return{eventCache:o,serverCache:r}}function Ki(o,r,i,l){return Ur(new Pt(r,i,l),o.serverCache)}function Zi(o,r,i,l){return Ur(o.eventCache,new Pt(r,i,l))}function Tr(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function C(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let B;class Z{constructor(r,i=(()=>(B||(B=new jr(ar)),B))()){this.value=r,this.children=i}static fromObject(r){let i=new Z(null);return tn(r,(l,h)=>{i=i.set(new tr(l),h)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:Nn(),value:this.value};if(_n(r))return null;{const l=pn(r),h=this.children.get(l);if(null!==h){const D=h.findRootMostMatchingPathAndValue(gn(r),i);return null!=D?{path:Vn(new tr(l),D.path),value:D.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(_n(r))return this;{const i=pn(r),l=this.children.get(i);return null!==l?l.subtree(gn(r)):new Z(null)}}set(r,i){if(_n(r))return new Z(i,this.children);{const l=pn(r),D=(this.children.get(l)||new Z(null)).set(gn(r),i),M=this.children.insert(l,D);return new Z(this.value,M)}}remove(r){if(_n(r))return this.children.isEmpty()?new Z(null):new Z(null,this.children);{const i=pn(r),l=this.children.get(i);if(l){const h=l.remove(gn(r));let D;return D=h.isEmpty()?this.children.remove(i):this.children.insert(i,h),null===this.value&&D.isEmpty()?new Z(null):new Z(this.value,D)}return this}}get(r){if(_n(r))return this.value;{const i=pn(r),l=this.children.get(i);return l?l.get(gn(r)):null}}setTree(r,i){if(_n(r))return i;{const l=pn(r),D=(this.children.get(l)||new Z(null)).setTree(gn(r),i);let M;return M=D.isEmpty()?this.children.remove(l):this.children.insert(l,D),new Z(this.value,M)}}fold(r){return this.fold_(Nn(),r)}fold_(r,i){const l={};return this.children.inorderTraversal((h,D)=>{l[h]=D.fold_(Vn(r,h),i)}),i(r,this.value,l)}findOnPath(r,i){return this.findOnPath_(r,Nn(),i)}findOnPath_(r,i,l){const h=!!this.value&&l(i,this.value);if(h)return h;if(_n(r))return null;{const D=pn(r),M=this.children.get(D);return M?M.findOnPath_(gn(r),Vn(i,D),l):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,Nn(),i)}foreachOnPath_(r,i,l){if(_n(r))return this;{this.value&&l(i,this.value);const h=pn(r),D=this.children.get(h);return D?D.foreachOnPath_(gn(r),Vn(i,h),l):new Z(null)}}foreach(r){this.foreach_(Nn(),r)}foreach_(r,i){this.children.inorderTraversal((l,h)=>{h.foreach_(Vn(r,l),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,l)=>{l.value&&r(i,l.value)})}}class he{constructor(r){this.writeTree_=r}static empty(){return new he(new Z(null))}}function We(o,r,i){if(_n(r))return new he(new Z(i));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const h=l.path;let D=l.value;const M=dr(h,r);return D=D.updateChild(M,i),new he(o.writeTree_.set(h,D))}{const h=new Z(i),D=o.writeTree_.setTree(r,h);return new he(D)}}}function it(o,r,i){let l=o;return tn(i,(h,D)=>{l=We(l,Vn(r,h),D)}),l}function At(o,r){if(_n(r))return he.empty();{const i=o.writeTree_.setTree(r,new Z(null));return new he(i)}}function pt(o,r){return null!=vt(o,r)}function vt(o,r){const i=o.writeTree_.findRootMostValueAndPath(r);return null!=i?o.writeTree_.get(i.path).getChild(dr(i.path,r)):null}function bt(o){const r=[],i=o.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(or,(l,h)=>{r.push(new bn(l,h))}):o.writeTree_.children.inorderTraversal((l,h)=>{null!=h.value&&r.push(new bn(l,h.value))}),r}function St(o,r){if(_n(r))return o;{const i=vt(o,r);return new he(null!=i?new Z(i):o.writeTree_.subtree(r))}}function Rn(o){return o.writeTree_.isEmpty()}function mn(o,r){return Fn(Nn(),o.writeTree_,r)}function Fn(o,r,i){if(null!=r.value)return i.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((h,D)=>{".priority"===h?((0,O.hu)(null!==D.value,"Priority writes must always be leaf nodes"),l=D.value):i=Fn(Vn(o,h),D,i)}),!i.getChild(o).isEmpty()&&null!==l&&(i=i.updateChild(Vn(o,".priority"),l)),i}}function An(o,r){return Io(r,o)}function Li(o,r){if(o.snap)return _i(o.path,r);for(const i in o.children)if(o.children.hasOwnProperty(i)&&_i(Vn(o.path,i),r))return!0;return!1}function Ys(o){return o.visible}function qs(o,r,i){let l=he.empty();for(let h=0;h<o.length;++h){const D=o[h];if(r(D)){const M=D.path;let K;if(D.snap)_i(i,M)?(K=dr(i,M),l=We(l,K,D.snap)):_i(M,i)&&(K=dr(M,i),l=We(l,Nn(),D.snap.getChild(K)));else{if(!D.children)throw(0,O.g5)("WriteRecord should have .snap or .children");if(_i(i,M))K=dr(i,M),l=it(l,K,D.children);else if(_i(M,i))if(K=dr(M,i),_n(K))l=it(l,Nn(),D.children);else{const re=(0,O.DV)(D.children,pn(K));if(re){const ye=re.getChild(gn(K));l=We(l,Nn(),ye)}}}}}return l}function Qs(o,r,i,l,h){if(l||h){const D=St(o.visibleWrites,r);return!h&&Rn(D)?i:h||null!=i||pt(D,Nn())?mn(qs(o.allWrites,function(ye){return(ye.visible||h)&&(!l||!~l.indexOf(ye.writeId))&&(_i(ye.path,r)||_i(r,ye.path))},r),i||cn.EMPTY_NODE):null}{const D=vt(o.visibleWrites,r);if(null!=D)return D;{const M=St(o.visibleWrites,r);return Rn(M)?i:null!=i||pt(M,Nn())?mn(M,i||cn.EMPTY_NODE):null}}}function jo(o,r,i,l){return Qs(o.writeTree,o.treePath,r,i,l)}function vo(o,r){return function Xo(o,r,i){let l=cn.EMPTY_NODE;const h=vt(o.visibleWrites,r);if(h)return h.isLeafNode()||h.forEachChild(or,(D,M)=>{l=l.updateImmediateChild(D,M)}),l;if(i){const D=St(o.visibleWrites,r);return i.forEachChild(or,(M,K)=>{const re=mn(St(D,new tr(M)),K);l=l.updateImmediateChild(M,re)}),bt(D).forEach(M=>{l=l.updateImmediateChild(M.name,M.node)}),l}return bt(St(o.visibleWrites,r)).forEach(M=>{l=l.updateImmediateChild(M.name,M.node)}),l}(o.writeTree,o.treePath,r)}function Eo(o,r,i,l){return function Vo(o,r,i,l,h){(0,O.hu)(l||h,"Either existingEventSnap or existingServerSnap must exist");const D=Vn(r,i);if(pt(o.visibleWrites,D))return null;{const M=St(o.visibleWrites,D);return Rn(M)?h.getChild(i):mn(M,h.getChild(i))}}(o.writeTree,o.treePath,r,i,l)}function Ao(o,r){return function ua(o,r){return vt(o.visibleWrites,r)}(o.writeTree,Vn(o.treePath,r))}function Jo(o,r,i){return function yo(o,r,i,l){const h=Vn(r,i),D=vt(o.visibleWrites,h);return null!=D?D:l.isCompleteForChild(i)?mn(St(o.visibleWrites,h),l.getNode().getImmediateChild(i)):null}(o.writeTree,o.treePath,r,i)}function ea(o,r){return Io(Vn(o.treePath,r),o.writeTree)}function Io(o,r){return{treePath:o,writeTree:r}}class ca{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,l=r.childName;(0,O.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,O.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const D=h.type;if("child_added"===i&&"child_removed"===D)this.changeMap.set(l,nt(l,r.snapshotNode,h.snapshotNode));else if("child_removed"===i&&"child_added"===D)this.changeMap.delete(l);else if("child_removed"===i&&"child_changed"===D)this.changeMap.set(l,bs(l,h.oldSnap));else if("child_changed"===i&&"child_added"===D)this.changeMap.set(l,Ks(l,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==D)throw(0,O.g5)("Illegal combination of changes: "+r+" occurred after "+h);this.changeMap.set(l,nt(l,r.snapshotNode,h.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const Fs=new class Ta{getCompleteChild(r){return null}getChildAfterChild(r,i,l){return null}};class ta{constructor(r,i,l=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new Pt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Jo(this.writes_,r,l)}}getChildAfterChild(r,i,l){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:C(this.viewCache_),D=function bi(o,r,i,l,h,D){return function wa(o,r,i,l,h,D,M){let K;const re=St(o.visibleWrites,r),ye=vt(re,Nn());if(null!=ye)K=ye;else{if(null==i)return[];K=mn(re,i)}if(K=K.withIndex(M),K.isEmpty()||K.isLeafNode())return[];{const Xe=[],Je=M.getCompare(),ut=D?K.getReverseIteratorFrom(l,M):K.getIteratorFrom(l,M);let Ut=ut.getNext();for(;Ut&&Xe.length<h;)0!==Je(Ut,l)&&Xe.push(Ut),Ut=ut.getNext();return Xe}}(o.writeTree,o.treePath,r,i,l,h,D)}(this.writes_,h,i,1,l,r);return 0===D.length?null:D[0]}}function Us(o,r,i,l,h,D){const M=r.eventCache;if(null!=Ao(l,i))return r;{let K,re;if(_n(i))if((0,O.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ye=C(r),Je=vo(l,ye instanceof cn?ye:cn.EMPTY_NODE);K=o.filter.updateFullNode(r.eventCache.getNode(),Je,D)}else{const ye=jo(l,C(r));K=o.filter.updateFullNode(r.eventCache.getNode(),ye,D)}else{const ye=pn(i);if(".priority"===ye){(0,O.hu)(1===Or(i),"Can't have a priority with additional path components");const Xe=M.getNode();re=r.serverCache.getNode();const Je=Eo(l,i,Xe,re);K=null!=Je?o.filter.updatePriority(Xe,Je):M.getNode()}else{const Xe=gn(i);let Je;if(M.isCompleteForChild(ye)){re=r.serverCache.getNode();const ut=Eo(l,i,M.getNode(),re);Je=null!=ut?M.getNode().getImmediateChild(ye).updateChild(Xe,ut):M.getNode().getImmediateChild(ye)}else Je=Jo(l,ye,r.serverCache);K=null!=Je?o.filter.updateChild(M.getNode(),ye,Je,Xe,h,D):M.getNode()}}return Ki(r,K,M.isFullyInitialized()||_n(i),o.filter.filtersNodes())}}function Fi(o,r,i,l,h,D,M,K){const re=r.serverCache;let ye;const Xe=M?o.filter:o.filter.getIndexedFilter();if(_n(i))ye=Xe.updateFullNode(re.getNode(),l,null);else if(Xe.filtersNodes()&&!re.isFiltered()){const Ut=re.getNode().updateChild(i,l);ye=Xe.updateFullNode(re.getNode(),Ut,null)}else{const Ut=pn(i);if(!re.isCompleteForPath(i)&&Or(i)>1)return r;const rn=gn(i),Di=re.getNode().getImmediateChild(Ut).updateChild(rn,l);ye=".priority"===Ut?Xe.updatePriority(re.getNode(),Di):Xe.updateChild(re.getNode(),Ut,Di,rn,Fs,null)}const Je=Zi(r,ye,re.isFullyInitialized()||_n(i),Xe.filtersNodes());return Us(o,Je,i,h,new ta(h,Je,D),K)}function Do(o,r,i,l,h,D,M){const K=r.eventCache;let re,ye;const Xe=new ta(h,r,D);if(_n(i))ye=o.filter.updateFullNode(r.eventCache.getNode(),l,M),re=Ki(r,ye,!0,o.filter.filtersNodes());else{const Je=pn(i);if(".priority"===Je)ye=o.filter.updatePriority(r.eventCache.getNode(),l),re=Ki(r,ye,K.isFullyInitialized(),K.isFiltered());else{const ut=gn(i),Ut=K.getNode().getImmediateChild(Je);let rn;if(_n(ut))rn=l;else{const Zn=Xe.getCompleteChild(Je);rn=null!=Zn?".priority"===Ms(ut)&&Zn.getChild(ui(ut)).isEmpty()?Zn:Zn.updateChild(ut,l):cn.EMPTY_NODE}re=Ut.equals(rn)?r:Ki(r,o.filter.updateChild(K.getNode(),Je,rn,ut,Xe,M),K.isFullyInitialized(),o.filter.filtersNodes())}}return re}function ra(o,r){return o.eventCache.isCompleteForChild(r)}function Ya(o,r,i){return i.foreach((l,h)=>{r=r.updateChild(l,h)}),r}function Aa(o,r,i,l,h,D,M,K){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ye,re=r;ye=_n(i)?l:new Z(null).setTree(i,l);const Xe=r.serverCache.getNode();return ye.children.inorderTraversal((Je,ut)=>{if(Xe.hasChild(Je)){const rn=Ya(0,r.serverCache.getNode().getImmediateChild(Je),ut);re=Fi(o,re,new tr(Je),rn,h,D,M,K)}}),ye.children.inorderTraversal((Je,ut)=>{const Ut=!r.serverCache.isCompleteForChild(Je)&&null===ut.value;if(!Xe.hasChild(Je)&&!Ut){const Zn=Ya(0,r.serverCache.getNode().getImmediateChild(Je),ut);re=Fi(o,re,new tr(Je),Zn,h,D,M,K)}}),re}class ia{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new vi(l.getIndex()),D=function po(o){return o.loadsAllData()?new vi(o.getIndex()):o.hasLimit()?new ni(o):new Ds(o)}(l);this.processor_=function na(o){return{filter:o}}(D);const M=i.serverCache,K=i.eventCache,re=h.updateFullNode(cn.EMPTY_NODE,M.getNode(),null),ye=D.updateFullNode(cn.EMPTY_NODE,K.getNode(),null),Xe=new Pt(re,M.isFullyInitialized(),h.filtersNodes()),Je=new Pt(ye,K.isFullyInitialized(),D.filtersNodes());this.viewCache_=Ur(Je,Xe),this.eventGenerator_=new sn(this.query_)}get query(){return this.query_}}function $o(o,r){const i=C(o.viewCache_);return i&&(o.query._queryParams.loadsAllData()||!_n(r)&&!i.getImmediateChild(pn(r)).isEmpty())?i.getChild(r):null}function gl(o){return 0===o.eventRegistrations_.length}function Sr(o,r,i){const l=[];if(i){(0,O.hu)(null==r,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(D=>{const M=D.createCancelEvent(i,h);M&&l.push(M)})}if(r){let h=[];for(let D=0;D<o.eventRegistrations_.length;++D){const M=o.eventRegistrations_[D];if(M.matches(r)){if(r.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(D+1));break}}else h.push(M)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return l}function Co(o,r,i,l){r.type===ve.MERGE&&null!==r.source.queryId&&((0,O.hu)(C(o.viewCache_),"We should always have a full cache before handling merges"),(0,O.hu)(Tr(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,D=function da(o,r,i,l,h){const D=new ca;let M,K;if(i.type===ve.OVERWRITE){const ye=i;ye.source.fromUser?M=Do(o,r,ye.path,ye.snap,l,h,D):((0,O.hu)(ye.source.fromServer,"Unknown source."),K=ye.source.tagged||r.serverCache.isFiltered()&&!_n(ye.path),M=Fi(o,r,ye.path,ye.snap,l,h,K,D))}else if(i.type===ve.MERGE){const ye=i;ye.source.fromUser?M=function Sa(o,r,i,l,h,D,M){let K=r;return l.foreach((re,ye)=>{const Xe=Vn(i,re);ra(r,pn(Xe))&&(K=Do(o,K,Xe,ye,h,D,M))}),l.foreach((re,ye)=>{const Xe=Vn(i,re);ra(r,pn(Xe))||(K=Do(o,K,Xe,ye,h,D,M))}),K}(o,r,ye.path,ye.children,l,h,D):((0,O.hu)(ye.source.fromServer,"Unknown source."),K=ye.source.tagged||r.serverCache.isFiltered(),M=Aa(o,r,ye.path,ye.children,l,h,K,D))}else if(i.type===ve.ACK_USER_WRITE){const ye=i;M=ye.revert?function Mo(o,r,i,l,h,D){let M;if(null!=Ao(l,i))return r;{const K=new ta(l,r,h),re=r.eventCache.getNode();let ye;if(_n(i)||".priority"===pn(i)){let Xe;if(r.serverCache.isFullyInitialized())Xe=jo(l,C(r));else{const Je=r.serverCache.getNode();(0,O.hu)(Je instanceof cn,"serverChildren would be complete if leaf node"),Xe=vo(l,Je)}ye=o.filter.updateFullNode(re,Xe,D)}else{const Xe=pn(i);let Je=Jo(l,Xe,r.serverCache);null==Je&&r.serverCache.isCompleteForChild(Xe)&&(Je=re.getImmediateChild(Xe)),ye=null!=Je?o.filter.updateChild(re,Xe,Je,gn(i),K,D):r.eventCache.getNode().hasChild(Xe)?o.filter.updateChild(re,Xe,cn.EMPTY_NODE,gn(i),K,D):re,ye.isEmpty()&&r.serverCache.isFullyInitialized()&&(M=jo(l,C(r)),M.isLeafNode()&&(ye=o.filter.updateFullNode(ye,M,D)))}return M=r.serverCache.isFullyInitialized()||null!=Ao(l,Nn()),Ki(r,ye,M,o.filter.filtersNodes())}}(o,r,ye.path,l,h,D):function ha(o,r,i,l,h,D,M){if(null!=Ao(h,i))return r;const K=r.serverCache.isFiltered(),re=r.serverCache;if(null!=l.value){if(_n(i)&&re.isFullyInitialized()||re.isCompleteForPath(i))return Fi(o,r,i,re.getNode().getChild(i),h,D,K,M);if(_n(i)){let ye=new Z(null);return re.getNode().forEachChild(Gr,(Xe,Je)=>{ye=ye.set(new tr(Xe),Je)}),Aa(o,r,i,ye,h,D,K,M)}return r}{let ye=new Z(null);return l.foreach((Xe,Je)=>{const ut=Vn(i,Xe);re.isCompleteForPath(ut)&&(ye=ye.set(Xe,re.getNode().getChild(ut)))}),Aa(o,r,i,ye,h,D,K,M)}}(o,r,ye.path,ye.affectedTree,l,h,D)}else{if(i.type!==ve.LISTEN_COMPLETE)throw(0,O.g5)("Unknown operation type: "+i.type);M=function Xs(o,r,i,l,h){const D=r.serverCache;return Us(o,Zi(r,D.getNode(),D.isFullyInitialized()||_n(i),D.isFiltered()),i,l,Fs,h)}(o,r,i.path,l,D)}const re=D.getChanges();return function bo(o,r,i){const l=r.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),D=Tr(o);(i.length>0||!o.eventCache.isFullyInitialized()||h&&!l.getNode().equals(D)||!l.getNode().getPriority().equals(D.getPriority()))&&i.push(xs(Tr(r)))}}(r,M,re),{viewCache:M,changes:re}}(o.processor_,h,r,i,l);return function ns(o,r){(0,O.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,O.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,D.viewCache),(0,O.hu)(D.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=D.viewCache,fa(o,D.changes,D.viewCache.eventCache.getNode(),null)}function fa(o,r,i,l){return function nn(o,r,i,l){const h=[],D=[];return r.forEach(M=>{"child_changed"===M.type&&o.index_.indexedValueChanged(M.oldSnap,M.snapshotNode)&&D.push(function xn(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(M.childName,M.snapshotNode))}),Ln(o,h,"child_removed",r,l,i),Ln(o,h,"child_added",r,l,i),Ln(o,h,"child_moved",D,l,i),Ln(o,h,"child_changed",r,l,i),Ln(o,h,"value",r,l,i),h}(o.eventGenerator_,r,i,l?[l]:o.eventRegistrations_)}let Ma,N;class Ra{constructor(){this.views=new Map}}function ga(o,r,i,l){const h=r.source.queryId;if(null!==h){const D=o.views.get(h);return(0,O.hu)(null!=D,"SyncTree gave us an op for an invalid query."),Co(D,r,i,l)}{let D=[];for(const M of o.views.values())D=D.concat(Co(M,r,i,l));return D}}function sa(o,r,i,l,h){const M=o.views.get(r._queryIdentifier);if(!M){let K=jo(i,h?l:null),re=!1;K?re=!0:l instanceof cn?(K=vo(i,l),re=!1):(K=cn.EMPTY_NODE,re=!1);const ye=Ur(new Pt(K,re,!1),new Pt(l,h,!1));return new ia(r,ye)}return M}function zo(o){const r=[];for(const i of o.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function Js(o,r){let i=null;for(const l of o.views.values())i=i||$o(l,r);return i}function y(o,r){return r._queryParams.loadsAllData()?w(o):o.views.get(r._queryIdentifier)}function I(o,r){return null!=y(o,r)}function p(o){return null!=w(o)}function w(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Ne=1;class ct{constructor(r){this.listenProvider_=r,this.syncPointTree_=new Z(null),this.pendingWriteTree_=function Yi(){return{visibleWrites:he.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ct(o,r,i,l,h){return function jn(o,r,i,l,h){(0,O.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:r,snap:i,writeId:l,visible:h}),h&&(o.visibleWrites=We(o.visibleWrites,r,i)),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l,h),h?Ro(o,new Dn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function En(o,r,i=!1){const l=function Xr(o,r){for(let i=0;i<o.allWrites.length;i++){const l=o.allWrites[i];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function _r(o,r){const i=o.allWrites.findIndex(K=>K.writeId===r);(0,O.hu)(i>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[i];o.allWrites.splice(i,1);let h=l.visible,D=!1,M=o.allWrites.length-1;for(;h&&M>=0;){const K=o.allWrites[M];K.visible&&(M>=i&&Li(K,l.path)?h=!1:_i(l.path,K.path)&&(D=!0)),M--}return!!h&&(D?(function Jr(o){o.visibleWrites=qs(o.allWrites,Ys,Nn()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=At(o.visibleWrites,l.path):tn(l.children,re=>{o.visibleWrites=At(o.visibleWrites,Vn(l.path,re))}),!0))}(o.pendingWriteTree_,r)){let D=new Z(null);return null!=l.snap?D=D.set(Nn(),!0):tn(l.children,M=>{D=D.set(new tr(M),!0)}),Ro(o,new Tt(l.path,D,i))}return[]}function Mr(o,r,i){return Ro(o,new Dn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function Mi(o,r,i,l,h=!1){const D=r._path,M=o.syncPointTree_.get(D);let K=[];if(M&&("default"===r._queryIdentifier||I(M,r))){const re=function Wo(o,r,i,l){const h=r._queryIdentifier,D=[];let M=[];const K=p(o);if("default"===h)for(const[re,ye]of o.views.entries())M=M.concat(Sr(ye,i,l)),gl(ye)&&(o.views.delete(re),ye.query._queryParams.loadsAllData()||D.push(ye.query));else{const re=o.views.get(h);re&&(M=M.concat(Sr(re,i,l)),gl(re)&&(o.views.delete(h),re.query._queryParams.loadsAllData()||D.push(re.query)))}return K&&!p(o)&&D.push(new(function Xa(){return(0,O.hu)(Ma,"Reference.ts has not been loaded"),Ma}())(r._repo,r._path)),{removed:D,events:M}}(M,r,i,l);(function pa(o){return 0===o.views.size})(M)&&(o.syncPointTree_=o.syncPointTree_.remove(D));const ye=re.removed;if(K=re.events,!h){const Xe=-1!==ye.findIndex(ut=>ut._queryParams.loadsAllData()),Je=o.syncPointTree_.findOnPath(D,(ut,Ut)=>p(Ut));if(Xe&&!Je){const ut=o.syncPointTree_.subtree(D);if(!ut.isEmpty()){const Ut=function Wt(o){return o.fold((r,i,l)=>{if(i&&p(i))return[w(i)];{let h=[];return i&&(h=zo(i)),tn(l,(D,M)=>{h=h.concat(M)}),h}})}(ut);for(let rn=0;rn<Ut.length;++rn){const Zn=Ut[rn],Di=Zn.query,Ts=x(o,Zn);o.listenProvider_.startListening(Kt(Di),Y(o,Di),Ts.hashFn,Ts.onComplete)}}}!Je&&ye.length>0&&!l&&(Xe?o.listenProvider_.stopListening(Kt(r),null):ye.forEach(ut=>{const Ut=o.queryToTagMap.get(pe(ut));o.listenProvider_.stopListening(Kt(ut),Ut)}))}!function Xt(o,r){for(let i=0;i<r.length;++i){const l=r[i];if(!l._queryParams.loadsAllData()){const h=pe(l),D=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(D)}}}(o,ye)}return K}function no(o,r,i,l){const h=xe(o,l);if(null!=h){const D=Ze(h),M=D.path,K=D.queryId,re=dr(M,r);return ht(o,M,new Dn(ot(K),re,i))}return[]}function ma(o,r,i,l=!1){const h=r._path;let D=null,M=!1;o.syncPointTree_.foreachOnPath(h,(ut,Ut)=>{const rn=dr(ut,h);D=D||Js(Ut,rn),M=M||p(Ut)});let re,K=o.syncPointTree_.get(h);K?(M=M||p(K),D=D||Js(K,Nn())):(K=new Ra,o.syncPointTree_=o.syncPointTree_.set(h,K)),null!=D?re=!0:(re=!1,D=cn.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((Ut,rn)=>{const Zn=Js(rn,Nn());Zn&&(D=D.updateImmediateChild(Ut,Zn))}));const ye=I(K,r);if(!ye&&!r._queryParams.loadsAllData()){const ut=pe(r);(0,O.hu)(!o.queryToTagMap.has(ut),"View does not exist, but we have a tag");const Ut=function Un(){return Ne++}();o.queryToTagMap.set(ut,Ut),o.tagToQueryMap.set(Ut,ut)}let Je=function kr(o,r,i,l,h,D){const M=sa(o,r,l,h,D);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,M),function ml(o,r){o.eventRegistrations_.push(r)}(M,i),function Iu(o,r){const i=o.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(or,(D,M)=>{l.push(Ks(D,M))}),i.isFullyInitialized()&&l.push(xs(i.getNode())),fa(o,l,i.getNode(),r)}(M,i)}(K,r,i,An(o.pendingWriteTree_,h),D,re);if(!ye&&!M&&!l){const ut=y(K,r);Je=Je.concat(function Tn(o,r,i){const l=r._path,h=Y(o,r),D=x(o,i),M=o.listenProvider_.startListening(Kt(r),h,D.hashFn,D.onComplete),K=o.syncPointTree_.subtree(l);if(h)(0,O.hu)(!p(K.value),"If we're adding a query, it shouldn't be shadowed");else{const re=K.fold((ye,Xe,Je)=>{if(!_n(ye)&&Xe&&p(Xe))return[w(Xe).query];{let ut=[];return Xe&&(ut=ut.concat(zo(Xe).map(Ut=>Ut.query))),tn(Je,(Ut,rn)=>{ut=ut.concat(rn)}),ut}});for(let ye=0;ye<re.length;++ye){const Xe=re[ye];o.listenProvider_.stopListening(Kt(Xe),Y(o,Xe))}}return M}(o,r,ut))}return Je}function Go(o,r,i){const h=o.pendingWriteTree_,D=o.syncPointTree_.findOnPath(r,(M,K)=>{const ye=Js(K,dr(M,r));if(ye)return ye});return Qs(h,r,D,i,!0)}function Ro(o,r){return Na(r,o.syncPointTree_,null,An(o.pendingWriteTree_,Nn()))}function Na(o,r,i,l){if(_n(o.path))return A(o,r,i,l);{const h=r.get(Nn());null==i&&null!=h&&(i=Js(h,Nn()));let D=[];const M=pn(o.path),K=o.operationForChild(M),re=r.children.get(M);if(re&&K){const ye=i?i.getImmediateChild(M):null,Xe=ea(l,M);D=D.concat(Na(K,re,ye,Xe))}return h&&(D=D.concat(ga(h,o,l,i))),D}}function A(o,r,i,l){const h=r.get(Nn());null==i&&null!=h&&(i=Js(h,Nn()));let D=[];return r.children.inorderTraversal((M,K)=>{const re=i?i.getImmediateChild(M):null,ye=ea(l,M),Xe=o.operationForChild(M);Xe&&(D=D.concat(A(Xe,K,re,ye)))}),h&&(D=D.concat(ga(h,o,l,i))),D}function x(o,r){const i=r.query,l=Y(o,i);return{hashFn:()=>(function qa(o){return o.viewCache_.serverCache.getNode()}(r)||cn.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return l?function Ui(o,r,i){const l=xe(o,i);if(l){const h=Ze(l),D=h.path,M=h.queryId,K=dr(D,r);return ht(o,D,new Rt(ot(M),K))}return[]}(o,i._path,l):function to(o,r){return Ro(o,new Rt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,i._path);{const D=function Ht(o,r){let i="Unknown Error";"too_big"===o?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?i="Client doesn't have permission to access the desired data.":"unavailable"===o&&(i="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+i);return l.code=o.toUpperCase(),l}(h,i);return Mi(o,i,null,D)}}}}function Y(o,r){const i=pe(r);return o.queryToTagMap.get(i)}function pe(o){return o._path.toString()+"$"+o._queryIdentifier}function xe(o,r){return o.tagToQueryMap.get(r)}function Ze(o){const r=o.indexOf("$");return(0,O.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new tr(o.substr(0,r))}}function ht(o,r,i){const l=o.syncPointTree_.get(r);return(0,O.hu)(l,"Missing sync point for query tag that we're tracking"),ga(l,i,An(o.pendingWriteTree_,r),null)}function Kt(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function te(){return(0,O.hu)(N,"Reference.ts has not been loaded"),N}())(o._repo,o._path):o}class rs{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new rs(i)}node(){return this.node_}}class hi{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=Vn(this.path_,r);return new hi(this.syncTree_,i)}node(){return Go(this.syncTree_,this.path_)}}const el=function(o,r,i){return o&&"object"==typeof o?((0,O.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?_a(o[".sv"],r,i):"object"==typeof o[".sv"]?ro(o[".sv"],r):void(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},_a=function(o,r,i){if("timestamp"===o)return i.timestamp;(0,O.hu)(!1,"Unexpected server value: "+o)},ro=function(o,r,i){o.hasOwnProperty("increment")||(0,O.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,O.hu)(!1,"Unexpected increment value: "+l);const h=r.node();if((0,O.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const M=h.getValue();return"number"!=typeof M?l:M+l},wo=function(o,r,i,l){return jl(r,new hi(i,o),l)},Po=function(o,r,i){return jl(o,new rs(r),i)};function jl(o,r,i){const l=o.getPriority().val(),h=el(l,r.getImmediateChild(".priority"),i);let D;if(o.isLeafNode()){const M=o,K=el(M.getValue(),r,i);return K!==M.getValue()||h!==M.getPriority().val()?new lr(K,fr(h)):o}{const M=o;return D=M,h!==M.getPriority().val()&&(D=D.updatePriority(new lr(h))),M.forEachChild(or,(K,re)=>{const ye=jl(re,r.getImmediateChild(K),i);ye!==re&&(D=D.updateImmediateChild(K,ye))}),D}}class bu{constructor(r="",i=null,l={children:{},childCount:0}){this.name=r,this.parent=i,this.node=l}}function _l(o,r){let i=r instanceof tr?r:new tr(r),l=o,h=pn(i);for(;null!==h;){const D=(0,O.DV)(l.node.children,h)||{children:{},childCount:0};l=new bu(h,l,D),i=gn(i),h=pn(i)}return l}function ya(o){return o.node.value}function $l(o,r){o.node.value=r,yl(o)}function rd(o){return o.node.childCount>0}function Wl(o,r){tn(o.node.children,(i,l)=>{r(new bu(i,o,l))})}function ka(o,r,i,l){i&&!l&&r(o),Wl(o,h=>{ka(h,r,!0,l)}),i&&l&&r(o)}function zl(o){return new tr(null===o.parent?o.name:zl(o.parent)+"/"+o.name)}function yl(o){null!==o.parent&&function uh(o,r,i){const l=function cc(o){return void 0===ya(o)&&!rd(o)}(i),h=(0,O.r3)(o.node.children,r);l&&h?(delete o.node.children[r],o.node.childCount--,yl(o)):!l&&!h&&(o.node.children[r]=i.node,o.node.childCount++,yl(o))}(o.parent,o.name,o)}const ch=/[\[\].#$\/\u0000-\u001F\u007F]/,dh=/[\[\].#$\u0000-\u001F\u007F]/,dc=10485760,Du=function(o){return"string"==typeof o&&0!==o.length&&!ch.test(o)},Gl=function(o){return"string"==typeof o&&0!==o.length&&!dh.test(o)},La=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!vr(o)||o&&"object"==typeof o&&(0,O.r3)(o,".sv")},Oo=function(o,r,i,l){l&&void 0===r||tl((0,O.gK)(o,"value"),r,i)},tl=function(o,r,i){const l=i instanceof tr?new Ti(i,o):i;if(void 0===r)throw new Error(o+"contains undefined "+Vi(l));if("function"==typeof r)throw new Error(o+"contains a function "+Vi(l)+" with contents = "+r.toString());if(vr(r))throw new Error(o+"contains "+r.toString()+" "+Vi(l));if("string"==typeof r&&r.length>dc/3&&(0,O.ug)(r)>dc)throw new Error(o+"contains a string greater than "+dc+" utf8 bytes "+Vi(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let h=!1,D=!1;if(tn(r,(M,K)=>{if(".value"===M)h=!0;else if(".priority"!==M&&".sv"!==M&&(D=!0,!Du(M)))throw new Error(o+" contains an invalid key ("+M+") "+Vi(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function _s(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,O.ug)(r),ys(o)})(l,M),tl(o,K,l),function as(o){const r=o.parts_.pop();o.byteLength_-=(0,O.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),h&&D)throw new Error(o+' contains ".value" child '+Vi(l)+" in addition to actual children.")}},To=function(o,r,i,l){if(l&&void 0===r)return;const h=(0,O.gK)(o,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(h+" must be an object containing the children to replace.");const D=[];tn(r,(M,K)=>{const re=new tr(M);if(tl(h,K,Vn(i,re)),".priority"===Ms(re)&&!La(K))throw new Error(h+"contains an invalid value for '"+re.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");D.push(re)}),function(o,r){let i,l;for(i=0;i<r.length;i++){l=r[i];const D=gr(l);for(let M=0;M<D.length;M++)if((".priority"!==D[M]||M!==D.length-1)&&!Du(D[M]))throw new Error(o+"contains an invalid key ("+D[M]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Xi);let h=null;for(i=0;i<r.length;i++){if(l=r[i],null!==h&&_i(h,l))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}}(h,D)},Cu=function(o,r,i){if(!i||void 0!==r){if(vr(r))throw new Error((0,O.gK)(o,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!La(r))throw new Error((0,O.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},vl=function(o,r,i,l){if(!(l&&void 0===i||Du(i)))throw new Error((0,O.gK)(o,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},El=function(o,r,i,l){if(!(l&&void 0===i||Gl(i)))throw new Error((0,O.gK)(o,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fs=function(o,r){if(".info"===pn(r))throw new Error(o+" failed = Can't modify data under /.info/")},gc=function(o,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!Du(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Gl(o)}(i))throw new Error((0,O.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class wu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kl(o,r){let i=null;for(let l=0;l<r.length;l++){const h=r[l],D=h.getPath();null!==i&&!Rs(D,i.path)&&(o.eventLists_.push(i),i=null),null===i&&(i={events:[],path:D}),i.events.push(h)}i&&o.eventLists_.push(i)}function Zl(o,r,i){Kl(o,i),Yl(o,l=>Rs(l,r))}function io(o,r,i){Kl(o,i),Yl(o,l=>_i(l,r)||_i(r,l))}function Yl(o,r){o.recursionDepth_++;let i=!0;for(let l=0;l<o.eventLists_.length;l++){const h=o.eventLists_[l];h&&(r(h.path)?(Bs(o.eventLists_[l]),o.eventLists_[l]=null):i=!1)}i&&(o.eventLists_=[]),o.recursionDepth_--}function Bs(o){for(let r=0;r<o.events.length;r++){const i=o.events[r];if(null!==i){o.events[r]=null;const l=i.getEventRunner();Ft&&en("event: "+i.toString()),Gn(l)}}}const Il="repo_interrupt";class Su{constructor(r,i,l,h){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=mo(),this.transactionQueueTree_=new bu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function nl(o){const i=o.infoData_.getNode(new tr(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function rl(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:nl(o)})}function Au(o,r,i,l,h){o.dataUpdateCount++;const D=new tr(r);i=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,i):i;let M=[];if(h)if(l){const re=(0,O.UI)(i,ye=>fr(ye));M=function Ja(o,r,i,l){const h=xe(o,l);if(h){const D=Ze(h),M=D.path,K=D.queryId,re=dr(M,r),ye=Z.fromObject(i);return ht(o,M,new dn(ot(K),re,ye))}return[]}(o.serverSyncTree_,D,re,h)}else{const re=fr(i);M=no(o.serverSyncTree_,D,re,h)}else if(l){const re=(0,O.UI)(i,ye=>fr(ye));M=function eo(o,r,i){const l=Z.fromObject(i);return Ro(o,new dn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,D,re)}else{const re=fr(i);M=Mr(o.serverSyncTree_,D,re)}let K=D;M.length>0&&(K=sl(o,D)),io(o.eventQueue_,K,M)}function Mu(o,r){_c(o,"connected",r),!1===r&&function sd(o){Ua(o,"onDisconnectEvents");const r=rl(o),i=mo();Gi(o.onDisconnect_,Nn(),(h,D)=>{const M=wo(h,D,o.serverSyncTree_,r);ki(i,h,M)});let l=[];Gi(i,Nn(),(h,D)=>{l=l.concat(Mr(o.serverSyncTree_,h,D));const M=Ba(o,h);sl(o,M)}),o.onDisconnect_=mo(),io(o.eventQueue_,Nn(),l)}(o)}function _c(o,r,i){const l=new tr("/.info/"+r),h=fr(i);o.infoData_.updateSnapshot(l,h);const D=Mr(o.infoSyncTree_,l,h);io(o.eventQueue_,l,D)}function No(o){return o.nextWriteId_++}function ql(o,r,i,l,h){Ua(o,"set",{path:r.toString(),value:i,priority:l});const D=rl(o),M=fr(i,l),K=Go(o.serverSyncTree_,r),re=Po(M,K,D),ye=No(o),Xe=Ct(o.serverSyncTree_,r,re,ye,!0);Kl(o.eventQueue_,Xe),o.server_.put(r.toString(),M.val(!0),(ut,Ut)=>{const rn="ok"===ut;rn||Cn("set at "+r+" failed: "+ut);const Zn=En(o.serverSyncTree_,ye,!rn);io(o.eventQueue_,r,Zn),so(0,h,ut,Ut)});const Je=Ba(o,r);sl(o,Je),io(o.eventQueue_,Je,[])}function bl(o,r,i){o.server_.onDisconnectCancel(r.toString(),(l,h)=>{"ok"===l&&_o(o.onDisconnect_,r),so(0,i,l,h)})}function Ql(o,r,i,l){const h=fr(i);o.server_.onDisconnectPut(r.toString(),h.val(!0),(D,M)=>{"ok"===D&&ki(o.onDisconnect_,r,h),so(0,l,D,M)})}function Pu(o,r,i){let l;l=".info"===pn(r._path)?Mi(o.infoSyncTree_,r,i):Mi(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}function il(o){o.persistentConnection_&&o.persistentConnection_.interrupt(Il)}function Ua(o,...r){let i="";o.persistentConnection_&&(i=o.persistentConnection_.id+":"),en(i,...r)}function so(o,r,i,l){r&&Gn(()=>{if("ok"===i)r(null);else{const h=(i||"error").toUpperCase();let D=h;l&&(D+=": "+l);const M=new Error(D);M.code=h,r(M)}})}function Xl(o,r,i){return Go(o.serverSyncTree_,r,i)||cn.EMPTY_NODE}function Dl(o,r=o.transactionQueueTree_){if(r||tu(o,r),ya(r)){const i=eu(o,r);(0,O.hu)(i.length>0,"Sending zero length transaction queue"),i.every(h=>0===h.status)&&function Cl(o,r,i){const l=i.map(ye=>ye.currentWriteId),h=Xl(o,r,l);let D=h;const M=h.hash();for(let ye=0;ye<i.length;ye++){const Xe=i[ye];(0,O.hu)(0===Xe.status,"tryToSendTransactionQueue_: items in queue should all be run."),Xe.status=1,Xe.retryCount++;const Je=dr(r,Xe.path);D=D.updateChild(Je,Xe.currentOutputSnapshotRaw)}const K=D.val(!0),re=r;o.server_.put(re.toString(),K,ye=>{Ua(o,"transaction put response",{path:re.toString(),status:ye});let Xe=[];if("ok"===ye){const Je=[];for(let ut=0;ut<i.length;ut++)i[ut].status=2,Xe=Xe.concat(En(o.serverSyncTree_,i[ut].currentWriteId)),i[ut].onComplete&&Je.push(()=>i[ut].onComplete(null,!0,i[ut].currentOutputSnapshotResolved)),i[ut].unwatcher();tu(o,_l(o.transactionQueueTree_,r)),Dl(o,o.transactionQueueTree_),io(o.eventQueue_,r,Xe);for(let ut=0;ut<Je.length;ut++)Gn(Je[ut])}else{if("datastale"===ye)for(let Je=0;Je<i.length;Je++)i[Je].status=3===i[Je].status?4:0;else{Cn("transaction at "+re.toString()+" failed: "+ye);for(let Je=0;Je<i.length;Je++)i[Je].status=4,i[Je].abortReason=ye}sl(o,r)}},M)}(o,zl(r),i)}else rd(r)&&Wl(r,i=>{Dl(o,i)})}function sl(o,r){const i=Jl(o,r),l=zl(i);return function ld(o,r,i){if(0===r.length)return;const l=[];let h=[];const M=r.filter(K=>0===K.status).map(K=>K.currentWriteId);for(let K=0;K<r.length;K++){const re=r[K],ye=dr(i,re.path);let Je,Xe=!1;if((0,O.hu)(null!==ye,"rerunTransactionsUnderNode_: relativePath should not be null."),4===re.status)Xe=!0,Je=re.abortReason,h=h.concat(En(o.serverSyncTree_,re.currentWriteId,!0));else if(0===re.status)if(re.retryCount>=25)Xe=!0,Je="maxretry",h=h.concat(En(o.serverSyncTree_,re.currentWriteId,!0));else{const ut=Xl(o,re.path,M);re.currentInputSnapshot=ut;const Ut=r[K].update(ut.val());if(void 0!==Ut){tl("transaction failed: Data returned ",Ut,re.path);let rn=fr(Ut);"object"==typeof Ut&&null!=Ut&&(0,O.r3)(Ut,".priority")||(rn=rn.updatePriority(ut.getPriority()));const Di=re.currentWriteId,Ts=rl(o),Qo=Po(rn,ut,Ts);re.currentOutputSnapshotRaw=rn,re.currentOutputSnapshotResolved=Qo,re.currentWriteId=No(o),M.splice(M.indexOf(Di),1),h=h.concat(Ct(o.serverSyncTree_,re.path,Qo,re.currentWriteId,re.applyLocally)),h=h.concat(En(o.serverSyncTree_,Di,!0))}else Xe=!0,Je="nodata",h=h.concat(En(o.serverSyncTree_,re.currentWriteId,!0))}io(o.eventQueue_,i,h),h=[],Xe&&(r[K].status=2,setTimeout(r[K].unwatcher,Math.floor(0)),r[K].onComplete&&l.push("nodata"===Je?()=>r[K].onComplete(null,!1,r[K].currentInputSnapshot):()=>r[K].onComplete(new Error(Je),!1,null)))}tu(o,o.transactionQueueTree_);for(let K=0;K<l.length;K++)Gn(l[K]);Dl(o,o.transactionQueueTree_)}(o,eu(o,i),l),l}function Jl(o,r){let i,l=o.transactionQueueTree_;for(i=pn(r);null!==i&&void 0===ya(l);)l=_l(l,i),i=pn(r=gn(r));return l}function eu(o,r){const i=[];return yc(o,r,i),i.sort((l,h)=>l.order-h.order),i}function yc(o,r,i){const l=ya(r);if(l)for(let h=0;h<l.length;h++)i.push(l[h]);Wl(r,h=>{yc(o,h,i)})}function tu(o,r){const i=ya(r);if(i){let l=0;for(let h=0;h<i.length;h++)2!==i[h].status&&(i[l]=i[h],l++);i.length=l,$l(r,i.length>0?i:void 0)}Wl(r,l=>{tu(o,l)})}function Ba(o,r){const i=zl(Jl(o,r)),l=_l(o.transactionQueueTree_,r);return function lh(o,r,i){let l=i?o:o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,h=>{wl(o,h)}),wl(o,l),ka(l,h=>{wl(o,h)}),i}function wl(o,r){const i=ya(r);if(i){const l=[];let h=[],D=-1;for(let M=0;M<i.length;M++)3===i[M].status||(1===i[M].status?((0,O.hu)(D===M-1,"All SENT items should be at beginning of queue."),D=M,i[M].status=3,i[M].abortReason="set"):((0,O.hu)(0===i[M].status,"Unexpected transaction status in abort"),i[M].unwatcher(),h=h.concat(En(o.serverSyncTree_,i[M].currentWriteId,!0)),i[M].onComplete&&l.push(i[M].onComplete.bind(null,new Error("set"),!1,null))));-1===D?$l(r,void 0):i.length=D+1,io(o.eventQueue_,zl(r),h);for(let M=0;M<l.length;M++)Gn(l[M])}}const nu=function(o,r){const i=ud(o),l=i.namespace;return"firebase.com"===i.domain&&In(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==i.domain&&In("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new je(i.host,i.secure,l,"ws"===i.scheme||"wss"===i.scheme,r,"",l!==i.subdomain),path:new tr(i.pathString)}},ud=function(o){let r="",i="",l="",h="",D="",M=!0,K="https",re=443;if("string"==typeof o){let ye=o.indexOf("//");ye>=0&&(K=o.substring(0,ye-1),o=o.substring(ye+2));let Xe=o.indexOf("/");-1===Xe&&(Xe=o.length);let Je=o.indexOf("?");-1===Je&&(Je=o.length),r=o.substring(0,Math.min(Xe,Je)),Xe<Je&&(h=function vc(o){let r="";const i=o.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let h=i[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}r+="/"+h}return r}(o.substring(Xe,Je)));const ut=function xu(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const i of o.split("&")){if(0===i.length)continue;const l=i.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):Cn(`Invalid query segment '${i}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,Je)));ye=r.indexOf(":"),ye>=0?(M="https"===K||"wss"===K,re=parseInt(r.substring(ye+1),10)):ye=r.length;const Ut=r.slice(0,ye);if("localhost"===Ut.toLowerCase())i="localhost";else if(Ut.split(".").length<=2)i=Ut;else{const rn=r.indexOf(".");l=r.substring(0,rn).toLowerCase(),i=r.substring(rn+1),D=l}"ns"in ut&&(D=ut.ns)}return{host:r,port:re,domain:i,subdomain:l,secure:M,scheme:K,pathString:h,namespace:D}},ku="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ec=function(){let o=0;const r=[];return function(i){const l=i===o;let h;o=i;const D=new Array(8);for(h=7;h>=0;h--)D[h]=ku.charAt(i%64),i=Math.floor(i/64);(0,O.hu)(0===i,"Cannot push at time == 0");let M=D.join("");if(l){for(h=11;h>=0&&63===r[h];h--)r[h]=0;r[h]++}else for(h=0;h<12;h++)r[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)M+=ku.charAt(r[h]);return(0,O.hu)(20===M.length,"nextPushId: Length should be 20."),M}}();class va{constructor(r,i,l,h){this.eventType=r,this.eventRegistration=i,this.snapshot=l,this.prevName=h}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,O.Wl)(this.snapshot.exportVal())}}class Ha{constructor(r,i,l){this.eventRegistration=r,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ru{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,O.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Lu{constructor(r,i){this._repo=r,this._path=i}cancel(){const r=new O.BH;return bl(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){fs("OnDisconnect.remove",this._path);const r=new O.BH;return Ql(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){fs("OnDisconnect.set",this._path),Oo("OnDisconnect.set",r,this._path,!1);const i=new O.BH;return Ql(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}setWithPriority(r,i){fs("OnDisconnect.setWithPriority",this._path),Oo("OnDisconnect.setWithPriority",r,this._path,!1),Cu("OnDisconnect.setWithPriority",i,!1);const l=new O.BH;return function od(o,r,i,l,h){const D=fr(i,l);o.server_.onDisconnectPut(r.toString(),D.val(!0),(M,K)=>{"ok"===M&&ki(o.onDisconnect_,r,D),so(0,h,M,K)})}(this._repo,this._path,r,i,l.wrapCallback(()=>{})),l.promise}update(r){fs("OnDisconnect.update",this._path),To("OnDisconnect.update",r,this._path,!1);const i=new O.BH;return function Fa(o,r,i,l){if((0,O.xb)(i))return en("onDisconnect().update() called with empty data.  Don't do anything."),void so(0,l,"ok",void 0);o.server_.onDisconnectMerge(r.toString(),i,(h,D)=>{"ok"===h&&tn(i,(M,K)=>{const re=fr(K);ki(o.onDisconnect_,Vn(r,M),re)}),so(0,l,h,D)})}(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}}class oo{constructor(r,i,l,h){this._repo=r,this._path=i,this._queryParams=l,this._orderByCalled=h}get key(){return _n(this._path)?null:Ms(this._path)}get ref(){return new Hs(this._repo,this._path)}get _queryIdentifier(){const r=zi(this._queryParams),i=br(r);return"{}"===i?"default":i}get _queryObject(){return zi(this._queryParams)}isEqual(r){if(!((r=(0,O.m9)(r))instanceof oo))return!1;const i=this._repo===r._repo,l=Rs(this._path,r._path);return i&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function zr(o){let r="";for(let i=o.pieceNum_;i<o.pieces_.length;i++)""!==o.pieces_[i]&&(r+="/"+encodeURIComponent(String(o.pieces_[i])));return r||"/"}(this._path)}}function Va(o,r){if(!0===o._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function Ea(o){let r=null,i=null;if(o.hasStart()&&(r=o.getIndexStartValue()),o.hasEnd()&&(i=o.getIndexEndValue()),o.getIndex()===Gr){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==ln)throw new Error(l);if("string"!=typeof r)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==kn)throw new Error(l);if("string"!=typeof i)throw new Error(h)}}else if(o.getIndex()===or){if(null!=r&&!La(r)||null!=i&&!La(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,O.hu)(o.getIndex()instanceof Ns||o.getIndex()===Gs,"unknown index type."),null!=r&&"object"==typeof r||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tl(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Hs extends oo{constructor(r,i){super(r,i,new ts,!1)}get parent(){const r=ui(this._path);return null===r?null:new Hs(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ko{constructor(r,i,l){this._node=r,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new tr(r),l=Zo(this.ref,r);return new Ko(this._node.getChild(i),l,or)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,h)=>r(new Ko(h,Zo(this.ref,l),or)))}hasChild(r){const i=new tr(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ol(o,r){return(o=(0,O.m9)(o))._checkNotDeleted("ref"),void 0!==r?Zo(o._root,r):o._root}function iu(o,r){(o=(0,O.m9)(o))._checkNotDeleted("refFromURL");const i=nu(r,o._repo.repoInfo_.nodeAdmin);gc("refFromURL",i);const l=i.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&l.host!==o._repo.repoInfo_.host&&In("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+o._repo.repoInfo_.host+")"),ol(o,i.path.toString())}function Zo(o,r){return null===pn((o=(0,O.m9)(o))._path)?((i=r)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),El("child","path",i,!1)):El("child","path",r,!1),new Hs(o._repo,Vn(o._path,r));var i}function oa(o,r){o=(0,O.m9)(o),fs("set",o._path),Oo("set",r,o._path,!1);const i=new O.BH;return ql(o._repo,o._path,r,null,i.wrapCallback(()=>{})),i.promise}function Fu(o,r){To("update",r,o._path,!1);const i=new O.BH;return function Ru(o,r,i,l){Ua(o,"update",{path:r.toString(),value:i});let h=!0;const D=rl(o),M={};if(tn(i,(K,re)=>{h=!1,M[K]=wo(Vn(r,K),fr(re),o.serverSyncTree_,D)}),h)en("update() called with empty data.  Don't do anything."),so(0,l,"ok",void 0);else{const K=No(o),re=function Lt(o,r,i,l){!function Ii(o,r,i,l){(0,O.hu)(l>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:r,children:i,writeId:l,visible:!0}),o.visibleWrites=it(o.visibleWrites,r,i),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l);const h=Z.fromObject(i);return Ro(o,new dn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,h))}(o.serverSyncTree_,r,M,K);Kl(o.eventQueue_,re),o.server_.merge(r.toString(),i,(ye,Xe)=>{const Je="ok"===ye;Je||Cn("update at "+r+" failed: "+ye);const ut=En(o.serverSyncTree_,K,!Je),Ut=ut.length>0?sl(o,r):r;io(o.eventQueue_,Ut,ut),so(0,l,ye,Xe)}),tn(i,ye=>{const Xe=Ba(o,Vn(r,ye));sl(o,Xe)}),io(o.eventQueue_,r,[])}}(o._repo,o._path,r,i.wrapCallback(()=>{})),i.promise}function ou(o){o=(0,O.m9)(o);const r=new ru(()=>{}),i=new Ml(r);return function id(o,r,i){const l=function Oa(o,r){const i=r._path;let l=null;o.syncPointTree_.foreachOnPath(i,(ye,Xe)=>{const Je=dr(ye,i);l=l||Js(Xe,Je)});let h=o.syncPointTree_.get(i);h?l=l||Js(h,Nn()):(h=new Ra,o.syncPointTree_=o.syncPointTree_.set(i,h));const D=null!=l,M=D?new Pt(l,!0,!1):null;return function Qa(o){return Tr(o.viewCache_)}(sa(h,r,An(o.pendingWriteTree_,r._path),D?M.getNode():cn.EMPTY_NODE,D))}(o.serverSyncTree_,r);return null!=l?Promise.resolve(l):o.server_.get(r).then(h=>{const D=fr(h).withIndex(r._queryParams.getIndex());let M;if(ma(o.serverSyncTree_,r,i,!0),r._queryParams.loadsAllData())M=Mr(o.serverSyncTree_,r._path,D);else{const K=Y(o.serverSyncTree_,r);M=no(o.serverSyncTree_,r._path,D,K)}return io(o.eventQueue_,r._path,M),Mi(o.serverSyncTree_,r,i,null,!0),D},h=>(Ua(o,"get for query "+(0,O.Wl)(r)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,i).then(l=>new Ko(l,new Hs(o._repo,o._path),o._queryParams.getIndex()))}class Ml{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const l=i._queryParams.getIndex();return new va("value",this,new Ko(r.snapshotNode,new Hs(i._repo,i._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ha(this,r,i):null}matches(r){return r instanceof Ml&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Rl{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ha(this,r,i):null}createEvent(r,i){(0,O.hu)(null!=r.childName,"Child events should have a childName.");const l=Zo(new Hs(i._repo,i._path),r.childName),h=i._queryParams.getIndex();return new va(r.type,this,new Ko(r.snapshotNode,l,h),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Rl&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Pl(o,r,i,l,h){let D;if("object"==typeof l&&(D=void 0,h=l),"function"==typeof l&&(D=l),h&&h.onlyOnce){const re=i,ye=(Xe,Je)=>{Pu(o._repo,o,K),re(Xe,Je)};ye.userCallback=i.userCallback,ye.context=i.context,i=ye}const M=new ru(i,D||void 0),K="value"===r?new Ml(M):new Rl(r,M);return function ad(o,r,i){let l;l=".info"===pn(r._path)?ma(o.infoSyncTree_,r,i):ma(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}(o._repo,o,K),()=>Pu(o._repo,o,K)}function xo(o,r,i,l){return Pl(o,"value",r,i,l)}function au(o,r,i,l){return Pl(o,"child_added",r,i,l)}function Ol(o,r,i,l){return Pl(o,"child_changed",r,i,l)}function lu(o,r,i,l){return Pl(o,"child_moved",r,i,l)}function Ia(o,r,i,l){return Pl(o,"child_removed",r,i,l)}function Uu(o,r,i){let l=null;const h=i?new ru(i):null;"value"===r?l=new Ml(h):r&&(l=new Rl(r,h)),Pu(o._repo,o,l)}class ri{}class Bu extends ri{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Oo("endAt",this._value,r._path,!0);const i=Zs(r._queryParams,this._value,this._key);if(Tl(i),Ea(i),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oo(r._repo,r._path,i,r._orderByCalled)}}class Vu extends ri{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Oo("endBefore",this._value,r._path,!1);const i=function Ls(o,r,i){let l;return l=Zs(o,r,o.index_===Gr||i?i:ln),l.endBeforeSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),Ea(i),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new oo(r._repo,r._path,i,r._orderByCalled)}}class ja extends ri{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Oo("startAt",this._value,r._path,!0);const i=ks(r._queryParams,this._value,this._key);if(Tl(i),Ea(i),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new oo(r._repo,r._path,i,r._orderByCalled)}}class uu extends ri{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Oo("startAfter",this._value,r._path,!1);const i=function Ho(o,r,i){let l;return l=ks(o,r,o.index_===Gr||i?i:kn),l.startAfterSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),Ea(i),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new oo(r._repo,r._path,i,r._orderByCalled)}}class cu extends ri{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new oo(r._repo,r._path,function Ei(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="l",i}(r._queryParams,this._limit),r._orderByCalled)}}class $a extends ri{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new oo(r._repo,r._path,function go(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="r",i}(r._queryParams,this._limit),r._orderByCalled)}}class dd extends ri{constructor(r){super(),this._path=r}_apply(r){Va(r,"orderByChild");const i=new tr(this._path);if(_n(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new Ns(i),h=wr(r._queryParams,l);return Ea(h),new oo(r._repo,r._path,h,!0)}}class u extends ri{_apply(r){Va(r,"orderByKey");const i=wr(r._queryParams,Gr);return Ea(i),new oo(r._repo,r._path,i,!0)}}class v extends ri{_apply(r){Va(r,"orderByPriority");const i=wr(r._queryParams,or);return Ea(i),new oo(r._repo,r._path,i,!0)}}class ee extends ri{_apply(r){Va(r,"orderByValue");const i=wr(r._queryParams,Gs);return Ea(i),new oo(r._repo,r._path,i,!0)}}class rt extends ri{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){if(Oo("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bu(this._value,this._key)._apply(new ja(this._value,this._key)._apply(r))}}function Ot(o,...r){let i=(0,O.m9)(o);for(const l of r)i=l._apply(i);return i}(function Pa(o){(0,O.hu)(!Ma,"__referenceConstructor has already been defined"),Ma=o})(Hs),function q(o){(0,O.hu)(!N,"__referenceConstructor has already been defined"),N=o}(Hs);const on={};function xl(o,r,i,l,h){let D=l||o.options.databaseURL;void 0===D&&(o.options.projectId||In("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),en("Using default host for project ",o.options.projectId),D=`${o.options.projectId}-default-rtdb.firebaseio.com`);let re,ye,M=nu(D,h),K=M.repoInfo;typeof process<"u"&&process.env&&(ye=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ye?(re=!0,D=`http://${ye}?ns=${K.namespace}`,M=nu(D,h),K=M.repoInfo):re=!M.repoInfo.secure;const Xe=h&&re?new Yt(Yt.OWNER):new Hr(o.name,o.options,r);gc("Invalid Firebase Database URL",M),_n(M.path)||In("Database URL must point to the root of a Firebase Database (not including a child path).");const Je=function al(o,r,i,l){let h=on[r.name];h||(h={},on[r.name]=h);let D=h[o.toURLString()];return D&&In("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),D=new Su(o,false,i,l),h[o.toURLString()]=D,D}(K,o,Xe,new Pn(o.name,i));return new ll(Je,o)}class ll{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ps(o,r,i){if(o.stats_=V(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new xi(o.repoInfo_,(l,h,D,M)=>{Au(o,l,h,D,M)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>Mu(o,!0),0);else{if(typeof i<"u"&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,O.Wl)(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new Nr(o.repoInfo_,r,(l,h,D,M)=>{Au(o,l,h,D,M)},l=>{Mu(o,l)},l=>{!function mc(o,r){tn(r,(i,l)=>{_c(o,i,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,i),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function L(o,r){const i=o.toString();return Ae[i]||(Ae[i]=r()),Ae[i]}(o.repoInfo_,()=>new ie(o.stats_,o.server_)),o.infoData_=new Ai,o.infoSyncTree_=new ct({startListening:(l,h,D,M)=>{let K=[];const re=o.infoData_.getNode(l._path);return re.isEmpty()||(K=Mr(o.infoSyncTree_,l._path,re),setTimeout(()=>{M("ok")},0)),K},stopListening:()=>{}}),_c(o,"connected",!1),o.serverSyncTree_=new ct({startListening:(l,h,D,M)=>(o.server_.listen(l,D,h,(K,re)=>{const ye=M(K,re);io(o.eventQueue_,l._path,ye)}),[]),stopListening:(l,h)=>{o.server_.unlisten(l,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Hs(this._repo,Nn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cc(o,r){const i=on[r];(!i||i[o.key]!==o)&&In(`Database ${r}(${o.repoInfo_}) has already been deleted.`),il(o),delete i[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&In("Cannot call "+r+" on a deleted database.")}}function kl(){Zr.IS_TRANSPORT_INITIALIZED&&Cn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ju(){kl(),sr.forceDisallow()}function $u(){kl(),Wn.forceDisallow(),sr.forceAllow()}function Wu(o,r){Vt(o,r)}const Mg={".sv":"timestamp"};class Of{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nr.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},Nr.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function Ag(o){Ue(tt.SDK_VERSION),(0,tt._registerComponent)(new Ve.wA("database",(r,{instanceIdentifier:i})=>xl(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,tt.registerVersion)(be,"0.14.1",o),(0,tt.registerVersion)(be,"0.14.1","esm2017")}();const fd=new Be.Yd("@firebase/database-compat"),gh=function(o){fd.warn("FIREBASE WARNING: "+o)};class Lf{constructor(r){this._delegate=r}cancel(r){(0,O.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,O.Wj)("OnDisconnect.cancel","onComplete",r,!0);const i=this._delegate.cancel();return r&&i.then(()=>r(null),l=>r(l)),i}remove(r){(0,O.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,O.Wj)("OnDisconnect.remove","onComplete",r,!0);const i=this._delegate.remove();return r&&i.then(()=>r(null),l=>r(l)),i}set(r,i){(0,O.Dv)("OnDisconnect.set",1,2,arguments.length),(0,O.Wj)("OnDisconnect.set","onComplete",i,!0);const l=this._delegate.set(r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,O.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,O.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const h=this._delegate.setWithPriority(r,i);return l&&h.then(()=>l(null),D=>l(D)),h}update(r,i){if((0,O.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let D=0;D<r.length;++D)h[""+D]=r[D];r=h,gh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,O.Wj)("OnDisconnect.update","onComplete",i,!0);const l=this._delegate.update(r);return i&&l.then(()=>i(null),h=>i(h)),l}}class mh{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return(0,O.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Wa{constructor(r,i){this._database=r,this._delegate=i}val(){return(0,O.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,O.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,O.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,O.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,O.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),El("DataSnapshot.child","path",r,!1),new Wa(this._database,this._delegate.child(r))}hasChild(r){return(0,O.Dv)("DataSnapshot.hasChild",1,1,arguments.length),El("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,O.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,O.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,O.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(i=>r(new Wa(this._database,i)))}hasChildren(){return(0,O.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,O.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,O.Dv)("DataSnapshot.ref",0,0,arguments.length),new Lo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ws{constructor(r,i){this.database=r,this._delegate=i}on(r,i,l,h){var D;(0,O.Dv)("Query.on",2,4,arguments.length),(0,O.Wj)("Query.on","callback",i,!1);const M=ws.getCancelAndContextArgs_("Query.on",l,h),K=(ye,Xe)=>{i.call(M.context,new Wa(this.database,ye),Xe)};K.userCallback=i,K.context=M.context;const re=null===(D=M.cancel)||void 0===D?void 0:D.bind(M.context);switch(r){case"value":return xo(this._delegate,K,re),i;case"child_added":return au(this._delegate,K,re),i;case"child_removed":return Ia(this._delegate,K,re),i;case"child_changed":return Ol(this._delegate,K,re),i;case"child_moved":return lu(this._delegate,K,re),i;default:throw new Error((0,O.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,i,l){if((0,O.Dv)("Query.off",0,3,arguments.length),function(o,r,i){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,O.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,O.Wj)("Query.off","callback",i,!0),(0,O.lb)("Query.off","context",l,!0),i){const h=()=>{};h.userCallback=i,h.context=l,Uu(this._delegate,r,h)}else Uu(this._delegate,r)}get(){return ou(this._delegate).then(r=>new Wa(this.database,r))}once(r,i,l,h){(0,O.Dv)("Query.once",1,4,arguments.length),(0,O.Wj)("Query.once","callback",i,!0);const D=ws.getCancelAndContextArgs_("Query.once",l,h),M=new O.BH,K=(ye,Xe)=>{const Je=new Wa(this.database,ye);i&&i.call(D.context,Je,Xe),M.resolve(Je)};K.userCallback=i,K.context=D.context;const re=ye=>{D.cancel&&D.cancel.call(D.context,ye),M.reject(ye)};switch(r){case"value":xo(this._delegate,K,re,{onlyOnce:!0});break;case"child_added":au(this._delegate,K,re,{onlyOnce:!0});break;case"child_removed":Ia(this._delegate,K,re,{onlyOnce:!0});break;case"child_changed":Ol(this._delegate,K,re,{onlyOnce:!0});break;case"child_moved":lu(this._delegate,K,re,{onlyOnce:!0});break;default:throw new Error((0,O.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return M.promise}limitToFirst(r){return(0,O.Dv)("Query.limitToFirst",1,1,arguments.length),new ws(this.database,Ot(this._delegate,function Dc(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cu(o)}(r)))}limitToLast(r){return(0,O.Dv)("Query.limitToLast",1,1,arguments.length),new ws(this.database,Ot(this._delegate,function cd(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new $a(o)}(r)))}orderByChild(r){return(0,O.Dv)("Query.orderByChild",1,1,arguments.length),new ws(this.database,Ot(this._delegate,function g(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return El("orderByChild","path",o,!1),new dd(o)}(r)))}orderByKey(){return(0,O.Dv)("Query.orderByKey",0,0,arguments.length),new ws(this.database,Ot(this._delegate,function d(){return new u}()))}orderByPriority(){return(0,O.Dv)("Query.orderByPriority",0,0,arguments.length),new ws(this.database,Ot(this._delegate,function H(){return new v}()))}orderByValue(){return(0,O.Dv)("Query.orderByValue",0,0,arguments.length),new ws(this.database,Ot(this._delegate,function Re(){return new ee}()))}startAt(r=null,i){return(0,O.Dv)("Query.startAt",0,2,arguments.length),new ws(this.database,Ot(this._delegate,function Nl(o=null,r){return vl("startAt","key",r,!0),new ja(o,r)}(r,i)))}startAfter(r=null,i){return(0,O.Dv)("Query.startAfter",0,2,arguments.length),new ws(this.database,Ot(this._delegate,function bc(o,r){return vl("startAfter","key",r,!0),new uu(o,r)}(r,i)))}endAt(r=null,i){return(0,O.Dv)("Query.endAt",0,2,arguments.length),new ws(this.database,Ot(this._delegate,function Hu(o,r){return vl("endAt","key",r,!0),new Bu(o,r)}(r,i)))}endBefore(r=null,i){return(0,O.Dv)("Query.endBefore",0,2,arguments.length),new ws(this.database,Ot(this._delegate,function aa(o,r){return vl("endBefore","key",r,!0),new Vu(o,r)}(r,i)))}equalTo(r,i){return(0,O.Dv)("Query.equalTo",1,2,arguments.length),new ws(this.database,Ot(this._delegate,function wt(o,r){return vl("equalTo","key",r,!0),new rt(o,r)}(r,i)))}toString(){return(0,O.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,O.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,O.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof ws))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,i,l){const h={cancel:void 0,context:void 0};if(i&&l)h.cancel=i,(0,O.Wj)(r,"cancel",h.cancel,!0),h.context=l,(0,O.lb)(r,"context",h.context,!0);else if(i)if("object"==typeof i&&null!==i)h.context=i;else{if("function"!=typeof i)throw new Error((0,O.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=i}return h}get ref(){return new Lo(this.database,new Hs(this._delegate._repo,this._delegate._path))}}class Lo extends ws{constructor(r,i){super(r,new oo(i._repo,i._path,new ts,!1)),this.database=r,this._delegate=i}getKey(){return(0,O.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,O.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new Lo(this.database,Zo(this._delegate,r))}getParent(){(0,O.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new Lo(this.database,r):null}getRoot(){return(0,O.Dv)("Reference.root",0,0,arguments.length),new Lo(this.database,this._delegate.root)}set(r,i){(0,O.Dv)("Reference.set",1,2,arguments.length),(0,O.Wj)("Reference.set","onComplete",i,!0);const l=oa(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}update(r,i){if((0,O.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let D=0;D<r.length;++D)h[""+D]=r[D];r=h,gh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fs("Reference.update",this._delegate._path),(0,O.Wj)("Reference.update","onComplete",i,!0);const l=Fu(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,O.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,O.Wj)("Reference.setWithPriority","onComplete",l,!0);const h=function Al(o,r,i){if(fs("setWithPriority",o._path),Oo("setWithPriority",r,o._path,!1),Cu("setWithPriority",i,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const l=new O.BH;return ql(o._repo,o._path,r,i,l.wrapCallback(()=>{})),l.promise}(this._delegate,r,i);return l&&h.then(()=>l(null),D=>l(D)),h}remove(r){(0,O.Dv)("Reference.remove",0,1,arguments.length),(0,O.Wj)("Reference.remove","onComplete",r,!0);const i=function Cs(o){return fs("remove",o._path),oa(o,null)}(this._delegate);return r&&i.then(()=>r(null),l=>r(l)),i}transaction(r,i,l){(0,O.Dv)("Reference.transaction",1,3,arguments.length),(0,O.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,O.Wj)("Reference.transaction","onComplete",i,!0),function(o,r,i,l){if(void 0!==i&&"boolean"!=typeof i)throw new Error((0,O.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const h=function Nf(o,r,i){var l;if(o=(0,O.m9)(o),fs("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(l=i?.applyLocally)||void 0===l||l,D=new O.BH,K=xo(o,()=>{});return function Nu(o,r,i,l,h,D){Ua(o,"transaction on "+r);const M={path:r,update:i,onComplete:l,status:null,order:zt(),applyLocally:D,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},K=Xl(o,r,void 0);M.currentInputSnapshot=K;const re=M.update(K.val());if(void 0===re)M.unwatcher(),M.currentOutputSnapshotRaw=null,M.currentOutputSnapshotResolved=null,M.onComplete&&M.onComplete(null,!1,M.currentInputSnapshot);else{tl("transaction failed: Data returned ",re,M.path),M.status=0;const ye=_l(o.transactionQueueTree_,r),Xe=ya(ye)||[];let Je;Xe.push(M),$l(ye,Xe),"object"==typeof re&&null!==re&&(0,O.r3)(re,".priority")?(Je=(0,O.DV)(re,".priority"),(0,O.hu)(La(Je),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Je=(Go(o.serverSyncTree_,r)||cn.EMPTY_NODE).getPriority().val();const ut=rl(o),Ut=fr(re,Je),rn=Po(Ut,K,ut);M.currentOutputSnapshotRaw=Ut,M.currentOutputSnapshotResolved=rn,M.currentWriteId=No(o);const Zn=Ct(o.serverSyncTree_,r,rn,M.currentWriteId,M.applyLocally);io(o.eventQueue_,r,Zn),Dl(o,o.transactionQueueTree_)}}(o._repo,o._path,r,(re,ye,Xe)=>{let Je=null;re?D.reject(re):(Je=new Ko(Xe,new Hs(o._repo,o._path),or),D.resolve(new Of(ye,Je)))},K,h),D.promise}(this._delegate,r,{applyLocally:l}).then(D=>new mh(D.committed,new Wa(this.database,D.snapshot)));return i&&h.then(D=>i(null,D.committed,D.snapshot),D=>i(D,!1,null)),h}setPriority(r,i){(0,O.Dv)("Reference.setPriority",1,2,arguments.length),(0,O.Wj)("Reference.setPriority","onComplete",i,!0);const l=function su(o,r){o=(0,O.m9)(o),fs("setPriority",o._path),Cu("setPriority",r,!1);const i=new O.BH;return ql(o._repo,Vn(o._path,".priority"),r,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}push(r,i){(0,O.Dv)("Reference.push",0,2,arguments.length),(0,O.Wj)("Reference.push","onComplete",i,!0);const l=function Ic(o,r){o=(0,O.m9)(o),fs("push",o._path),Oo("push",r,o._path,!0);const i=nl(o._repo),l=Ec(i),h=Zo(o,l),D=Zo(o,l);let M;return M=null!=r?oa(D,r).then(()=>D):Promise.resolve(D),h.then=M.then.bind(M),h.catch=M.then.bind(M,void 0),h}(this._delegate,r),h=l.then(M=>new Lo(this.database,M));i&&h.then(()=>i(null),M=>i(M));const D=new Lo(this.database,l);return D.then=h.then.bind(h),D.catch=h.catch.bind(h,void 0),D}onDisconnect(){return fs("Reference.onDisconnect",this._delegate._path),new Lf(new Lu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zu{constructor(r,i){this._delegate=r,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ju,forceLongPolling:$u}}useEmulator(r,i,l={}){!function wc(o,r,i,l={}){(o=(0,O.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&In("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let D;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&In('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),D=new Yt(Yt.OWNER);else if(l.mockUserToken){const M="string"==typeof l.mockUserToken?l.mockUserToken:(0,O.Sg)(l.mockUserToken,o.app.options.projectId);D=new Yt(M)}!function ko(o,r,i,l){o.repoInfo_=new je(`${r}:${i}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),l&&(o.authTokenProvider_=l)}(h,r,i,D)}(this._delegate,r,i,l)}ref(r){if((0,O.Dv)("database.ref",0,1,arguments.length),r instanceof Lo){const i=iu(this._delegate,r.toString());return new Lo(this,i)}{const i=ol(this._delegate,r);return new Lo(this,i)}}refFromURL(r){(0,O.Dv)("database.refFromURL",1,1,arguments.length);const l=iu(this._delegate,r);return new Lo(this,l)}goOffline(){return(0,O.Dv)("database.goOffline",0,0,arguments.length),function hh(o){(o=(0,O.m9)(o))._checkNotDeleted("goOffline"),il(o._repo)}(this._delegate)}goOnline(){return(0,O.Dv)("database.goOnline",0,0,arguments.length),function Ll(o){(o=(0,O.m9)(o))._checkNotDeleted("goOnline"),function Ou(o){o.persistentConnection_&&o.persistentConnection_.resume(Il)}(o._repo)}(this._delegate)}}zu.ServerValue={TIMESTAMP:function fh(){return Mg}(),increment:o=>function Pf(o){return{".sv":{increment:o}}}(o)};var _h=Object.freeze({__proto__:null,initStandalone:function Ff({app:o,url:r,version:i,customAuthImpl:l,namespace:h,nodeAdmin:D=!1}){Ue(i);const M=new Ve.zt("auth-internal",new Ve.H0("database-standalone"));return M.setComponent(new Ve.wA("auth-internal",()=>l,"PRIVATE")),{instance:new zu(xl(o,M,void 0,r,D),o),namespace:h}}});const Pg=zu.ServerValue;!function Og(o){o.INTERNAL.registerComponent(new Ve.wA("database-compat",(r,{instanceIdentifier:i})=>{const l=r.getProvider("app-compat").getImmediate(),h=r.getProvider("database").getImmediate({identifier:i});return new zu(h,l)},"PUBLIC").setServiceProps({Reference:Lo,Query:ws,Database:zu,DataSnapshot:Wa,enableLogging:Wu,INTERNAL:_h,ServerValue:Pg}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.1")}(de.Z);var du=P(7579),Sc=P(8996),Gu=P(5363),yh=P(6063);class vh extends du.x{constructor(r=1/0,i=1/0,l=yh.l){super(),this._bufferSize=r,this._windowTime=i,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,i)}next(r){const{isStopped:i,_buffer:l,_infiniteTimeWindow:h,_timestampProvider:D,_windowTime:M}=this;i||(l.push(r),!h&&l.push(D.now()+M)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(r),{_infiniteTimeWindow:l,_buffer:h}=this,D=h.slice();for(let M=0;M<D.length&&!r.closed;M+=l?1:2)r.next(D[M]);return this._checkFinalizedStatuses(r),i}_trimBuffer(){const{_bufferSize:r,_timestampProvider:i,_buffer:l,_infiniteTimeWindow:h}=this,D=(h?1:2)*r;if(r<1/0&&D<l.length&&l.splice(0,l.length-D),!h){const M=i.now();let K=0;for(let re=1;re<l.length&&l[re]<=M;re+=2)K=re;K&&l.splice(0,K+1)}}}function Eh(o,r,i){let l,h=!1;return o&&"object"==typeof o?({bufferSize:l=1/0,windowTime:r=1/0,refCount:h=!1,scheduler:i}=o):l=o??1/0,(0,Se.B)({connector:()=>new vh(l,r,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Uf=P(590),Ih=P(576);function pd(o,r){return(0,Ih.m)(r)?(0,ge.w)(()=>o,r):(0,ge.w)(()=>o)}var Ku=P(9468),Ng=P(9300),gd=P(6895);P(259);const Ed=new Map,Th={activated:!1,tokenObservers:[]},$f={initialized:!1,enabled:!1};function is(o){return Ed.get(o)||Object.assign({},Th)}function Yu(){return $f}class gu{constructor(r,i,l,h,D){if(this.operation=r,this.retryPolicy=i,this.getWaitDuration=l,this.lowerBound=h,this.upperBound=D,this.pending=null,this.nextErrorWaitInterval=h,h>D)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var i=this;return(0,et.Z)(function*(){i.stop();try{i.pending=new O.BH,yield function qu(o){return new Promise(r=>{setTimeout(r,o)})}(i.getNextRun(r)),i.pending.resolve(),yield i.pending.promise,i.pending=new O.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(l){i.retryPolicy(l)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const Vs=new O.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ah(o){if(!is(o).activated)throw Vs.create("use-before-activation",{appName:o.name})}function Mc(o,r){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,et.Z)(function*({url:o,body:r},i){const l={"Content-Type":"application/json"},h=i.getImmediate({optional:!0});if(h){const Je=yield h.getHeartbeatsHeader();Je&&(l["X-Firebase-Client"]=Je)}const D={method:"POST",body:JSON.stringify(r),headers:l};let M,K;try{M=yield fetch(o,D)}catch(Je){throw Vs.create("fetch-network-error",{originalErrorMessage:Je?.message})}if(200!==M.status)throw Vs.create("fetch-status-error",{httpStatus:M.status});try{K=yield M.json()}catch(Je){throw Vs.create("fetch-parse-error",{originalErrorMessage:Je?.message})}const re=K.ttl.match(/^([\d.]+)(s)$/);if(!re||!re[2]||isNaN(Number(re[1])))throw Vs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${K.ttl}`});const ye=1e3*Number(re[1]),Xe=Date.now();return{token:K.token,expireTimeMillis:Xe+ye,issuedAtTimeMillis:Xe}})).apply(this,arguments)}function Cd(o,r){const{projectId:i,appId:l,apiKey:h}=o.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${i}/apps/${l}:exchangeDebugToken?key=${h}`,body:{debug_token:r}}}const ec="firebase-app-check-store";let Rc=null;function Rh(){return Rc||(Rc=new Promise((o,r)=>{try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=l=>{o(l.target.result)},i.onerror=l=>{var h;r(Vs.create("storage-open",{originalErrorMessage:null===(h=l.target.error)||void 0===h?void 0:h.message}))},i.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(ec,{keyPath:"compositeKey"})}}catch(i){r(Vs.create("storage-open",{originalErrorMessage:i?.message}))}}),Rc)}function wd(){return(wd=(0,et.Z)(function*(o,r){const l=(yield Rh()).transaction(ec,"readwrite"),D=l.objectStore(ec).put({compositeKey:o,value:r});return new Promise((M,K)=>{D.onsuccess=re=>{M()},l.onerror=re=>{var ye;K(Vs.create("storage-set",{originalErrorMessage:null===(ye=re.target.error)||void 0===ye?void 0:ye.message}))}})})).apply(this,arguments)}const Pc=new Be.Yd("@firebase/app-check");function Sd(o,r){return(0,O.hl)()?function Qf(o,r){return function Ph(o,r){return wd.apply(this,arguments)}(function Td(o){return`${o.options.appId}-${o.name}`}(o),r)}(o,r).catch(i=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function kh(){return Yu().enabled}function qo(){return Md.apply(this,arguments)}function Md(){return(Md=(0,et.Z)(function*(){const o=Yu();if(o.enabled&&o.token)return o.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jf={error:"UNKNOWN_ERROR"};function ep(o){return O.US.encodeString(JSON.stringify(o),!1)}function Nc(o){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,et.Z)(function*(o,r=!1){const i=o.app;Ah(i);const l=is(i);let D,h=l.token;if(h&&!Ul(h)&&(l.token=void 0,h=void 0),!h){const re=yield l.cachedTokenPromise;re&&(Ul(re)?h=re:yield Sd(i,void 0))}if(!r&&h&&Ul(h))return{token:h.token};let K,M=!1;if(kh()){l.exchangeTokenPromise||(l.exchangeTokenPromise=Mc(Cd(i,yield qo()),o.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),M=!0);const re=yield l.exchangeTokenPromise;return yield Sd(i,re),l.token=re,{token:re.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),M=!0),h=yield is(i).exchangeTokenPromise}catch(re){"appCheck/throttled"===re.code?Pc.warn(re.message):Pc.error(re),D=re}return h?D?K=Ul(h)?{token:h.token,internalError:D}:Od(D):(K={token:h.token},l.token=h,yield Sd(i,h)):K=Od(D),M&&$n(i,K),K})).apply(this,arguments)}function Pd(o,r){const i=is(o),l=i.tokenObservers.filter(h=>h.next!==r);0===l.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=l}function Fh(o){const{app:r}=o,i=is(r);let l=i.tokenRefresher;l||(l=function tp(o){const{app:r}=o;return new gu((0,et.Z)(function*(){let l;if(l=is(r).token?yield Nc(o,!0):yield Nc(o),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const i=is(r);if(i.token){let l=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,i.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},3e4,96e4)}(o),i.tokenRefresher=l),!l.isRunning()&&i.isTokenAutoRefreshEnabled&&l.start()}function $n(o,r){const i=is(o).tokenObservers;for(const l of i)try{"EXTERNAL"===l.type&&null!=r.error?l.error(r.error):l.next(r)}catch{}}function Ul(o){return o.expireTimeMillis-Date.now()>0}function Od(o){return{token:ep(Jf),error:o}}class Uh{constructor(r,i){this.app=r,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:r}=is(this.app);for(const i of r)Pd(this.app,i.next);return Promise.resolve()}}const Bd="app-check-internal";!function fp(){(0,tt._registerComponent)(new Ve.wA("app-check",o=>function np(o,r){return new Uh(o,r)}(o.getProvider("app").getImmediate(),o.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,r,i)=>{o.getProvider(Bd).initialize()})),(0,tt._registerComponent)(new Ve.wA(Bd,o=>function rp(o){return{getToken:r=>Nc(o,r),addTokenListener:r=>function xc(o,r,i,l){const{app:h}=o,D=is(h);if(D.tokenObservers=[...D.tokenObservers,{next:i,error:l,type:r}],D.token&&Ul(D.token)){const K=D.token;Promise.resolve().then(()=>{i({token:K.token}),Fh(o)}).catch(()=>{})}D.cachedTokenPromise.then(()=>Fh(o))}(o,"INTERNAL",r),removeTokenListener:r=>Pd(o.app,r)}}(o.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,tt.registerVersion)("@firebase/app-check","0.6.1")}();class Vd{constructor(){return(0,qe.vb)("app-check")}}typeof window<"u"&&window;var _p=P(9260);const Bl=new f.OlP("angularfire2.auth.use-emulator"),Uc=new f.OlP("angularfire2.auth.settings"),_u=new f.OlP("angularfire2.auth.tenant-id"),Bc=new f.OlP("angularfire2.auth.langugage-code"),ic=new f.OlP("angularfire2.auth.use-device-language"),$d=new f.OlP("angularfire.auth.persistence"),Hc=(o,r,i,l,h,D,M,K)=>(0,Ye.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const re=r.runOutsideAngular(()=>o.auth());if(i&&re.useEmulator(...i),l&&(re.tenantId=l),re.languageCode=h,D&&re.useDeviceLanguage(),M)for(const[ye,Xe]of Object.entries(M))re.settings[ye]=Xe;return K&&re.setPersistence(K),re},[i,l,h,D,M,K]);let Vc=(()=>{class o{constructor(i,l,h,D,M,K,re,ye,Xe,Je,ut,Ut){const rn=new du.x,Zn=(0,fe.of)(void 0).pipe((0,Gu.Q)(M.outsideAngular),(0,ge.w)(()=>D.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,750)))),(0,_e.U)(()=>(0,Ye.on)(i,D,l)),(0,_e.U)(Di=>Hc(Di,D,K,ye,Xe,Je,re,ut)),Eh({bufferSize:1,refCount:!1}));if((0,gd.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,fe.of)(null);else{Zn.pipe((0,Uf.P)()).subscribe();const Ts=Zn.pipe((0,ge.w)(Hi=>Hi.getRedirectResult().then(ba=>ba,()=>null)),qe.iC,Eh({bufferSize:1,refCount:!1})),Qo=Zn.pipe((0,ge.w)(Hi=>new $.y(ba=>({unsubscribe:D.runOutsideAngular(()=>Hi.onAuthStateChanged(cl=>ba.next(cl),cl=>ba.error(cl),()=>ba.complete()))})))),la=Zn.pipe((0,ge.w)(Hi=>new $.y(ba=>({unsubscribe:D.runOutsideAngular(()=>Hi.onIdTokenChanged(cl=>ba.next(cl),cl=>ba.error(cl),()=>ba.complete()))}))));this.authState=Ts.pipe(pd(Qo),(0,Ku.R)(M.outsideAngular),(0,Gu.Q)(M.insideAngular)),this.user=Ts.pipe(pd(la),(0,Ku.R)(M.outsideAngular),(0,Gu.Q)(M.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(Hi=>Hi?(0,Sc.D)(Hi.getIdToken()):(0,fe.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(Hi=>Hi?(0,Sc.D)(Hi.getIdTokenResult()):(0,fe.of)(null))),this.credential=(0,me.T)(Ts,rn,this.authState.pipe((0,Ng.h)(Hi=>!Hi))).pipe((0,_e.U)(Hi=>Hi?.user?Hi:null),(0,Ku.R)(M.outsideAngular),(0,Gu.Q)(M.insideAngular))}return(0,Ye.pX)(this,Zn,D,{spy:{apply:(Di,Ts,Qo)=>{(Di.startsWith("signIn")||Di.startsWith("createUser"))&&Qo.then(la=>rn.next(la))}}})}}return o.\u0275fac=function(i){return new(i||o)(f.LFG(Ye.Dh),f.LFG(Ye.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(qe.HU),f.LFG(Bl,8),f.LFG(Uc,8),f.LFG(_u,8),f.LFG(Bc,8),f.LFG(ic,8),f.LFG($d,8),f.LFG(Vd,8))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();function Kh(o){return null==o}function Zh(o){return"function"==typeof o.set}function zd(o,r){return Zh(r)?r:o.ref(r)}function Yh(o,r){if(function Gh(o){return"string"==typeof o}(o))return r.stringCase();if(Zh(o))return r.firebaseCase();if(function Wd(o){return"function"==typeof o.exportVal}(o))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function yu(o,r,i="on",l=k.z){return new $.y(h=>{let D=null;return D=o[i](r,(M,K)=>{l.schedule(()=>{h.next({snapshot:M,prevKey:K})}),"once"===i&&l.schedule(()=>h.complete())},M=>{l.schedule(()=>h.error(M))}),"on"===i?{unsubscribe(){null!=D&&o.off(r,D)}}:{unsubscribe(){}}}).pipe((0,_e.U)(h=>{const{snapshot:D,prevKey:M}=h;let K=null;return D.exists()&&(K=D.key),{type:r,payload:D,prevKey:M,key:K}}),(0,Se.B)())}function Qh(o,r){const i=o.length;for(let l=0;l<i;l++)if(o[l].payload.key===r)return l;return-1}function Fo(o,r){const{payload:i,prevKey:l,key:h}=r,D=Qh(o,h),M=function yp(o,r){if(Kh(r))return 0;{const i=Qh(o,r);return-1===i?o.length:i+1}}(o,l);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let K=null;r.payload.forEach(re=>{const ye={payload:re,type:"value",prevKey:K,key:re.key};return K=re.key,o=[...o,ye],!1})}return o;case"child_added":if(D>-1){const K=o[D-1];(K&&K.key||null)!==l&&(o=o.filter(re=>re.payload.key!==i.key)).splice(M,0,r)}else{if(null==l)return[r,...o];(o=o.slice()).splice(M,0,r)}return o;case"child_removed":return o.filter(K=>K.payload.key!==i.key);case"child_changed":return o.map(K=>K.payload.key===h?r:K);case"child_moved":if(D>-1){const K=o.splice(D,1)[0];return(o=o.slice()).splice(M,0,K),o}return o;default:return o}}function Gd(o){return(Kh(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Xh(o,r,i){return function qh(o,r,i){return yu(o,"value","once",i).pipe((0,ge.w)(l=>{const h=[(0,fe.of)(l)];return r.forEach(D=>h.push(yu(o,D,"on",i))),(0,me.T)(...h).pipe((0,Ee.R)(Fo,[]))}),(0,J.x)())}(o,r=Gd(r),i)}function vp(o,r,i){const l=(r=Gd(r)).map(h=>yu(o,h,"on",i));return(0,me.T)(...l)}function ef(o,r){return function(l,h){return Yh(l,{stringCase:()=>o.child(l)[r](h),firebaseCase:()=>l[r](h),snapshotCase:()=>l.ref[r](h)})}}function Ip(o){return function(i){return i?Yh(i,{stringCase:()=>o.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):o.remove()}}function nf(o,r){return function(){return yu(o,"value","on",r)}}const Zd=new f.OlP("angularfire2.realtimeDatabaseURL"),Dp=new f.OlP("angularfire2.database.use-emulator");let rf=(()=>{class o{constructor(i,l,h,D,M,K,re,ye,Xe,Je,ut,Ut,rn,Zn,Di){this.schedulers=K;const Ts=re,Qo=(0,Ye.on)(i,M,l);ye&&Hc(Qo,M,Xe,ut,Ut,rn,Je,Zn),this.database=(0,Ye.cc)(`${Qo.name}.database.${h}`,"AngularFireDatabase",Qo.name,()=>{const la=M.runOutsideAngular(()=>Qo.database(h||void 0));return Ts&&la.useEmulator(...Ts),la},[Ts])}list(i,l){const h=this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i));let D=h;return l&&(D=l(h)),function tf(o,r){const i=r.schedulers.outsideAngular,l=r.schedulers.ngZone.run(()=>o.ref);return{query:o,update:ef(l,"update"),set:ef(l,"set"),push:h=>l.push(h),remove:Ip(l),snapshotChanges:h=>Xh(o,h,i).pipe(qe.iC),stateChanges:h=>vp(o,h,i).pipe(qe.iC),auditTrail:h=>function Kd(o,r,i){return function Ep(o,r,i){return function Jh(o,r){return yu(o,"value","on",r).pipe((0,_e.U)(i=>{let l;return i.payload.forEach(h=>(l=h.key,!1)),{data:i,lastKeyToLoad:l}}))}(o,i).pipe(function Le(...o){const r=(0,gt.jO)(o);return(0,ue.e)((i,l)=>{const h=o.length,D=new Array(h);let M=o.map(()=>!1),K=!1;for(let re=0;re<h;re++)(0,Ke.Xf)(o[re]).subscribe((0,le.x)(l,ye=>{D[re]=ye,!K&&!M[re]&&(M[re]=!0,(K=M.every($e.y))&&(M=null))},at.Z));i.subscribe((0,le.x)(l,re=>{if(K){const ye=[re,...D];l.next(r?r(...ye):ye)}}))})}(r),(0,_e.U)(([h,D])=>{const M=h.lastKeyToLoad,K=D.map(re=>re.key);return{actions:D,lastKeyToLoad:M,loadedKeys:K}}),function Qe(o){return(0,ue.e)((r,i)=>{let l=!1,h=0;r.subscribe((0,le.x)(i,D=>(l||(l=!o(D,h++)))&&i.next(D)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,_e.U)(h=>h.actions))}(o,vp(o,r).pipe((0,Ee.R)((h,D)=>[...h,D],[])),i)}(o,h,i).pipe(qe.iC),valueChanges:(h,D)=>Xh(o,h,i).pipe((0,_e.U)(K=>K.map(re=>D&&D.idField?Object.assign(Object.assign({},re.payload.val()),{[D.idField]:re.key}):re.payload.val())),qe.iC)}}(D,this)}object(i){return function bp(o,r){return{query:o,snapshotChanges:()=>nf(o,r.schedulers.outsideAngular)().pipe(qe.iC),update:i=>o.ref.update(i),set:i=>o.ref.set(i),remove:()=>o.ref.remove(),valueChanges:()=>nf(o,r.schedulers.outsideAngular)().pipe(qe.iC,(0,_e.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(i){return new(i||o)(f.LFG(Ye.Dh),f.LFG(Ye.xv,8),f.LFG(Zd,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(qe.HU),f.LFG(Dp,8),f.LFG(Vc,8),f.LFG(Bl,8),f.LFG(Uc,8),f.LFG(_u,8),f.LFG(Bc,8),f.LFG(ic,8),f.LFG($d,8),f.LFG(Vd,8))},o.\u0275prov=f.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),Cp=(()=>{class o{constructor(){_p.Z.registerVersion("angularfire",qe.q4.full,"rtdb-compat")}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=f.oAB({type:o}),o.\u0275inj=f.cJS({providers:[rf]}),o})()},2011:(yt,Oe,P)=>{P.d(Oe,{Dh:()=>ge,GT:()=>_e,cc:()=>$e,hO:()=>Ke,on:()=>J,pX:()=>me,xv:()=>Ee});var f=P(4650),k=P(9260),$=P(2122);yt=P.hmd(yt);const fe=["ngOnDestroy"],me=(Qe,qe,Ye,He={})=>new Proxy(Qe,{get:(de,Ve)=>Ye.runOutsideAngular(()=>{var et;if(Qe[Ve])return!(null===(et=He?.spy)||void 0===et)&&et.get&&He.spy.get(Ve,Qe[Ve]),Qe[Ve];if(fe.indexOf(Ve)>-1)return()=>{};const tt=qe.toPromise().then(O=>{const Be=O&&O[Ve];return"function"==typeof Be?Be.bind(O):Be&&Be.then?Be.then(be=>Ye.run(()=>be)):Ye.run(()=>Be)});return new Proxy(()=>{},{get:(O,Be)=>tt[Be],apply:(O,Be,be)=>tt.then(Me=>{var Fe;const Ue=Me&&Me(...be);return!(null===(Fe=He?.spy)||void 0===Fe)&&Fe.apply&&He.spy.apply(Ve,be,Ue),Ue})})})}),_e=(Qe,qe)=>{qe.forEach(Ye=>{Object.getOwnPropertyNames(Ye.prototype||Ye).forEach(He=>{Object.defineProperty(Qe.prototype,He,Object.getOwnPropertyDescriptor(Ye.prototype||Ye,He))})})};class Se{constructor(qe){return qe}}const ge=new f.OlP("angularfire2.app.options"),Ee=new f.OlP("angularfire2.app.name");function J(Qe,qe,Ye){const de="object"==typeof Ye&&Ye||{};de.name=de.name||"string"==typeof Ye&&Ye||"[DEFAULT]";const et=k.Z.apps.filter(tt=>tt&&tt.name===de.name)[0]||qe.runOutsideAngular(()=>k.Z.initializeApp(Qe,de));try{JSON.stringify(Qe)!==JSON.stringify(et.options)&&ue("error",`${et.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(et)}const ue=(Qe,...qe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Qe](...qe)},le={provide:Se,useFactory:J,deps:[ge,f.R0b,[new f.FiY,Ee]]};let Ke=(()=>{class Qe{constructor(Ye){k.Z.registerVersion("angularfire",$.q4.full,"core"),k.Z.registerVersion("angularfire",$.q4.full,"app-compat"),k.Z.registerVersion("angular",f.q4F.full,Ye.toString())}static initializeApp(Ye,He){return{ngModule:Qe,providers:[{provide:ge,useValue:Ye},{provide:Ee,useValue:He}]}}}return Qe.\u0275fac=function(Ye){return new(Ye||Qe)(f.LFG(f.Lbi))},Qe.\u0275mod=f.oAB({type:Qe}),Qe.\u0275inj=f.cJS({providers:[le]}),Qe})();function $e(Qe,qe,Ye,He,de){const[,Ve,et]=globalThis.\u0275AngularfireInstanceCache.find(tt=>tt[0]===Qe)||[];if(Ve)return function at(Qe,qe){try{return Qe.toString()===qe.toString()}catch{return Qe===qe}}(de,et)||(Le("error",`${qe} was already initialized on the ${Ye} Firebase App with different settings.${gt?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:de,was:et})),Ve;{const tt=He();return globalThis.\u0275AngularfireInstanceCache.push([Qe,tt,de]),tt}}const gt=!!yt.hot,Le=(Qe,...qe)=>{(0,f.X6Q)()&&typeof console<"u"&&console[Qe](...qe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(yt,Oe,P)=>{P.d(Oe,{q4:()=>zo,iC:()=>Go,HU:()=>to,vb:()=>Lt,JM:()=>Ct});var f=P(4650),k=P(259),$=P(5861),fe=P(9681),me=P(2090),_e=P(4859),Se=P(1877),ge=P(8766);const Ee="@firebase/installations",J="0.6.1",le=`w:${J}`,Ke="FIS_v2",qe=new me.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ye(A){return A instanceof me.ZR&&A.code.includes("request-failed")}function He({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function de(A){return{token:A.token,requestStatus:2,expiresIn:Me(A.expiresIn),creationTime:Date.now()}}function Ve(A,x){return et.apply(this,arguments)}function et(){return(et=(0,$.Z)(function*(A,x){const pe=(yield x.json()).error;return qe.create("request-failed",{requestName:A,serverCode:pe.code,serverMessage:pe.message,serverStatus:pe.status})})).apply(this,arguments)}function tt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function O(A,{refreshToken:x}){const Y=tt(A);return Y.append("Authorization",function Fe(A){return`${Ke} ${A}`}(x)),Y}function Be(A){return be.apply(this,arguments)}function be(){return(be=(0,$.Z)(function*(A){const x=yield A();return x.status>=500&&x.status<600?A():x})).apply(this,arguments)}function Me(A){return Number(A.replace("s","000"))}function Ue(A,x){return ft.apply(this,arguments)}function ft(){return(ft=(0,$.Z)(function*({appConfig:A,heartbeatServiceProvider:x},{fid:Y}){const pe=He(A),xe=tt(A),Ze=x.getImmediate({optional:!0});if(Ze){const Xt=yield Ze.getHeartbeatsHeader();Xt&&xe.append("x-firebase-client",Xt)}const Wt={method:"POST",headers:xe,body:JSON.stringify({fid:Y,authVersion:Ke,appId:A.appId,sdkVersion:le})},Kt=yield Be(()=>fetch(pe,Wt));if(Kt.ok){const Xt=yield Kt.json();return{fid:Xt.fid||Y,registrationStatus:2,refreshToken:Xt.refreshToken,authToken:de(Xt.authToken)}}throw yield Ve("Create Installation",Kt)})).apply(this,arguments)}function dt(A){return new Promise(x=>{setTimeout(x,A)})}const an=/^[cdef][\w-]{21}$/;function $t(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const Y=function zt(A){return function Nt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return an.test(Y)?Y:""}catch{return""}}function xt(A){return`${A.appName}!${A.appId}`}const fn=new Map;function Ft(A,x){const Y=xt(A);en(Y,x),function Ir(A,x){const Y=function In(){return!yr&&"BroadcastChannel"in self&&(yr=new BroadcastChannel("[Firebase] FID Change"),yr.onmessage=A=>{en(A.data.key,A.data.fid)}),yr}();Y&&Y.postMessage({key:A,fid:x}),function Cn(){0===fn.size&&yr&&(yr.close(),yr=null)}()}(Y,x)}function en(A,x){const Y=fn.get(A);if(Y)for(const pe of Y)pe(x)}let yr=null;const cr="firebase-installations-store";let ln=null;function kn(){return ln||(ln=(0,ge.X3)("firebase-installations-database",1,{upgrade:(A,x)=>{0===x&&A.createObjectStore(cr)}})),ln}function un(A,x){return ar.apply(this,arguments)}function ar(){return(ar=(0,$.Z)(function*(A,x){const Y=xt(A),xe=(yield kn()).transaction(cr,"readwrite"),Ze=xe.objectStore(cr),ht=yield Ze.get(Y);return yield Ze.put(x,Y),yield xe.done,(!ht||ht.fid!==x.fid)&&Ft(A,x.fid),x})).apply(this,arguments)}function It(A){return br.apply(this,arguments)}function br(){return(br=(0,$.Z)(function*(A){const x=xt(A),pe=(yield kn()).transaction(cr,"readwrite");yield pe.objectStore(cr).delete(x),yield pe.done})).apply(this,arguments)}function Dr(A,x){return tn.apply(this,arguments)}function tn(){return(tn=(0,$.Z)(function*(A,x){const Y=xt(A),xe=(yield kn()).transaction(cr,"readwrite"),Ze=xe.objectStore(cr),ht=yield Ze.get(Y),Wt=x(ht);return void 0===Wt?yield Ze.delete(Y):yield Ze.put(Wt,Y),yield xe.done,Wt&&(!ht||ht.fid!==Wt.fid)&&Ft(A,Wt.fid),Wt})).apply(this,arguments)}function nr(A){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,$.Z)(function*(A){let x;const Y=yield Dr(A.appConfig,pe=>{const xe=Zt(pe),Ze=Ht(A,xe);return x=Ze.registrationPromise,Ze.installationEntry});return""===Y.fid?{installationEntry:yield x}:{installationEntry:Y,registrationPromise:x}})).apply(this,arguments)}function Zt(A){return rr(A||{fid:$t(),registrationStatus:0})}function Ht(A,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(qe.create("app-offline"))};const Y={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},pe=function Et(A,x){return jt.apply(this,arguments)}(A,Y);return{installationEntry:Y,registrationPromise:pe}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:wn(A)}:{installationEntry:x}}function jt(){return(jt=(0,$.Z)(function*(A,x){try{const Y=yield Ue(A,x);return un(A.appConfig,Y)}catch(Y){throw Ye(Y)&&409===Y.customData.serverCode?yield It(A.appConfig):yield un(A.appConfig,{fid:x.fid,registrationStatus:0}),Y}})).apply(this,arguments)}function wn(A){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,$.Z)(function*(A){let x=yield Gn(A.appConfig);for(;1===x.registrationStatus;)yield dt(100),x=yield Gn(A.appConfig);if(0===x.registrationStatus){const{installationEntry:Y,registrationPromise:pe}=yield nr(A);return pe||Y}return x})).apply(this,arguments)}function Gn(A){return Dr(A,x=>{if(!x)throw qe.create("installation-not-found");return rr(x)})}function rr(A){return function pr(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Pn(A,x){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,$.Z)(function*({appConfig:A,heartbeatServiceProvider:x},Y){const pe=Yt(A,Y),xe=O(A,Y),Ze=x.getImmediate({optional:!0});if(Ze){const Xt=yield Ze.getHeartbeatsHeader();Xt&&xe.append("x-firebase-client",Xt)}const Wt={method:"POST",headers:xe,body:JSON.stringify({installation:{sdkVersion:le,appId:A.appId}})},Kt=yield Be(()=>fetch(pe,Wt));if(Kt.ok)return de(yield Kt.json());throw yield Ve("Generate Auth Token",Kt)})).apply(this,arguments)}function Yt(A,{fid:x}){return`${He(A)}/${x}/authTokens:generate`}function Jn(A){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,$.Z)(function*(A,x=!1){let Y;const pe=yield Dr(A.appConfig,Ze=>{if(!ke(Ze))throw qe.create("not-registered");const ht=Ze.authToken;if(!x&&X(ht))return Ze;if(1===ht.requestStatus)return Y=De(A,x),Ze;{if(!navigator.onLine)throw qe.create("app-offline");const Wt=Ie(Ze);return Y=W(A,Wt),Wt}});return Y?yield Y:pe.authToken})).apply(this,arguments)}function De(A,x){return oe.apply(this,arguments)}function oe(){return(oe=(0,$.Z)(function*(A,x){let Y=yield j(A.appConfig);for(;1===Y.authToken.requestStatus;)yield dt(100),Y=yield j(A.appConfig);const pe=Y.authToken;return 0===pe.requestStatus?Jn(A,x):pe})).apply(this,arguments)}function j(A){return Dr(A,x=>{if(!ke(x))throw qe.create("not-registered");return function je(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function W(A,x){return se.apply(this,arguments)}function se(){return(se=(0,$.Z)(function*(A,x){try{const Y=yield Pn(A,x),pe=Object.assign(Object.assign({},x),{authToken:Y});return yield un(A.appConfig,pe),Y}catch(Y){if(!Ye(Y)||401!==Y.customData.serverCode&&404!==Y.customData.serverCode){const pe=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield un(A.appConfig,pe)}else yield It(A.appConfig);throw Y}})).apply(this,arguments)}function ke(A){return void 0!==A&&2===A.registrationStatus}function X(A){return 2===A.requestStatus&&!function ae(A){const x=Date.now();return x<A.creationTime||A.creationTime+A.expiresIn<x+36e5}(A)}function Ie(A){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:x})}function mt(){return(mt=(0,$.Z)(function*(A){const x=A,{installationEntry:Y,registrationPromise:pe}=yield nr(x);return pe?pe.catch(console.error):Jn(x).catch(console.error),Y.fid})).apply(this,arguments)}function qt(){return(qt=(0,$.Z)(function*(A,x=!1){const Y=A;return yield Ae(Y),(yield Jn(Y,x)).token})).apply(this,arguments)}function Ae(A){return V.apply(this,arguments)}function V(){return(V=(0,$.Z)(function*(A){const{registrationPromise:x}=yield nr(A);x&&(yield x)})).apply(this,arguments)}function Kr(A){return qe.create("missing-app-config-values",{valueName:A})}const oi="installations",hr=A=>{const x=A.getProvider("app").getImmediate(),Y=function ir(A){if(!A||!A.options)throw Kr("App Configuration");if(!A.name)throw Kr("App Name");const x=["projectId","apiKey","appId"];for(const Y of x)if(!A.options[Y])throw Kr(Y);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(x);return{app:x,appConfig:Y,heartbeatServiceProvider:(0,fe._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},ao=A=>{const x=A.getProvider("app").getImmediate(),Y=(0,fe._getProvider)(x,oi).getImmediate();return{getId:()=>function we(A){return mt.apply(this,arguments)}(Y),getToken:xe=>function Gt(A){return qt.apply(this,arguments)}(Y,xe)}};(function js(){(0,fe._registerComponent)(new _e.wA(oi,hr,"PUBLIC")),(0,fe._registerComponent)(new _e.wA("installations-internal",ao,"PRIVATE"))})(),(0,fe.registerVersion)(Ee,J),(0,fe.registerVersion)(Ee,J,"esm2017");const Ci="@firebase/remote-config",sr=new me.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ms{constructor(x,Y,pe,xe){this.client=x,this.storage=Y,this.storageCache=pe,this.logger=xe}isCachedDataFresh(x,Y){if(!Y)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-Y,xe=pe<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${xe}.`),xe}fetch(x){var Y=this;return(0,$.Z)(function*(){const[pe,xe]=yield Promise.all([Y.storage.getLastSuccessfulFetchTimestampMillis(),Y.storage.getLastSuccessfulFetchResponse()]);if(xe&&Y.isCachedDataFresh(x.cacheMaxAgeMillis,pe))return xe;x.eTag=xe&&xe.eTag;const Ze=yield Y.client.fetch(x),ht=[Y.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ze.status&&ht.push(Y.storage.setLastSuccessfulFetchResponse(Ze)),yield Promise.all(ht),Ze})()}}function gi(A=navigator){return A.languages&&A.languages[0]||A.language}class ei{constructor(x,Y,pe,xe,Ze,ht){this.firebaseInstallations=x,this.sdkVersion=Y,this.namespace=pe,this.projectId=xe,this.apiKey=Ze,this.appId=ht}fetch(x){var Y=this;return(0,$.Z)(function*(){const[pe,xe]=yield Promise.all([Y.firebaseInstallations.getId(),Y.firebaseInstallations.getToken()]),ht=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Y.projectId}/namespaces/${Y.namespace}:fetch?key=${Y.apiKey}`,Wt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Kt={sdk_version:Y.sdkVersion,app_instance_id:pe,app_instance_id_token:xe,app_id:Y.appId,language_code:gi()},Xt={method:"POST",headers:Wt,body:JSON.stringify(Kt)},Un=fetch(ht,Xt),Tn=new Promise((ro,wo)=>{x.signal.addEventListener(()=>{const Po=new Error("The operation was aborted.");Po.name="AbortError",wo(Po)})});let rs;try{yield Promise.race([Un,Tn]),rs=yield Un}catch(ro){let wo="fetch-client-network";throw"AbortError"===ro?.name&&(wo="fetch-timeout"),sr.create(wo,{originalErrorMessage:ro?.message})}let hi=rs.status;const xa=rs.headers.get("ETag")||void 0;let el,_a;if(200===rs.status){let ro;try{ro=yield rs.json()}catch(wo){throw sr.create("fetch-client-parse",{originalErrorMessage:wo?.message})}el=ro.entries,_a=ro.state}if("INSTANCE_STATE_UNSPECIFIED"===_a?hi=500:"NO_CHANGE"===_a?hi=304:("NO_TEMPLATE"===_a||"EMPTY_CONFIG"===_a)&&(el={}),304!==hi&&200!==hi)throw sr.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:xa,config:el}})()}}class si{constructor(x,Y){this.client=x,this.storage=Y}fetch(x){var Y=this;return(0,$.Z)(function*(){const pe=(yield Y.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Y.attemptFetch(x,pe)})()}attemptFetch(x,{throttleEndTimeMillis:Y,backoffCount:pe}){var xe=this;return(0,$.Z)(function*(){yield function li(A,x){return new Promise((Y,pe)=>{const xe=Math.max(x-Date.now(),0),Ze=setTimeout(Y,xe);A.addEventListener(()=>{clearTimeout(Ze),pe(sr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,Y);try{const Ze=yield xe.client.fetch(x);return yield xe.storage.deleteThrottleMetadata(),Ze}catch(Ze){if(!function Qn(A){if(!(A instanceof me.ZR&&A.customData))return!1;const x=Number(A.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ze))throw Ze;const ht={throttleEndTimeMillis:Date.now()+(0,me.$s)(pe),backoffCount:pe+1};return yield xe.storage.setThrottleMetadata(ht),xe.attemptFetch(x,ht)}})()}}class Nn{constructor(x,Y,pe,xe,Ze){this.app=x,this._client=Y,this._storageCache=pe,this._storage=xe,this._logger=Ze,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function pn(A,x){const Y=A.target.error||void 0;return sr.create(x,{originalErrorMessage:Y&&Y?.message})}const Or="app_namespace_store";class gr{constructor(x,Y,pe,xe=function zr(){return new Promise((A,x)=>{try{const Y=indexedDB.open("firebase_remote_config",1);Y.onerror=pe=>{x(pn(pe,"storage-open"))},Y.onsuccess=pe=>{A(pe.target.result)},Y.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(Or,{keyPath:"compositeKey"})}}catch(Y){x(sr.create("storage-open",{originalErrorMessage:Y?.message}))}})}()){this.appId=x,this.appName=Y,this.namespace=pe,this.openDbPromise=xe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var Y=this;return(0,$.Z)(function*(){const pe=yield Y.openDbPromise;return new Promise((xe,Ze)=>{const Wt=pe.transaction([Or],"readonly").objectStore(Or),Kt=Y.createCompositeKey(x);try{const Xt=Wt.get(Kt);Xt.onerror=Un=>{Ze(pn(Un,"storage-get"))},Xt.onsuccess=Un=>{const Tn=Un.target.result;xe(Tn?Tn.value:void 0)}}catch(Xt){Ze(sr.create("storage-get",{originalErrorMessage:Xt?.message}))}})})()}set(x,Y){var pe=this;return(0,$.Z)(function*(){const xe=yield pe.openDbPromise;return new Promise((Ze,ht)=>{const Kt=xe.transaction([Or],"readwrite").objectStore(Or),Xt=pe.createCompositeKey(x);try{const Un=Kt.put({compositeKey:Xt,value:Y});Un.onerror=Tn=>{ht(pn(Tn,"storage-set"))},Un.onsuccess=()=>{Ze()}}catch(Un){ht(sr.create("storage-set",{originalErrorMessage:Un?.message}))}})})()}delete(x){var Y=this;return(0,$.Z)(function*(){const pe=yield Y.openDbPromise;return new Promise((xe,Ze)=>{const Wt=pe.transaction([Or],"readwrite").objectStore(Or),Kt=Y.createCompositeKey(x);try{const Xt=Wt.delete(Kt);Xt.onerror=Un=>{Ze(pn(Un,"storage-delete"))},Xt.onsuccess=()=>{xe()}}catch(Xt){Ze(sr.create("storage-delete",{originalErrorMessage:Xt?.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ui{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,$.Z)(function*(){const Y=x.storage.getLastFetchStatus(),pe=x.storage.getLastSuccessfulFetchTimestampMillis(),xe=x.storage.getActiveConfig(),Ze=yield Y;Ze&&(x.lastFetchStatus=Ze);const ht=yield pe;ht&&(x.lastSuccessfulFetchTimestampMillis=ht);const Wt=yield xe;Wt&&(x.activeConfig=Wt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function Xi(){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,$.Z)(function*(){if(!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}!function Vn(){(0,fe._registerComponent)(new _e.wA("remote-config",function A(x,{instanceIdentifier:Y}){const pe=x.getProvider("app").getImmediate(),xe=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw sr.create("registration-window");if(!(0,me.hl)())throw sr.create("indexed-db-unavailable");const{projectId:Ze,apiKey:ht,appId:Wt}=pe.options;if(!Ze)throw sr.create("registration-project-id");if(!ht)throw sr.create("registration-api-key");if(!Wt)throw sr.create("registration-app-id");const Kt=new gr(Wt,pe.name,Y=Y||"firebase"),Xt=new ui(Kt),Un=new Se.Yd(Ci);Un.logLevel=Se.in.ERROR;const Tn=new ei(xe,fe.SDK_VERSION,Y,Ze,ht,Wt),rs=new si(Tn,Kt),hi=new ms(rs,Kt,Xt,Un),xa=new Nn(pe,hi,Xt,Kt,Un);return function On(A){const x=(0,me.m9)(A);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(xa),xa},"PUBLIC").setMultipleInstances(!0)),(0,fe.registerVersion)(Ci,"0.4.1"),(0,fe.registerVersion)(Ci,"0.4.1","esm2017")}();const _i="/firebase-messaging-sw.js",Ti="/firebase-cloud-messaging-push-scope",_s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ys="google.c.a.c_id",Vi="google.c.a.c_l",lo="google.c.a.ts",uo="google.c.a.e";var ls=(()=>{return(A=ls||(ls={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",ls;var A})();function $i(A){const x=new Uint8Array(A);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bo(A){const Y=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(Y),xe=new Uint8Array(pe.length);for(let Ze=0;Ze<pe.length;++Ze)xe[Ze]=pe.charCodeAt(Ze);return xe}const co="fcm_token_details_db",Nr="fcm_token_object_Store";function bn(A){return Os.apply(this,arguments)}function Os(){return Os=(0,$.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ze=>Ze.name).includes(co))return null;let x=null;return(yield(0,ge.X3)(co,5,{upgrade:(pe=(0,$.Z)(function*(xe,Ze,ht,Wt){var Kt;if(Ze<2||!xe.objectStoreNames.contains(Nr))return;const Xt=Wt.objectStore(Nr),Un=yield Xt.index("fcmSenderId").get(A);if(yield Xt.clear(),Un)if(2===Ze){const Tn=Un;if(!Tn.auth||!Tn.p256dh||!Tn.endpoint)return;x={token:Tn.fcmToken,createTime:null!==(Kt=Tn.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Tn.auth,p256dh:Tn.p256dh,endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:"string"==typeof Tn.vapidKey?Tn.vapidKey:$i(Tn.vapidKey)}}}else if(3===Ze){const Tn=Un;x={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:$i(Tn.auth),p256dh:$i(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:$i(Tn.vapidKey)}}}else if(4===Ze){const Tn=Un;x={token:Tn.fcmToken,createTime:Tn.createTime,subscriptionOptions:{auth:$i(Tn.auth),p256dh:$i(Tn.p256dh),endpoint:Tn.endpoint,swScope:Tn.swScope,vapidKey:$i(Tn.vapidKey)}}}}),function(Ze,ht,Wt,Kt){return pe.apply(this,arguments)})})).close(),yield(0,ge.Lj)(co),yield(0,ge.Lj)("fcm_vapid_details_db"),yield(0,ge.Lj)("undefined"),Ji(x)?x:null;var pe}),Os.apply(this,arguments)}function Ji(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:x}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const Wi="firebase-messaging-store";let ci=null;function us(){return ci||(ci=(0,ge.X3)("firebase-messaging-database",1,{upgrade:(A,x)=>{0===x&&A.createObjectStore(Wi)}})),ci}function jr(A){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,$.Z)(function*(A){const x=vs(A),pe=yield(yield us()).transaction(Wi).objectStore(Wi).get(x);if(pe)return pe;{const xe=yield bn(A.appConfig.senderId);if(xe)return yield $r(A,xe),xe}})).apply(this,arguments)}function $r(A,x){return cs.apply(this,arguments)}function cs(){return(cs=(0,$.Z)(function*(A,x){const Y=vs(A),xe=(yield us()).transaction(Wi,"readwrite");return yield xe.objectStore(Wi).put(x,Y),yield xe.done,x})).apply(this,arguments)}function zs(A){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,$.Z)(function*(A){const x=vs(A),pe=(yield us()).transaction(Wi,"readwrite");yield pe.objectStore(Wi).delete(x),yield pe.done})).apply(this,arguments)}function vs({appConfig:A}){return A.appId}const lr=new me.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Es(A,x){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,$.Z)(function*(A,x){const Y=yield xr(A),pe=Is(x),xe={method:"POST",headers:Y,body:JSON.stringify(pe)};let Ze;try{Ze=yield(yield fetch(hs(A.appConfig),xe)).json()}catch(ht){throw lr.create("token-subscribe-failed",{errorInfo:ht?.toString()})}if(Ze.error)throw lr.create("token-subscribe-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw lr.create("token-subscribe-no-token");return Ze.token})).apply(this,arguments)}function ds(A,x){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,$.Z)(function*(A,x){const Y=yield xr(A),pe=Is(x.subscriptionOptions),xe={method:"PATCH",headers:Y,body:JSON.stringify(pe)};let Ze;try{Ze=yield(yield fetch(`${hs(A.appConfig)}/${x.token}`,xe)).json()}catch(ht){throw lr.create("token-update-failed",{errorInfo:ht?.toString()})}if(Ze.error)throw lr.create("token-update-failed",{errorInfo:Ze.error.message});if(!Ze.token)throw lr.create("token-update-no-token");return Ze.token})).apply(this,arguments)}function Lr(A,x){return or.apply(this,arguments)}function or(){return(or=(0,$.Z)(function*(A,x){const pe={method:"DELETE",headers:yield xr(A)};try{const Ze=yield(yield fetch(`${hs(A.appConfig)}/${x}`,pe)).json();if(Ze.error)throw lr.create("token-unsubscribe-failed",{errorInfo:Ze.error.message})}catch(xe){throw lr.create("token-unsubscribe-failed",{errorInfo:xe?.toString()})}})).apply(this,arguments)}function hs({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function xr(A){return mr.apply(this,arguments)}function mr(){return(mr=(0,$.Z)(function*({appConfig:A,installations:x}){const Y=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${Y}`})})).apply(this,arguments)}function Is({p256dh:A,auth:x,endpoint:Y,vapidKey:pe}){const xe={web:{endpoint:Y,auth:x,p256dh:A}};return pe!==_s&&(xe.web.applicationPubKey=pe),xe}const ti=6048e5;function qr(A){return yi.apply(this,arguments)}function yi(){return(yi=(0,$.Z)(function*(A){const x=yield fo(A.swRegistration,A.vapidKey),Y={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:x.endpoint,auth:$i(x.getKey("auth")),p256dh:$i(x.getKey("p256dh"))},pe=yield jr(A.firebaseDependencies);if(pe){if(xs(pe.subscriptionOptions,Y))return Date.now()>=pe.createTime+ti?Qt(A,{token:pe.token,createTime:Date.now(),subscriptionOptions:Y}):pe.token;try{yield Lr(A.firebaseDependencies,pe.token)}catch(xe){console.warn(xe)}return fr(A.firebaseDependencies,Y)}return fr(A.firebaseDependencies,Y)})).apply(this,arguments)}function cn(A){return Si.apply(this,arguments)}function Si(){return(Si=(0,$.Z)(function*(A){const x=yield jr(A.firebaseDependencies);x&&(yield Lr(A.firebaseDependencies,x.token),yield zs(A.firebaseDependencies));const Y=yield A.swRegistration.pushManager.getSubscription();return!Y||Y.unsubscribe()})).apply(this,arguments)}function Qt(A,x){return ho.apply(this,arguments)}function ho(){return(ho=(0,$.Z)(function*(A,x){try{const Y=yield ds(A.firebaseDependencies,x),pe=Object.assign(Object.assign({},x),{token:Y,createTime:Date.now()});return yield $r(A.firebaseDependencies,pe),Y}catch(Y){throw yield cn(A),Y}})).apply(this,arguments)}function fr(A,x){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,$.Z)(function*(A,x){const pe={token:yield Es(A,x),createTime:Date.now(),subscriptionOptions:x};return yield $r(A,pe),pe.token})).apply(this,arguments)}function fo(A,x){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,$.Z)(function*(A,x){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bo(x)})})).apply(this,arguments)}function xs(A,x){return x.vapidKey===A.vapidKey&&x.endpoint===A.endpoint&&x.auth===A.auth&&x.p256dh===A.p256dh}function Ks(A){const x={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function bs(A,x){if(!x.notification)return;A.notification={};const Y=x.notification.title;Y&&(A.notification.title=Y);const pe=x.notification.body;pe&&(A.notification.body=pe);const xe=x.notification.image;xe&&(A.notification.image=xe);const Ze=x.notification.icon;Ze&&(A.notification.icon=Ze)}(x,A),function nt(A,x){x.data&&(A.data=x.data)}(x,A),function xn(A,x){var Y,pe,xe,Ze,ht;if(!(x.fcmOptions||null!==(Y=x.notification)&&void 0!==Y&&Y.click_action))return;A.fcmOptions={};const Wt=null!==(xe=null===(pe=x.fcmOptions)||void 0===pe?void 0:pe.link)&&void 0!==xe?xe:null===(Ze=x.notification)||void 0===Ze?void 0:Ze.click_action;Wt&&(A.fcmOptions.link=Wt);const Kt=null===(ht=x.fcmOptions)||void 0===ht?void 0:ht.analytics_label;Kt&&(A.fcmOptions.analyticsLabel=Kt)}(x,A),x}function vi(A){return"object"==typeof A&&!!A&&ys in A}function Ds(A,x){const Y=[];for(let pe=0;pe<A.length;pe++)Y.push(A.charAt(pe)),pe<x.length&&Y.push(x.charAt(pe));return Y.join("")}function ts(A){return lr.create("missing-app-config-values",{valueName:A})}Ds("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ds("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class po{constructor(x,Y,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const xe=function ni(A){if(!A||!A.options)throw ts("App Configuration Object");if(!A.name)throw ts("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:Y}=A;for(const pe of x)if(!Y[pe])throw ts(pe);return{appName:A.name,projectId:Y.projectId,apiKey:Y.apiKey,appId:Y.appId,senderId:Y.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:xe,installations:Y,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Ei(A){return go.apply(this,arguments)}function go(){return(go=(0,$.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(_i,{scope:Ti}),A.swRegistration.update().catch(()=>{})}catch(x){throw lr.create("failed-service-worker-registration",{browserErrorMessage:x?.message})}})).apply(this,arguments)}function ks(A,x){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,$.Z)(function*(A,x){if(!x&&!A.swRegistration&&(yield Ei(A)),x||!A.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw lr.create("invalid-sw-registration");A.swRegistration=x}})).apply(this,arguments)}function Zs(A,x){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,$.Z)(function*(A,x){x?A.vapidKey=x:A.vapidKey||(A.vapidKey=_s)})).apply(this,arguments)}function Qr(){return(Qr=(0,$.Z)(function*(A,x){if(!navigator)throw lr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw lr.create("permission-blocked");return yield Zs(A,x?.vapidKey),yield ks(A,x?.serviceWorkerRegistration),qr(A)})).apply(this,arguments)}function zi(A,x,Y){return xi.apply(this,arguments)}function xi(){return(xi=(0,$.Z)(function*(A,x,Y){const pe=Ai(x);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:Y[ys],message_name:Y[Vi],message_time:Y[lo],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ai(A){switch(A){case ls.NOTIFICATION_CLICKED:return"notification_open";case ls.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ki(){return(ki=(0,$.Z)(function*(A,x){const Y=x.data;if(!Y.isFirebaseMessaging)return;A.onMessageHandler&&Y.messageType===ls.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Ks(Y)):A.onMessageHandler.next(Ks(Y)));const pe=Y.data;vi(pe)&&"1"===pe[uo]&&(yield zi(A,Y.messageType,pe))})).apply(this,arguments)}const _o="@firebase/messaging",z=A=>{const x=new po(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Y=>function mo(A,x){return ki.apply(this,arguments)}(x,Y)),x},_=A=>{const x=A.getProvider("messaging").getImmediate();return{getToken:pe=>function wr(A,x){return Qr.apply(this,arguments)}(x,pe)}};function R(){return G.apply(this,arguments)}function G(){return(G=(0,$.Z)(function*(){try{yield(0,me.eu)()}catch{return!1}return typeof window<"u"&&(0,me.hl)()&&(0,me.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function E(){(0,fe._registerComponent)(new _e.wA("messaging",z,"PUBLIC")),(0,fe._registerComponent)(new _e.wA("messaging-internal",_,"PRIVATE")),(0,fe.registerVersion)(_o,"0.12.1"),(0,fe.registerVersion)(_o,"0.12.1","esm2017")}();const dn="analytics",Pt="firebase_id",Ln="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fr="https://www.googletagmanager.com/gtag/js",Xn=new Se.Yd("@firebase/analytics");function Ur(A){return Promise.all(A.map(x=>x.catch(Y=>Y)))}function Ki(A,x){const Y=document.createElement("script");Y.src=`${Fr}?l=${A}&id=${x}`,Y.async=!0,document.head.appendChild(Y)}function Tr(A,x,Y,pe,xe,Ze){return C.apply(this,arguments)}function C(){return(C=(0,$.Z)(function*(A,x,Y,pe,xe,Ze){const ht=pe[xe];try{if(ht)yield x[ht];else{const Kt=(yield Ur(Y)).find(Xt=>Xt.measurementId===xe);Kt&&(yield x[Kt.appId])}}catch(Wt){Xn.error(Wt)}A("config",xe,Ze)})).apply(this,arguments)}function B(A,x,Y,pe,xe){return S.apply(this,arguments)}function S(){return(S=(0,$.Z)(function*(A,x,Y,pe,xe){try{let Ze=[];if(xe&&xe.send_to){let ht=xe.send_to;Array.isArray(ht)||(ht=[ht]);const Wt=yield Ur(Y);for(const Kt of ht){const Xt=Wt.find(Tn=>Tn.measurementId===Kt),Un=Xt&&x[Xt.appId];if(!Un){Ze=[];break}Ze.push(Un)}}0===Ze.length&&(Ze=Object.values(x)),yield Promise.all(Ze),A("event",pe,xe||{})}catch(Ze){Xn.error(Ze)}})).apply(this,arguments)}function We(A){const x=window.document.getElementsByTagName("script");for(const Y of Object.values(x))if(Y.src&&Y.src.includes(Fr)&&Y.src.includes(A))return Y;return null}const At=new me.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),St=new class bt{constructor(x={},Y=1e3){this.throttleMetadata=x,this.intervalMillis=Y}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,Y){this.throttleMetadata[x]=Y}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function Rn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function mn(A){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,$.Z)(function*(A){var x;const{appId:Y,apiKey:pe}=A,xe={method:"GET",headers:Rn(pe)},Ze=Ln.replace("{app-id}",Y),ht=yield fetch(Ze,xe);if(200!==ht.status&&304!==ht.status){let Wt="";try{const Kt=yield ht.json();null!==(x=Kt.error)&&void 0!==x&&x.message&&(Wt=Kt.error.message)}catch{}throw At.create("config-fetch-failed",{httpStatus:ht.status,responseMessage:Wt})}return ht.json()})).apply(this,arguments)}function An(A){return jn.apply(this,arguments)}function jn(){return(jn=(0,$.Z)(function*(A,x=St,Y){const{appId:pe,apiKey:xe,measurementId:Ze}=A.options;if(!pe)throw At.create("no-app-id");if(!xe){if(Ze)return{measurementId:Ze,appId:pe};throw At.create("no-api-key")}const ht=x.getThrottleMetadata(pe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Wt=new Jr;return setTimeout((0,$.Z)(function*(){Wt.abort()}),void 0!==Y?Y:6e4),Ii({appId:pe,apiKey:xe,measurementId:Ze},ht,Wt,x)})).apply(this,arguments)}function Ii(A,x,Y){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,$.Z)(function*(A,{throttleEndTimeMillis:x,backoffCount:Y},pe,xe=St){var Ze;const{appId:ht,measurementId:Wt}=A;try{yield _r(pe,x)}catch(Kt){if(Wt)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${Kt?.message}]`),{appId:ht,measurementId:Wt};throw Kt}try{const Kt=yield mn(A);return xe.deleteThrottleMetadata(ht),Kt}catch(Kt){const Xt=Kt;if(!Li(Xt)){if(xe.deleteThrottleMetadata(ht),Wt)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Wt} provided in the "measurementId" field in the local Firebase config. [${Xt?.message}]`),{appId:ht,measurementId:Wt};throw Kt}const Un=503===Number(null===(Ze=Xt?.customData)||void 0===Ze?void 0:Ze.httpStatus)?(0,me.$s)(Y,xe.intervalMillis,30):(0,me.$s)(Y,xe.intervalMillis),Tn={throttleEndTimeMillis:Date.now()+Un,backoffCount:Y+1};return xe.setThrottleMetadata(ht,Tn),Xn.debug(`Calling attemptFetch again in ${Un} millis`),Ii(A,Tn,pe,xe)}})).apply(this,arguments)}function _r(A,x){return new Promise((Y,pe)=>{const xe=Math.max(x-Date.now(),0),Ze=setTimeout(Y,xe);A.addEventListener(()=>{clearTimeout(Ze),pe(At.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Li(A){if(!(A instanceof me.ZR&&A.customData))return!1;const x=Number(A.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Jr{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}let Ys,Eo;function Qs(){return(Qs=(0,$.Z)(function*(A,x,Y,pe,xe){if(xe&&xe.global)A("event",Y,pe);else{const Ze=yield x;A("event",Y,Object.assign(Object.assign({},pe),{send_to:Ze}))}})).apply(this,arguments)}function Ao(A){Eo=A}function bi(A){Ys=A}function Jo(){return ea.apply(this,arguments)}function ea(){return(ea=(0,$.Z)(function*(){if(!(0,me.hl)())return Xn.warn(At.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,me.eu)()}catch(A){return Xn.warn(At.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function ca(){return(ca=(0,$.Z)(function*(A,x,Y,pe,xe,Ze,ht){var Wt;const Kt=An(A);Kt.then(hi=>{Y[hi.measurementId]=hi.appId,A.options.measurementId&&hi.measurementId!==A.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Xn.error(hi)),x.push(Kt);const Xt=Jo().then(hi=>{if(hi)return pe.getId()}),[Un,Tn]=yield Promise.all([Kt,Xt]);We(Ze)||Ki(Ze,Un.measurementId),Eo&&(xe("consent","default",Eo),Ao(void 0)),xe("js",new Date);const rs=null!==(Wt=ht?.config)&&void 0!==Wt?Wt:{};return rs.origin="firebase",rs.update=!0,null!=Tn&&(rs[Pt]=Tn),xe("config",Un.measurementId,rs),Ys&&(xe("set",Ys),bi(void 0)),Un.measurementId})).apply(this,arguments)}class Ta{constructor(x){this.app=x}_delete(){return delete Fs[this.app.options.appId],Promise.resolve()}}let Fs={},ta=[];const na={};let bo,Us,ns="dataLayer",Fi=!1;function Sa(A,x,Y){!function ra(){const A=[];if((0,me.ru)()&&A.push("This is a browser extension environment."),(0,me.zI)()||A.push("Cookies are not available."),A.length>0){const x=A.map((pe,xe)=>`(${xe+1}) ${pe}`).join(" "),Y=At.create("invalid-analytics-context",{errorInfo:x});Xn.warn(Y.message)}}();const pe=A.options.appId;if(!pe)throw At.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw At.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fs[pe])throw At.create("already-exists",{id:pe});if(!Fi){!function Zi(A){let x=[];Array.isArray(window[A])?x=window[A]:window[A]=x}(ns);const{wrappedGtag:Ze,gtagCore:ht}=function he(A,x,Y,pe,xe){let Ze=function(...ht){window[pe].push(arguments)};return window[xe]&&"function"==typeof window[xe]&&(Ze=window[xe]),window[xe]=function Z(A,x,Y,pe){function Ze(){return(Ze=(0,$.Z)(function*(ht,Wt,Kt){try{"event"===ht?yield B(A,x,Y,Wt,Kt):"config"===ht?yield Tr(A,x,Y,pe,Wt,Kt):"consent"===ht?A("consent","update",Kt):A("set",Wt)}catch(Xt){Xn.error(Xt)}})).apply(this,arguments)}return function xe(ht,Wt,Kt){return Ze.apply(this,arguments)}}(Ze,A,x,Y),{gtagCore:Ze,wrappedGtag:window[xe]}}(Fs,ta,na,ns,"gtag");Us=Ze,bo=ht,Fi=!0}return Fs[pe]=function Io(A,x,Y,pe,xe,Ze,ht){return ca.apply(this,arguments)}(A,ta,na,x,bo,ns,Y),new Ta(A)}function ha(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,$.Z)(function*(){if((0,me.ru)()||!(0,me.zI)()||!(0,me.hl)())return!1;try{return yield(0,me.eu)()}catch{return!1}})).apply(this,arguments)}const Sr="@firebase/analytics";!function Iu(){(0,fe._registerComponent)(new _e.wA(dn,(x,{options:Y})=>Sa(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),Y),"PUBLIC")),(0,fe._registerComponent)(new _e.wA("analytics-internal",function A(x){try{const Y=x.getProvider(dn).getImmediate();return{logEvent:(pe,xe,Ze)=>function gl(A,x,Y,pe){A=(0,me.m9)(A),function qs(A,x,Y,pe,xe){return Qs.apply(this,arguments)}(Us,Fs[A.app.options.appId],x,Y,pe).catch(xe=>Xn.error(xe))}(Y,pe,xe,Ze)}}catch(Y){throw At.create("interop-component-reg-failed",{reason:Y})}},"PRIVATE")),(0,fe.registerVersion)(Sr,"0.9.1"),(0,fe.registerVersion)(Sr,"0.9.1","esm2017")}();var fa=P(4408),Ra=P(7565);const Xa=new class Pa extends Ra.v{}(class Ma extends fa.o{constructor(x,Y){super(x,Y),this.scheduler=x,this.work=Y}schedule(x,Y=0){return Y>0?super.schedule(x,Y):(this.delay=Y,this.state=x,this.scheduler.flush(this),this)}execute(x,Y){return Y>0||this.closed?super.execute(x,Y):this._execute(x,Y)}requestAsyncId(x,Y,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(x,Y,pe):(x.flush(this),0)}});var ga=P(4986),sa=P(8505),kr=P(9468),Wo=P(5363);const zo=new f.GfV("7.5.0"),Js="__angularfire_symbol__analyticsIsSupportedValue",y="__angularfire_symbol__analyticsIsSupported",I="__angularfire_symbol__remoteConfigIsSupportedValue",p="__angularfire_symbol__remoteConfigIsSupported",w="__angularfire_symbol__messagingIsSupportedValue",N="__angularfire_symbol__messagingIsSupported";function Ct(A,x,Y){if(x){if(1===x.length)return x[0];const Ze=x.filter(ht=>ht.app===Y);if(1===Ze.length)return Ze[0]}return Y.container.getProvider(A).getImmediate({optional:!0})}globalThis[y]||(globalThis[y]=ha().then(A=>globalThis[Js]=A).catch(()=>globalThis[Js]=!1)),globalThis[N]||(globalThis[N]=R().then(A=>globalThis[w]=A).catch(()=>globalThis[w]=!1)),globalThis[p]||(globalThis[p]=Xi().then(A=>globalThis[I]=A).catch(()=>globalThis[I]=!1));const Lt=(A,x)=>{const Y=x?[x]:(0,k.C6)(),pe=[];return Y.forEach(xe=>{xe.container.getProvider(A).instances.forEach(ht=>{pe.includes(ht)||pe.push(ht)})}),pe};function En(){}class Mr{constructor(x,Y=Xa){this.zone=x,this.delegate=Y}now(){return this.delegate.now()}schedule(x,Y,pe){const xe=this.zone;return this.delegate.schedule(function(ht){xe.runGuarded(()=>{x.apply(this,[ht])})},Y,pe)}}class eo{constructor(x){this.zone=x,this.task=null}call(x,Y){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",En,{},En,En)),Y.pipe((0,sa.b)({next:pe,complete:pe,error:pe})).subscribe(x).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let to=(()=>{class A{constructor(Y){this.ngZone=Y,this.outsideAngular=Y.runOutsideAngular(()=>new Mr(Zone.current)),this.insideAngular=Y.run(()=>new Mr(Zone.current,ga.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(Y){return new(Y||A)(f.LFG(f.R0b))},A.\u0275prov=f.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function Ui(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function Go(A){return Ui(),function Oa(A){return function(Y){return(Y=Y.lift(new eo(A.ngZone))).pipe((0,kr.R)(A.outsideAngular),(0,Wo.Q)(A.insideAngular))}}(Ui())(A)}},2090:(yt,Oe,P)=>{P.d(Oe,{$s:()=>j,BH:()=>de,DV:()=>cr,Dv:()=>wn,GJ:()=>Br,L:()=>ge,LL:()=>fn,Pz:()=>He,Sg:()=>Ve,UG:()=>O,UI:()=>kn,US:()=>_e,Wj:()=>rr,Wl:()=>en,Yr:()=>dt,ZB:()=>ue,ZR:()=>xt,aH:()=>Ye,b$:()=>Me,cI:()=>Vt,dS:()=>Pn,eu:()=>Bn,g5:()=>$,gK:()=>Yn,gQ:()=>nr,h$:()=>Se,hl:()=>an,hu:()=>k,jU:()=>Be,lb:()=>pr,m9:()=>ke,ne:()=>Rr,p$:()=>J,pd:()=>tn,r3:()=>vr,ru:()=>be,tV:()=>Ee,uI:()=>tt,ug:()=>Hr,vZ:()=>un,w1:()=>Ue,w9:()=>Cn,xO:()=>br,xb:()=>ln,z$:()=>et,zI:()=>$t,zd:()=>Dr});const k=function(X,ae){if(!X)throw $(ae)},$=function(X){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+X)},fe=function(X){const ae=[];let Ie=0;for(let je=0;je<X.length;je++){let we=X.charCodeAt(je);we<128?ae[Ie++]=we:we<2048?(ae[Ie++]=we>>6|192,ae[Ie++]=63&we|128):55296==(64512&we)&&je+1<X.length&&56320==(64512&X.charCodeAt(je+1))?(we=65536+((1023&we)<<10)+(1023&X.charCodeAt(++je)),ae[Ie++]=we>>18|240,ae[Ie++]=we>>12&63|128,ae[Ie++]=we>>6&63|128,ae[Ie++]=63&we|128):(ae[Ie++]=we>>12|224,ae[Ie++]=we>>6&63|128,ae[Ie++]=63&we|128)}return ae},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,ae){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ie=ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let we=0;we<X.length;we+=3){const mt=X[we],Gt=we+1<X.length,qt=Gt?X[we+1]:0,Ae=we+2<X.length,V=Ae?X[we+2]:0;let ne=(15&qt)<<2|V>>6,Te=63&V;Ae||(Te=64,Gt||(ne=64)),je.push(Ie[mt>>2],Ie[(3&mt)<<4|qt>>4],Ie[ne],Ie[Te])}return je.join("")},encodeString(X,ae){return this.HAS_NATIVE_SUPPORT&&!ae?btoa(X):this.encodeByteArray(fe(X),ae)},decodeString(X,ae){return this.HAS_NATIVE_SUPPORT&&!ae?atob(X):function(X){const ae=[];let Ie=0,je=0;for(;Ie<X.length;){const we=X[Ie++];if(we<128)ae[je++]=String.fromCharCode(we);else if(we>191&&we<224){const mt=X[Ie++];ae[je++]=String.fromCharCode((31&we)<<6|63&mt)}else if(we>239&&we<365){const Ae=((7&we)<<18|(63&X[Ie++])<<12|(63&X[Ie++])<<6|63&X[Ie++])-65536;ae[je++]=String.fromCharCode(55296+(Ae>>10)),ae[je++]=String.fromCharCode(56320+(1023&Ae))}else{const mt=X[Ie++],Gt=X[Ie++];ae[je++]=String.fromCharCode((15&we)<<12|(63&mt)<<6|63&Gt)}}return ae.join("")}(this.decodeStringToByteArray(X,ae))},decodeStringToByteArray(X,ae){this.init_();const Ie=ae?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let we=0;we<X.length;){const mt=Ie[X.charAt(we++)],qt=we<X.length?Ie[X.charAt(we)]:0;++we;const V=we<X.length?Ie[X.charAt(we)]:64;++we;const U=we<X.length?Ie[X.charAt(we)]:64;if(++we,null==mt||null==qt||null==V||null==U)throw Error();je.push(mt<<2|qt>>4),64!==V&&(je.push(qt<<4&240|V>>2),64!==U&&je.push(V<<6&192|U))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},Se=function(X){const ae=fe(X);return _e.encodeByteArray(ae,!0)},ge=function(X){return Se(X).replace(/\./g,"")},Ee=function(X){try{return _e.decodeString(X,!0)}catch(ae){console.error("base64Decode failed: ",ae)}return null};function J(X){return ue(void 0,X)}function ue(X,ae){if(!(ae instanceof Object))return ae;switch(ae.constructor){case Date:return new Date(ae.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return ae}for(const Ie in ae)!ae.hasOwnProperty(Ie)||!le(Ie)||(X[Ie]=ue(X[Ie],ae[Ie]));return X}function le(X){return"__proto__"!==X}const Le=()=>{try{return function Ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const X=process.env.__FIREBASE_DEFAULTS__;return X?JSON.parse(X):void 0})()||(()=>{if(typeof document>"u")return;let X;try{X=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const ae=X&&Ee(X[1]);return ae&&JSON.parse(ae)})()}catch(X){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${X}`)}},Ye=()=>{var X;return null===(X=Le())||void 0===X?void 0:X.config},He=X=>{var ae;return null===(ae=Le())||void 0===ae?void 0:ae[`_${X}`]};class de{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((ae,Ie)=>{this.resolve=ae,this.reject=Ie})}wrapCallback(ae){return(Ie,je)=>{Ie?this.reject(Ie):this.resolve(je),"function"==typeof ae&&(this.promise.catch(()=>{}),1===ae.length?ae(Ie):ae(Ie,je))}}}function Ve(X,ae){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=ae||"demo-project",we=X.iat||0,mt=X.sub||X.user_id;if(!mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Gt=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:we,exp:we+3600,auth_time:we,sub:mt,user_id:mt,firebase:{sign_in_provider:"custom",identities:{}}},X);return[ge(JSON.stringify({alg:"none",type:"JWT"})),ge(JSON.stringify(Gt)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function O(){var X;const ae=null===(X=Le())||void 0===X?void 0:X.forceEnvironment;if("node"===ae)return!0;if("browser"===ae)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function be(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function Me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){const X=et();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function dt(){return!1}function an(){try{return"object"==typeof indexedDB}catch{return!1}}function Bn(){return new Promise((X,ae)=>{try{let Ie=!0;const je="validate-browser-context-for-indexeddb-analytics-module",we=self.indexedDB.open(je);we.onsuccess=()=>{we.result.close(),Ie||self.indexedDB.deleteDatabase(je),X(!0)},we.onupgradeneeded=()=>{Ie=!1},we.onerror=()=>{var mt;ae((null===(mt=we.error)||void 0===mt?void 0:mt.message)||"")}}catch(Ie){ae(Ie)}})}function $t(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class xt extends Error{constructor(ae,Ie,je){super(Ie),this.code=ae,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,xt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fn.prototype.create)}}class fn{constructor(ae,Ie,je){this.service=ae,this.serviceName=Ie,this.errors=je}create(ae,...Ie){const je=Ie[0]||{},we=`${this.service}/${ae}`,mt=this.errors[ae],Gt=mt?function Ft(X,ae){return X.replace(ur,(Ie,je)=>{const we=ae[je];return null!=we?String(we):`<${je}?>`})}(mt,je):"Error";return new xt(we,`${this.serviceName}: ${Gt} (${we}).`,je)}}const ur=/\{\$([^}]+)}/g;function Vt(X){return JSON.parse(X)}function en(X){return JSON.stringify(X)}const Ir=function(X){let ae={},Ie={},je={},we="";try{const mt=X.split(".");ae=Vt(Ee(mt[0])||""),Ie=Vt(Ee(mt[1])||""),we=mt[2],je=Ie.d||{},delete Ie.d}catch{}return{header:ae,claims:Ie,data:je,signature:we}},Cn=function(X){const Ie=Ir(X).claims;return!!Ie&&"object"==typeof Ie&&Ie.hasOwnProperty("iat")},Br=function(X){const ae=Ir(X).claims;return"object"==typeof ae&&!0===ae.admin};function vr(X,ae){return Object.prototype.hasOwnProperty.call(X,ae)}function cr(X,ae){if(Object.prototype.hasOwnProperty.call(X,ae))return X[ae]}function ln(X){for(const ae in X)if(Object.prototype.hasOwnProperty.call(X,ae))return!1;return!0}function kn(X,ae,Ie){const je={};for(const we in X)Object.prototype.hasOwnProperty.call(X,we)&&(je[we]=ae.call(Ie,X[we],we,X));return je}function un(X,ae){if(X===ae)return!0;const Ie=Object.keys(X),je=Object.keys(ae);for(const we of Ie){if(!je.includes(we))return!1;const mt=X[we],Gt=ae[we];if(ar(mt)&&ar(Gt)){if(!un(mt,Gt))return!1}else if(mt!==Gt)return!1}for(const we of je)if(!Ie.includes(we))return!1;return!0}function ar(X){return null!==X&&"object"==typeof X}function br(X){const ae=[];for(const[Ie,je]of Object.entries(X))Array.isArray(je)?je.forEach(we=>{ae.push(encodeURIComponent(Ie)+"="+encodeURIComponent(we))}):ae.push(encodeURIComponent(Ie)+"="+encodeURIComponent(je));return ae.length?"&"+ae.join("&"):""}function Dr(X){const ae={};return X.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[we,mt]=je.split("=");ae[decodeURIComponent(we)]=decodeURIComponent(mt)}}),ae}function tn(X){const ae=X.indexOf("?");if(!ae)return"";const Ie=X.indexOf("#",ae);return X.substring(ae,Ie>0?Ie:void 0)}class nr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let ae=1;ae<this.blockSize;++ae)this.pad_[ae]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(ae,Ie){Ie||(Ie=0);const je=this.W_;if("string"==typeof ae)for(let U=0;U<16;U++)je[U]=ae.charCodeAt(Ie)<<24|ae.charCodeAt(Ie+1)<<16|ae.charCodeAt(Ie+2)<<8|ae.charCodeAt(Ie+3),Ie+=4;else for(let U=0;U<16;U++)je[U]=ae[Ie]<<24|ae[Ie+1]<<16|ae[Ie+2]<<8|ae[Ie+3],Ie+=4;for(let U=16;U<80;U++){const ne=je[U-3]^je[U-8]^je[U-14]^je[U-16];je[U]=4294967295&(ne<<1|ne>>>31)}let V,L,we=this.chain_[0],mt=this.chain_[1],Gt=this.chain_[2],qt=this.chain_[3],Ae=this.chain_[4];for(let U=0;U<80;U++){U<40?U<20?(V=qt^mt&(Gt^qt),L=1518500249):(V=mt^Gt^qt,L=1859775393):U<60?(V=mt&Gt|qt&(mt|Gt),L=2400959708):(V=mt^Gt^qt,L=3395469782);const ne=(we<<5|we>>>27)+V+Ae+L+je[U]&4294967295;Ae=qt,qt=Gt,Gt=4294967295&(mt<<30|mt>>>2),mt=we,we=ne}this.chain_[0]=this.chain_[0]+we&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+Gt&4294967295,this.chain_[3]=this.chain_[3]+qt&4294967295,this.chain_[4]=this.chain_[4]+Ae&4294967295}update(ae,Ie){if(null==ae)return;void 0===Ie&&(Ie=ae.length);const je=Ie-this.blockSize;let we=0;const mt=this.buf_;let Gt=this.inbuf_;for(;we<Ie;){if(0===Gt)for(;we<=je;)this.compress_(ae,we),we+=this.blockSize;if("string"==typeof ae){for(;we<Ie;)if(mt[Gt]=ae.charCodeAt(we),++Gt,++we,Gt===this.blockSize){this.compress_(mt),Gt=0;break}}else for(;we<Ie;)if(mt[Gt]=ae[we],++Gt,++we,Gt===this.blockSize){this.compress_(mt),Gt=0;break}}this.inbuf_=Gt,this.total_+=Ie}digest(){const ae=[];let Ie=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let we=this.blockSize-1;we>=56;we--)this.buf_[we]=255&Ie,Ie/=256;this.compress_(this.buf_);let je=0;for(let we=0;we<5;we++)for(let mt=24;mt>=0;mt-=8)ae[je]=this.chain_[we]>>mt&255,++je;return ae}}function Rr(X,ae){const Ie=new Zt(X,ae);return Ie.subscribe.bind(Ie)}class Zt{constructor(ae,Ie){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ie,this.task.then(()=>{ae(this)}).catch(je=>{this.error(je)})}next(ae){this.forEachObserver(Ie=>{Ie.next(ae)})}error(ae){this.forEachObserver(Ie=>{Ie.error(ae)}),this.close(ae)}complete(){this.forEachObserver(ae=>{ae.complete()}),this.close()}subscribe(ae,Ie,je){let we;if(void 0===ae&&void 0===Ie&&void 0===je)throw new Error("Missing Observer.");we=function Et(X,ae){if("object"!=typeof X||null===X)return!1;for(const Ie of ae)if(Ie in X&&"function"==typeof X[Ie])return!0;return!1}(ae,["next","error","complete"])?ae:{next:ae,error:Ie,complete:je},void 0===we.next&&(we.next=jt),void 0===we.error&&(we.error=jt),void 0===we.complete&&(we.complete=jt);const mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?we.error(this.finalError):we.complete()}catch{}}),this.observers.push(we),mt}unsubscribeOne(ae){void 0===this.observers||void 0===this.observers[ae]||(delete this.observers[ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(ae){if(!this.finalized)for(let Ie=0;Ie<this.observers.length;Ie++)this.sendOne(Ie,ae)}sendOne(ae,Ie){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[ae])try{Ie(this.observers[ae])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(ae){this.finalized||(this.finalized=!0,void 0!==ae&&(this.finalError=ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jt(){}const wn=function(X,ae,Ie,je){let we;if(je<ae?we="at least "+ae:je>Ie&&(we=0===Ie?"none":"no more than "+Ie),we)throw new Error(X+" failed: Was called with "+je+(1===je?" argument.":" arguments.")+" Expects "+we+".")};function Yn(X,ae){return`${X} failed: ${ae} argument `}function rr(X,ae,Ie,je){if((!je||Ie)&&"function"!=typeof Ie)throw new Error(Yn(X,ae)+"must be a valid function.")}function pr(X,ae,Ie,je){if((!je||Ie)&&("object"!=typeof Ie||null===Ie))throw new Error(Yn(X,ae)+"must be a valid context object.")}const Pn=function(X){const ae=[];let Ie=0;for(let je=0;je<X.length;je++){let we=X.charCodeAt(je);if(we>=55296&&we<=56319){const mt=we-55296;je++,k(je<X.length,"Surrogate pair missing trail surrogate."),we=65536+(mt<<10)+(X.charCodeAt(je)-56320)}we<128?ae[Ie++]=we:we<2048?(ae[Ie++]=we>>6|192,ae[Ie++]=63&we|128):we<65536?(ae[Ie++]=we>>12|224,ae[Ie++]=we>>6&63|128,ae[Ie++]=63&we|128):(ae[Ie++]=we>>18|240,ae[Ie++]=we>>12&63|128,ae[Ie++]=we>>6&63|128,ae[Ie++]=63&we|128)}return ae},Hr=function(X){let ae=0;for(let Ie=0;Ie<X.length;Ie++){const je=X.charCodeAt(Ie);je<128?ae++:je<2048?ae+=2:je>=55296&&je<=56319?(ae+=4,Ie++):ae+=3}return ae};function j(X,ae=1e3,Ie=2){const je=ae*Math.pow(Ie,X),we=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+we)}function ke(X){return X&&X._delegate?X._delegate:X}},4662:(yt,Oe,P)=>{var f=P(1481),k=P(4650),$=P(2011),fe=P(3805),me=P(3238),_e=P(6806);const Se=[{path:"",loadChildren:()=>Promise.all([P.e(10),P.e(592),P.e(312)]).then(P.bind(P,312)).then(z=>z.LandingModule)},{path:"admin",loadChildren:()=>Promise.all([P.e(10),P.e(346)]).then(P.bind(P,2346)).then(z=>z.AdminModule)}];class ge{}ge.\u0275fac=function(_){return new(_||ge)},ge.\u0275mod=k.oAB({type:ge}),ge.\u0275inj=k.cJS({imports:[_e.Bz.forRoot(Se),_e.Bz]});class Ee{constructor(){this.title="angular-mobile-app"}}Ee.\u0275fac=function(_){return new(_||Ee)},Ee.\u0275cmp=k.Xpm({type:Ee,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"landing"]],template:function(_,E){1&_&&(k.TgZ(0,"div",0),k._UZ(1,"router-outlet"),k.qZA())},dependencies:[_e.lC],styles:[".landing[_ngcontent-%COMP%]{height:100%}"]});var J=P(7340);function le(z){return new k.vHH(3e3,!1)}function Br(){return typeof window<"u"&&typeof window.document<"u"}function vr(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function cr(z){switch(z.length){case 0:return new J.ZN;case 1:return z[0];default:return new J.ZE(z)}}function ln(z,_,E,R,G=new Map,ie=new Map){const ve=[],Ce=[];let ze=-1,ot=null;if(R.forEach(Tt=>{const Rt=Tt.get("offset"),Dn=Rt==ze,dn=Dn&&ot||new Map;Tt.forEach((Pt,sn)=>{let nn=sn,Ln=Pt;if("offset"!==sn)switch(nn=_.normalizePropertyName(nn,ve),Ln){case J.k1:Ln=G.get(sn);break;case J.l3:Ln=ie.get(sn);break;default:Ln=_.normalizeStyleValue(sn,nn,Ln,ve)}dn.set(nn,Ln)}),Dn||Ce.push(dn),ot=dn,ze=Rt}),ve.length)throw function Bn(z){return new k.vHH(3502,!1)}();return Ce}function kn(z,_,E,R){switch(_){case"start":z.onStart(()=>R(E&&un(E,"start",z)));break;case"done":z.onDone(()=>R(E&&un(E,"done",z)));break;case"destroy":z.onDestroy(()=>R(E&&un(E,"destroy",z)))}}function un(z,_,E){const ie=ar(z.element,z.triggerName,z.fromState,z.toState,_||z.phaseName,E.totalTime??z.totalTime,!!E.disabled),ve=z._data;return null!=ve&&(ie._data=ve),ie}function ar(z,_,E,R,G="",ie=0,ve){return{element:z,triggerName:_,fromState:E,toState:R,phaseName:G,totalTime:ie,disabled:!!ve}}function It(z,_,E){let R=z.get(_);return R||z.set(_,R=E),R}function br(z){const _=z.indexOf(":");return[z.substring(1,_),z.slice(_+1)]}let Dr=(z,_)=>!1,tn=(z,_,E)=>[],nr=null;function Rr(z){const _=z.parentNode||z.host;return _===nr?null:_}(vr()||typeof Element<"u")&&(Br()?(nr=(()=>document.documentElement)(),Dr=(z,_)=>{for(;_;){if(_===z)return!0;_=Rr(_)}return!1}):Dr=(z,_)=>z.contains(_),tn=(z,_,E)=>{if(E)return Array.from(z.querySelectorAll(_));const R=z.querySelector(_);return R?[R]:[]});let Et=null,jt=!1;const rr=Dr,pr=tn;let Hr=(()=>{class z{validateStyleProperty(E){return function wn(z){Et||(Et=function Gn(){return typeof document<"u"?document.body:null}()||{},jt=!!Et.style&&"WebkitAppearance"in Et.style);let _=!0;return Et.style&&!function Ht(z){return"ebkit"==z.substring(1,6)}(z)&&(_=z in Et.style,!_&&jt&&(_="Webkit"+z.charAt(0).toUpperCase()+z.slice(1)in Et.style)),_}(E)}matchesElement(E,R){return!1}containsElement(E,R){return rr(E,R)}getParentElement(E){return Rr(E)}query(E,R,G){return pr(E,R,G)}computeStyle(E,R,G){return G||""}animate(E,R,G,ie,ve,Ce=[],ze){return new J.ZN(G,ie)}}return z.\u0275fac=function(E){return new(E||z)},z.\u0275prov=k.Yz7({token:z,factory:z.\u0275fac}),z})(),Yt=(()=>{class z{}return z.NOOP=new Hr,z})();const oe="ng-enter",j="ng-leave",W="ng-trigger",se=".ng-trigger",ke="ng-animating",X=".ng-animating";function ae(z){if("number"==typeof z)return z;const _=z.match(/^(-?[\.\d]+)(m?s)/);return!_||_.length<2?0:Ie(parseFloat(_[1]),_[2])}function Ie(z,_){return"s"===_?1e3*z:z}function je(z,_,E){return z.hasOwnProperty("duration")?z:function we(z,_,E){let G,ie=0,ve="";if("string"==typeof z){const Ce=z.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Ce)return _.push(le()),{duration:0,delay:0,easing:""};G=Ie(parseFloat(Ce[1]),Ce[2]);const ze=Ce[3];null!=ze&&(ie=Ie(parseFloat(ze),Ce[4]));const ot=Ce[5];ot&&(ve=ot)}else G=z;if(!E){let Ce=!1,ze=_.length;G<0&&(_.push(function Ke(){return new k.vHH(3100,!1)}()),Ce=!0),ie<0&&(_.push(function $e(){return new k.vHH(3101,!1)}()),Ce=!0),Ce&&_.splice(ze,0,le())}return{duration:G,delay:ie,easing:ve}}(z,_,E)}function mt(z,_={}){return Object.keys(z).forEach(E=>{_[E]=z[E]}),_}function Gt(z){const _=new Map;return Object.keys(z).forEach(E=>{_.set(E,z[E])}),_}function V(z,_=new Map,E){if(E)for(let[R,G]of E)_.set(R,G);for(let[R,G]of z)_.set(R,G);return _}function L(z,_,E){return E?_+":"+E+";":""}function U(z){let _="";for(let E=0;E<z.style.length;E++){const R=z.style.item(E);_+=L(0,R,z.style.getPropertyValue(R))}for(const E in z.style)z.style.hasOwnProperty(E)&&!E.startsWith("_")&&(_+=L(0,ao(E),z.style[E]));z.setAttribute("style",_)}function ne(z,_,E){z.style&&(_.forEach((R,G)=>{const ie=hr(G);E&&!E.has(G)&&E.set(G,z.style[ie]),z.style[ie]=R}),vr()&&U(z))}function Te(z,_){z.style&&(_.forEach((E,R)=>{const G=hr(R);z.style[G]=""}),vr()&&U(z))}function st(z){return Array.isArray(z)?1==z.length?z[0]:(0,J.vP)(z):z}const qn=new RegExp("{{\\s*(.+?)\\s*}}","g");function ir(z){let _=[];if("string"==typeof z){let E;for(;E=qn.exec(z);)_.push(E[1]);qn.lastIndex=0}return _}function Kr(z,_,E){const R=z.toString(),G=R.replace(qn,(ie,ve)=>{let Ce=_[ve];return null==Ce&&(E.push(function gt(z){return new k.vHH(3003,!1)}()),Ce=""),Ce.toString()});return G==R?z:G}function oi(z){const _=[];let E=z.next();for(;!E.done;)_.push(E.value),E=z.next();return _}const os=/-+([a-z0-9])/g;function hr(z){return z.replace(os,(..._)=>_[1].toUpperCase())}function ao(z){return z.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Vr(z,_,E){switch(_.type){case 7:return z.visitTrigger(_,E);case 0:return z.visitState(_,E);case 1:return z.visitTransition(_,E);case 2:return z.visitSequence(_,E);case 3:return z.visitGroup(_,E);case 4:return z.visitAnimate(_,E);case 5:return z.visitKeyframes(_,E);case 6:return z.visitStyle(_,E);case 8:return z.visitReference(_,E);case 9:return z.visitAnimateChild(_,E);case 10:return z.visitAnimateRef(_,E);case 11:return z.visitQuery(_,E);case 12:return z.visitStagger(_,E);default:throw function Le(z){return new k.vHH(3004,!1)}()}}function Hn(z,_){return window.getComputedStyle(z)[_]}function Zr(z,_){const E=[];return"string"==typeof z?z.split(/\s*,\s*/).forEach(R=>function ai(z,_,E){if(":"==z[0]){const ze=function er(z,_){switch(z){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,R)=>parseFloat(R)>parseFloat(E);case":decrement":return(E,R)=>parseFloat(R)<parseFloat(E);default:return _.push(function ft(z){return new k.vHH(3016,!1)}()),"* => *"}}(z,E);if("function"==typeof ze)return void _.push(ze);z=ze}const R=z.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return E.push(function Ue(z){return new k.vHH(3015,!1)}()),_;const G=R[1],ie=R[2],ve=R[3];_.push(ii(G,ve));"<"==ie[0]&&!("*"==G&&"*"==ve)&&_.push(ii(ve,G))}(R,E,_)):E.push(z),E}const Wr=new Set(["true","1"]),On=new Set(["false","0"]);function ii(z,_){const E=Wr.has(z)||On.has(z),R=Wr.has(_)||On.has(_);return(G,ie)=>{let ve="*"==z||z==G,Ce="*"==_||_==ie;return!ve&&E&&"boolean"==typeof G&&(ve=G?Wr.has(z):On.has(z)),!Ce&&R&&"boolean"==typeof ie&&(Ce=ie?Wr.has(_):On.has(_)),ve&&Ce}}const vn=new RegExp("s*:selfs*,?","g");function As(z,_,E,R){return new $s(z).build(_,E,R)}class $s{constructor(_){this._driver=_}build(_,E,R){const G=new gs(E);return this._resetContextStyleTimingState(G),Vr(this,st(_),G)}_resetContextStyleTimingState(_){_.currentQuerySelector="",_.collectedStyles=new Map,_.collectedStyles.set("",new Map),_.currentTime=0}visitTrigger(_,E){let R=E.queryCount=0,G=E.depCount=0;const ie=[],ve=[];return"@"==_.name.charAt(0)&&E.errors.push(function qe(){return new k.vHH(3006,!1)}()),_.definitions.forEach(Ce=>{if(this._resetContextStyleTimingState(E),0==Ce.type){const ze=Ce,ot=ze.name;ot.toString().split(/\s*,\s*/).forEach(Tt=>{ze.name=Tt,ie.push(this.visitState(ze,E))}),ze.name=ot}else if(1==Ce.type){const ze=this.visitTransition(Ce,E);R+=ze.queryCount,G+=ze.depCount,ve.push(ze)}else E.errors.push(function Ye(){return new k.vHH(3007,!1)}())}),{type:7,name:_.name,states:ie,transitions:ve,queryCount:R,depCount:G,options:null}}visitState(_,E){const R=this.visitStyle(_.styles,E),G=_.options&&_.options.params||null;if(R.containsDynamicStyles){const ie=new Set,ve=G||{};R.styles.forEach(Ce=>{Ce instanceof Map&&Ce.forEach(ze=>{ir(ze).forEach(ot=>{ve.hasOwnProperty(ot)||ie.add(ot)})})}),ie.size&&(oi(ie.values()),E.errors.push(function He(z,_){return new k.vHH(3008,!1)}()))}return{type:0,name:_.name,style:R,options:G?{params:G}:null}}visitTransition(_,E){E.queryCount=0,E.depCount=0;const R=Vr(this,st(_.animation),E);return{type:1,matchers:Zr(_.expr,E.errors),animation:R,queryCount:E.queryCount,depCount:E.depCount,options:ei(_.options)}}visitSequence(_,E){return{type:2,steps:_.steps.map(R=>Vr(this,R,E)),options:ei(_.options)}}visitGroup(_,E){const R=E.currentTime;let G=0;const ie=_.steps.map(ve=>{E.currentTime=R;const Ce=Vr(this,ve,E);return G=Math.max(G,E.currentTime),Ce});return E.currentTime=G,{type:3,steps:ie,options:ei(_.options)}}visitAnimate(_,E){const R=function gi(z,_){if(z.hasOwnProperty("duration"))return z;if("number"==typeof z)return li(je(z,_).duration,0,"");const E=z;if(E.split(/\s+/).some(ie=>"{"==ie.charAt(0)&&"{"==ie.charAt(1))){const ie=li(0,0,"");return ie.dynamic=!0,ie.strValue=E,ie}const G=je(E,_);return li(G.duration,G.delay,G.easing)}(_.timings,E.errors);E.currentAnimateTimings=R;let G,ie=_.styles?_.styles:(0,J.oB)({});if(5==ie.type)G=this.visitKeyframes(ie,E);else{let ve=_.styles,Ce=!1;if(!ve){Ce=!0;const ot={};R.easing&&(ot.easing=R.easing),ve=(0,J.oB)(ot)}E.currentTime+=R.duration+R.delay;const ze=this.visitStyle(ve,E);ze.isEmptyStep=Ce,G=ze}return E.currentAnimateTimings=null,{type:4,timings:R,style:G,options:null}}visitStyle(_,E){const R=this._makeStyleAst(_,E);return this._validateStyleAst(R,E),R}_makeStyleAst(_,E){const R=[],G=Array.isArray(_.styles)?_.styles:[_.styles];for(let Ce of G)"string"==typeof Ce?Ce===J.l3?R.push(Ce):E.errors.push(new k.vHH(3002,!1)):R.push(Gt(Ce));let ie=!1,ve=null;return R.forEach(Ce=>{if(Ce instanceof Map&&(Ce.has("easing")&&(ve=Ce.get("easing"),Ce.delete("easing")),!ie))for(let ze of Ce.values())if(ze.toString().indexOf("{{")>=0){ie=!0;break}}),{type:6,styles:R,easing:ve,offset:_.offset,containsDynamicStyles:ie,options:null}}_validateStyleAst(_,E){const R=E.currentAnimateTimings;let G=E.currentTime,ie=E.currentTime;R&&ie>0&&(ie-=R.duration+R.delay),_.styles.forEach(ve=>{"string"!=typeof ve&&ve.forEach((Ce,ze)=>{const ot=E.collectedStyles.get(E.currentQuerySelector),Tt=ot.get(ze);let Rt=!0;Tt&&(ie!=G&&ie>=Tt.startTime&&G<=Tt.endTime&&(E.errors.push(function et(z,_,E,R,G){return new k.vHH(3010,!1)}()),Rt=!1),ie=Tt.startTime),Rt&&ot.set(ze,{startTime:ie,endTime:G}),E.options&&function kt(z,_,E){const R=_.params||{},G=ir(z);G.length&&G.forEach(ie=>{R.hasOwnProperty(ie)||E.push(function at(z){return new k.vHH(3001,!1)}())})}(Ce,E.options,E.errors)})})}visitKeyframes(_,E){const R={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function tt(){return new k.vHH(3011,!1)}()),R;let ie=0;const ve=[];let Ce=!1,ze=!1,ot=0;const Tt=_.steps.map(Ln=>{const Fr=this._makeStyleAst(Ln,E);let Xn=null!=Fr.offset?Fr.offset:function ms(z){if("string"==typeof z)return null;let _=null;if(Array.isArray(z))z.forEach(E=>{if(E instanceof Map&&E.has("offset")){const R=E;_=parseFloat(R.get("offset")),R.delete("offset")}});else if(z instanceof Map&&z.has("offset")){const E=z;_=parseFloat(E.get("offset")),E.delete("offset")}return _}(Fr.styles),Ur=0;return null!=Xn&&(ie++,Ur=Fr.offset=Xn),ze=ze||Ur<0||Ur>1,Ce=Ce||Ur<ot,ot=Ur,ve.push(Ur),Fr});ze&&E.errors.push(function O(){return new k.vHH(3012,!1)}()),Ce&&E.errors.push(function Be(){return new k.vHH(3200,!1)}());const Rt=_.steps.length;let Dn=0;ie>0&&ie<Rt?E.errors.push(function be(){return new k.vHH(3202,!1)}()):0==ie&&(Dn=1/(Rt-1));const dn=Rt-1,Pt=E.currentTime,sn=E.currentAnimateTimings,nn=sn.duration;return Tt.forEach((Ln,Fr)=>{const Xn=Dn>0?Fr==dn?1:Dn*Fr:ve[Fr],Ur=Xn*nn;E.currentTime=Pt+sn.delay+Ur,sn.duration=Ur,this._validateStyleAst(Ln,E),Ln.offset=Xn,R.styles.push(Ln)}),R}visitReference(_,E){return{type:8,animation:Vr(this,st(_.animation),E),options:ei(_.options)}}visitAnimateChild(_,E){return E.depCount++,{type:9,options:ei(_.options)}}visitAnimateRef(_,E){return{type:10,animation:this.visitReference(_.animation,E),options:ei(_.options)}}visitQuery(_,E){const R=E.currentQuerySelector,G=_.options||{};E.queryCount++,E.currentQuery=_;const[ie,ve]=function pi(z){const _=!!z.split(/\s*,\s*/).find(E=>":self"==E);return _&&(z=z.replace(vn,"")),z=z.replace(/@\*/g,se).replace(/@\w+/g,E=>se+"-"+E.slice(1)).replace(/:animating/g,X),[z,_]}(_.selector);E.currentQuerySelector=R.length?R+" "+ie:ie,It(E.collectedStyles,E.currentQuerySelector,new Map);const Ce=Vr(this,st(_.animation),E);return E.currentQuery=null,E.currentQuerySelector=R,{type:11,selector:ie,limit:G.limit||0,optional:!!G.optional,includeSelf:ve,animation:Ce,originalSelector:_.selector,options:ei(_.options)}}visitStagger(_,E){E.currentQuery||E.errors.push(function Me(){return new k.vHH(3013,!1)}());const R="full"===_.timings?{duration:0,delay:0,easing:"full"}:je(_.timings,E.errors,!0);return{type:12,animation:Vr(this,st(_.animation),E),timings:R,options:null}}}class gs{constructor(_){this.errors=_,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ei(z){return z?(z=mt(z)).params&&(z.params=function Yr(z){return z?mt(z):null}(z.params)):z={},z}function li(z,_,E){return{duration:z,delay:_,easing:E}}function Qn(z,_,E,R,G,ie,ve=null,Ce=!1){return{type:1,element:z,keyframes:_,preStyleProps:E,postStyleProps:R,duration:G,delay:ie,totalTime:G+ie,easing:ve,subTimeline:Ce}}class si{constructor(){this._map=new Map}get(_){return this._map.get(_)||[]}append(_,E){let R=this._map.get(_);R||this._map.set(_,R=[]),R.push(...E)}has(_){return this._map.has(_)}clear(){this._map.clear()}}const Nn=new RegExp(":enter","g"),Or=new RegExp(":leave","g");function gn(z,_,E,R,G,ie=new Map,ve=new Map,Ce,ze,ot=[]){return(new Ms).buildKeyframes(z,_,E,R,G,ie,ve,Ce,ze,ot)}class Ms{buildKeyframes(_,E,R,G,ie,ve,Ce,ze,ot,Tt=[]){ot=ot||new si;const Rt=new gr(_,E,ot,G,ie,Tt,[]);Rt.options=ze;const Dn=ze.delay?ae(ze.delay):0;Rt.currentTimeline.delayNextStep(Dn),Rt.currentTimeline.setStyles([ve],null,Rt.errors,ze),Vr(this,R,Rt);const dn=Rt.timelines.filter(Pt=>Pt.containsAnimation());if(dn.length&&Ce.size){let Pt;for(let sn=dn.length-1;sn>=0;sn--){const nn=dn[sn];if(nn.element===E){Pt=nn;break}}Pt&&!Pt.allowOnlyTimelineStyles()&&Pt.setStyles([Ce],null,Rt.errors,ze)}return dn.length?dn.map(Pt=>Pt.buildKeyframes()):[Qn(E,[],[],[],0,Dn,"",!1)]}visitTrigger(_,E){}visitState(_,E){}visitTransition(_,E){}visitAnimateChild(_,E){const R=E.subInstructions.get(E.element);if(R){const G=E.createSubContext(_.options),ie=E.currentTimeline.currentTime,ve=this._visitSubInstructions(R,G,G.options);ie!=ve&&E.transformIntoNewTimeline(ve)}E.previousNode=_}visitAnimateRef(_,E){const R=E.createSubContext(_.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([_.options,_.animation.options],E,R),this.visitReference(_.animation,R),E.transformIntoNewTimeline(R.currentTimeline.currentTime),E.previousNode=_}_applyAnimationRefDelays(_,E,R){for(const G of _){const ie=G?.delay;if(ie){const ve="number"==typeof ie?ie:ae(Kr(ie,G?.params??{},E.errors));R.delayNextStep(ve)}}}_visitSubInstructions(_,E,R){let ie=E.currentTimeline.currentTime;const ve=null!=R.duration?ae(R.duration):null,Ce=null!=R.delay?ae(R.delay):null;return 0!==ve&&_.forEach(ze=>{const ot=E.appendInstructionToTimeline(ze,ve,Ce);ie=Math.max(ie,ot.duration+ot.delay)}),ie}visitReference(_,E){E.updateOptions(_.options,!0),Vr(this,_.animation,E),E.previousNode=_}visitSequence(_,E){const R=E.subContextCount;let G=E;const ie=_.options;if(ie&&(ie.params||ie.delay)&&(G=E.createSubContext(ie),G.transformIntoNewTimeline(),null!=ie.delay)){6==G.previousNode.type&&(G.currentTimeline.snapshotCurrentStyles(),G.previousNode=zr);const ve=ae(ie.delay);G.delayNextStep(ve)}_.steps.length&&(_.steps.forEach(ve=>Vr(this,ve,G)),G.currentTimeline.applyStylesToKeyframe(),G.subContextCount>R&&G.transformIntoNewTimeline()),E.previousNode=_}visitGroup(_,E){const R=[];let G=E.currentTimeline.currentTime;const ie=_.options&&_.options.delay?ae(_.options.delay):0;_.steps.forEach(ve=>{const Ce=E.createSubContext(_.options);ie&&Ce.delayNextStep(ie),Vr(this,ve,Ce),G=Math.max(G,Ce.currentTimeline.currentTime),R.push(Ce.currentTimeline)}),R.forEach(ve=>E.currentTimeline.mergeTimelineCollectedStyles(ve)),E.transformIntoNewTimeline(G),E.previousNode=_}_visitTiming(_,E){if(_.dynamic){const R=_.strValue;return je(E.params?Kr(R,E.params,E.errors):R,E.errors)}return{duration:_.duration,delay:_.delay,easing:_.easing}}visitAnimate(_,E){const R=E.currentAnimateTimings=this._visitTiming(_.timings,E),G=E.currentTimeline;R.delay&&(E.incrementTime(R.delay),G.snapshotCurrentStyles());const ie=_.style;5==ie.type?this.visitKeyframes(ie,E):(E.incrementTime(R.duration),this.visitStyle(ie,E),G.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=_}visitStyle(_,E){const R=E.currentTimeline,G=E.currentAnimateTimings;!G&&R.hasCurrentStyleProperties()&&R.forwardFrame();const ie=G&&G.easing||_.easing;_.isEmptyStep?R.applyEmptyStep(ie):R.setStyles(_.styles,ie,E.errors,E.options),E.previousNode=_}visitKeyframes(_,E){const R=E.currentAnimateTimings,G=E.currentTimeline.duration,ie=R.duration,Ce=E.createSubContext().currentTimeline;Ce.easing=R.easing,_.styles.forEach(ze=>{Ce.forwardTime((ze.offset||0)*ie),Ce.setStyles(ze.styles,ze.easing,E.errors,E.options),Ce.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(Ce),E.transformIntoNewTimeline(G+ie),E.previousNode=_}visitQuery(_,E){const R=E.currentTimeline.currentTime,G=_.options||{},ie=G.delay?ae(G.delay):0;ie&&(6===E.previousNode.type||0==R&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=zr);let ve=R;const Ce=E.invokeQuery(_.selector,_.originalSelector,_.limit,_.includeSelf,!!G.optional,E.errors);E.currentQueryTotal=Ce.length;let ze=null;Ce.forEach((ot,Tt)=>{E.currentQueryIndex=Tt;const Rt=E.createSubContext(_.options,ot);ie&&Rt.delayNextStep(ie),ot===E.element&&(ze=Rt.currentTimeline),Vr(this,_.animation,Rt),Rt.currentTimeline.applyStylesToKeyframe(),ve=Math.max(ve,Rt.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(ve),ze&&(E.currentTimeline.mergeTimelineCollectedStyles(ze),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=_}visitStagger(_,E){const R=E.parentContext,G=E.currentTimeline,ie=_.timings,ve=Math.abs(ie.duration),Ce=ve*(E.currentQueryTotal-1);let ze=ve*E.currentQueryIndex;switch(ie.duration<0?"reverse":ie.easing){case"reverse":ze=Ce-ze;break;case"full":ze=R.currentStaggerTime}const Tt=E.currentTimeline;ze&&Tt.delayNextStep(ze);const Rt=Tt.currentTime;Vr(this,_.animation,E),E.previousNode=_,R.currentStaggerTime=G.currentTime-Rt+(G.startTime-R.currentTimeline.startTime)}}const zr={};class gr{constructor(_,E,R,G,ie,ve,Ce,ze){this._driver=_,this.element=E,this.subInstructions=R,this._enterClassName=G,this._leaveClassName=ie,this.errors=ve,this.timelines=Ce,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=ze||new ui(this._driver,E,0),Ce.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(_,E){if(!_)return;const R=_;let G=this.options;null!=R.duration&&(G.duration=ae(R.duration)),null!=R.delay&&(G.delay=ae(R.delay));const ie=R.params;if(ie){let ve=G.params;ve||(ve=this.options.params={}),Object.keys(ie).forEach(Ce=>{(!E||!ve.hasOwnProperty(Ce))&&(ve[Ce]=Kr(ie[Ce],ve,this.errors))})}}_copyOptions(){const _={};if(this.options){const E=this.options.params;if(E){const R=_.params={};Object.keys(E).forEach(G=>{R[G]=E[G]})}}return _}createSubContext(_=null,E,R){const G=E||this.element,ie=new gr(this._driver,G,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(G,R||0));return ie.previousNode=this.previousNode,ie.currentAnimateTimings=this.currentAnimateTimings,ie.options=this._copyOptions(),ie.updateOptions(_),ie.currentQueryIndex=this.currentQueryIndex,ie.currentQueryTotal=this.currentQueryTotal,ie.parentContext=this,this.subContextCount++,ie}transformIntoNewTimeline(_){return this.previousNode=zr,this.currentTimeline=this.currentTimeline.fork(this.element,_),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(_,E,R){const G={duration:E??_.duration,delay:this.currentTimeline.currentTime+(R??0)+_.delay,easing:""},ie=new Vn(this._driver,_.element,_.keyframes,_.preStyleProps,_.postStyleProps,G,_.stretchStartingKeyframe);return this.timelines.push(ie),G}incrementTime(_){this.currentTimeline.forwardTime(this.currentTimeline.duration+_)}delayNextStep(_){_>0&&this.currentTimeline.delayNextStep(_)}invokeQuery(_,E,R,G,ie,ve){let Ce=[];if(G&&Ce.push(this.element),_.length>0){_=(_=_.replace(Nn,"."+this._enterClassName)).replace(Or,"."+this._leaveClassName);let ot=this._driver.query(this.element,_,1!=R);0!==R&&(ot=R<0?ot.slice(ot.length+R,ot.length):ot.slice(0,R)),Ce.push(...ot)}return!ie&&0==Ce.length&&ve.push(function Fe(z){return new k.vHH(3014,!1)}()),Ce}}class ui{constructor(_,E,R,G){this._driver=_,this.element=E,this.startTime=R,this._elementTimelineStylesLookup=G,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(_){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+_),E&&this.snapshotCurrentStyles()):this.startTime+=_}fork(_,E){return this.applyStylesToKeyframe(),new ui(this._driver,_,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(_){this.applyStylesToKeyframe(),this.duration=_,this._loadKeyframe()}_updateStyle(_,E){this._localTimelineStyles.set(_,E),this._globalTimelineStyles.set(_,E),this._styleSummary.set(_,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(_){_&&this._previousKeyframe.set("easing",_);for(let[E,R]of this._globalTimelineStyles)this._backFill.set(E,R||J.l3),this._currentKeyframe.set(E,J.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(_,E,R,G){E&&this._previousKeyframe.set("easing",E);const ie=G&&G.params||{},ve=function dr(z,_){const E=new Map;let R;return z.forEach(G=>{if("*"===G){R=R||_.keys();for(let ie of R)E.set(ie,J.l3)}else V(G,E)}),E}(_,this._globalTimelineStyles);for(let[Ce,ze]of ve){const ot=Kr(ze,ie,R);this._pendingStyles.set(Ce,ot),this._localTimelineStyles.has(Ce)||this._backFill.set(Ce,this._globalTimelineStyles.get(Ce)??J.l3),this._updateStyle(Ce,ot)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((_,E)=>{this._currentKeyframe.set(E,_)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((_,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,_)}))}snapshotCurrentStyles(){for(let[_,E]of this._localTimelineStyles)this._pendingStyles.set(_,E),this._updateStyle(_,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const _=[];for(let E in this._currentKeyframe)_.push(E);return _}mergeTimelineCollectedStyles(_){_._styleSummary.forEach((E,R)=>{const G=this._styleSummary.get(R);(!G||E.time>G.time)&&this._updateStyle(R,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const _=new Set,E=new Set,R=1===this._keyframes.size&&0===this.duration;let G=[];this._keyframes.forEach((Ce,ze)=>{const ot=V(Ce,new Map,this._backFill);ot.forEach((Tt,Rt)=>{Tt===J.k1?_.add(Rt):Tt===J.l3&&E.add(Rt)}),R||ot.set("offset",ze/this.duration),G.push(ot)});const ie=_.size?oi(_.values()):[],ve=E.size?oi(E.values()):[];if(R){const Ce=G[0],ze=new Map(Ce);Ce.set("offset",0),ze.set("offset",1),G=[Ce,ze]}return Qn(this.element,G,ie,ve,this.duration,this.startTime,this.easing,!1)}}class Vn extends ui{constructor(_,E,R,G,ie,ve,Ce=!1){super(_,E,ve.delay),this.keyframes=R,this.preStyleProps=G,this.postStyleProps=ie,this._stretchStartingKeyframe=Ce,this.timings={duration:ve.duration,delay:ve.delay,easing:ve.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let _=this.keyframes,{delay:E,duration:R,easing:G}=this.timings;if(this._stretchStartingKeyframe&&E){const ie=[],ve=R+E,Ce=E/ve,ze=V(_[0]);ze.set("offset",0),ie.push(ze);const ot=V(_[0]);ot.set("offset",_n(Ce)),ie.push(ot);const Tt=_.length-1;for(let Rt=1;Rt<=Tt;Rt++){let Dn=V(_[Rt]);const dn=Dn.get("offset");Dn.set("offset",_n((E+dn*R)/ve)),ie.push(Dn)}R=ve,E=0,G="",_=ie}return Qn(this.element,_,this.preStyleProps,this.postStyleProps,R,E,G,!0)}}function _n(z,_=3){const E=Math.pow(10,_-1);return Math.round(z*E)/E}class Rs{}const Ti=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class _s extends Rs{normalizePropertyName(_,E){return hr(_)}normalizeStyleValue(_,E,R,G){let ie="";const ve=R.toString().trim();if(Ti.has(E)&&0!==R&&"0"!==R)if("number"==typeof R)ie="px";else{const Ce=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Ce&&0==Ce[1].length&&G.push(function Qe(z,_){return new k.vHH(3005,!1)}())}return ve+ie}}function as(z,_,E,R,G,ie,ve,Ce,ze,ot,Tt,Rt,Dn){return{type:0,element:z,triggerName:_,isRemovalTransition:G,fromState:E,fromStyles:ie,toState:R,toStyles:ve,timelines:Ce,queriedElements:ze,preStyleProps:ot,postStyleProps:Tt,totalTime:Rt,errors:Dn}}const ys={};class Vi{constructor(_,E,R){this._triggerName=_,this.ast=E,this._stateStyles=R}match(_,E,R,G){return function uo(z,_,E,R,G){return z.some(ie=>ie(_,E,R,G))}(this.ast.matchers,_,E,R,G)}buildStyles(_,E,R){let G=this._stateStyles.get("*");return void 0!==_&&(G=this._stateStyles.get(_?.toString())||G),G?G.buildStyles(E,R):new Map}build(_,E,R,G,ie,ve,Ce,ze,ot,Tt){const Rt=[],Dn=this.ast.options&&this.ast.options.params||ys,Pt=this.buildStyles(R,Ce&&Ce.params||ys,Rt),sn=ze&&ze.params||ys,nn=this.buildStyles(G,sn,Rt),Ln=new Set,Fr=new Map,Xn=new Map,Ur="void"===G,Ki={params:ji(sn,Dn),delay:this.ast.options?.delay},Zi=Tt?[]:gn(_,E,this.ast.animation,ie,ve,Pt,nn,Ki,ot,Rt);let Tr=0;if(Zi.forEach(B=>{Tr=Math.max(B.duration+B.delay,Tr)}),Rt.length)return as(E,this._triggerName,R,G,Ur,Pt,nn,[],[],Fr,Xn,Tr,Rt);Zi.forEach(B=>{const S=B.element,Z=It(Fr,S,new Set);B.preStyleProps.forEach(We=>Z.add(We));const he=It(Xn,S,new Set);B.postStyleProps.forEach(We=>he.add(We)),S!==E&&Ln.add(S)});const C=oi(Ln.values());return as(E,this._triggerName,R,G,Ur,Pt,nn,Zi,C,Fr,Xn,Tr)}}function ji(z,_){const E=mt(_);for(const R in z)z.hasOwnProperty(R)&&null!=z[R]&&(E[R]=z[R]);return E}class ls{constructor(_,E,R){this.styles=_,this.defaultParams=E,this.normalizer=R}buildStyles(_,E){const R=new Map,G=mt(this.defaultParams);return Object.keys(_).forEach(ie=>{const ve=_[ie];null!==ve&&(G[ie]=ve)}),this.styles.styles.forEach(ie=>{"string"!=typeof ie&&ie.forEach((ve,Ce)=>{ve&&(ve=Kr(ve,G,E));const ze=this.normalizer.normalizePropertyName(Ce,E);ve=this.normalizer.normalizeStyleValue(Ce,ze,ve,E),R.set(Ce,ve)})}),R}}class Bo{constructor(_,E,R){this.name=_,this.ast=E,this._normalizer=R,this.transitionFactories=[],this.states=new Map,E.states.forEach(G=>{this.states.set(G.name,new ls(G.style,G.options&&G.options.params||{},R))}),Ps(this.states,"true","1"),Ps(this.states,"false","0"),E.transitions.forEach(G=>{this.transitionFactories.push(new Vi(_,G,this.states))}),this.fallbackTransition=function co(z,_,E){return new Vi(z,{type:1,animation:{type:2,steps:[],options:null},matchers:[(ve,Ce)=>!0],options:null,queryCount:0,depCount:0},_)}(_,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(_,E,R,G){return this.transitionFactories.find(ve=>ve.match(_,E,R,G))||null}matchStyles(_,E,R){return this.fallbackTransition.buildStyles(_,E,R)}}function Ps(z,_,E){z.has(_)?z.has(E)||z.set(E,z.get(_)):z.has(E)&&z.set(_,z.get(E))}const Nr=new si;class bn{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(_,E){const R=[],ie=As(this._driver,E,R,[]);if(R.length)throw function $t(z){return new k.vHH(3503,!1)}();this._animations.set(_,ie)}_buildPlayer(_,E,R){const G=_.element,ie=ln(0,this._normalizer,0,_.keyframes,E,R);return this._driver.animate(G,ie,_.duration,_.delay,_.easing,[],!0)}create(_,E,R={}){const G=[],ie=this._animations.get(_);let ve;const Ce=new Map;if(ie?(ve=gn(this._driver,E,ie,oe,j,new Map,new Map,R,Nr,G),ve.forEach(Tt=>{const Rt=It(Ce,Tt.element,new Map);Tt.postStyleProps.forEach(Dn=>Rt.set(Dn,null))})):(G.push(function zt(){return new k.vHH(3300,!1)}()),ve=[]),G.length)throw function xt(z){return new k.vHH(3504,!1)}();Ce.forEach((Tt,Rt)=>{Tt.forEach((Dn,dn)=>{Tt.set(dn,this._driver.computeStyle(Rt,dn,J.l3))})});const ot=cr(ve.map(Tt=>{const Rt=Ce.get(Tt.element);return this._buildPlayer(Tt,new Map,Rt)}));return this._playersById.set(_,ot),ot.onDestroy(()=>this.destroy(_)),this.players.push(ot),ot}destroy(_){const E=this._getPlayer(_);E.destroy(),this._playersById.delete(_);const R=this.players.indexOf(E);R>=0&&this.players.splice(R,1)}_getPlayer(_){const E=this._playersById.get(_);if(!E)throw function fn(z){return new k.vHH(3301,!1)}();return E}listen(_,E,R,G){const ie=ar(E,"","","");return kn(this._getPlayer(_),R,ie,G),()=>{}}command(_,E,R,G){if("register"==R)return void this.register(_,G[0]);if("create"==R)return void this.create(_,E,G[0]||{});const ie=this._getPlayer(_);switch(R){case"play":ie.play();break;case"pause":ie.pause();break;case"reset":ie.reset();break;case"restart":ie.restart();break;case"finish":ie.finish();break;case"init":ie.init();break;case"setPosition":ie.setPosition(parseFloat(G[0]));break;case"destroy":this.destroy(_)}}}const Os="ng-animate-queued",es="ng-animate-disabled",us=[],jr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ws={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$r="__ng_removed";class cs{get params(){return this.options.params}constructor(_,E=""){this.namespaceId=E;const R=_&&_.hasOwnProperty("value");if(this.value=function Kn(z){return z??null}(R?_.value:_),R){const ie=mt(_);delete ie.value,this.options=ie}else this.options={};this.options.params||(this.options.params={})}absorbOptions(_){const E=_.params;if(E){const R=this.options.params;Object.keys(E).forEach(G=>{null==R[G]&&(R[G]=E[G])})}}}const zs="void",Oi=new cs(zs);class vs{constructor(_,E,R){this.id=_,this.hostElement=E,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+_,xr(E,this._hostClassName)}listen(_,E,R,G){if(!this._triggers.has(E))throw function Ft(z,_){return new k.vHH(3302,!1)}();if(null==R||0==R.length)throw function ur(z){return new k.vHH(3303,!1)}();if(!function Ni(z){return"start"==z||"done"==z}(R))throw function Vt(z,_){return new k.vHH(3400,!1)}();const ie=It(this._elementListeners,_,[]),ve={name:E,phase:R,callback:G};ie.push(ve);const Ce=It(this._engine.statesByElement,_,new Map);return Ce.has(E)||(xr(_,W),xr(_,W+"-"+E),Ce.set(E,Oi)),()=>{this._engine.afterFlush(()=>{const ze=ie.indexOf(ve);ze>=0&&ie.splice(ze,1),this._triggers.has(E)||Ce.delete(E)})}}register(_,E){return!this._triggers.has(_)&&(this._triggers.set(_,E),!0)}_getTrigger(_){const E=this._triggers.get(_);if(!E)throw function en(z){return new k.vHH(3401,!1)}();return E}trigger(_,E,R,G=!0){const ie=this._getTrigger(E),ve=new lr(this.id,E,_);let Ce=this._engine.statesByElement.get(_);Ce||(xr(_,W),xr(_,W+"-"+E),this._engine.statesByElement.set(_,Ce=new Map));let ze=Ce.get(E);const ot=new cs(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&ze&&ot.absorbOptions(ze.options),Ce.set(E,ot),ze||(ze=Oi),ot.value!==zs&&ze.value===ot.value){if(!function yi(z,_){const E=Object.keys(z),R=Object.keys(_);if(E.length!=R.length)return!1;for(let G=0;G<E.length;G++){const ie=E[G];if(!_.hasOwnProperty(ie)||z[ie]!==_[ie])return!1}return!0}(ze.params,ot.params)){const sn=[],nn=ie.matchStyles(ze.value,ze.params,sn),Ln=ie.matchStyles(ot.value,ot.params,sn);sn.length?this._engine.reportError(sn):this._engine.afterFlush(()=>{Te(_,nn),ne(_,Ln)})}return}const Dn=It(this._engine.playersByElement,_,[]);Dn.forEach(sn=>{sn.namespaceId==this.id&&sn.triggerName==E&&sn.queued&&sn.destroy()});let dn=ie.matchTransition(ze.value,ot.value,_,ot.params),Pt=!1;if(!dn){if(!G)return;dn=ie.fallbackTransition,Pt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:E,transition:dn,fromState:ze,toState:ot,player:ve,isFallbackTransition:Pt}),Pt||(xr(_,Os),ve.onStart(()=>{mr(_,Os)})),ve.onDone(()=>{let sn=this.players.indexOf(ve);sn>=0&&this.players.splice(sn,1);const nn=this._engine.playersByElement.get(_);if(nn){let Ln=nn.indexOf(ve);Ln>=0&&nn.splice(Ln,1)}}),this.players.push(ve),Dn.push(ve),ve}deregister(_){this._triggers.delete(_),this._engine.statesByElement.forEach(E=>E.delete(_)),this._elementListeners.forEach((E,R)=>{this._elementListeners.set(R,E.filter(G=>G.name!=_))})}clearElementCache(_){this._engine.statesByElement.delete(_),this._elementListeners.delete(_);const E=this._engine.playersByElement.get(_);E&&(E.forEach(R=>R.destroy()),this._engine.playersByElement.delete(_))}_signalRemovalForInnerTriggers(_,E){const R=this._engine.driver.query(_,se,!0);R.forEach(G=>{if(G[$r])return;const ie=this._engine.fetchNamespacesByElement(G);ie.size?ie.forEach(ve=>ve.triggerLeaveAnimation(G,E,!1,!0)):this.clearElementCache(G)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(G=>this.clearElementCache(G)))}triggerLeaveAnimation(_,E,R,G){const ie=this._engine.statesByElement.get(_),ve=new Map;if(ie){const Ce=[];if(ie.forEach((ze,ot)=>{if(ve.set(ot,ze.value),this._triggers.has(ot)){const Tt=this.trigger(_,ot,zs,G);Tt&&Ce.push(Tt)}}),Ce.length)return this._engine.markElementAsRemoved(this.id,_,!0,E,ve),R&&cr(Ce).onDone(()=>this._engine.processLeaveNode(_)),!0}return!1}prepareLeaveAnimationListeners(_){const E=this._elementListeners.get(_),R=this._engine.statesByElement.get(_);if(E&&R){const G=new Set;E.forEach(ie=>{const ve=ie.name;if(G.has(ve))return;G.add(ve);const ze=this._triggers.get(ve).fallbackTransition,ot=R.get(ve)||Oi,Tt=new cs(zs),Rt=new lr(this.id,ve,_);this._engine.totalQueuedPlayers++,this._queue.push({element:_,triggerName:ve,transition:ze,fromState:ot,toState:Tt,player:Rt,isFallbackTransition:!0})})}}removeNode(_,E){const R=this._engine;if(_.childElementCount&&this._signalRemovalForInnerTriggers(_,E),this.triggerLeaveAnimation(_,E,!0))return;let G=!1;if(R.totalAnimations){const ie=R.players.length?R.playersByQueriedElement.get(_):[];if(ie&&ie.length)G=!0;else{let ve=_;for(;ve=ve.parentNode;)if(R.statesByElement.get(ve)){G=!0;break}}}if(this.prepareLeaveAnimationListeners(_),G)R.markElementAsRemoved(this.id,_,!1,E);else{const ie=_[$r];(!ie||ie===jr)&&(R.afterFlush(()=>this.clearElementCache(_)),R.destroyInnerAnimations(_),R._onRemovalComplete(_,E))}}insertNode(_,E){xr(_,this._hostClassName)}drainQueuedTransitions(_){const E=[];return this._queue.forEach(R=>{const G=R.player;if(G.destroyed)return;const ie=R.element,ve=this._elementListeners.get(ie);ve&&ve.forEach(Ce=>{if(Ce.name==R.triggerName){const ze=ar(ie,R.triggerName,R.fromState.value,R.toState.value);ze._data=_,kn(R.player,Ce.phase,ze,Ce.callback)}}),G.markedForDestroy?this._engine.afterFlush(()=>{G.destroy()}):E.push(R)}),this._queue=[],E.sort((R,G)=>{const ie=R.transition.ast.depCount,ve=G.transition.ast.depCount;return 0==ie||0==ve?ie-ve:this._engine.driver.containsElement(R.element,G.element)?1:-1})}destroy(_){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,_)}elementContainsData(_){let E=!1;return this._elementListeners.has(_)&&(E=!0),E=!!this._queue.find(R=>R.element===_)||E,E}}class di{_onRemovalComplete(_,E){this.onRemovalComplete(_,E)}constructor(_,E,R){this.bodyNode=_,this.driver=E,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(G,ie)=>{}}get queuedPlayers(){const _=[];return this._namespaceList.forEach(E=>{E.players.forEach(R=>{R.queued&&_.push(R)})}),_}createNamespace(_,E){const R=new vs(_,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(R,E):(this.newHostElements.set(E,R),this.collectEnterElement(E)),this._namespaceLookup[_]=R}_balanceNamespaceList(_,E){const R=this._namespaceList,G=this.namespacesByHostElement;if(R.length-1>=0){let ve=!1,Ce=this.driver.getParentElement(E);for(;Ce;){const ze=G.get(Ce);if(ze){const ot=R.indexOf(ze);R.splice(ot+1,0,_),ve=!0;break}Ce=this.driver.getParentElement(Ce)}ve||R.unshift(_)}else R.push(_);return G.set(E,_),_}register(_,E){let R=this._namespaceLookup[_];return R||(R=this.createNamespace(_,E)),R}registerTrigger(_,E,R){let G=this._namespaceLookup[_];G&&G.register(E,R)&&this.totalAnimations++}destroy(_,E){if(!_)return;const R=this._fetchNamespace(_);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[_];const G=this._namespaceList.indexOf(R);G>=0&&this._namespaceList.splice(G,1)}),this.afterFlushAnimationsDone(()=>R.destroy(E))}_fetchNamespace(_){return this._namespaceLookup[_]}fetchNamespacesByElement(_){const E=new Set,R=this.statesByElement.get(_);if(R)for(let G of R.values())if(G.namespaceId){const ie=this._fetchNamespace(G.namespaceId);ie&&E.add(ie)}return E}trigger(_,E,R,G){if(ds(E)){const ie=this._fetchNamespace(_);if(ie)return ie.trigger(E,R,G),!0}return!1}insertNode(_,E,R,G){if(!ds(E))return;const ie=E[$r];if(ie&&ie.setForRemoval){ie.setForRemoval=!1,ie.setForMove=!0;const ve=this.collectedLeaveElements.indexOf(E);ve>=0&&this.collectedLeaveElements.splice(ve,1)}if(_){const ve=this._fetchNamespace(_);ve&&ve.insertNode(E,R)}G&&this.collectEnterElement(E)}collectEnterElement(_){this.collectedEnterElements.push(_)}markElementAsDisabled(_,E){E?this.disabledNodes.has(_)||(this.disabledNodes.add(_),xr(_,es)):this.disabledNodes.has(_)&&(this.disabledNodes.delete(_),mr(_,es))}removeNode(_,E,R,G){if(ds(E)){const ie=_?this._fetchNamespace(_):null;if(ie?ie.removeNode(E,G):this.markElementAsRemoved(_,E,!1,G),R){const ve=this.namespacesByHostElement.get(E);ve&&ve.id!==_&&ve.removeNode(E,G)}}else this._onRemovalComplete(E,G)}markElementAsRemoved(_,E,R,G,ie){this.collectedLeaveElements.push(E),E[$r]={namespaceId:_,setForRemoval:G,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:ie}}listen(_,E,R,G,ie){return ds(E)?this._fetchNamespace(_).listen(E,R,G,ie):()=>{}}_buildInstruction(_,E,R,G,ie){return _.transition.build(this.driver,_.element,_.fromState.value,_.toState.value,R,G,_.fromState.options,_.toState.options,E,ie)}destroyInnerAnimations(_){let E=this.driver.query(_,se,!0);E.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(_,X,!0),E.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(_){const E=this.playersByElement.get(_);E&&E.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(_){const E=this.playersByQueriedElement.get(_);E&&E.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(_=>{if(this.players.length)return cr(this.players).onDone(()=>_());_()})}processLeaveNode(_){const E=_[$r];if(E&&E.setForRemoval){if(_[$r]=jr,E.namespaceId){this.destroyInnerAnimations(_);const R=this._fetchNamespace(E.namespaceId);R&&R.clearElementCache(_)}this._onRemovalComplete(_,E.setForRemoval)}_.classList?.contains(es)&&this.markElementAsDisabled(_,!1),this.driver.query(_,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(_=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,G)=>this._balanceNamespaceList(R,G)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)xr(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{E=this._flushAnimations(R,_)}finally{for(let G=0;G<R.length;G++)R[G]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],E.length?cr(E).onDone(()=>{R.forEach(G=>G())}):R.forEach(G=>G())}}reportError(_){throw function Ir(z){return new k.vHH(3402,!1)}()}_flushAnimations(_,E){const R=new si,G=[],ie=new Map,ve=[],Ce=new Map,ze=new Map,ot=new Map,Tt=new Set;this.disabledNodes.forEach(pt=>{Tt.add(pt);const vt=this.driver.query(pt,".ng-animate-queued",!0);for(let bt=0;bt<vt.length;bt++)Tt.add(vt[bt])});const Rt=this.bodyNode,Dn=Array.from(this.statesByElement.keys()),dn=hs(Dn,this.collectedEnterElements),Pt=new Map;let sn=0;dn.forEach((pt,vt)=>{const bt=oe+sn++;Pt.set(vt,bt),pt.forEach(St=>xr(St,bt))});const nn=[],Ln=new Set,Fr=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const vt=this.collectedLeaveElements[pt],bt=vt[$r];bt&&bt.setForRemoval&&(nn.push(vt),Ln.add(vt),bt.hasAnimation?this.driver.query(vt,".ng-star-inserted",!0).forEach(St=>Ln.add(St)):Fr.add(vt))}const Xn=new Map,Ur=hs(Dn,Array.from(Ln));Ur.forEach((pt,vt)=>{const bt=j+sn++;Xn.set(vt,bt),pt.forEach(St=>xr(St,bt))}),_.push(()=>{dn.forEach((pt,vt)=>{const bt=Pt.get(vt);pt.forEach(St=>mr(St,bt))}),Ur.forEach((pt,vt)=>{const bt=Xn.get(vt);pt.forEach(St=>mr(St,bt))}),nn.forEach(pt=>{this.processLeaveNode(pt)})});const Ki=[],Zi=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(E).forEach(bt=>{const St=bt.player,Rn=bt.element;if(Ki.push(St),this.collectedEnterElements.length){const _r=Rn[$r];if(_r&&_r.setForMove){if(_r.previousTriggersValues&&_r.previousTriggersValues.has(bt.triggerName)){const Li=_r.previousTriggersValues.get(bt.triggerName),Jr=this.statesByElement.get(bt.element);if(Jr&&Jr.has(bt.triggerName)){const Ys=Jr.get(bt.triggerName);Ys.value=Li,Jr.set(bt.triggerName,Ys)}}return void St.destroy()}}const mn=!Rt||!this.driver.containsElement(Rt,Rn),Fn=Xn.get(Rn),An=Pt.get(Rn),jn=this._buildInstruction(bt,R,An,Fn,mn);if(jn.errors&&jn.errors.length)return void Zi.push(jn);if(mn)return St.onStart(()=>Te(Rn,jn.fromStyles)),St.onDestroy(()=>ne(Rn,jn.toStyles)),void G.push(St);if(bt.isFallbackTransition)return St.onStart(()=>Te(Rn,jn.fromStyles)),St.onDestroy(()=>ne(Rn,jn.toStyles)),void G.push(St);const Ii=[];jn.timelines.forEach(_r=>{_r.stretchStartingKeyframe=!0,this.disabledNodes.has(_r.element)||Ii.push(_r)}),jn.timelines=Ii,R.append(Rn,jn.timelines),ve.push({instruction:jn,player:St,element:Rn}),jn.queriedElements.forEach(_r=>It(Ce,_r,[]).push(St)),jn.preStyleProps.forEach((_r,Li)=>{if(_r.size){let Jr=ze.get(Li);Jr||ze.set(Li,Jr=new Set),_r.forEach((Ys,qs)=>Jr.add(qs))}}),jn.postStyleProps.forEach((_r,Li)=>{let Jr=ot.get(Li);Jr||ot.set(Li,Jr=new Set),_r.forEach((Ys,qs)=>Jr.add(qs))})});if(Zi.length){const pt=[];Zi.forEach(vt=>{pt.push(function In(z,_){return new k.vHH(3505,!1)}())}),Ki.forEach(vt=>vt.destroy()),this.reportError(pt)}const Tr=new Map,C=new Map;ve.forEach(pt=>{const vt=pt.element;R.has(vt)&&(C.set(vt,vt),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Tr))}),G.forEach(pt=>{const vt=pt.element;this._getPreviousPlayers(vt,!1,pt.namespaceId,pt.triggerName,null).forEach(St=>{It(Tr,vt,[]).push(St),St.destroy()})});const B=nn.filter(pt=>cn(pt,ze,ot)),S=new Map;or(S,this.driver,Fr,ot,J.l3).forEach(pt=>{cn(pt,ze,ot)&&B.push(pt)});const he=new Map;dn.forEach((pt,vt)=>{or(he,this.driver,new Set(pt),ze,J.k1)}),B.forEach(pt=>{const vt=S.get(pt),bt=he.get(pt);S.set(pt,new Map([...Array.from(vt?.entries()??[]),...Array.from(bt?.entries()??[])]))});const We=[],it=[],At={};ve.forEach(pt=>{const{element:vt,player:bt,instruction:St}=pt;if(R.has(vt)){if(Tt.has(vt))return bt.onDestroy(()=>ne(vt,St.toStyles)),bt.disabled=!0,bt.overrideTotalTime(St.totalTime),void G.push(bt);let Rn=At;if(C.size>1){let Fn=vt;const An=[];for(;Fn=Fn.parentNode;){const jn=C.get(Fn);if(jn){Rn=jn;break}An.push(Fn)}An.forEach(jn=>C.set(jn,Rn))}const mn=this._buildAnimation(bt.namespaceId,St,Tr,ie,he,S);if(bt.setRealPlayer(mn),Rn===At)We.push(bt);else{const Fn=this.playersByElement.get(Rn);Fn&&Fn.length&&(bt.parentPlayer=cr(Fn)),G.push(bt)}}else Te(vt,St.fromStyles),bt.onDestroy(()=>ne(vt,St.toStyles)),it.push(bt),Tt.has(vt)&&G.push(bt)}),it.forEach(pt=>{const vt=ie.get(pt.element);if(vt&&vt.length){const bt=cr(vt);pt.setRealPlayer(bt)}}),G.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<nn.length;pt++){const vt=nn[pt],bt=vt[$r];if(mr(vt,j),bt&&bt.hasAnimation)continue;let St=[];if(Ce.size){let mn=Ce.get(vt);mn&&mn.length&&St.push(...mn);let Fn=this.driver.query(vt,X,!0);for(let An=0;An<Fn.length;An++){let jn=Ce.get(Fn[An]);jn&&jn.length&&St.push(...jn)}}const Rn=St.filter(mn=>!mn.destroyed);Rn.length?Is(this,vt,Rn):this.processLeaveNode(vt)}return nn.length=0,We.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const vt=this.players.indexOf(pt);this.players.splice(vt,1)}),pt.play()}),We}elementContainsData(_,E){let R=!1;const G=E[$r];return G&&G.setForRemoval&&(R=!0),this.playersByElement.has(E)&&(R=!0),this.playersByQueriedElement.has(E)&&(R=!0),this.statesByElement.has(E)&&(R=!0),this._fetchNamespace(_).elementContainsData(E)||R}afterFlush(_){this._flushFns.push(_)}afterFlushAnimationsDone(_){this._whenQuietFns.push(_)}_getPreviousPlayers(_,E,R,G,ie){let ve=[];if(E){const Ce=this.playersByQueriedElement.get(_);Ce&&(ve=Ce)}else{const Ce=this.playersByElement.get(_);if(Ce){const ze=!ie||ie==zs;Ce.forEach(ot=>{ot.queued||!ze&&ot.triggerName!=G||ve.push(ot)})}}return(R||G)&&(ve=ve.filter(Ce=>!(R&&R!=Ce.namespaceId||G&&G!=Ce.triggerName))),ve}_beforeAnimationBuild(_,E,R){const ie=E.element,ve=E.isRemovalTransition?void 0:_,Ce=E.isRemovalTransition?void 0:E.triggerName;for(const ze of E.timelines){const ot=ze.element,Tt=ot!==ie,Rt=It(R,ot,[]);this._getPreviousPlayers(ot,Tt,ve,Ce,E.toState).forEach(dn=>{const Pt=dn.getRealPlayer();Pt.beforeDestroy&&Pt.beforeDestroy(),dn.destroy(),Rt.push(dn)})}Te(ie,E.fromStyles)}_buildAnimation(_,E,R,G,ie,ve){const Ce=E.triggerName,ze=E.element,ot=[],Tt=new Set,Rt=new Set,Dn=E.timelines.map(Pt=>{const sn=Pt.element;Tt.add(sn);const nn=sn[$r];if(nn&&nn.removedBeforeQueried)return new J.ZN(Pt.duration,Pt.delay);const Ln=sn!==ze,Fr=function ti(z){const _=[];return qr(z,_),_}((R.get(sn)||us).map(Tr=>Tr.getRealPlayer())).filter(Tr=>!!Tr.element&&Tr.element===sn),Xn=ie.get(sn),Ur=ve.get(sn),Ki=ln(0,this._normalizer,0,Pt.keyframes,Xn,Ur),Zi=this._buildPlayer(Pt,Ki,Fr);if(Pt.subTimeline&&G&&Rt.add(sn),Ln){const Tr=new lr(_,Ce,sn);Tr.setRealPlayer(Zi),ot.push(Tr)}return Zi});ot.forEach(Pt=>{It(this.playersByQueriedElement,Pt.element,[]).push(Pt),Pt.onDone(()=>function Es(z,_,E){let R=z.get(_);if(R){if(R.length){const G=R.indexOf(E);R.splice(G,1)}0==R.length&&z.delete(_)}return R}(this.playersByQueriedElement,Pt.element,Pt))}),Tt.forEach(Pt=>xr(Pt,ke));const dn=cr(Dn);return dn.onDestroy(()=>{Tt.forEach(Pt=>mr(Pt,ke)),ne(ze,E.toStyles)}),Rt.forEach(Pt=>{It(G,Pt,[]).push(dn)}),dn}_buildPlayer(_,E,R){return E.length>0?this.driver.animate(_.element,E,_.duration,_.delay,_.easing,R):new J.ZN(_.duration,_.delay)}}class lr{constructor(_,E,R){this.namespaceId=_,this.triggerName=E,this.element=R,this._player=new J.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(_){this._containsRealPlayer||(this._player=_,this._queuedCallbacks.forEach((E,R)=>{E.forEach(G=>kn(_,R,void 0,G))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(_.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(_){this.totalTime=_}syncPlayerEvents(_){const E=this._player;E.triggerCallback&&_.onStart(()=>E.triggerCallback("start")),_.onDone(()=>this.finish()),_.onDestroy(()=>this.destroy())}_queueEvent(_,E){It(this._queuedCallbacks,_,[]).push(E)}onDone(_){this.queued&&this._queueEvent("done",_),this._player.onDone(_)}onStart(_){this.queued&&this._queueEvent("start",_),this._player.onStart(_)}onDestroy(_){this.queued&&this._queueEvent("destroy",_),this._player.onDestroy(_)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(_){this.queued||this._player.setPosition(_)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(_){const E=this._player;E.triggerCallback&&E.triggerCallback(_)}}function ds(z){return z&&1===z.nodeType}function Lr(z,_){const E=z.style.display;return z.style.display=_??"none",E}function or(z,_,E,R,G){const ie=[];E.forEach(ze=>ie.push(Lr(ze)));const ve=[];R.forEach((ze,ot)=>{const Tt=new Map;ze.forEach(Rt=>{const Dn=_.computeStyle(ot,Rt,G);Tt.set(Rt,Dn),(!Dn||0==Dn.length)&&(ot[$r]=Ws,ve.push(ot))}),z.set(ot,Tt)});let Ce=0;return E.forEach(ze=>Lr(ze,ie[Ce++])),ve}function hs(z,_){const E=new Map;if(z.forEach(Ce=>E.set(Ce,[])),0==_.length)return E;const G=new Set(_),ie=new Map;function ve(Ce){if(!Ce)return 1;let ze=ie.get(Ce);if(ze)return ze;const ot=Ce.parentNode;return ze=E.has(ot)?ot:G.has(ot)?1:ve(ot),ie.set(Ce,ze),ze}return _.forEach(Ce=>{const ze=ve(Ce);1!==ze&&E.get(ze).push(Ce)}),E}function xr(z,_){z.classList?.add(_)}function mr(z,_){z.classList?.remove(_)}function Is(z,_,E){cr(E).onDone(()=>z.processLeaveNode(_))}function qr(z,_){for(let E=0;E<z.length;E++){const R=z[E];R instanceof J.ZE?qr(R.players,_):_.push(R)}}function cn(z,_,E){const R=E.get(z);if(!R)return!1;let G=_.get(z);return G?R.forEach(ie=>G.add(ie)):_.set(z,R),E.delete(z),!0}class Si{constructor(_,E,R){this.bodyNode=_,this._driver=E,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(G,ie)=>{},this._transitionEngine=new di(_,E,R),this._timelineEngine=new bn(_,E,R),this._transitionEngine.onRemovalComplete=(G,ie)=>this.onRemovalComplete(G,ie)}registerTrigger(_,E,R,G,ie){const ve=_+"-"+G;let Ce=this._triggerCache[ve];if(!Ce){const ze=[],Tt=As(this._driver,ie,ze,[]);if(ze.length)throw function an(z,_){return new k.vHH(3404,!1)}();Ce=function $i(z,_,E){return new Bo(z,_,E)}(G,Tt,this._normalizer),this._triggerCache[ve]=Ce}this._transitionEngine.registerTrigger(E,G,Ce)}register(_,E){this._transitionEngine.register(_,E)}destroy(_,E){this._transitionEngine.destroy(_,E)}onInsert(_,E,R,G){this._transitionEngine.insertNode(_,E,R,G)}onRemove(_,E,R,G){this._transitionEngine.removeNode(_,E,G||!1,R)}disableAnimations(_,E){this._transitionEngine.markElementAsDisabled(_,E)}process(_,E,R,G){if("@"==R.charAt(0)){const[ie,ve]=br(R);this._timelineEngine.command(ie,E,ve,G)}else this._transitionEngine.trigger(_,E,R,G)}listen(_,E,R,G,ie){if("@"==R.charAt(0)){const[ve,Ce]=br(R);return this._timelineEngine.listen(ve,E,Ce,ie)}return this._transitionEngine.listen(_,E,R,G,ie)}flush(_=-1){this._transitionEngine.flush(_)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ho=(()=>{class z{constructor(E,R,G){this._element=E,this._startStyles=R,this._endStyles=G,this._state=0;let ie=z.initialStylesByElement.get(E);ie||z.initialStylesByElement.set(E,ie=new Map),this._initialStyles=ie}start(){this._state<1&&(this._startStyles&&ne(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ne(this._element,this._initialStyles),this._endStyles&&(ne(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(z.initialStylesByElement.delete(this._element),this._startStyles&&(Te(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Te(this._element,this._endStyles),this._endStyles=null),ne(this._element,this._initialStyles),this._state=3)}}return z.initialStylesByElement=new WeakMap,z})();function fr(z){let _=null;return z.forEach((E,R)=>{(function Ns(z){return"display"===z||"position"===z})(R)&&(_=_||new Map,_.set(R,E))}),_}class fo{constructor(_,E,R,G){this.element=_,this.keyframes=E,this.options=R,this._specialStyles=G,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(_=>_()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const _=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,_,this.options),this._finalKeyframe=_.length?_[_.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(_){const E=[];return _.forEach(R=>{E.push(Object.fromEntries(R))}),E}_triggerWebAnimation(_,E,R){return _.animate(this._convertKeyframesToObject(E),R)}onStart(_){this._originalOnStartFns.push(_),this._onStartFns.push(_)}onDone(_){this._originalOnDoneFns.push(_),this._onDoneFns.push(_)}onDestroy(_){this._onDestroyFns.push(_)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(_=>_()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(_=>_()),this._onDestroyFns=[])}setPosition(_){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=_*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const _=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,G)=>{"offset"!==G&&_.set(G,this._finished?R:Hn(this.element,G))}),this.currentSnapshot=_}triggerCallback(_){const E="start"===_?this._onStartFns:this._onDoneFns;E.forEach(R=>R()),E.length=0}}class Gs{validateStyleProperty(_){return!0}validateAnimatableStyleProperty(_){return!0}matchesElement(_,E){return!1}containsElement(_,E){return rr(_,E)}getParentElement(_){return Rr(_)}query(_,E,R){return pr(_,E,R)}computeStyle(_,E,R){return window.getComputedStyle(_)[E]}animate(_,E,R,G,ie,ve=[]){const ze={duration:R,delay:G,fill:0==G?"both":"forwards"};ie&&(ze.easing=ie);const ot=new Map,Tt=ve.filter(dn=>dn instanceof fo);(function js(z,_){return 0===z||0===_})(R,G)&&Tt.forEach(dn=>{dn.currentSnapshot.forEach((Pt,sn)=>ot.set(sn,Pt))});let Rt=function qt(z){return z.length?z[0]instanceof Map?z:z.map(_=>Gt(_)):[]}(E).map(dn=>V(dn));Rt=function Ci(z,_,E){if(E.size&&_.length){let R=_[0],G=[];if(E.forEach((ie,ve)=>{R.has(ve)||G.push(ve),R.set(ve,ie)}),G.length)for(let ie=1;ie<_.length;ie++){let ve=_[ie];G.forEach(Ce=>ve.set(Ce,Hn(z,Ce)))}}return _}(_,Rt,ot);const Dn=function Qt(z,_){let E=null,R=null;return Array.isArray(_)&&_.length?(E=fr(_[0]),_.length>1&&(R=fr(_[_.length-1]))):_ instanceof Map&&(E=fr(_)),E||R?new ho(z,E,R):null}(_,Rt);return new fo(_,Rt,ze,Dn)}}var xs=P(6895);let Ks=(()=>{class z extends J._j{constructor(E,R){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(R.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(E){const R=this._nextAnimationId.toString();this._nextAnimationId++;const G=Array.isArray(E)?(0,J.vP)(E):E;return xn(this._renderer,null,R,"register",[G]),new bs(R,this._renderer)}}return z.\u0275fac=function(E){return new(E||z)(k.LFG(k.FYo),k.LFG(xs.K0))},z.\u0275prov=k.Yz7({token:z,factory:z.\u0275fac}),z})();class bs extends J.LC{constructor(_,E){super(),this._id=_,this._renderer=E}create(_,E){return new nt(this._id,_,E||{},this._renderer)}}class nt{constructor(_,E,R,G){this.id=_,this.element=E,this._renderer=G,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(_,E){return this._renderer.listen(this.element,`@@${this.id}:${_}`,E)}_command(_,...E){return xn(this._renderer,this.element,this.id,_,E)}onDone(_){this._listen("done",_)}onStart(_){this._listen("start",_)}onDestroy(_){this._listen("destroy",_)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(_){this._command("setPosition",_)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function xn(z,_,E,R,G){return z.setProperty(_,`@@${E}:${R}`,G)}const Ds="@.disabled";let ni=(()=>{class z{constructor(E,R,G){this.delegate=E,this.engine=R,this._zone=G,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(ie,ve)=>{const Ce=ve?.parentNode(ie);Ce&&ve.removeChild(Ce,ie)}}createRenderer(E,R){const ie=this.delegate.createRenderer(E,R);if(!(E&&R&&R.data&&R.data.animation)){let Tt=this._rendererCache.get(ie);return Tt||(Tt=new ts("",ie,this.engine,()=>this._rendererCache.delete(ie)),this._rendererCache.set(ie,Tt)),Tt}const ve=R.id,Ce=R.id+"-"+this._currentId;this._currentId++,this.engine.register(Ce,E);const ze=Tt=>{Array.isArray(Tt)?Tt.forEach(ze):this.engine.registerTrigger(ve,Ce,E,Tt.name,Tt)};return R.data.animation.forEach(ze),new po(this,Ce,ie,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,R,G){E>=0&&E<this._microtaskId?this._zone.run(()=>R(G)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(ie=>{const[ve,Ce]=ie;ve(Ce)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,G]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return z.\u0275fac=function(E){return new(E||z)(k.LFG(k.FYo),k.LFG(Si),k.LFG(k.R0b))},z.\u0275prov=k.Yz7({token:z,factory:z.\u0275fac}),z})();class ts{constructor(_,E,R,G){this.namespaceId=_,this.delegate=E,this.engine=R,this._onDestroy=G,this.destroyNode=this.delegate.destroyNode?ie=>E.destroyNode(ie):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(_,E){return this.delegate.createElement(_,E)}createComment(_){return this.delegate.createComment(_)}createText(_){return this.delegate.createText(_)}appendChild(_,E){this.delegate.appendChild(_,E),this.engine.onInsert(this.namespaceId,E,_,!1)}insertBefore(_,E,R,G=!0){this.delegate.insertBefore(_,E,R),this.engine.onInsert(this.namespaceId,E,_,G)}removeChild(_,E,R){this.engine.onRemove(this.namespaceId,E,this.delegate,R)}selectRootElement(_,E){return this.delegate.selectRootElement(_,E)}parentNode(_){return this.delegate.parentNode(_)}nextSibling(_){return this.delegate.nextSibling(_)}setAttribute(_,E,R,G){this.delegate.setAttribute(_,E,R,G)}removeAttribute(_,E,R){this.delegate.removeAttribute(_,E,R)}addClass(_,E){this.delegate.addClass(_,E)}removeClass(_,E){this.delegate.removeClass(_,E)}setStyle(_,E,R,G){this.delegate.setStyle(_,E,R,G)}removeStyle(_,E,R){this.delegate.removeStyle(_,E,R)}setProperty(_,E,R){"@"==E.charAt(0)&&E==Ds?this.disableAnimations(_,!!R):this.delegate.setProperty(_,E,R)}setValue(_,E){this.delegate.setValue(_,E)}listen(_,E,R){return this.delegate.listen(_,E,R)}disableAnimations(_,E){this.engine.disableAnimations(_,E)}}class po extends ts{constructor(_,E,R,G,ie){super(E,R,G,ie),this.factory=_,this.namespaceId=E}setProperty(_,E,R){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Ds?this.disableAnimations(_,R=void 0===R||!!R):this.engine.process(this.namespaceId,_,E.slice(1),R):this.delegate.setProperty(_,E,R)}listen(_,E,R){if("@"==E.charAt(0)){const G=function Ei(z){switch(z){case"body":return document.body;case"document":return document;case"window":return window;default:return z}}(_);let ie=E.slice(1),ve="";return"@"!=ie.charAt(0)&&([ie,ve]=function go(z){const _=z.indexOf(".");return[z.substring(0,_),z.slice(_+1)]}(ie)),this.engine.listen(this.namespaceId,G,ie,ve,Ce=>{this.factory.scheduleListenerCallback(Ce._data||-1,R,Ce)})}return this.delegate.listen(_,E,R)}}const Ls=[{provide:J._j,useClass:Ks},{provide:Rs,useFactory:function Ho(){return new _s}},{provide:Si,useClass:(()=>{class z extends Si{constructor(E,R,G,ie){super(E.body,R,G)}ngOnDestroy(){this.flush()}}return z.\u0275fac=function(E){return new(E||z)(k.LFG(xs.K0),k.LFG(Yt),k.LFG(Rs),k.LFG(k.z2F))},z.\u0275prov=k.Yz7({token:z,factory:z.\u0275fac}),z})()},{provide:k.FYo,useFactory:function Zs(z,_,E){return new ni(z,_,E)},deps:[f.se,Si,k.R0b]}],wr=[{provide:Yt,useFactory:()=>new Gs},{provide:k.QbO,useValue:"BrowserAnimations"},...Ls],Qr=[{provide:Yt,useClass:Hr},{provide:k.QbO,useValue:"NoopAnimations"},...Ls];let zi=(()=>{class z{static withConfig(E){return{ngModule:z,providers:E.disableAnimations?Qr:wr}}}return z.\u0275fac=function(E){return new(E||z)},z.\u0275mod=k.oAB({type:z}),z.\u0275inj=k.cJS({providers:wr,imports:[f.b2]}),z})();var _o=P(529);class Gi{}Gi.\u0275fac=function(_){return new(_||Gi)},Gi.\u0275mod=k.oAB({type:Gi,bootstrap:[Ee]}),Gi.\u0275inj=k.cJS({imports:[f.b2,ge,_o.JF,zi,$.hO.initializeApp({projectId:"bikes-andina",appId:"1:721762585909:web:0b940aafca7dc8c82b507c",databaseURL:"https://bikes-andina-default-rtdb.firebaseio.com",storageBucket:"bikes-andina.appspot.com",apiKey:"AIzaSyBh2U3nD7TZpfo8FbKS2zji9-oC-Uwd-70",authDomain:"bikes-andina.firebaseapp.com",messagingSenderId:"721762585909",measurementId:"G-J54PMJLN35"}),fe.JS,me.XK]}),(0,k.G48)(),f.q6().bootstrapModule(Gi).catch(z=>console.error(z))},1135:(yt,Oe,P)=>{P.d(Oe,{X:()=>k});var f=P(7579);class k extends f.x{constructor(fe){super(),this._value=fe}get value(){return this.getValue()}_subscribe(fe){const me=super._subscribe(fe);return!me.closed&&fe.next(this._value),me}getValue(){const{hasError:fe,thrownError:me,_value:_e}=this;if(fe)throw me;return this._throwIfClosed(),_e}next(fe){super.next(this._value=fe)}}},9751:(yt,Oe,P)=>{P.d(Oe,{y:()=>ge});var f=P(930),k=P(727),$=P(8822),fe=P(9635),me=P(2416),_e=P(576),Se=P(2806);let ge=(()=>{class le{constructor($e){$e&&(this._subscribe=$e)}lift($e){const at=new le;return at.source=this,at.operator=$e,at}subscribe($e,at,gt){const Le=function ue(le){return le&&le instanceof f.Lv||function J(le){return le&&(0,_e.m)(le.next)&&(0,_e.m)(le.error)&&(0,_e.m)(le.complete)}(le)&&(0,k.Nn)(le)}($e)?$e:new f.Hp($e,at,gt);return(0,Se.x)(()=>{const{operator:Qe,source:qe}=this;Le.add(Qe?Qe.call(Le,qe):qe?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe($e){try{return this._subscribe($e)}catch(at){$e.error(at)}}forEach($e,at){return new(at=Ee(at))((gt,Le)=>{const Qe=new f.Hp({next:qe=>{try{$e(qe)}catch(Ye){Le(Ye),Qe.unsubscribe()}},error:Le,complete:gt});this.subscribe(Qe)})}_subscribe($e){var at;return null===(at=this.source)||void 0===at?void 0:at.subscribe($e)}[$.L](){return this}pipe(...$e){return(0,fe.U)($e)(this)}toPromise($e){return new($e=Ee($e))((at,gt)=>{let Le;this.subscribe(Qe=>Le=Qe,Qe=>gt(Qe),()=>at(Le))})}}return le.create=Ke=>new le(Ke),le})();function Ee(le){var Ke;return null!==(Ke=le??me.v.Promise)&&void 0!==Ke?Ke:Promise}},7579:(yt,Oe,P)=>{P.d(Oe,{x:()=>Se});var f=P(9751),k=P(727);const fe=(0,P(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var me=P(8737),_e=P(2806);let Se=(()=>{class Ee extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const le=new ge(this,this);return le.operator=ue,le}_throwIfClosed(){if(this.closed)throw new fe}next(ue){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const le of this.currentObservers)le.next(ue)}})}error(ue){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:le}=this;for(;le.length;)le.shift().error(ue)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:le,isStopped:Ke,observers:$e}=this;return le||Ke?k.Lc:(this.currentObservers=null,$e.push(ue),new k.w0(()=>{this.currentObservers=null,(0,me.P)($e,ue)}))}_checkFinalizedStatuses(ue){const{hasError:le,thrownError:Ke,isStopped:$e}=this;le?ue.error(Ke):$e&&ue.complete()}asObservable(){const ue=new f.y;return ue.source=this,ue}}return Ee.create=(J,ue)=>new ge(J,ue),Ee})();class ge extends Se{constructor(J,ue){super(),this.destination=J,this.source=ue}next(J){var ue,le;null===(le=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===le||le.call(ue,J)}error(J){var ue,le;null===(le=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===le||le.call(ue,J)}complete(){var J,ue;null===(ue=null===(J=this.destination)||void 0===J?void 0:J.complete)||void 0===ue||ue.call(J)}_subscribe(J){var ue,le;return null!==(le=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(J))&&void 0!==le?le:k.Lc}}},930:(yt,Oe,P)=>{P.d(Oe,{Hp:()=>gt,Lv:()=>le});var f=P(576),k=P(727),$=P(2416),fe=P(7849),me=P(5032);const _e=Ee("C",void 0,void 0);function Ee(He,de,Ve){return{kind:He,value:de,error:Ve}}var J=P(3410),ue=P(2806);class le extends k.w0{constructor(de){super(),this.isStopped=!1,de?(this.destination=de,(0,k.Nn)(de)&&de.add(this)):this.destination=Ye}static create(de,Ve,et){return new gt(de,Ve,et)}next(de){this.isStopped?qe(function ge(He){return Ee("N",He,void 0)}(de),this):this._next(de)}error(de){this.isStopped?qe(function Se(He){return Ee("E",void 0,He)}(de),this):(this.isStopped=!0,this._error(de))}complete(){this.isStopped?qe(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(de){this.destination.next(de)}_error(de){try{this.destination.error(de)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ke=Function.prototype.bind;function $e(He,de){return Ke.call(He,de)}class at{constructor(de){this.partialObserver=de}next(de){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(de)}catch(et){Le(et)}}error(de){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(de)}catch(et){Le(et)}else Le(de)}complete(){const{partialObserver:de}=this;if(de.complete)try{de.complete()}catch(Ve){Le(Ve)}}}class gt extends le{constructor(de,Ve,et){let tt;if(super(),(0,f.m)(de)||!de)tt={next:de??void 0,error:Ve??void 0,complete:et??void 0};else{let O;this&&$.v.useDeprecatedNextContext?(O=Object.create(de),O.unsubscribe=()=>this.unsubscribe(),tt={next:de.next&&$e(de.next,O),error:de.error&&$e(de.error,O),complete:de.complete&&$e(de.complete,O)}):tt=de}this.destination=new at(tt)}}function Le(He){$.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(He):(0,fe.h)(He)}function qe(He,de){const{onStoppedNotification:Ve}=$.v;Ve&&J.z.setTimeout(()=>Ve(He,de))}const Ye={closed:!0,next:me.Z,error:function Qe(He){throw He},complete:me.Z}},727:(yt,Oe,P)=>{P.d(Oe,{Lc:()=>_e,w0:()=>me,Nn:()=>Se});var f=P(576);const $=(0,P(3888).d)(Ee=>function(ue){Ee(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((le,Ke)=>`${Ke+1}) ${le.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var fe=P(8737);class me{constructor(J){this.initialTeardown=J,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let J;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const $e of ue)$e.remove(this);else ue.remove(this);const{initialTeardown:le}=this;if((0,f.m)(le))try{le()}catch($e){J=$e instanceof $?$e.errors:[$e]}const{_finalizers:Ke}=this;if(Ke){this._finalizers=null;for(const $e of Ke)try{ge($e)}catch(at){J=J??[],at instanceof $?J=[...J,...at.errors]:J.push(at)}}if(J)throw new $(J)}}add(J){var ue;if(J&&J!==this)if(this.closed)ge(J);else{if(J instanceof me){if(J.closed||J._hasParent(this))return;J._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(J)}}_hasParent(J){const{_parentage:ue}=this;return ue===J||Array.isArray(ue)&&ue.includes(J)}_addParent(J){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(J),ue):ue?[ue,J]:J}_removeParent(J){const{_parentage:ue}=this;ue===J?this._parentage=null:Array.isArray(ue)&&(0,fe.P)(ue,J)}remove(J){const{_finalizers:ue}=this;ue&&(0,fe.P)(ue,J),J instanceof me&&J._removeParent(this)}}me.EMPTY=(()=>{const Ee=new me;return Ee.closed=!0,Ee})();const _e=me.EMPTY;function Se(Ee){return Ee instanceof me||Ee&&"closed"in Ee&&(0,f.m)(Ee.remove)&&(0,f.m)(Ee.add)&&(0,f.m)(Ee.unsubscribe)}function ge(Ee){(0,f.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(yt,Oe,P)=>{P.d(Oe,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(yt,Oe,P)=>{P.d(Oe,{a:()=>J});var f=P(9751),k=P(4742),$=P(8996),fe=P(4671),me=P(3268),_e=P(3269),Se=P(1810),ge=P(5403),Ee=P(9672);function J(...Ke){const $e=(0,_e.yG)(Ke),at=(0,_e.jO)(Ke),{args:gt,keys:Le}=(0,k.D)(Ke);if(0===gt.length)return(0,$.D)([],$e);const Qe=new f.y(function ue(Ke,$e,at=fe.y){return gt=>{le($e,()=>{const{length:Le}=Ke,Qe=new Array(Le);let qe=Le,Ye=Le;for(let He=0;He<Le;He++)le($e,()=>{const de=(0,$.D)(Ke[He],$e);let Ve=!1;de.subscribe((0,ge.x)(gt,et=>{Qe[He]=et,Ve||(Ve=!0,Ye--),Ye||gt.next(at(Qe.slice()))},()=>{--qe||gt.complete()}))},gt)},gt)}}(gt,$e,Le?qe=>(0,Se.n)(Le,qe):fe.y));return at?Qe.pipe((0,me.Z)(at)):Qe}function le(Ke,$e,at){Ke?(0,Ee.f)(at,Ke,$e):$e()}},7272:(yt,Oe,P)=>{P.d(Oe,{z:()=>me});var f=P(8189),$=P(3269),fe=P(8996);function me(..._e){return function k(){return(0,f.J)(1)}()((0,fe.D)(_e,(0,$.yG)(_e)))}},9770:(yt,Oe,P)=>{P.d(Oe,{P:()=>$});var f=P(9751),k=P(8421);function $(fe){return new f.y(me=>{(0,k.Xf)(fe()).subscribe(me)})}},515:(yt,Oe,P)=>{P.d(Oe,{E:()=>k});const k=new(P(9751).y)(me=>me.complete())},8996:(yt,Oe,P)=>{P.d(Oe,{D:()=>de});var f=P(8421),k=P(5363),$=P(9468),_e=P(9751),ge=P(2202),Ee=P(576),J=P(9672);function le(Ve,et){if(!Ve)throw new Error("Iterable cannot be null");return new _e.y(tt=>{(0,J.f)(tt,et,()=>{const O=Ve[Symbol.asyncIterator]();(0,J.f)(tt,et,()=>{O.next().then(Be=>{Be.done?tt.complete():tt.next(Be.value)})},0,!0)})})}var Ke=P(3670),$e=P(8239),at=P(1144),gt=P(6495),Le=P(2206),Qe=P(4532),qe=P(3260);function de(Ve,et){return et?function He(Ve,et){if(null!=Ve){if((0,Ke.c)(Ve))return function fe(Ve,et){return(0,f.Xf)(Ve).pipe((0,$.R)(et),(0,k.Q)(et))}(Ve,et);if((0,at.z)(Ve))return function Se(Ve,et){return new _e.y(tt=>{let O=0;return et.schedule(function(){O===Ve.length?tt.complete():(tt.next(Ve[O++]),tt.closed||this.schedule())})})}(Ve,et);if((0,$e.t)(Ve))return function me(Ve,et){return(0,f.Xf)(Ve).pipe((0,$.R)(et),(0,k.Q)(et))}(Ve,et);if((0,Le.D)(Ve))return le(Ve,et);if((0,gt.T)(Ve))return function ue(Ve,et){return new _e.y(tt=>{let O;return(0,J.f)(tt,et,()=>{O=Ve[ge.h](),(0,J.f)(tt,et,()=>{let Be,be;try{({value:Be,done:be}=O.next())}catch(Me){return void tt.error(Me)}be?tt.complete():tt.next(Be)},0,!0)}),()=>(0,Ee.m)(O?.return)&&O.return()})}(Ve,et);if((0,qe.L)(Ve))return function Ye(Ve,et){return le((0,qe.Q)(Ve),et)}(Ve,et)}throw(0,Qe.z)(Ve)}(Ve,et):(0,f.Xf)(Ve)}},8421:(yt,Oe,P)=>{P.d(Oe,{Xf:()=>Ke});var f=P(655),k=P(1144),$=P(8239),fe=P(9751),me=P(3670),_e=P(2206),Se=P(4532),ge=P(6495),Ee=P(3260),J=P(576),ue=P(7849),le=P(8822);function Ke(He){if(He instanceof fe.y)return He;if(null!=He){if((0,me.c)(He))return function $e(He){return new fe.y(de=>{const Ve=He[le.L]();if((0,J.m)(Ve.subscribe))return Ve.subscribe(de);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(He);if((0,k.z)(He))return function at(He){return new fe.y(de=>{for(let Ve=0;Ve<He.length&&!de.closed;Ve++)de.next(He[Ve]);de.complete()})}(He);if((0,$.t)(He))return function gt(He){return new fe.y(de=>{He.then(Ve=>{de.closed||(de.next(Ve),de.complete())},Ve=>de.error(Ve)).then(null,ue.h)})}(He);if((0,_e.D)(He))return Qe(He);if((0,ge.T)(He))return function Le(He){return new fe.y(de=>{for(const Ve of He)if(de.next(Ve),de.closed)return;de.complete()})}(He);if((0,Ee.L)(He))return function qe(He){return Qe((0,Ee.Q)(He))}(He)}throw(0,Se.z)(He)}function Qe(He){return new fe.y(de=>{(function Ye(He,de){var Ve,et,tt,O;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,f.KL)(He);!(et=yield Ve.next()).done;)if(de.next(et.value),de.closed)return}catch(Be){tt={error:Be}}finally{try{et&&!et.done&&(O=Ve.return)&&(yield O.call(Ve))}finally{if(tt)throw tt.error}}de.complete()})})(He,de).catch(Ve=>de.error(Ve))})}},6451:(yt,Oe,P)=>{P.d(Oe,{T:()=>_e});var f=P(8189),k=P(8421),$=P(515),fe=P(3269),me=P(8996);function _e(...Se){const ge=(0,fe.yG)(Se),Ee=(0,fe._6)(Se,1/0),J=Se;return J.length?1===J.length?(0,k.Xf)(J[0]):(0,f.J)(Ee)((0,me.D)(J,ge)):$.E}},9646:(yt,Oe,P)=>{P.d(Oe,{of:()=>$});var f=P(3269),k=P(8996);function $(...fe){const me=(0,f.yG)(fe);return(0,k.D)(fe,me)}},2843:(yt,Oe,P)=>{P.d(Oe,{_:()=>$});var f=P(9751),k=P(576);function $(fe,me){const _e=(0,k.m)(fe)?fe:()=>fe,Se=ge=>ge.error(_e());return new f.y(me?ge=>me.schedule(Se,0,ge):Se)}},5403:(yt,Oe,P)=>{P.d(Oe,{x:()=>k});var f=P(930);function k(fe,me,_e,Se,ge){return new $(fe,me,_e,Se,ge)}class $ extends f.Lv{constructor(me,_e,Se,ge,Ee,J){super(me),this.onFinalize=Ee,this.shouldUnsubscribe=J,this._next=_e?function(ue){try{_e(ue)}catch(le){me.error(le)}}:super._next,this._error=ge?function(ue){try{ge(ue)}catch(le){me.error(le)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(ue){me.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var me;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(me=this.onFinalize)||void 0===me||me.call(this))}}}},262:(yt,Oe,P)=>{P.d(Oe,{K:()=>fe});var f=P(8421),k=P(5403),$=P(4482);function fe(me){return(0,$.e)((_e,Se)=>{let J,ge=null,Ee=!1;ge=_e.subscribe((0,k.x)(Se,void 0,void 0,ue=>{J=(0,f.Xf)(me(ue,fe(me)(_e))),ge?(ge.unsubscribe(),ge=null,J.subscribe(Se)):Ee=!0})),Ee&&(ge.unsubscribe(),ge=null,J.subscribe(Se))})}},4351:(yt,Oe,P)=>{P.d(Oe,{b:()=>$});var f=P(5577),k=P(576);function $(fe,me){return(0,k.m)(me)?(0,f.z)(fe,me,1):(0,f.z)(fe,1)}},8372:(yt,Oe,P)=>{P.d(Oe,{b:()=>fe});var f=P(4986),k=P(4482),$=P(5403);function fe(me,_e=f.z){return(0,k.e)((Se,ge)=>{let Ee=null,J=null,ue=null;const le=()=>{if(Ee){Ee.unsubscribe(),Ee=null;const $e=J;J=null,ge.next($e)}};function Ke(){const $e=ue+me,at=_e.now();if(at<$e)return Ee=this.schedule(void 0,$e-at),void ge.add(Ee);le()}Se.subscribe((0,$.x)(ge,$e=>{J=$e,ue=_e.now(),Ee||(Ee=_e.schedule(Ke,me),ge.add(Ee))},()=>{le(),ge.complete()},void 0,()=>{J=Ee=null}))})}},6590:(yt,Oe,P)=>{P.d(Oe,{d:()=>$});var f=P(4482),k=P(5403);function $(fe){return(0,f.e)((me,_e)=>{let Se=!1;me.subscribe((0,k.x)(_e,ge=>{Se=!0,_e.next(ge)},()=>{Se||_e.next(fe),_e.complete()}))})}},1884:(yt,Oe,P)=>{P.d(Oe,{x:()=>fe});var f=P(4671),k=P(4482),$=P(5403);function fe(_e,Se=f.y){return _e=_e??me,(0,k.e)((ge,Ee)=>{let J,ue=!0;ge.subscribe((0,$.x)(Ee,le=>{const Ke=Se(le);(ue||!_e(J,Ke))&&(ue=!1,J=Ke,Ee.next(le))}))})}function me(_e,Se){return _e===Se}},9300:(yt,Oe,P)=>{P.d(Oe,{h:()=>$});var f=P(4482),k=P(5403);function $(fe,me){return(0,f.e)((_e,Se)=>{let ge=0;_e.subscribe((0,k.x)(Se,Ee=>fe.call(me,Ee,ge++)&&Se.next(Ee)))})}},8746:(yt,Oe,P)=>{P.d(Oe,{x:()=>k});var f=P(4482);function k($){return(0,f.e)((fe,me)=>{try{fe.subscribe(me)}finally{me.add($)}})}},590:(yt,Oe,P)=>{P.d(Oe,{P:()=>Se});var f=P(6805),k=P(9300),$=P(5698),fe=P(6590),me=P(8068),_e=P(4671);function Se(ge,Ee){const J=arguments.length>=2;return ue=>ue.pipe(ge?(0,k.h)((le,Ke)=>ge(le,Ke,ue)):_e.y,(0,$.q)(1),J?(0,fe.d)(Ee):(0,me.T)(()=>new f.K))}},4004:(yt,Oe,P)=>{P.d(Oe,{U:()=>$});var f=P(4482),k=P(5403);function $(fe,me){return(0,f.e)((_e,Se)=>{let ge=0;_e.subscribe((0,k.x)(Se,Ee=>{Se.next(fe.call(me,Ee,ge++))}))})}},9718:(yt,Oe,P)=>{P.d(Oe,{h:()=>k});var f=P(4004);function k($){return(0,f.U)(()=>$)}},8189:(yt,Oe,P)=>{P.d(Oe,{J:()=>$});var f=P(5577),k=P(4671);function $(fe=1/0){return(0,f.z)(k.y,fe)}},5577:(yt,Oe,P)=>{P.d(Oe,{z:()=>ge});var f=P(4004),k=P(8421),$=P(4482),fe=P(9672),me=P(5403),Se=P(576);function ge(Ee,J,ue=1/0){return(0,Se.m)(J)?ge((le,Ke)=>(0,f.U)(($e,at)=>J(le,$e,Ke,at))((0,k.Xf)(Ee(le,Ke))),ue):("number"==typeof J&&(ue=J),(0,$.e)((le,Ke)=>function _e(Ee,J,ue,le,Ke,$e,at,gt){const Le=[];let Qe=0,qe=0,Ye=!1;const He=()=>{Ye&&!Le.length&&!Qe&&J.complete()},de=et=>Qe<le?Ve(et):Le.push(et),Ve=et=>{$e&&J.next(et),Qe++;let tt=!1;(0,k.Xf)(ue(et,qe++)).subscribe((0,me.x)(J,O=>{Ke?.(O),$e?de(O):J.next(O)},()=>{tt=!0},void 0,()=>{if(tt)try{for(Qe--;Le.length&&Qe<le;){const O=Le.shift();at?(0,fe.f)(J,at,()=>Ve(O)):Ve(O)}He()}catch(O){J.error(O)}}))};return Ee.subscribe((0,me.x)(J,de,()=>{Ye=!0,He()})),()=>{gt?.()}}(le,Ke,Ee,ue)))}},5363:(yt,Oe,P)=>{P.d(Oe,{Q:()=>fe});var f=P(9672),k=P(4482),$=P(5403);function fe(me,_e=0){return(0,k.e)((Se,ge)=>{Se.subscribe((0,$.x)(ge,Ee=>(0,f.f)(ge,me,()=>ge.next(Ee),_e),()=>(0,f.f)(ge,me,()=>ge.complete(),_e),Ee=>(0,f.f)(ge,me,()=>ge.error(Ee),_e)))})}},5026:(yt,Oe,P)=>{P.d(Oe,{R:()=>fe});var f=P(4482),k=P(5403);function $(me,_e,Se,ge,Ee){return(J,ue)=>{let le=Se,Ke=_e,$e=0;J.subscribe((0,k.x)(ue,at=>{const gt=$e++;Ke=le?me(Ke,at,gt):(le=!0,at),ge&&ue.next(Ke)},Ee&&(()=>{le&&ue.next(Ke),ue.complete()})))}}function fe(me,_e){return(0,f.e)($(me,_e,arguments.length>=2,!0))}},3099:(yt,Oe,P)=>{P.d(Oe,{B:()=>me});var f=P(8421),k=P(7579),$=P(930),fe=P(4482);function me(Se={}){const{connector:ge=(()=>new k.x),resetOnError:Ee=!0,resetOnComplete:J=!0,resetOnRefCountZero:ue=!0}=Se;return le=>{let Ke,$e,at,gt=0,Le=!1,Qe=!1;const qe=()=>{$e?.unsubscribe(),$e=void 0},Ye=()=>{qe(),Ke=at=void 0,Le=Qe=!1},He=()=>{const de=Ke;Ye(),de?.unsubscribe()};return(0,fe.e)((de,Ve)=>{gt++,!Qe&&!Le&&qe();const et=at=at??ge();Ve.add(()=>{gt--,0===gt&&!Qe&&!Le&&($e=_e(He,ue))}),et.subscribe(Ve),!Ke&&gt>0&&(Ke=new $.Hp({next:tt=>et.next(tt),error:tt=>{Qe=!0,qe(),$e=_e(Ye,Ee,tt),et.error(tt)},complete:()=>{Le=!0,qe(),$e=_e(Ye,J),et.complete()}}),(0,f.Xf)(de).subscribe(Ke))})(le)}}function _e(Se,ge,...Ee){if(!0===ge)return void Se();if(!1===ge)return;const J=new $.Hp({next:()=>{J.unsubscribe(),Se()}});return ge(...Ee).subscribe(J)}},8675:(yt,Oe,P)=>{P.d(Oe,{O:()=>fe});var f=P(7272),k=P(3269),$=P(4482);function fe(...me){const _e=(0,k.yG)(me);return(0,$.e)((Se,ge)=>{(_e?(0,f.z)(me,Se,_e):(0,f.z)(me,Se)).subscribe(ge)})}},9468:(yt,Oe,P)=>{P.d(Oe,{R:()=>k});var f=P(4482);function k($,fe=0){return(0,f.e)((me,_e)=>{_e.add($.schedule(()=>me.subscribe(_e),fe))})}},3900:(yt,Oe,P)=>{P.d(Oe,{w:()=>fe});var f=P(8421),k=P(4482),$=P(5403);function fe(me,_e){return(0,k.e)((Se,ge)=>{let Ee=null,J=0,ue=!1;const le=()=>ue&&!Ee&&ge.complete();Se.subscribe((0,$.x)(ge,Ke=>{Ee?.unsubscribe();let $e=0;const at=J++;(0,f.Xf)(me(Ke,at)).subscribe(Ee=(0,$.x)(ge,gt=>ge.next(_e?_e(Ke,gt,at,$e++):gt),()=>{Ee=null,le()}))},()=>{ue=!0,le()}))})}},5698:(yt,Oe,P)=>{P.d(Oe,{q:()=>fe});var f=P(515),k=P(4482),$=P(5403);function fe(me){return me<=0?()=>f.E:(0,k.e)((_e,Se)=>{let ge=0;_e.subscribe((0,$.x)(Se,Ee=>{++ge<=me&&(Se.next(Ee),me<=ge&&Se.complete())}))})}},2722:(yt,Oe,P)=>{P.d(Oe,{R:()=>me});var f=P(4482),k=P(5403),$=P(8421),fe=P(5032);function me(_e){return(0,f.e)((Se,ge)=>{(0,$.Xf)(_e).subscribe((0,k.x)(ge,()=>ge.complete(),fe.Z)),!ge.closed&&Se.subscribe(ge)})}},2529:(yt,Oe,P)=>{P.d(Oe,{o:()=>$});var f=P(4482),k=P(5403);function $(fe,me=!1){return(0,f.e)((_e,Se)=>{let ge=0;_e.subscribe((0,k.x)(Se,Ee=>{const J=fe(Ee,ge++);(J||me)&&Se.next(Ee),!J&&Se.complete()}))})}},8505:(yt,Oe,P)=>{P.d(Oe,{b:()=>me});var f=P(576),k=P(4482),$=P(5403),fe=P(4671);function me(_e,Se,ge){const Ee=(0,f.m)(_e)||Se||ge?{next:_e,error:Se,complete:ge}:_e;return Ee?(0,k.e)((J,ue)=>{var le;null===(le=Ee.subscribe)||void 0===le||le.call(Ee);let Ke=!0;J.subscribe((0,$.x)(ue,$e=>{var at;null===(at=Ee.next)||void 0===at||at.call(Ee,$e),ue.next($e)},()=>{var $e;Ke=!1,null===($e=Ee.complete)||void 0===$e||$e.call(Ee),ue.complete()},$e=>{var at;Ke=!1,null===(at=Ee.error)||void 0===at||at.call(Ee,$e),ue.error($e)},()=>{var $e,at;Ke&&(null===($e=Ee.unsubscribe)||void 0===$e||$e.call(Ee)),null===(at=Ee.finalize)||void 0===at||at.call(Ee)}))}):fe.y}},8068:(yt,Oe,P)=>{P.d(Oe,{T:()=>fe});var f=P(6805),k=P(4482),$=P(5403);function fe(_e=me){return(0,k.e)((Se,ge)=>{let Ee=!1;Se.subscribe((0,$.x)(ge,J=>{Ee=!0,ge.next(J)},()=>Ee?ge.complete():ge.error(_e())))})}function me(){return new f.K}},4408:(yt,Oe,P)=>{P.d(Oe,{o:()=>me});var f=P(727);class k extends f.w0{constructor(Se,ge){super()}schedule(Se,ge=0){return this}}const $={setInterval(_e,Se,...ge){const{delegate:Ee}=$;return Ee?.setInterval?Ee.setInterval(_e,Se,...ge):setInterval(_e,Se,...ge)},clearInterval(_e){const{delegate:Se}=$;return(Se?.clearInterval||clearInterval)(_e)},delegate:void 0};var fe=P(8737);class me extends k{constructor(Se,ge){super(Se,ge),this.scheduler=Se,this.work=ge,this.pending=!1}schedule(Se,ge=0){var Ee;if(this.closed)return this;this.state=Se;const J=this.id,ue=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(ue,J,ge)),this.pending=!0,this.delay=ge,this.id=null!==(Ee=this.id)&&void 0!==Ee?Ee:this.requestAsyncId(ue,this.id,ge),this}requestAsyncId(Se,ge,Ee=0){return $.setInterval(Se.flush.bind(Se,this),Ee)}recycleAsyncId(Se,ge,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ge;null!=ge&&$.clearInterval(ge)}execute(Se,ge){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(Se,ge);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,ge){let J,Ee=!1;try{this.work(Se)}catch(ue){Ee=!0,J=ue||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),J}unsubscribe(){if(!this.closed){const{id:Se,scheduler:ge}=this,{actions:Ee}=ge;this.work=this.state=this.scheduler=null,this.pending=!1,(0,fe.P)(Ee,this),null!=Se&&(this.id=this.recycleAsyncId(ge,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Oe,P)=>{P.d(Oe,{v:()=>$});var f=P(6063);class k{constructor(me,_e=k.now){this.schedulerActionCtor=me,this.now=_e}schedule(me,_e=0,Se){return new this.schedulerActionCtor(this,me).schedule(Se,_e)}}k.now=f.l.now;class $ extends k{constructor(me,_e=k.now){super(me,_e),this.actions=[],this._active=!1}flush(me){const{actions:_e}=this;if(this._active)return void _e.push(me);let Se;this._active=!0;do{if(Se=me.execute(me.state,me.delay))break}while(me=_e.shift());if(this._active=!1,Se){for(;me=_e.shift();)me.unsubscribe();throw Se}}}},4986:(yt,Oe,P)=>{P.d(Oe,{P:()=>fe,z:()=>$});var f=P(4408);const $=new(P(7565).v)(f.o),fe=$},6063:(yt,Oe,P)=>{P.d(Oe,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(yt,Oe,P)=>{P.d(Oe,{z:()=>f});const f={setTimeout(k,$,...fe){const{delegate:me}=f;return me?.setTimeout?me.setTimeout(k,$,...fe):setTimeout(k,$,...fe)},clearTimeout(k){const{delegate:$}=f;return($?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(yt,Oe,P)=>{P.d(Oe,{h:()=>k});const k=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Oe,P)=>{P.d(Oe,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(yt,Oe,P)=>{P.d(Oe,{K:()=>k});const k=(0,P(3888).d)($=>function(){$(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(yt,Oe,P)=>{P.d(Oe,{_6:()=>_e,jO:()=>fe,yG:()=>me});var f=P(576),k=P(3532);function $(Se){return Se[Se.length-1]}function fe(Se){return(0,f.m)($(Se))?Se.pop():void 0}function me(Se){return(0,k.K)($(Se))?Se.pop():void 0}function _e(Se,ge){return"number"==typeof $(Se)?Se.pop():ge}},4742:(yt,Oe,P)=>{P.d(Oe,{D:()=>me});const{isArray:f}=Array,{getPrototypeOf:k,prototype:$,keys:fe}=Object;function me(Se){if(1===Se.length){const ge=Se[0];if(f(ge))return{args:ge,keys:null};if(function _e(Se){return Se&&"object"==typeof Se&&k(Se)===$}(ge)){const Ee=fe(ge);return{args:Ee.map(J=>ge[J]),keys:Ee}}}return{args:Se,keys:null}}},8737:(yt,Oe,P)=>{function f(k,$){if(k){const fe=k.indexOf($);0<=fe&&k.splice(fe,1)}}P.d(Oe,{P:()=>f})},3888:(yt,Oe,P)=>{function f(k){const fe=k(me=>{Error.call(me),me.stack=(new Error).stack});return fe.prototype=Object.create(Error.prototype),fe.prototype.constructor=fe,fe}P.d(Oe,{d:()=>f})},1810:(yt,Oe,P)=>{function f(k,$){return k.reduce((fe,me,_e)=>(fe[me]=$[_e],fe),{})}P.d(Oe,{n:()=>f})},2806:(yt,Oe,P)=>{P.d(Oe,{O:()=>fe,x:()=>$});var f=P(2416);let k=null;function $(me){if(f.v.useDeprecatedSynchronousErrorHandling){const _e=!k;if(_e&&(k={errorThrown:!1,error:null}),me(),_e){const{errorThrown:Se,error:ge}=k;if(k=null,Se)throw ge}}else me()}function fe(me){f.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=me)}},9672:(yt,Oe,P)=>{function f(k,$,fe,me=0,_e=!1){const Se=$.schedule(function(){fe(),_e?k.add(this.schedule(null,me)):this.unsubscribe()},me);if(k.add(Se),!_e)return Se}P.d(Oe,{f:()=>f})},4671:(yt,Oe,P)=>{function f(k){return k}P.d(Oe,{y:()=>f})},1144:(yt,Oe,P)=>{P.d(Oe,{z:()=>f});const f=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(yt,Oe,P)=>{P.d(Oe,{D:()=>k});var f=P(576);function k($){return Symbol.asyncIterator&&(0,f.m)($?.[Symbol.asyncIterator])}},576:(yt,Oe,P)=>{function f(k){return"function"==typeof k}P.d(Oe,{m:()=>f})},3670:(yt,Oe,P)=>{P.d(Oe,{c:()=>$});var f=P(8822),k=P(576);function $(fe){return(0,k.m)(fe[f.L])}},6495:(yt,Oe,P)=>{P.d(Oe,{T:()=>$});var f=P(2202),k=P(576);function $(fe){return(0,k.m)(fe?.[f.h])}},8239:(yt,Oe,P)=>{P.d(Oe,{t:()=>k});var f=P(576);function k($){return(0,f.m)($?.then)}},3260:(yt,Oe,P)=>{P.d(Oe,{L:()=>fe,Q:()=>$});var f=P(655),k=P(576);function $(me){return(0,f.FC)(this,arguments,function*(){const Se=me.getReader();try{for(;;){const{value:ge,done:Ee}=yield(0,f.qq)(Se.read());if(Ee)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ge)}}finally{Se.releaseLock()}})}function fe(me){return(0,k.m)(me?.getReader)}},3532:(yt,Oe,P)=>{P.d(Oe,{K:()=>k});var f=P(576);function k($){return $&&(0,f.m)($.schedule)}},4482:(yt,Oe,P)=>{P.d(Oe,{A:()=>k,e:()=>$});var f=P(576);function k(fe){return(0,f.m)(fe?.lift)}function $(fe){return me=>{if(k(me))return me.lift(function(_e){try{return fe(_e,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,Oe,P)=>{P.d(Oe,{Z:()=>fe});var f=P(4004);const{isArray:k}=Array;function fe(me){return(0,f.U)(_e=>function $(me,_e){return k(_e)?me(..._e):me(_e)}(me,_e))}},5032:(yt,Oe,P)=>{function f(){}P.d(Oe,{Z:()=>f})},9635:(yt,Oe,P)=>{P.d(Oe,{U:()=>$,z:()=>k});var f=P(4671);function k(...fe){return $(fe)}function $(fe){return 0===fe.length?f.y:1===fe.length?fe[0]:function(_e){return fe.reduce((Se,ge)=>ge(Se),_e)}}},7849:(yt,Oe,P)=>{P.d(Oe,{h:()=>$});var f=P(2416),k=P(3410);function $(fe){k.z.setTimeout(()=>{const{onUnhandledError:me}=f.v;if(!me)throw fe;me(fe)})}},4532:(yt,Oe,P)=>{function f(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Oe,{z:()=>f})},655:(yt,Oe,P)=>{function fe(be,Me){var Fe={};for(var Ue in be)Object.prototype.hasOwnProperty.call(be,Ue)&&Me.indexOf(Ue)<0&&(Fe[Ue]=be[Ue]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(Ue=Object.getOwnPropertySymbols(be);ft<Ue.length;ft++)Me.indexOf(Ue[ft])<0&&Object.prototype.propertyIsEnumerable.call(be,Ue[ft])&&(Fe[Ue[ft]]=be[Ue[ft]])}return Fe}function ge(be,Me,Fe,Ue){return new(Fe||(Fe=Promise))(function(dt,Nt){function an(zt){try{$t(Ue.next(zt))}catch(xt){Nt(xt)}}function Bn(zt){try{$t(Ue.throw(zt))}catch(xt){Nt(xt)}}function $t(zt){zt.done?dt(zt.value):function ft(dt){return dt instanceof Fe?dt:new Fe(function(Nt){Nt(dt)})}(zt.value).then(an,Bn)}$t((Ue=Ue.apply(be,Me||[])).next())})}function Le(be){return this instanceof Le?(this.v=be,this):new Le(be)}function Qe(be,Me,Fe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,Ue=Fe.apply(be,Me||[]),dt=[];return ft={},Nt("next"),Nt("throw"),Nt("return"),ft[Symbol.asyncIterator]=function(){return this},ft;function Nt(fn){Ue[fn]&&(ft[fn]=function(Ft){return new Promise(function(ur,Vt){dt.push([fn,Ft,ur,Vt])>1||an(fn,Ft)})})}function an(fn,Ft){try{!function Bn(fn){fn.value instanceof Le?Promise.resolve(fn.value.v).then($t,zt):xt(dt[0][2],fn)}(Ue[fn](Ft))}catch(ur){xt(dt[0][3],ur)}}function $t(fn){an("next",fn)}function zt(fn){an("throw",fn)}function xt(fn,Ft){fn(Ft),dt.shift(),dt.length&&an(dt[0][0],dt[0][1])}}function Ye(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,Me=be[Symbol.asyncIterator];return Me?Me.call(be):(be=function le(be){var Me="function"==typeof Symbol&&Symbol.iterator,Fe=Me&&be[Me],Ue=0;if(Fe)return Fe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Ue>=be.length&&(be=void 0),{value:be&&be[Ue++],done:!be}}};throw new TypeError(Me?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Fe={},Ue("next"),Ue("throw"),Ue("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe);function Ue(dt){Fe[dt]=be[dt]&&function(Nt){return new Promise(function(an,Bn){!function ft(dt,Nt,an,Bn){Promise.resolve(Bn).then(function($t){dt({value:$t,done:an})},Nt)}(an,Bn,(Nt=be[dt](Nt)).done,Nt.value)})}}}P.d(Oe,{FC:()=>Qe,KL:()=>Ye,_T:()=>fe,mG:()=>ge,qq:()=>Le})},7340:(yt,Oe,P)=>{P.d(Oe,{F4:()=>J,IO:()=>at,LC:()=>k,SB:()=>Ee,X$:()=>fe,ZE:()=>qe,ZN:()=>Qe,_j:()=>f,eR:()=>ue,jt:()=>me,k1:()=>Ye,l3:()=>$,oB:()=>ge,pV:()=>Ke,vP:()=>Se});class f{}class k{}const $="*";function fe(He,de){return{type:7,name:He,definitions:de,options:{}}}function me(He,de=null){return{type:4,styles:de,timings:He}}function Se(He,de=null){return{type:2,steps:He,options:de}}function ge(He){return{type:6,styles:He,offset:null}}function Ee(He,de,Ve){return{type:0,name:He,styles:de,options:Ve}}function J(He){return{type:5,steps:He}}function ue(He,de,Ve=null){return{type:1,expr:He,animation:de,options:Ve}}function Ke(He=null){return{type:9,options:He}}function at(He,de,Ve=null){return{type:11,selector:He,animation:de,options:Ve}}function Le(He){Promise.resolve().then(He)}class Qe{constructor(de=0,Ve=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=de+Ve}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}onStart(de){this._originalOnStartFns.push(de),this._onStartFns.push(de)}onDone(de){this._originalOnDoneFns.push(de),this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(de=>de()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(de){this._position=this.totalTime?de*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(de){const Ve="start"==de?this._onStartFns:this._onDoneFns;Ve.forEach(et=>et()),Ve.length=0}}class qe{constructor(de){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=de;let Ve=0,et=0,tt=0;const O=this.players.length;0==O?Le(()=>this._onFinish()):this.players.forEach(Be=>{Be.onDone(()=>{++Ve==O&&this._onFinish()}),Be.onDestroy(()=>{++et==O&&this._onDestroy()}),Be.onStart(()=>{++tt==O&&this._onStart()})}),this.totalTime=this.players.reduce((Be,be)=>Math.max(Be,be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(de=>de()),this._onDoneFns=[])}init(){this.players.forEach(de=>de.init())}onStart(de){this._onStartFns.push(de)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(de=>de()),this._onStartFns=[])}onDone(de){this._onDoneFns.push(de)}onDestroy(de){this._onDestroyFns.push(de)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(de=>de.play())}pause(){this.players.forEach(de=>de.pause())}restart(){this.players.forEach(de=>de.restart())}finish(){this._onFinish(),this.players.forEach(de=>de.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(de=>de.destroy()),this._onDestroyFns.forEach(de=>de()),this._onDestroyFns=[])}reset(){this.players.forEach(de=>de.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(de){const Ve=de*this.totalTime;this.players.forEach(et=>{const tt=et.totalTime?Math.min(1,Ve/et.totalTime):1;et.setPosition(tt)})}getPosition(){const de=this.players.reduce((Ve,et)=>null===Ve||et.totalTime>Ve.totalTime?et:Ve,null);return null!=de?de.getPosition():0}beforeDestroy(){this.players.forEach(de=>{de.beforeDestroy&&de.beforeDestroy()})}triggerCallback(de){const Ve="start"==de?this._onStartFns:this._onDoneFns;Ve.forEach(et=>et()),Ve.length=0}}const Ye="!"},7253:(yt,Oe,P)=>{P.d(Oe,{rt:()=>qt,s1:()=>en,kH:()=>Ie,mK:()=>Zt,tE:()=>ae,qV:()=>Rr,qm:()=>Gt,ic:()=>In,Kd:()=>W,X6:()=>Gn,yG:()=>rr});var f=P(6895),k=P(4650),$=P(3353),fe=P(7579),me=P(727),_e=P(1135),Se=P(9646),ge=P(9521),Ee=P(8505),J=P(8372),ue=P(9300),le=P(4004),Ke=P(5698);function $e(Ae){return(0,ue.h)((V,L)=>Ae<=L)}var at=P(1884),gt=P(2722),Le=P(1281),Qe=P(9643),qe=P(9841),Ye=P(7272),He=P(9751),de=P(8675);const et=new Set;let tt,O=(()=>{class Ae{constructor(L){this._platform=L,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):be}matchMedia(L){return(this._platform.WEBKIT||this._platform.BLINK)&&function Be(Ae){if(!et.has(Ae))try{tt||(tt=document.createElement("style"),tt.setAttribute("type","text/css"),document.head.appendChild(tt)),tt.sheet&&(tt.sheet.insertRule(`@media ${Ae} {body{ }}`,0),et.add(Ae))}catch(V){console.error(V)}}(L),this._matchMedia(L)}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG($.t4))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function be(Ae){return{matches:"all"===Ae||""===Ae,media:Ae,addListener:()=>{},removeListener:()=>{}}}let Me=(()=>{class Ae{constructor(L,U){this._mediaMatcher=L,this._zone=U,this._queries=new Map,this._destroySubject=new fe.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(L){return Fe((0,Le.Eq)(L)).some(ne=>this._registerQuery(ne).mql.matches)}observe(L){const ne=Fe((0,Le.Eq)(L)).map(st=>this._registerQuery(st).observable);let Te=(0,qe.a)(ne);return Te=(0,Ye.z)(Te.pipe((0,Ke.q)(1)),Te.pipe($e(1),(0,J.b)(0))),Te.pipe((0,le.U)(st=>{const kt={matches:!1,breakpoints:{}};return st.forEach(({matches:qn,query:ir})=>{kt.matches=kt.matches||qn,kt.breakpoints[ir]=qn}),kt}))}_registerQuery(L){if(this._queries.has(L))return this._queries.get(L);const U=this._mediaMatcher.matchMedia(L),Te={observable:new He.y(st=>{const kt=qn=>this._zone.run(()=>st.next(qn));return U.addListener(kt),()=>{U.removeListener(kt)}}).pipe((0,de.O)(U),(0,le.U)(({matches:st})=>({query:L,matches:st})),(0,gt.R)(this._destroySubject)),mql:U};return this._queries.set(L,Te),Te}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG(O),k.LFG(k.R0b))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function Fe(Ae){return Ae.map(V=>V.split(",")).reduce((V,L)=>V.concat(L)).map(V=>V.trim())}class Vt{constructor(V){this._items=V,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new fe.x,this._typeaheadSubscription=me.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=L=>L.disabled,this._pressedLetters=[],this.tabOut=new fe.x,this.change=new fe.x,V instanceof k.n_E&&(this._itemChangesSubscription=V.changes.subscribe(L=>{if(this._activeItem){const ne=L.toArray().indexOf(this._activeItem);ne>-1&&ne!==this._activeItemIndex&&(this._activeItemIndex=ne)}}))}skipPredicate(V){return this._skipPredicateFn=V,this}withWrap(V=!0){return this._wrap=V,this}withVerticalOrientation(V=!0){return this._vertical=V,this}withHorizontalOrientation(V){return this._horizontal=V,this}withAllowedModifierKeys(V){return this._allowedModifierKeys=V,this}withTypeAhead(V=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Ee.b)(L=>this._pressedLetters.push(L)),(0,J.b)(V),(0,ue.h)(()=>this._pressedLetters.length>0),(0,le.U)(()=>this._pressedLetters.join(""))).subscribe(L=>{const U=this._getItemsArray();for(let ne=1;ne<U.length+1;ne++){const Te=(this._activeItemIndex+ne)%U.length,st=U[Te];if(!this._skipPredicateFn(st)&&0===st.getLabel().toUpperCase().trim().indexOf(L)){this.setActiveItem(Te);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(V=!0){return this._homeAndEnd=V,this}withPageUpDown(V=!0,L=10){return this._pageUpAndDown={enabled:V,delta:L},this}setActiveItem(V){const L=this._activeItem;this.updateActiveItem(V),this._activeItem!==L&&this.change.next(this._activeItemIndex)}onKeydown(V){const L=V.keyCode,ne=["altKey","ctrlKey","metaKey","shiftKey"].every(Te=>!V[Te]||this._allowedModifierKeys.indexOf(Te)>-1);switch(L){case ge.Mf:return void this.tabOut.next();case ge.JH:if(this._vertical&&ne){this.setNextItemActive();break}return;case ge.LH:if(this._vertical&&ne){this.setPreviousItemActive();break}return;case ge.SV:if(this._horizontal&&ne){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case ge.oh:if(this._horizontal&&ne){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case ge.Sd:if(this._homeAndEnd&&ne){this.setFirstItemActive();break}return;case ge.uR:if(this._homeAndEnd&&ne){this.setLastItemActive();break}return;case ge.Ku:if(this._pageUpAndDown.enabled&&ne){const Te=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(Te>0?Te:0,1);break}return;case ge.VM:if(this._pageUpAndDown.enabled&&ne){const Te=this._activeItemIndex+this._pageUpAndDown.delta,st=this._getItemsArray().length;this._setActiveItemByIndex(Te<st?Te:st-1,-1);break}return;default:return void((ne||(0,ge.Vb)(V,"shiftKey"))&&(V.key&&1===V.key.length?this._letterKeyStream.next(V.key.toLocaleUpperCase()):(L>=ge.A&&L<=ge.Z||L>=ge.xE&&L<=ge.aO)&&this._letterKeyStream.next(String.fromCharCode(L))))}this._pressedLetters=[],V.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(V){const L=this._getItemsArray(),U="number"==typeof V?V:L.indexOf(V);this._activeItem=L[U]??null,this._activeItemIndex=U}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(V){this._wrap?this._setActiveInWrapMode(V):this._setActiveInDefaultMode(V)}_setActiveInWrapMode(V){const L=this._getItemsArray();for(let U=1;U<=L.length;U++){const ne=(this._activeItemIndex+V*U+L.length)%L.length;if(!this._skipPredicateFn(L[ne]))return void this.setActiveItem(ne)}}_setActiveInDefaultMode(V){this._setActiveItemByIndex(this._activeItemIndex+V,V)}_setActiveItemByIndex(V,L){const U=this._getItemsArray();if(U[V]){for(;this._skipPredicateFn(U[V]);)if(!U[V+=L])return;this.setActiveItem(V)}}_getItemsArray(){return this._items instanceof k.n_E?this._items.toArray():this._items}}class en extends Vt{setActiveItem(V){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(V),this.activeItem&&this.activeItem.setActiveStyles()}}let In=(()=>{class Ae{constructor(L){this._platform=L}isDisabled(L){return L.hasAttribute("disabled")}isVisible(L){return function Br(Ae){return!!(Ae.offsetWidth||Ae.offsetHeight||"function"==typeof Ae.getClientRects&&Ae.getClientRects().length)}(L)&&"visible"===getComputedStyle(L).visibility}isTabbable(L){if(!this._platform.isBrowser)return!1;const U=function Cn(Ae){try{return Ae.frameElement}catch{return null}}(function tn(Ae){return Ae.ownerDocument&&Ae.ownerDocument.defaultView||window}(L));if(U&&(-1===It(U)||!this.isVisible(U)))return!1;let ne=L.nodeName.toLowerCase(),Te=It(L);return L.hasAttribute("contenteditable")?-1!==Te:!("iframe"===ne||"object"===ne||this._platform.WEBKIT&&this._platform.IOS&&!function br(Ae){let V=Ae.nodeName.toLowerCase(),L="input"===V&&Ae.type;return"text"===L||"password"===L||"select"===V||"textarea"===V}(L))&&("audio"===ne?!!L.hasAttribute("controls")&&-1!==Te:"video"===ne?-1!==Te&&(null!==Te||this._platform.FIREFOX||L.hasAttribute("controls")):L.tabIndex>=0)}isFocusable(L,U){return function Dr(Ae){return!function cr(Ae){return function kn(Ae){return"input"==Ae.nodeName.toLowerCase()}(Ae)&&"hidden"==Ae.type}(Ae)&&(function vr(Ae){let V=Ae.nodeName.toLowerCase();return"input"===V||"select"===V||"button"===V||"textarea"===V}(Ae)||function ln(Ae){return function un(Ae){return"a"==Ae.nodeName.toLowerCase()}(Ae)&&Ae.hasAttribute("href")}(Ae)||Ae.hasAttribute("contenteditable")||ar(Ae))}(L)&&!this.isDisabled(L)&&(U?.ignoreVisibility||this.isVisible(L))}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG($.t4))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function ar(Ae){if(!Ae.hasAttribute("tabindex")||void 0===Ae.tabIndex)return!1;let V=Ae.getAttribute("tabindex");return!(!V||isNaN(parseInt(V,10)))}function It(Ae){if(!ar(Ae))return null;const V=parseInt(Ae.getAttribute("tabindex")||"",10);return isNaN(V)?-1:V}class nr{get enabled(){return this._enabled}set enabled(V){this._enabled=V,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(V,this._startAnchor),this._toggleAnchorTabIndex(V,this._endAnchor))}constructor(V,L,U,ne,Te=!1){this._element=V,this._checker=L,this._ngZone=U,this._document=ne,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,Te||this.attachAnchors()}destroy(){const V=this._startAnchor,L=this._endAnchor;V&&(V.removeEventListener("focus",this.startAnchorListener),V.remove()),L&&(L.removeEventListener("focus",this.endAnchorListener),L.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(V){return new Promise(L=>{this._executeOnStable(()=>L(this.focusInitialElement(V)))})}focusFirstTabbableElementWhenReady(V){return new Promise(L=>{this._executeOnStable(()=>L(this.focusFirstTabbableElement(V)))})}focusLastTabbableElementWhenReady(V){return new Promise(L=>{this._executeOnStable(()=>L(this.focusLastTabbableElement(V)))})}_getRegionBoundary(V){const L=this._element.querySelectorAll(`[cdk-focus-region-${V}], [cdkFocusRegion${V}], [cdk-focus-${V}]`);return"start"==V?L.length?L[0]:this._getFirstTabbableElement(this._element):L.length?L[L.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(V){const L=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(L){if(!this._checker.isFocusable(L)){const U=this._getFirstTabbableElement(L);return U?.focus(V),!!U}return L.focus(V),!0}return this.focusFirstTabbableElement(V)}focusFirstTabbableElement(V){const L=this._getRegionBoundary("start");return L&&L.focus(V),!!L}focusLastTabbableElement(V){const L=this._getRegionBoundary("end");return L&&L.focus(V),!!L}hasAttached(){return this._hasAttached}_getFirstTabbableElement(V){if(this._checker.isFocusable(V)&&this._checker.isTabbable(V))return V;const L=V.children;for(let U=0;U<L.length;U++){const ne=L[U].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(L[U]):null;if(ne)return ne}return null}_getLastTabbableElement(V){if(this._checker.isFocusable(V)&&this._checker.isTabbable(V))return V;const L=V.children;for(let U=L.length-1;U>=0;U--){const ne=L[U].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(L[U]):null;if(ne)return ne}return null}_createAnchor(){const V=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,V),V.classList.add("cdk-visually-hidden"),V.classList.add("cdk-focus-trap-anchor"),V.setAttribute("aria-hidden","true"),V}_toggleAnchorTabIndex(V,L){V?L.setAttribute("tabindex","0"):L.removeAttribute("tabindex")}toggleAnchors(V){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(V,this._startAnchor),this._toggleAnchorTabIndex(V,this._endAnchor))}_executeOnStable(V){this._ngZone.isStable?V():this._ngZone.onStable.pipe((0,Ke.q)(1)).subscribe(V)}}let Rr=(()=>{class Ae{constructor(L,U,ne){this._checker=L,this._ngZone=U,this._document=ne}create(L,U=!1){return new nr(L,this._checker,this._ngZone,this._document,U)}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG(In),k.LFG(k.R0b),k.LFG(f.K0))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Zt=(()=>{class Ae{get enabled(){return this.focusTrap.enabled}set enabled(L){this.focusTrap.enabled=(0,Le.Ig)(L)}get autoCapture(){return this._autoCapture}set autoCapture(L){this._autoCapture=(0,Le.Ig)(L)}constructor(L,U,ne){this._elementRef=L,this._focusTrapFactory=U,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(L){const U=L.autoCapture;U&&!U.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=(0,$.ht)(),this.focusTrap.focusInitialElementWhenReady()}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.Y36(k.SBq),k.Y36(Rr),k.Y36(f.K0))},Ae.\u0275dir=k.lG2({type:Ae,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[k.TTD]}),Ae})();function Gn(Ae){return 0===Ae.buttons||0===Ae.offsetX&&0===Ae.offsetY}function rr(Ae){const V=Ae.touches&&Ae.touches[0]||Ae.changedTouches&&Ae.changedTouches[0];return!(!V||-1!==V.identifier||null!=V.radiusX&&1!==V.radiusX||null!=V.radiusY&&1!==V.radiusY)}const pr=new k.OlP("cdk-input-modality-detector-options"),Pn={ignoreKeys:[ge.zL,ge.jx,ge.b2,ge.MW,ge.JU]},Yt=(0,$.i$)({passive:!0,capture:!0});let Jn=(()=>{class Ae{get mostRecentModality(){return this._modality.value}constructor(L,U,ne,Te){this._platform=L,this._mostRecentTarget=null,this._modality=new _e.X(null),this._lastTouchMs=0,this._onKeydown=st=>{this._options?.ignoreKeys?.some(kt=>kt===st.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=(0,$.sA)(st))},this._onMousedown=st=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Gn(st)?"keyboard":"mouse"),this._mostRecentTarget=(0,$.sA)(st))},this._onTouchstart=st=>{rr(st)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=(0,$.sA)(st))},this._options={...Pn,...Te},this.modalityDetected=this._modality.pipe($e(1)),this.modalityChanged=this.modalityDetected.pipe((0,at.x)()),L.isBrowser&&U.runOutsideAngular(()=>{ne.addEventListener("keydown",this._onKeydown,Yt),ne.addEventListener("mousedown",this._onMousedown,Yt),ne.addEventListener("touchstart",this._onTouchstart,Yt)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yt),document.removeEventListener("mousedown",this._onMousedown,Yt),document.removeEventListener("touchstart",this._onTouchstart,Yt))}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG($.t4),k.LFG(k.R0b),k.LFG(f.K0),k.LFG(pr,8))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();const Pr=new k.OlP("liveAnnouncerElement",{providedIn:"root",factory:function De(){return null}}),oe=new k.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let j=0,W=(()=>{class Ae{constructor(L,U,ne,Te){this._ngZone=U,this._defaultOptions=Te,this._document=ne,this._liveElement=L||this._createLiveElement()}announce(L,...U){const ne=this._defaultOptions;let Te,st;return 1===U.length&&"number"==typeof U[0]?st=U[0]:[Te,st]=U,this.clear(),clearTimeout(this._previousTimeout),Te||(Te=ne&&ne.politeness?ne.politeness:"polite"),null==st&&ne&&(st=ne.duration),this._liveElement.setAttribute("aria-live",Te),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(kt=>this._currentResolve=kt)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=L,"number"==typeof st&&(this._previousTimeout=setTimeout(()=>this.clear(),st)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const L="cdk-live-announcer-element",U=this._document.getElementsByClassName(L),ne=this._document.createElement("div");for(let Te=0;Te<U.length;Te++)U[Te].remove();return ne.classList.add(L),ne.classList.add("cdk-visually-hidden"),ne.setAttribute("aria-atomic","true"),ne.setAttribute("aria-live","polite"),ne.id="cdk-live-announcer-"+j++,this._document.body.appendChild(ne),ne}_exposeAnnouncerToModals(L){const U=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let ne=0;ne<U.length;ne++){const Te=U[ne],st=Te.getAttribute("aria-owns");st?-1===st.indexOf(L)&&Te.setAttribute("aria-owns",st+" "+L):Te.setAttribute("aria-owns",L)}}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG(Pr,8),k.LFG(k.R0b),k.LFG(f.K0),k.LFG(oe,8))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();const ke=new k.OlP("cdk-focus-monitor-default-options"),X=(0,$.i$)({passive:!0,capture:!0});let ae=(()=>{class Ae{constructor(L,U,ne,Te,st){this._ngZone=L,this._platform=U,this._inputModalityDetector=ne,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new fe.x,this._rootNodeFocusAndBlurListener=kt=>{for(let ir=(0,$.sA)(kt);ir;ir=ir.parentElement)"focus"===kt.type?this._onFocus(kt,ir):this._onBlur(kt,ir)},this._document=Te,this._detectionMode=st?.detectionMode||0}monitor(L,U=!1){const ne=(0,Le.fI)(L);if(!this._platform.isBrowser||1!==ne.nodeType)return(0,Se.of)(null);const Te=(0,$.kV)(ne)||this._getDocument(),st=this._elementInfo.get(ne);if(st)return U&&(st.checkChildren=!0),st.subject;const kt={checkChildren:U,subject:new fe.x,rootNode:Te};return this._elementInfo.set(ne,kt),this._registerGlobalListeners(kt),kt.subject}stopMonitoring(L){const U=(0,Le.fI)(L),ne=this._elementInfo.get(U);ne&&(ne.subject.complete(),this._setClasses(U),this._elementInfo.delete(U),this._removeGlobalListeners(ne))}focusVia(L,U,ne){const Te=(0,Le.fI)(L);Te===this._getDocument().activeElement?this._getClosestElementsInfo(Te).forEach(([kt,qn])=>this._originChanged(kt,U,qn)):(this._setOrigin(U),"function"==typeof Te.focus&&Te.focus(ne))}ngOnDestroy(){this._elementInfo.forEach((L,U)=>this.stopMonitoring(U))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(L){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(L)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:L&&this._isLastInteractionFromInputLabel(L)?"mouse":"program"}_shouldBeAttributedToTouch(L){return 1===this._detectionMode||!!L?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(L,U){L.classList.toggle("cdk-focused",!!U),L.classList.toggle("cdk-touch-focused","touch"===U),L.classList.toggle("cdk-keyboard-focused","keyboard"===U),L.classList.toggle("cdk-mouse-focused","mouse"===U),L.classList.toggle("cdk-program-focused","program"===U)}_setOrigin(L,U=!1){this._ngZone.runOutsideAngular(()=>{this._origin=L,this._originFromTouchInteraction="touch"===L&&U,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(L,U){const ne=this._elementInfo.get(U),Te=(0,$.sA)(L);!ne||!ne.checkChildren&&U!==Te||this._originChanged(U,this._getFocusOrigin(Te),ne)}_onBlur(L,U){const ne=this._elementInfo.get(U);!ne||ne.checkChildren&&L.relatedTarget instanceof Node&&U.contains(L.relatedTarget)||(this._setClasses(U),this._emitOrigin(ne,null))}_emitOrigin(L,U){L.subject.observers.length&&this._ngZone.run(()=>L.subject.next(U))}_registerGlobalListeners(L){if(!this._platform.isBrowser)return;const U=L.rootNode,ne=this._rootNodeFocusListenerCount.get(U)||0;ne||this._ngZone.runOutsideAngular(()=>{U.addEventListener("focus",this._rootNodeFocusAndBlurListener,X),U.addEventListener("blur",this._rootNodeFocusAndBlurListener,X)}),this._rootNodeFocusListenerCount.set(U,ne+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe((0,gt.R)(this._stopInputModalityDetector)).subscribe(Te=>{this._setOrigin(Te,!0)}))}_removeGlobalListeners(L){const U=L.rootNode;if(this._rootNodeFocusListenerCount.has(U)){const ne=this._rootNodeFocusListenerCount.get(U);ne>1?this._rootNodeFocusListenerCount.set(U,ne-1):(U.removeEventListener("focus",this._rootNodeFocusAndBlurListener,X),U.removeEventListener("blur",this._rootNodeFocusAndBlurListener,X),this._rootNodeFocusListenerCount.delete(U))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(L,U,ne){this._setClasses(L,U),this._emitOrigin(ne,U),this._lastFocusOrigin=U}_getClosestElementsInfo(L){const U=[];return this._elementInfo.forEach((ne,Te)=>{(Te===L||ne.checkChildren&&Te.contains(L))&&U.push([Te,ne])}),U}_isLastInteractionFromInputLabel(L){const{_mostRecentTarget:U,mostRecentModality:ne}=this._inputModalityDetector;if("mouse"!==ne||!U||U===L||"INPUT"!==L.nodeName&&"TEXTAREA"!==L.nodeName||L.disabled)return!1;const Te=L.labels;if(Te)for(let st=0;st<Te.length;st++)if(Te[st].contains(U))return!0;return!1}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG(k.R0b),k.LFG($.t4),k.LFG(Jn),k.LFG(f.K0,8),k.LFG(ke,8))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),Ie=(()=>{class Ae{constructor(L,U){this._elementRef=L,this._focusMonitor=U,this._focusOrigin=null,this.cdkFocusChange=new k.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const L=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(L,1===L.nodeType&&L.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(U=>{this._focusOrigin=U,this.cdkFocusChange.emit(U)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.Y36(k.SBq),k.Y36(ae))},Ae.\u0275dir=k.lG2({type:Ae,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),Ae})();const je="cdk-high-contrast-black-on-white",we="cdk-high-contrast-white-on-black",mt="cdk-high-contrast-active";let Gt=(()=>{class Ae{constructor(L,U){this._platform=L,this._document=U,this._breakpointSubscription=(0,k.f3M)(Me).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const L=this._document.createElement("div");L.style.backgroundColor="rgb(1,2,3)",L.style.position="absolute",this._document.body.appendChild(L);const U=this._document.defaultView||window,ne=U&&U.getComputedStyle?U.getComputedStyle(L):null,Te=(ne&&ne.backgroundColor||"").replace(/ /g,"");switch(L.remove(),Te){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const L=this._document.body.classList;L.remove(mt,je,we),this._hasCheckedHighContrastMode=!0;const U=this.getHighContrastMode();1===U?L.add(mt,je):2===U&&L.add(mt,we)}}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG($.t4),k.LFG(f.K0))},Ae.\u0275prov=k.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})(),qt=(()=>{class Ae{constructor(L){L._applyBodyHighContrastModeCssClasses()}}return Ae.\u0275fac=function(L){return new(L||Ae)(k.LFG(Gt))},Ae.\u0275mod=k.oAB({type:Ae}),Ae.\u0275inj=k.cJS({imports:[Qe.Q8]}),Ae})()},445:(yt,Oe,P)=>{P.d(Oe,{Is:()=>Se,vT:()=>Ee});var f=P(4650),k=P(6895);const $=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function fe(){return(0,f.f3M)(k.K0)}}),me=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Se=(()=>{class J{constructor(le){this.value="ltr",this.change=new f.vpe,le&&(this.value=function _e(J){const ue=J?.toLowerCase()||"";return"auto"===ue&&typeof navigator<"u"&&navigator?.language?me.test(navigator.language)?"rtl":"ltr":"rtl"===ue?"rtl":"ltr"}((le.body?le.body.dir:null)||(le.documentElement?le.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return J.\u0275fac=function(le){return new(le||J)(f.LFG($,8))},J.\u0275prov=f.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),Ee=(()=>{class J{}return J.\u0275fac=function(le){return new(le||J)},J.\u0275mod=f.oAB({type:J}),J.\u0275inj=f.cJS({}),J})()},1281:(yt,Oe,P)=>{P.d(Oe,{Eq:()=>me,HM:()=>_e,Ig:()=>k,du:()=>ge,fI:()=>Se,su:()=>$});var f=P(4650);function k(Ee){return null!=Ee&&"false"!=`${Ee}`}function $(Ee,J=0){return function fe(Ee){return!isNaN(parseFloat(Ee))&&!isNaN(Number(Ee))}(Ee)?Number(Ee):J}function me(Ee){return Array.isArray(Ee)?Ee:[Ee]}function _e(Ee){return null==Ee?"":"string"==typeof Ee?Ee:`${Ee}px`}function Se(Ee){return Ee instanceof f.SBq?Ee.nativeElement:Ee}function ge(Ee,J=/\s+/){const ue=[];if(null!=Ee){const le=Array.isArray(Ee)?Ee:`${Ee}`.split(J);for(const Ke of le){const $e=`${Ke}`.trim();$e&&ue.push($e)}}return ue}},9521:(yt,Oe,P)=>{P.d(Oe,{A:()=>xt,JH:()=>Ye,JU:()=>_e,K5:()=>me,Ku:()=>Ke,LH:()=>Qe,L_:()=>le,MW:()=>jt,Mf:()=>$,SV:()=>qe,Sd:()=>gt,VM:()=>$e,Vb:()=>Wr,Z:()=>Et,aO:()=>Nt,b2:()=>er,hY:()=>ue,jx:()=>Se,oh:()=>Le,uR:()=>at,xE:()=>tt,zL:()=>ge});const $=9,me=13,_e=16,Se=17,ge=18,ue=27,le=32,Ke=33,$e=34,at=35,gt=36,Le=37,Qe=38,qe=39,Ye=40,tt=48,Nt=57,xt=65,Et=90,jt=91,er=224;function Wr(On,...ii){return ii.length?ii.some(wi=>On[wi]):On.altKey||On.shiftKey||On.ctrlKey||On.metaKey}},9643:(yt,Oe,P)=>{P.d(Oe,{Q8:()=>Ee,wD:()=>ge});var f=P(1281),k=P(4650),$=P(9751),fe=P(7579),me=P(8372);let _e=(()=>{class J{create(le){return typeof MutationObserver>"u"?null:new MutationObserver(le)}}return J.\u0275fac=function(le){return new(le||J)},J.\u0275prov=k.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),Se=(()=>{class J{constructor(le){this._mutationObserverFactory=le,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((le,Ke)=>this._cleanupObserver(Ke))}observe(le){const Ke=(0,f.fI)(le);return new $.y($e=>{const gt=this._observeElement(Ke).subscribe($e);return()=>{gt.unsubscribe(),this._unobserveElement(Ke)}})}_observeElement(le){if(this._observedElements.has(le))this._observedElements.get(le).count++;else{const Ke=new fe.x,$e=this._mutationObserverFactory.create(at=>Ke.next(at));$e&&$e.observe(le,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(le,{observer:$e,stream:Ke,count:1})}return this._observedElements.get(le).stream}_unobserveElement(le){this._observedElements.has(le)&&(this._observedElements.get(le).count--,this._observedElements.get(le).count||this._cleanupObserver(le))}_cleanupObserver(le){if(this._observedElements.has(le)){const{observer:Ke,stream:$e}=this._observedElements.get(le);Ke&&Ke.disconnect(),$e.complete(),this._observedElements.delete(le)}}}return J.\u0275fac=function(le){return new(le||J)(k.LFG(_e))},J.\u0275prov=k.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})(),ge=(()=>{class J{get disabled(){return this._disabled}set disabled(le){this._disabled=(0,f.Ig)(le),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(le){this._debounce=(0,f.su)(le),this._subscribe()}constructor(le,Ke,$e){this._contentObserver=le,this._elementRef=Ke,this._ngZone=$e,this.event=new k.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const le=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?le.pipe((0,me.b)(this.debounce)):le).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return J.\u0275fac=function(le){return new(le||J)(k.Y36(Se),k.Y36(k.SBq),k.Y36(k.R0b))},J.\u0275dir=k.lG2({type:J,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),J})(),Ee=(()=>{class J{}return J.\u0275fac=function(le){return new(le||J)},J.\u0275mod=k.oAB({type:J}),J.\u0275inj=k.cJS({providers:[_e]}),J})()},3353:(yt,Oe,P)=>{P.d(Oe,{Mq:()=>$e,Oy:()=>He,_i:()=>at,ht:()=>qe,i$:()=>ue,kV:()=>Qe,qK:()=>ge,sA:()=>Ye,t4:()=>fe});var f=P(4650),k=P(6895);let $;try{$=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$=!1}let _e,fe=(()=>{class de{constructor(et){this._platformId=et,this.isBrowser=this._platformId?(0,k.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!$)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return de.\u0275fac=function(et){return new(et||de)(f.LFG(f.Lbi))},de.\u0275prov=f.Yz7({token:de,factory:de.\u0275fac,providedIn:"root"}),de})();const Se=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ge(){if(_e)return _e;if("object"!=typeof document||!document)return _e=new Set(Se),_e;let de=document.createElement("input");return _e=new Set(Se.filter(Ve=>(de.setAttribute("type",Ve),de.type===Ve))),_e}let Ee,le,Ke,gt;function ue(de){return function J(){if(null==Ee&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ee=!0}))}finally{Ee=Ee||!1}return Ee}()?de:!!de.capture}function $e(){if(null==Ke){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ke=!1,Ke;if("scrollBehavior"in document.documentElement.style)Ke=!0;else{const de=Element.prototype.scrollTo;Ke=!!de&&!/\{\s*\[native code\]\s*\}/.test(de.toString())}}return Ke}function at(){if("object"!=typeof document||!document)return 0;if(null==le){const de=document.createElement("div"),Ve=de.style;de.dir="rtl",Ve.width="1px",Ve.overflow="auto",Ve.visibility="hidden",Ve.pointerEvents="none",Ve.position="absolute";const et=document.createElement("div"),tt=et.style;tt.width="2px",tt.height="1px",de.appendChild(et),document.body.appendChild(de),le=0,0===de.scrollLeft&&(de.scrollLeft=1,le=0===de.scrollLeft?1:2),de.remove()}return le}function Qe(de){if(function Le(){if(null==gt){const de=typeof document<"u"?document.head:null;gt=!(!de||!de.createShadowRoot&&!de.attachShadow)}return gt}()){const Ve=de.getRootNode?de.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&Ve instanceof ShadowRoot)return Ve}return null}function qe(){let de=typeof document<"u"&&document?document.activeElement:null;for(;de&&de.shadowRoot;){const Ve=de.shadowRoot.activeElement;if(Ve===de)break;de=Ve}return de}function Ye(de){return de.composedPath?de.composedPath()[0]:de.target}function He(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},6895:(yt,Oe,P)=>{P.d(Oe,{Do:()=>qe,ED:()=>Yr,EM:()=>us,HT:()=>fe,JF:()=>zs,K0:()=>_e,Mx:()=>Ar,NF:()=>Ji,O5:()=>wi,PM:()=>es,RF:()=>$s,S$:()=>gt,V_:()=>Ee,Ye:()=>Ye,b0:()=>Qe,bD:()=>Ps,ez:()=>co,mk:()=>hn,n9:()=>pi,q:()=>$,sg:()=>Wr,tP:()=>li,w_:()=>me});var f=P(4650);let k=null;function $(){return k}function fe(C){k||(k=C)}class me{}const _e=new f.OlP("DocumentToken");let Se=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=f.Yz7({token:C,factory:function(){return function ge(){return(0,f.LFG)(J)}()},providedIn:"platform"}),C})();const Ee=new f.OlP("Location Initialized");let J=(()=>{class C extends Se{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $().getBaseHref(this._doc)}onPopState(S){const Z=$().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",S,!1),()=>Z.removeEventListener("popstate",S)}onHashChange(S){const Z=$().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",S,!1),()=>Z.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,Z,he){ue()?this._history.pushState(S,Z,he):this._location.hash=he}replaceState(S,Z,he){ue()?this._history.replaceState(S,Z,he):this._location.hash=he}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return C.\u0275fac=function(S){return new(S||C)(f.LFG(_e))},C.\u0275prov=f.Yz7({token:C,factory:function(){return function le(){return new J((0,f.LFG)(_e))}()},providedIn:"platform"}),C})();function ue(){return!!window.history.pushState}function Ke(C,B){if(0==C.length)return B;if(0==B.length)return C;let S=0;return C.endsWith("/")&&S++,B.startsWith("/")&&S++,2==S?C+B.substring(1):1==S?C+B:C+"/"+B}function $e(C){const B=C.match(/#|\?|$/),S=B&&B.index||C.length;return C.slice(0,S-("/"===C[S-1]?1:0))+C.slice(S)}function at(C){return C&&"?"!==C[0]?"?"+C:C}let gt=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=f.Yz7({token:C,factory:function(){return(0,f.f3M)(Qe)},providedIn:"root"}),C})();const Le=new f.OlP("appBaseHref");let Qe=(()=>{class C extends gt{constructor(S,Z){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(_e).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Ke(this._baseHref,S)}path(S=!1){const Z=this._platformLocation.pathname+at(this._platformLocation.search),he=this._platformLocation.hash;return he&&S?`${Z}${he}`:Z}pushState(S,Z,he,We){const it=this.prepareExternalUrl(he+at(We));this._platformLocation.pushState(S,Z,it)}replaceState(S,Z,he,We){const it=this.prepareExternalUrl(he+at(We));this._platformLocation.replaceState(S,Z,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(f.LFG(Se),f.LFG(Le,8))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),qe=(()=>{class C extends gt{constructor(S,Z){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(S){const Z=Ke(this._baseHref,S);return Z.length>0?"#"+Z:Z}pushState(S,Z,he,We){let it=this.prepareExternalUrl(he+at(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(S,Z,it)}replaceState(S,Z,he,We){let it=this.prepareExternalUrl(he+at(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(S,Z,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(f.LFG(Se),f.LFG(Le,8))},C.\u0275prov=f.Yz7({token:C,factory:C.\u0275fac}),C})(),Ye=(()=>{class C{constructor(S){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const Z=this._locationStrategy.getBaseHref();this._basePath=function et(C){if(new RegExp("^(https?:)?//").test(C)){const[,S]=C.split(/\/\/[^\/]+/);return S}return C}($e(Ve(Z))),this._locationStrategy.onPopState(he=>{this._subject.emit({url:this.path(!0),pop:!0,state:he.state,type:he.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,Z=""){return this.path()==this.normalize(S+at(Z))}normalize(S){return C.stripTrailingSlash(function de(C,B){return C&&new RegExp(`^${C}([/;?#]|$)`).test(B)?B.substring(C.length):B}(this._basePath,Ve(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,Z="",he=null){this._locationStrategy.pushState(he,"",S,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+at(Z)),he)}replaceState(S,Z="",he=null){this._locationStrategy.replaceState(he,"",S,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+at(Z)),he)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",Z){this._urlChangeListeners.forEach(he=>he(S,Z))}subscribe(S,Z,he){return this._subject.subscribe({next:S,error:Z,complete:he})}}return C.normalizeQueryParams=at,C.joinWithSlash=Ke,C.stripTrailingSlash=$e,C.\u0275fac=function(S){return new(S||C)(f.LFG(gt))},C.\u0275prov=f.Yz7({token:C,factory:function(){return function He(){return new Ye((0,f.LFG)(gt))}()},providedIn:"root"}),C})();function Ve(C){return C.replace(/\/index.html$/,"")}function Ar(C,B){B=encodeURIComponent(B);for(const S of C.split(";")){const Z=S.indexOf("="),[he,We]=-1==Z?[S,""]:[S.slice(0,Z),S.slice(Z+1)];if(he.trim()===B)return decodeURIComponent(We)}return null}const fi=/\s+/,Mt=[];let hn=(()=>{class C{constructor(S,Z,he,We){this._iterableDiffers=S,this._keyValueDiffers=Z,this._ngEl=he,this._renderer=We,this.initialClasses=Mt,this.stateMap=new Map}set klass(S){this.initialClasses=null!=S?S.trim().split(fi):Mt}set ngClass(S){this.rawClass="string"==typeof S?S.trim().split(fi):S}ngDoCheck(){for(const Z of this.initialClasses)this._updateState(Z,!0);const S=this.rawClass;if(Array.isArray(S)||S instanceof Set)for(const Z of S)this._updateState(Z,!0);else if(null!=S)for(const Z of Object.keys(S))this._updateState(Z,Boolean(S[Z]));this._applyStateDiff()}_updateState(S,Z){const he=this.stateMap.get(S);void 0!==he?(he.enabled!==Z&&(he.changed=!0,he.enabled=Z),he.touched=!0):this.stateMap.set(S,{enabled:Z,changed:!0,touched:!0})}_applyStateDiff(){for(const S of this.stateMap){const Z=S[0],he=S[1];he.changed?(this._toggleClass(Z,he.enabled),he.changed=!1):he.touched||(he.enabled&&this._toggleClass(Z,!1),this.stateMap.delete(Z)),he.touched=!1}}_toggleClass(S,Z){(S=S.trim()).length>0&&S.split(fi).forEach(he=>{Z?this._renderer.addClass(this._ngEl.nativeElement,he):this._renderer.removeClass(this._ngEl.nativeElement,he)})}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),C})();class er{constructor(B,S,Z,he){this.$implicit=B,this.ngForOf=S,this.index=Z,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class C{set ngForOf(S){this._ngForOf=S,this._ngForOfDirty=!0}set ngForTrackBy(S){this._trackByFn=S}get ngForTrackBy(){return this._trackByFn}constructor(S,Z,he){this._viewContainer=S,this._template=Z,this._differs=he,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(S){S&&(this._template=S)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const S=this._ngForOf;!this._differ&&S&&(this._differ=this._differs.find(S).create(this.ngForTrackBy))}if(this._differ){const S=this._differ.diff(this._ngForOf);S&&this._applyChanges(S)}}_applyChanges(S){const Z=this._viewContainer;S.forEachOperation((he,We,it)=>{if(null==he.previousIndex)Z.createEmbeddedView(this._template,new er(he.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)Z.remove(null===We?void 0:We);else if(null!==We){const At=Z.get(We);Z.move(At,it),On(At,he)}});for(let he=0,We=Z.length;he<We;he++){const At=Z.get(he).context;At.index=he,At.count=We,At.ngForOf=this._ngForOf}S.forEachIdentityChange(he=>{On(Z.get(he.currentIndex),he)})}static ngTemplateContextGuard(S,Z){return!0}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),C})();function On(C,B){C.context.$implicit=B.item}let wi=(()=>{class C{constructor(S,Z){this._viewContainer=S,this._context=new vn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){As("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){As("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,Z){return!0}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.s_b),f.Y36(f.Rgc))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class vn{constructor(){this.$implicit=null,this.ngIf=null}}function As(C,B){if(B&&!B.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,f.AaK)(B)}'.`)}class Qi{constructor(B,S){this._viewContainerRef=B,this._templateRef=S,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(B){B&&!this._created?this.create():!B&&this._created&&this.destroy()}}let $s=(()=>{class C{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(S){this._ngSwitch=S,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(S){this._defaultViews.push(S)}_matchCase(S){const Z=S==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Z}_updateDefaultCases(S){if(this._defaultViews.length>0&&S!==this._defaultUsed){this._defaultUsed=S;for(const Z of this._defaultViews)Z.enforceState(S)}}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275dir=f.lG2({type:C,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),C})(),pi=(()=>{class C{constructor(S,Z,he){this.ngSwitch=he,he._addCase(),this._view=new Qi(S,Z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36($s,9))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),C})(),Yr=(()=>{class C{constructor(S,Z,he){he._addDefault(new Qi(S,Z))}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36($s,9))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngSwitchDefault",""]],standalone:!0}),C})(),li=(()=>{class C{constructor(S){this._viewContainerRef=S,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(S){if(S.ngTemplateOutlet||S.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:he,ngTemplateOutletContext:We,ngTemplateOutletInjector:it}=this;this._viewRef=Z.createEmbeddedView(he,We,it?{injector:it}:void 0)}else this._viewRef=null}else this._viewRef&&S.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return C.\u0275fac=function(S){return new(S||C)(f.Y36(f.s_b))},C.\u0275dir=f.lG2({type:C,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[f.TTD]}),C})(),co=(()=>{class C{}return C.\u0275fac=function(S){return new(S||C)},C.\u0275mod=f.oAB({type:C}),C.\u0275inj=f.cJS({}),C})();const Ps="browser";function Ji(C){return C===Ps}function es(C){return"server"===C}let us=(()=>{class C{}return C.\u0275prov=(0,f.Yz7)({token:C,providedIn:"root",factory:()=>new jr((0,f.LFG)(_e),window)}),C})();class jr{constructor(B,S){this.document=B,this.window=S,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const S=function $r(C,B){const S=C.getElementById(B)||C.getElementsByName(B)[0];if(S)return S;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const Z=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let he=Z.currentNode;for(;he;){const We=he.shadowRoot;if(We){const it=We.getElementById(B)||We.querySelector(`[name="${B}"]`);if(it)return it}he=Z.nextNode()}}return null}(this.document,B);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=B)}}scrollToElement(B){const S=B.getBoundingClientRect(),Z=S.left+this.window.pageXOffset,he=S.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(Z-We[0],he-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Ws(this.window.history)||Ws(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ws(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class zs{}},529:(yt,Oe,P)=>{P.d(Oe,{JF:()=>Pr,eN:()=>dt});var f=P(6895),k=P(4650),$=P(9646),fe=P(9751),me=P(4351),_e=P(9300),Se=P(4004);class ge{}class Ee{}class J{constructor(W){this.normalizedNames=new Map,this.lazyUpdate=null,W?this.lazyInit="string"==typeof W?()=>{this.headers=new Map,W.split("\n").forEach(se=>{const ke=se.indexOf(":");if(ke>0){const X=se.slice(0,ke),ae=X.toLowerCase(),Ie=se.slice(ke+1).trim();this.maybeSetNormalizedName(X,ae),this.headers.has(ae)?this.headers.get(ae).push(Ie):this.headers.set(ae,[Ie])}})}:()=>{this.headers=new Map,Object.keys(W).forEach(se=>{let ke=W[se];const X=se.toLowerCase();"string"==typeof ke&&(ke=[ke]),ke.length>0&&(this.headers.set(X,ke),this.maybeSetNormalizedName(se,X))})}:this.headers=new Map}has(W){return this.init(),this.headers.has(W.toLowerCase())}get(W){this.init();const se=this.headers.get(W.toLowerCase());return se&&se.length>0?se[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(W){return this.init(),this.headers.get(W.toLowerCase())||null}append(W,se){return this.clone({name:W,value:se,op:"a"})}set(W,se){return this.clone({name:W,value:se,op:"s"})}delete(W,se){return this.clone({name:W,value:se,op:"d"})}maybeSetNormalizedName(W,se){this.normalizedNames.has(se)||this.normalizedNames.set(se,W)}init(){this.lazyInit&&(this.lazyInit instanceof J?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(W=>this.applyUpdate(W)),this.lazyUpdate=null))}copyFrom(W){W.init(),Array.from(W.headers.keys()).forEach(se=>{this.headers.set(se,W.headers.get(se)),this.normalizedNames.set(se,W.normalizedNames.get(se))})}clone(W){const se=new J;return se.lazyInit=this.lazyInit&&this.lazyInit instanceof J?this.lazyInit:this,se.lazyUpdate=(this.lazyUpdate||[]).concat([W]),se}applyUpdate(W){const se=W.name.toLowerCase();switch(W.op){case"a":case"s":let ke=W.value;if("string"==typeof ke&&(ke=[ke]),0===ke.length)return;this.maybeSetNormalizedName(W.name,se);const X=("a"===W.op?this.headers.get(se):void 0)||[];X.push(...ke),this.headers.set(se,X);break;case"d":const ae=W.value;if(ae){let Ie=this.headers.get(se);if(!Ie)return;Ie=Ie.filter(je=>-1===ae.indexOf(je)),0===Ie.length?(this.headers.delete(se),this.normalizedNames.delete(se)):this.headers.set(se,Ie)}else this.headers.delete(se),this.normalizedNames.delete(se)}}forEach(W){this.init(),Array.from(this.normalizedNames.keys()).forEach(se=>W(this.normalizedNames.get(se),this.headers.get(se)))}}class le{encodeKey(W){return gt(W)}encodeValue(W){return gt(W)}decodeKey(W){return decodeURIComponent(W)}decodeValue(W){return decodeURIComponent(W)}}const $e=/%(\d[a-f0-9])/gi,at={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function gt(j){return encodeURIComponent(j).replace($e,(W,se)=>at[se]??W)}function Le(j){return`${j}`}class Qe{constructor(W={}){if(this.updates=null,this.cloneFrom=null,this.encoder=W.encoder||new le,W.fromString){if(W.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Ke(j,W){const se=new Map;return j.length>0&&j.replace(/^\?/,"").split("&").forEach(X=>{const ae=X.indexOf("="),[Ie,je]=-1==ae?[W.decodeKey(X),""]:[W.decodeKey(X.slice(0,ae)),W.decodeValue(X.slice(ae+1))],we=se.get(Ie)||[];we.push(je),se.set(Ie,we)}),se}(W.fromString,this.encoder)}else W.fromObject?(this.map=new Map,Object.keys(W.fromObject).forEach(se=>{const ke=W.fromObject[se],X=Array.isArray(ke)?ke.map(Le):[Le(ke)];this.map.set(se,X)})):this.map=null}has(W){return this.init(),this.map.has(W)}get(W){this.init();const se=this.map.get(W);return se?se[0]:null}getAll(W){return this.init(),this.map.get(W)||null}keys(){return this.init(),Array.from(this.map.keys())}append(W,se){return this.clone({param:W,value:se,op:"a"})}appendAll(W){const se=[];return Object.keys(W).forEach(ke=>{const X=W[ke];Array.isArray(X)?X.forEach(ae=>{se.push({param:ke,value:ae,op:"a"})}):se.push({param:ke,value:X,op:"a"})}),this.clone(se)}set(W,se){return this.clone({param:W,value:se,op:"s"})}delete(W,se){return this.clone({param:W,value:se,op:"d"})}toString(){return this.init(),this.keys().map(W=>{const se=this.encoder.encodeKey(W);return this.map.get(W).map(ke=>se+"="+this.encoder.encodeValue(ke)).join("&")}).filter(W=>""!==W).join("&")}clone(W){const se=new Qe({encoder:this.encoder});return se.cloneFrom=this.cloneFrom||this,se.updates=(this.updates||[]).concat(W),se}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(W=>this.map.set(W,this.cloneFrom.map.get(W))),this.updates.forEach(W=>{switch(W.op){case"a":case"s":const se=("a"===W.op?this.map.get(W.param):void 0)||[];se.push(Le(W.value)),this.map.set(W.param,se);break;case"d":if(void 0===W.value){this.map.delete(W.param);break}{let ke=this.map.get(W.param)||[];const X=ke.indexOf(Le(W.value));-1!==X&&ke.splice(X,1),ke.length>0?this.map.set(W.param,ke):this.map.delete(W.param)}}}),this.cloneFrom=this.updates=null)}}class Ye{constructor(){this.map=new Map}set(W,se){return this.map.set(W,se),this}get(W){return this.map.has(W)||this.map.set(W,W.defaultValue()),this.map.get(W)}delete(W){return this.map.delete(W),this}has(W){return this.map.has(W)}keys(){return this.map.keys()}}function de(j){return typeof ArrayBuffer<"u"&&j instanceof ArrayBuffer}function Ve(j){return typeof Blob<"u"&&j instanceof Blob}function et(j){return typeof FormData<"u"&&j instanceof FormData}class O{constructor(W,se,ke,X){let ae;if(this.url=se,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=W.toUpperCase(),function He(j){switch(j){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||X?(this.body=void 0!==ke?ke:null,ae=X):ae=ke,ae&&(this.reportProgress=!!ae.reportProgress,this.withCredentials=!!ae.withCredentials,ae.responseType&&(this.responseType=ae.responseType),ae.headers&&(this.headers=ae.headers),ae.context&&(this.context=ae.context),ae.params&&(this.params=ae.params)),this.headers||(this.headers=new J),this.context||(this.context=new Ye),this.params){const Ie=this.params.toString();if(0===Ie.length)this.urlWithParams=se;else{const je=se.indexOf("?");this.urlWithParams=se+(-1===je?"?":je<se.length-1?"&":"")+Ie}}else this.params=new Qe,this.urlWithParams=se}serializeBody(){return null===this.body?null:de(this.body)||Ve(this.body)||et(this.body)||function tt(j){return typeof URLSearchParams<"u"&&j instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||et(this.body)?null:Ve(this.body)?this.body.type||null:de(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(W={}){const se=W.method||this.method,ke=W.url||this.url,X=W.responseType||this.responseType,ae=void 0!==W.body?W.body:this.body,Ie=void 0!==W.withCredentials?W.withCredentials:this.withCredentials,je=void 0!==W.reportProgress?W.reportProgress:this.reportProgress;let we=W.headers||this.headers,mt=W.params||this.params;const Gt=W.context??this.context;return void 0!==W.setHeaders&&(we=Object.keys(W.setHeaders).reduce((qt,Ae)=>qt.set(Ae,W.setHeaders[Ae]),we)),W.setParams&&(mt=Object.keys(W.setParams).reduce((qt,Ae)=>qt.set(Ae,W.setParams[Ae]),mt)),new O(se,ke,ae,{params:mt,headers:we,context:Gt,reportProgress:je,responseType:X,withCredentials:Ie})}}var Be=(()=>((Be=Be||{})[Be.Sent=0]="Sent",Be[Be.UploadProgress=1]="UploadProgress",Be[Be.ResponseHeader=2]="ResponseHeader",Be[Be.DownloadProgress=3]="DownloadProgress",Be[Be.Response=4]="Response",Be[Be.User=5]="User",Be))();class be{constructor(W,se=200,ke="OK"){this.headers=W.headers||new J,this.status=void 0!==W.status?W.status:se,this.statusText=W.statusText||ke,this.url=W.url||null,this.ok=this.status>=200&&this.status<300}}class Me extends be{constructor(W={}){super(W),this.type=Be.ResponseHeader}clone(W={}){return new Me({headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class Fe extends be{constructor(W={}){super(W),this.type=Be.Response,this.body=void 0!==W.body?W.body:null}clone(W={}){return new Fe({body:void 0!==W.body?W.body:this.body,headers:W.headers||this.headers,status:void 0!==W.status?W.status:this.status,statusText:W.statusText||this.statusText,url:W.url||this.url||void 0})}}class Ue extends be{constructor(W){super(W,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${W.url||"(unknown url)"}`:`Http failure response for ${W.url||"(unknown url)"}: ${W.status} ${W.statusText}`,this.error=W.error||null}}function ft(j,W){return{body:W,headers:j.headers,context:j.context,observe:j.observe,params:j.params,reportProgress:j.reportProgress,responseType:j.responseType,withCredentials:j.withCredentials}}let dt=(()=>{class j{constructor(se){this.handler=se}request(se,ke,X={}){let ae;if(se instanceof O)ae=se;else{let we,mt;we=X.headers instanceof J?X.headers:new J(X.headers),X.params&&(mt=X.params instanceof Qe?X.params:new Qe({fromObject:X.params})),ae=new O(se,ke,void 0!==X.body?X.body:null,{headers:we,context:X.context,params:mt,reportProgress:X.reportProgress,responseType:X.responseType||"json",withCredentials:X.withCredentials})}const Ie=(0,$.of)(ae).pipe((0,me.b)(we=>this.handler.handle(we)));if(se instanceof O||"events"===X.observe)return Ie;const je=Ie.pipe((0,_e.h)(we=>we instanceof Fe));switch(X.observe||"body"){case"body":switch(ae.responseType){case"arraybuffer":return je.pipe((0,Se.U)(we=>{if(null!==we.body&&!(we.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return we.body}));case"blob":return je.pipe((0,Se.U)(we=>{if(null!==we.body&&!(we.body instanceof Blob))throw new Error("Response is not a Blob.");return we.body}));case"text":return je.pipe((0,Se.U)(we=>{if(null!==we.body&&"string"!=typeof we.body)throw new Error("Response is not a string.");return we.body}));default:return je.pipe((0,Se.U)(we=>we.body))}case"response":return je;default:throw new Error(`Unreachable: unhandled observe type ${X.observe}}`)}}delete(se,ke={}){return this.request("DELETE",se,ke)}get(se,ke={}){return this.request("GET",se,ke)}head(se,ke={}){return this.request("HEAD",se,ke)}jsonp(se,ke){return this.request("JSONP",se,{params:(new Qe).append(ke,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(se,ke={}){return this.request("OPTIONS",se,ke)}patch(se,ke,X={}){return this.request("PATCH",se,ft(X,ke))}post(se,ke,X={}){return this.request("POST",se,ft(X,ke))}put(se,ke,X={}){return this.request("PUT",se,ft(X,ke))}}return j.\u0275fac=function(se){return new(se||j)(k.LFG(ge))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();function Nt(j,W){return W(j)}function an(j,W){return(se,ke)=>W.intercept(se,{handle:X=>j(X,ke)})}const $t=new k.OlP("HTTP_INTERCEPTORS"),zt=new k.OlP("HTTP_INTERCEPTOR_FNS");function xt(){let j=null;return(W,se)=>(null===j&&(j=((0,k.f3M)($t,{optional:!0})??[]).reduceRight(an,Nt)),j(W,se))}let fn=(()=>{class j extends ge{constructor(se,ke){super(),this.backend=se,this.injector=ke,this.chain=null}handle(se){if(null===this.chain){const ke=Array.from(new Set(this.injector.get(zt)));this.chain=ke.reduceRight((X,ae)=>function Bn(j,W,se){return(ke,X)=>se.runInContext(()=>W(ke,ae=>j(ae,X)))}(X,ae,this.injector),Nt)}return this.chain(se,ke=>this.backend.handle(ke))}}return j.\u0275fac=function(se){return new(se||j)(k.LFG(Ee),k.LFG(k.lqb))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();const ln=/^\)\]\}',?\n/;let un=(()=>{class j{constructor(se){this.xhrFactory=se}handle(se){if("JSONP"===se.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new fe.y(ke=>{const X=this.xhrFactory.build();if(X.open(se.method,se.urlWithParams),se.withCredentials&&(X.withCredentials=!0),se.headers.forEach((V,L)=>X.setRequestHeader(V,L.join(","))),se.headers.has("Accept")||X.setRequestHeader("Accept","application/json, text/plain, */*"),!se.headers.has("Content-Type")){const V=se.detectContentTypeHeader();null!==V&&X.setRequestHeader("Content-Type",V)}if(se.responseType){const V=se.responseType.toLowerCase();X.responseType="json"!==V?V:"text"}const ae=se.serializeBody();let Ie=null;const je=()=>{if(null!==Ie)return Ie;const V=X.statusText||"OK",L=new J(X.getAllResponseHeaders()),U=function kn(j){return"responseURL"in j&&j.responseURL?j.responseURL:/^X-Request-URL:/m.test(j.getAllResponseHeaders())?j.getResponseHeader("X-Request-URL"):null}(X)||se.url;return Ie=new Me({headers:L,status:X.status,statusText:V,url:U}),Ie},we=()=>{let{headers:V,status:L,statusText:U,url:ne}=je(),Te=null;204!==L&&(Te=typeof X.response>"u"?X.responseText:X.response),0===L&&(L=Te?200:0);let st=L>=200&&L<300;if("json"===se.responseType&&"string"==typeof Te){const kt=Te;Te=Te.replace(ln,"");try{Te=""!==Te?JSON.parse(Te):null}catch(qn){Te=kt,st&&(st=!1,Te={error:qn,text:Te})}}st?(ke.next(new Fe({body:Te,headers:V,status:L,statusText:U,url:ne||void 0})),ke.complete()):ke.error(new Ue({error:Te,headers:V,status:L,statusText:U,url:ne||void 0}))},mt=V=>{const{url:L}=je(),U=new Ue({error:V,status:X.status||0,statusText:X.statusText||"Unknown Error",url:L||void 0});ke.error(U)};let Gt=!1;const qt=V=>{Gt||(ke.next(je()),Gt=!0);let L={type:Be.DownloadProgress,loaded:V.loaded};V.lengthComputable&&(L.total=V.total),"text"===se.responseType&&X.responseText&&(L.partialText=X.responseText),ke.next(L)},Ae=V=>{let L={type:Be.UploadProgress,loaded:V.loaded};V.lengthComputable&&(L.total=V.total),ke.next(L)};return X.addEventListener("load",we),X.addEventListener("error",mt),X.addEventListener("timeout",mt),X.addEventListener("abort",mt),se.reportProgress&&(X.addEventListener("progress",qt),null!==ae&&X.upload&&X.upload.addEventListener("progress",Ae)),X.send(ae),ke.next({type:Be.Sent}),()=>{X.removeEventListener("error",mt),X.removeEventListener("abort",mt),X.removeEventListener("load",we),X.removeEventListener("timeout",mt),se.reportProgress&&(X.removeEventListener("progress",qt),null!==ae&&X.upload&&X.upload.removeEventListener("progress",Ae)),X.readyState!==X.DONE&&X.abort()}})}}return j.\u0275fac=function(se){return new(se||j)(k.LFG(f.JF))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();const ar=new k.OlP("XSRF_ENABLED"),It="XSRF-TOKEN",br=new k.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>It}),Dr="X-XSRF-TOKEN",tn=new k.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Dr});class nr{}let Rr=(()=>{class j{constructor(se,ke,X){this.doc=se,this.platform=ke,this.cookieName=X,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const se=this.doc.cookie||"";return se!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(se,this.cookieName),this.lastCookieString=se),this.lastToken}}return j.\u0275fac=function(se){return new(se||j)(k.LFG(f.K0),k.LFG(k.Lbi),k.LFG(br))},j.\u0275prov=k.Yz7({token:j,factory:j.\u0275fac}),j})();function Zt(j,W){const se=j.url.toLowerCase();if(!(0,k.f3M)(ar)||"GET"===j.method||"HEAD"===j.method||se.startsWith("http://")||se.startsWith("https://"))return W(j);const ke=(0,k.f3M)(nr).getToken(),X=(0,k.f3M)(tn);return null!=ke&&!j.headers.has(X)&&(j=j.clone({headers:j.headers.set(X,ke)})),W(j)}var Et=(()=>((Et=Et||{})[Et.Interceptors=0]="Interceptors",Et[Et.LegacyInterceptors=1]="LegacyInterceptors",Et[Et.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Et[Et.NoXsrfProtection=3]="NoXsrfProtection",Et[Et.JsonpSupport=4]="JsonpSupport",Et[Et.RequestsMadeViaParent=5]="RequestsMadeViaParent",Et))();function jt(j,W){return{\u0275kind:j,\u0275providers:W}}function wn(...j){const W=[dt,un,fn,{provide:ge,useExisting:fn},{provide:Ee,useExisting:un},{provide:zt,useValue:Zt,multi:!0},{provide:ar,useValue:!0},{provide:nr,useClass:Rr}];for(const se of j)W.push(...se.\u0275providers);return(0,k.MR2)(W)}const Gn=new k.OlP("LEGACY_INTERCEPTOR_FN");function pr({cookieName:j,headerName:W}){const se=[];return void 0!==j&&se.push({provide:br,useValue:j}),void 0!==W&&se.push({provide:tn,useValue:W}),jt(Et.CustomXsrfConfiguration,se)}let Pr=(()=>{class j{}return j.\u0275fac=function(se){return new(se||j)},j.\u0275mod=k.oAB({type:j}),j.\u0275inj=k.cJS({providers:[wn(jt(Et.LegacyInterceptors,[{provide:Gn,useFactory:xt},{provide:zt,useExisting:Gn,multi:!0}]),pr({cookieName:It,headerName:Dr}))]}),j})()},4650:(yt,Oe,P)=>{P.d(Oe,{$8M:()=>ha,$WT:()=>sr,$Z:()=>gp,AFp:()=>Sy,AaK:()=>ge,CHM:()=>vi,CRH:()=>ry,CZH:()=>wf,CqO:()=>hm,D6c:()=>pb,EJc:()=>MI,EiD:()=>ph,EpF:()=>cm,F$t:()=>_m,F4k:()=>dm,FYo:()=>Vs,FiY:()=>Na,G48:()=>qI,Gf:()=>ty,GfV:()=>Qu,Gpc:()=>ue,Gre:()=>qm,Hsn:()=>ym,Ikx:()=>Gp,JOm:()=>To,JVY:()=>Re,JZr:()=>gt,KtG:()=>Ds,L6k:()=>rt,LAX:()=>Ot,LFG:()=>De,Lbi:()=>wI,Lck:()=>v0,MAs:()=>lm,MMx:()=>ng,MR2:()=>Eh,NdJ:()=>Lp,O4$:()=>Ln,OlP:()=>Sr,Oqu:()=>zp,P3R:()=>_h,PXZ:()=>WI,Q6J:()=>Rp,QGY:()=>kp,QbO:()=>TI,Qsj:()=>Ac,R0b:()=>Ca,RDi:()=>aa,Rgc:()=>oh,SBq:()=>qu,Sil:()=>PI,Suo:()=>ny,TTD:()=>ci,TgZ:()=>df,Udp:()=>jp,W1O:()=>ay,WFA:()=>Fp,X6Q:()=>YI,XFs:()=>It,Xpm:()=>ir,Xts:()=>Sc,Y36:()=>rc,YKP:()=>k_,YNc:()=>am,Yjl:()=>Vr,Yz7:()=>Vt,Z0I:()=>In,ZZ4:()=>Tg,_Bn:()=>x_,_UZ:()=>Op,_Vd:()=>pu,_c5:()=>hb,_uU:()=>Vm,aQg:()=>Sg,c2e:()=>SI,cJS:()=>Ir,cg1:()=>Zp,d8E:()=>Kp,dDg:()=>HI,dqk:()=>Zt,eBb:()=>wt,eFA:()=>Hy,ekj:()=>$p,eoX:()=>Fy,f3M:()=>j,g9A:()=>My,h0i:()=>ed,hGG:()=>fb,hij:()=>gf,iGM:()=>ey,ifc:()=>qt,ip1:()=>Ty,jDz:()=>F_,kL8:()=>o_,kcU:()=>Xn,lG2:()=>Ci,lqb:()=>fu,lri:()=>ky,mCW:()=>al,n5z:()=>ra,n_E:()=>Ef,oAB:()=>hr,oxw:()=>mm,pB0:()=>yn,q3G:()=>Bi,q4F:()=>Mc,qLn:()=>Ju,qOj:()=>Tp,qZA:()=>hf,qzn:()=>H,rWj:()=>Ly,sBO:()=>QI,s_b:()=>bf,soG:()=>Tf,tBr:()=>Ro,tb:()=>Ry,tp0:()=>x,uIk:()=>Mp,vHH:()=>Le,vpe:()=>pl,wAp:()=>Sn,xp6:()=>Ul,z2F:()=>Sf,z3N:()=>v,zSh:()=>Ch,zs3:()=>ul});var f=P(7579),k=P(727),$=P(9751),fe=P(6451),me=P(3099);function _e(e){for(let t in e)if(e[t]===_e)return t;throw Error("Could not find renamed property on target object.")}function Se(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ge(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ge).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ee(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const J=_e({__forward_ref__:_e});function ue(e){return e.__forward_ref__=ue,e.toString=function(){return ge(this())},e}function le(e){return Ke(e)?e():e}function Ke(e){return"function"==typeof e&&e.hasOwnProperty(J)&&e.__forward_ref__===ue}function $e(e){return e&&!!e.\u0275providers}const gt="https://g.co/ng/security#xss";class Le extends Error{constructor(t,n){super(function Qe(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function qe(e){return"string"==typeof e?e:null==e?"":String(e)}function et(e,t){throw new Le(-201,!1)}function zt(e,t){null==e&&function xt(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function Vt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Ir(e){return{providers:e.providers||[],imports:e.imports||[]}}function yr(e){return Cn(e,ln)||Cn(e,un)}function In(e){return null!==yr(e)}function Cn(e,t){return e.hasOwnProperty(t)?e[t]:null}function cr(e){return e&&(e.hasOwnProperty(kn)||e.hasOwnProperty(ar))?e[kn]:null}const ln=_e({\u0275prov:_e}),kn=_e({\u0275inj:_e}),un=_e({ngInjectableDef:_e}),ar=_e({ngInjectorDef:_e});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let br;function tn(e){const t=br;return br=e,t}function nr(e,t,n){const s=yr(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&It.Optional?null:void 0!==t?t:void et(ge(e))}const Zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),wn={},Yn="__NG_DI_FLAG__",Gn="ngTempTokenPath",pr=/\n/gm,Hr="__source";let Yt;function Jn(e){const t=Yt;return Yt=e,t}function Pr(e,t=It.Default){if(void 0===Yt)throw new Le(-203,!1);return null===Yt?nr(e,void 0,t):Yt.get(e,t&It.Optional?null:void 0,t)}function De(e,t=It.Default){return(function Dr(){return br}()||Pr)(le(e),t)}function j(e,t=It.Default){return De(e,W(t))}function W(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function se(e){const t=[];for(let n=0;n<e.length;n++){const s=le(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Le(900,!1);let a,c=It.Default;for(let m=0;m<s.length;m++){const b=s[m],T=X(b);"number"==typeof T?-1===T?a=b.token:c|=T:a=b}t.push(De(a,c))}else t.push(De(s))}return t}function ke(e,t){return e[Yn]=t,e.prototype[Yn]=t,e}function X(e){return e[Yn]}function je(e){return{toString:e}.toString()}var we=(()=>((we=we||{})[we.OnPush=0]="OnPush",we[we.Default=1]="Default",we))(),qt=(()=>{return(e=qt||(qt={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",qt;var e})();const Ae={},V=[],L=_e({\u0275cmp:_e}),U=_e({\u0275dir:_e}),ne=_e({\u0275pipe:_e}),Te=_e({\u0275mod:_e}),st=_e({\u0275fac:_e}),kt=_e({__NG_ELEMENT_ID__:_e});let qn=0;function ir(e){return je(()=>{const n=!0===e.standalone,s={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===we.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||V,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||qt.Emulated,id:"c"+qn++,styles:e.styles||V,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},c=e.dependencies,m=e.features;return a.inputs=js(e.inputs,s),a.outputs=js(e.outputs),m&&m.forEach(b=>b(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(oi).filter(os):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(Er).filter(os):null,a})}function oi(e){return Hn(e)||Cr(e)}function os(e){return null!==e}function hr(e){return je(()=>({type:e.type,bootstrap:e.bootstrap||V,declarations:e.declarations||V,imports:e.imports||V,exports:e.exports||V,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function js(e,t){if(null==e)return Ae;const n={};for(const s in e)if(e.hasOwnProperty(s)){let a=e[s],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=s,t&&(t[a]=c)}return n}const Ci=ir;function Vr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hn(e){return e[L]||null}function Cr(e){return e[U]||null}function Er(e){return e[ne]||null}function sr(e){const t=Hn(e)||Cr(e)||Er(e);return null!==t&&t.standalone}function Ar(e,t){const n=e[Te]||null;if(!n&&!0===t)throw new Error(`Type ${ge(e)} does not have '\u0275mod' property.`);return n}function zr(e){return Array.isArray(e)&&"object"==typeof e[1]}function gr(e){return Array.isArray(e)&&!0===e[1]}function ui(e){return 0!=(4&e.flags)}function Vn(e){return e.componentOffset>-1}function _n(e){return 1==(1&e.flags)}function dr(e){return null!==e.template}function Xi(e){return 0!=(256&e[2])}function Gr(e,t){return e.hasOwnProperty(st)?e[st]:null}class Wi{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function ci(){return us}function us(e){return e.type.prototype.ngOnChanges&&(e.setInput=Ws),jr}function jr(){const e=cs(this),t=e?.current;if(t){const n=e.previous;if(n===Ae)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Ws(e,t,n,s){const a=this.declaredInputs[n],c=cs(e)||function zs(e,t){return e[$r]=t}(e,{previous:Ae,current:null}),m=c.current||(c.current={}),b=c.previous,T=b[a];m[a]=new Wi(T&&T.currentValue,t,b===Ae),e[s]=t}ci.ngInherit=!0;const $r="__ngSimpleChanges__";function cs(e){return e[$r]||null}function Kn(e){for(;Array.isArray(e);)e=e[0];return e}function Ni(e,t){return Kn(t[e])}function Lr(e,t){return Kn(t[e.index])}function hs(e,t){return e.data[t]}function mr(e,t){const n=t[e];return zr(n)?n:n[0]}function ti(e){return 64==(64&e[2])}function yi(e,t){return null==t?null:e[t]}function cn(e){e[18]=0}function Si(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const Qt={lFrame:ze(null),bindingsEnabled:!0};function xs(){return Qt.bindingsEnabled}function nt(){return Qt.lFrame.lView}function xn(){return Qt.lFrame.tView}function vi(e){return Qt.lFrame.contextLView=e,e[8]}function Ds(e){return Qt.lFrame.contextLView=null,e}function ni(){let e=ts();for(;null!==e&&64===e.type;)e=e.parent;return e}function ts(){return Qt.lFrame.currentTNode}function Ei(e,t){const n=Qt.lFrame;n.currentTNode=e,n.isParent=t}function go(){return Qt.lFrame.isParent}function ks(){Qt.lFrame.isParent=!1}function xi(){return Qt.lFrame.bindingIndex++}function Ai(e){const t=Qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function _o(e,t){const n=Qt.lFrame;n.bindingIndex=n.bindingRootIndex=e,z(t)}function z(e){Qt.lFrame.currentDirectiveIndex=e}function _(e){const t=Qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function E(){return Qt.lFrame.currentQueryIndex}function R(e){Qt.lFrame.currentQueryIndex=e}function G(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ie(e,t,n){if(n&It.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&It.Host||(a=G(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;t=a,e=c}const s=Qt.lFrame=Ce();return s.currentTNode=t,s.lView=e,!0}function ve(e){const t=Ce(),n=e[1];Qt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ce(){const e=Qt.lFrame,t=null===e?null:e.child;return null===t?ze(e):t}function ze(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function ot(){const e=Qt.lFrame;return Qt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Tt=ot;function Rt(){const e=ot();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pt(){return Qt.lFrame.selectedIndex}function sn(e){Qt.lFrame.selectedIndex=e}function nn(){const e=Qt.lFrame;return hs(e.tView,e.selectedIndex)}function Ln(){Qt.lFrame.currentNamespace="svg"}function Xn(){!function Ur(){Qt.lFrame.currentNamespace=null}()}function Tr(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:b,ngAfterViewInit:T,ngAfterViewChecked:F,ngOnDestroy:Q}=c;m&&(e.contentHooks||(e.contentHooks=[])).push(-n,m),b&&((e.contentHooks||(e.contentHooks=[])).push(n,b),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,b)),T&&(e.viewHooks||(e.viewHooks=[])).push(-n,T),F&&((e.viewHooks||(e.viewHooks=[])).push(n,F),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,F)),null!=Q&&(e.destroyHooks||(e.destroyHooks=[])).push(n,Q)}}function C(e,t,n){Z(e,t,3,n)}function B(e,t,n,s){(3&e[2])===n&&Z(e,t,n,s)}function S(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Z(e,t,n,s){const c=s??-1,m=t.length-1;let b=0;for(let T=void 0!==s?65535&e[18]:0;T<m;T++)if("number"==typeof t[T+1]){if(b=t[T],null!=s&&b>=s)break}else t[T]<0&&(e[18]+=65536),(b<c||-1==c)&&(he(e,n,t,T),e[18]=(4294901760&e[18])+T+2),T++}function he(e,t,n,s){const a=n[s]<0,c=n[s+1],b=e[a?-n[s]:n[s]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(b)}finally{}}}else try{c.call(b)}finally{}}class it{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function An(e,t,n){let s=0;for(;s<n.length;){const a=n[s];if("number"==typeof a){if(0!==a)break;s++;const c=n[s++],m=n[s++],b=n[s++];e.setAttribute(t,m,b,c)}else{const c=a,m=n[++s];Ii(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),s++}}return s}function jn(e){return 3===e||4===e||6===e}function Ii(e){return 64===e.charCodeAt(0)}function Xr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?n=a:0===n||_r(e,n,a,null,-1===n||2===n?t[++s]:null)}}return e}function _r(e,t,n,s,a){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const b=e[c++];if("number"==typeof b){if(b===t){m=-1;break}if(b>t){m=c-1;break}}}for(;c<e.length;){const b=e[c];if("number"==typeof b)break;if(b===n){if(null===s)return void(null!==a&&(e[c+1]=a));if(s===e[c+1])return void(e[c+2]=a)}c++,null!==s&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,n),null!==s&&e.splice(c++,0,s),null!==a&&e.splice(c++,0,a)}function Li(e){return-1!==e}function Jr(e){return 32767&e}function qs(e,t){let n=function Ys(e){return e>>16}(e),s=t;for(;n>0;)s=s[15],n--;return s}let Qs=!0;function Xo(e){const t=Qs;return Qs=e,t}let wa=0;const Yi={};function vo(e,t){const n=Ao(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,Eo(s.data,e),Eo(t,null),Eo(s.blueprint,null));const a=bi(e,t),c=e.injectorIndex;if(Li(a)){const m=Jr(a),b=qs(a,t),T=b[1].data;for(let F=0;F<8;F++)t[c+F]=b[m+F]|T[m+F]}return t[c+8]=a,c}function Eo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Ao(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function bi(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,a=t;for(;null!==a;){if(s=Aa(a),null===s)return-1;if(n++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function Jo(e,t,n){!function jo(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(kt)&&(s=n[kt]),null==s&&(s=n[kt]=wa++);const a=255&s;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function Io(e,t,n){if(n&It.Optional||void 0!==e)return e;et()}function ca(e,t,n,s){if(n&It.Optional&&void 0===s&&(s=null),!(n&(It.Self|It.Host))){const a=e[9],c=tn(void 0);try{return a?a.get(t,s,n&It.Optional):nr(t,s,n&It.Optional)}finally{tn(c)}}return Io(s,0,n)}function Ta(e,t,n,s=It.Default,a){if(null!==e){if(1024&t[2]){const m=function Ya(e,t,n,s,a){let c=e,m=t;for(;null!==c&&null!==m&&1024&m[2]&&!(256&m[2]);){const b=Fs(c,m,n,s|It.Self,Yi);if(b!==Yi)return b;let T=c.parent;if(!T){const F=m[21];if(F){const Q=F.get(n,Yi,s);if(Q!==Yi)return Q}T=Aa(m),m=m[15]}c=T}return a}(e,t,n,s,Yi);if(m!==Yi)return m}const c=Fs(e,t,n,s,Yi);if(c!==Yi)return c}return ca(t,n,s,a)}function Fs(e,t,n,s,a){const c=function da(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(kt)?e[kt]:void 0;return"number"==typeof t?t>=0?255&t:Do:t}(n);if("function"==typeof c){if(!ie(t,e,s))return s&It.Host?Io(a,0,s):ca(t,n,s,a);try{const m=c(s);if(null!=m||s&It.Optional)return m;et()}finally{Tt()}}else if("number"==typeof c){let m=null,b=Ao(e,t),T=-1,F=s&It.Host?t[16][6]:null;for((-1===b||s&It.SkipSelf)&&(T=-1===b?bi(e,t):t[b+8],-1!==T&&Us(s,!1)?(m=t[1],b=Jr(T),t=qs(T,t)):b=-1);-1!==b;){const Q=t[1];if(bo(c,b,Q.data)){const ce=ta(b,t,n,m,s,F);if(ce!==Yi)return ce}T=t[b+8],-1!==T&&Us(s,t[1].data[b+8]===F)&&bo(c,b,t)?(m=Q,b=Jr(T),t=qs(T,t)):b=-1}}return a}function ta(e,t,n,s,a,c){const m=t[1],b=m.data[e+8],Q=na(b,m,n,null==s?Vn(b)&&Qs:s!=m&&0!=(3&b.type),a&It.Host&&c===b);return null!==Q?ns(t,m,Q,b):Yi}function na(e,t,n,s,a){const c=e.providerIndexes,m=t.data,b=1048575&c,T=e.directiveStart,Q=c>>20,Pe=a?b+Q:e.directiveEnd;for(let Ge=s?b:b+Q;Ge<Pe;Ge++){const lt=m[Ge];if(Ge<T&&n===lt||Ge>=T&&lt.type===n)return Ge}if(a){const Ge=m[T];if(Ge&&dr(Ge)&&Ge.type===n)return T}return null}function ns(e,t,n,s){let a=e[n];const c=t.data;if(function At(e){return e instanceof it}(a)){const m=a;m.resolving&&function He(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ye(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():qe(e)}(c[n]));const b=Xo(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?tn(m.injectImpl):null;ie(e,s,It.Default);try{a=e[n]=m.factory(void 0,c,e,s),t.firstCreatePass&&n>=s.directiveStart&&function Zi(e,t,n){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(s){const m=us(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,m),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,m)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==T&&tn(T),Xo(b),m.resolving=!1,Tt()}}return a}function bo(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Us(e,t){return!(e&It.Self||e&It.Host&&t)}class Fi{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return Ta(this._tNode,this._lView,t,W(s),n)}}function Do(){return new Fi(ni(),nt())}function ra(e){return je(()=>{const t=e.prototype.constructor,n=t[st]||Sa(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const c=a[st]||Sa(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Sa(e){return Ke(e)?()=>{const t=Sa(le(e));return t&&t()}:Gr(e)}function Aa(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function ha(e){return function ea(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let a=0;for(;a<s;){const c=n[a];if(jn(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<s&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(ni(),e)}const Mo="__parameters__";function $o(e,t,n){return je(()=>{const s=function Qa(e){return function(...n){if(e){const s=e(...n);for(const a in s)this[a]=s[a]}}}(t);function a(...c){if(this instanceof a)return s.apply(this,c),this;const m=new a(...c);return b.annotation=m,b;function b(T,F,Q){const ce=T.hasOwnProperty(Mo)?T[Mo]:Object.defineProperty(T,Mo,{value:[]})[Mo];for(;ce.length<=Q;)ce.push(null);return(ce[Q]=ce[Q]||[]).push(m),T}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class Sr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Vt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function I(e,t){e.forEach(n=>Array.isArray(n)?I(n,t):t(n))}function p(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function w(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function N(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}function Ct(e,t,n){let s=En(e,t);return s>=0?e[1|s]=n:(s=~s,function Ne(e,t,n,s){let a=e.length;if(a==t)e.push(n,s);else if(1===a)e.push(s,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function Lt(e,t){const n=En(e,t);if(n>=0)return e[1|n]}function En(e,t){return function eo(e,t,n){let s=0,a=e.length>>n;for(;a!==s;){const c=s+(a-s>>1),m=e[c<<n];if(t===m)return c<<n;m>t?a=c:s=c+1}return~(a<<n)}(e,t,1)}const Ro=ke($o("Inject",e=>({token:e})),-1),Na=ke($o("Optional"),8),x=ke($o("SkipSelf"),4);var To=(()=>((To=To||{})[To.Important=1]="Important",To[To.DashCase=2]="DashCase",To))();const fs=new Map;let gc=0;const Su="__ngContext__";function ps(e,t){zr(t)?(e[Su]=t[20],function Kl(e){fs.set(e[20],e)}(t)):e[Su]=t}function Ql(e,t){return undefined(e,t)}function Fa(e){const t=e[3];return gr(t)?t[3]:t}function il(e){return Ua(e[13])}function Ou(e){return Ua(e[4])}function Ua(e){for(;null!==e&&!gr(e);)e=e[4];return e}function so(e,t,n,s,a){if(null!=s){let c,m=!1;gr(s)?c=s:zr(s)&&(m=!0,s=s[0]);const b=Kn(s);0===e&&null!==n?null==a?Ha(t,n,b):va(t,n,b,a||null,!0):1===e&&null!==n?va(t,n,b,a||null,!0):2===e?function oa(e,t,n){const s=Va(e,t);s&&function Lu(e,t,n,s){e.removeChild(t,n,s)}(e,s,t,n)}(t,b,m):3===e&&t.destroyNode(b),null!=c&&function Ml(e,t,n,s,a){const c=n[7];c!==Kn(n)&&so(t,e,s,c,a);for(let b=10;b<n.length;b++){const T=n[b];Al(T[1],T,e,t,s,c)}}(t,e,c,n,a)}}function Cl(e,t,n){return e.createElement(t,n)}function Ba(e,t){const n=e[9],s=n.indexOf(t),a=t[3];512&t[2]&&(t[2]&=-513,Si(a,-1)),n.splice(s,1)}function wl(e,t){if(e.length<=10)return;const n=10+t,s=e[n];if(s){const a=s[17];null!==a&&a!==e&&Ba(a,s),t>0&&(e[n-1][4]=s[4]);const c=w(e,10+t);!function sl(e,t){Al(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const m=c[19];null!==m&&m.detachView(c[1]),s[3]=null,s[4]=null,s[2]&=-65}return s}function vc(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Al(e,t,n,3,null,null),function eu(e){let t=e[13];if(!t)return xu(e[1],e);for(;t;){let n=null;if(zr(t))n=t[13];else{const s=t[10];s&&(n=s)}if(!n){for(;t&&!t[4]&&t!==e;)zr(t)&&xu(t[1],t),t=t[3];null===t&&(t=e),zr(t)&&xu(t[1],t),n=t&&t[4]}t=n}}(t)}}function xu(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ud(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const a=t[n[s]];if(!(a instanceof it)){const c=n[s+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const b=a[c[m]],T=c[m+1];try{T.call(b)}finally{}}else try{c.call(a)}finally{}}}}(e,t),function nu(e,t){const n=e.cleanup,s=t[7];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const m=n[c+3];m>=0?s[a=m]():s[a=-m].unsubscribe(),c+=2}else{const m=s[a=n[c+1]];n[c].call(m)}if(null!==s){for(let c=a+1;c<s.length;c++)(0,s[c])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&gr(t[3])){n!==t[3]&&Ba(n,t);const s=t[19];null!==s&&s.detachView(e)}!function io(e){fs.delete(e[20])}(t)}}function ku(e,t,n){return function Ec(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[0];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:c}=e.data[s.directiveStart+a];if(c===qt.None||c===qt.Emulated)return null}return Lr(s,n)}}(e,t.parent,n)}function va(e,t,n,s,a){e.insertBefore(t,n,s,a)}function Ha(e,t,n){e.appendChild(t,n)}function ru(e,t,n,s,a){null!==s?va(e,t,n,s,a):Ha(e,t,n)}function Va(e,t){return e.parentNode(t)}function Tl(e,t,n){return Ko(e,t,n)}let Ol,Vu,Nl,Ko=function Hs(e,t,n){return 40&e.type?Lr(e,n):null};function Zo(e,t,n,s){const a=ku(e,s,t),c=t[11],b=Tl(s.parent||t[6],s,t);if(null!=a)if(Array.isArray(n))for(let T=0;T<n.length;T++)ru(c,a,n[T],b,!1);else ru(c,a,n,b,!1)}function Sl(e,t){if(null!==t){const n=t.type;if(3&n)return Lr(t,e);if(4&n)return Cs(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return Sl(e,s);{const a=e[t.index];return gr(a)?Cs(-1,a):Kn(a)}}if(32&n)return Ql(t,e)()||Kn(e[t.index]);{const s=Ic(e,t);return null!==s?Array.isArray(s)?s[0]:Sl(Fa(e[16]),s):Sl(e,t.next)}}return null}function Ic(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Cs(e,t){const n=10+e+1;if(n<t.length){const s=t[n],a=s[1].firstChild;if(null!==a)return Sl(s,a)}return t[7]}function su(e,t,n,s,a,c,m){for(;null!=n;){const b=s[n.index],T=n.type;if(m&&0===t&&(b&&ps(Kn(b),s),n.flags|=2),32!=(32&n.flags))if(8&T)su(e,t,n.child,s,a,c,!1),so(t,e,a,b,c);else if(32&T){const F=Ql(n,s);let Q;for(;Q=F();)so(t,e,a,Q,c);so(t,e,a,b,c)}else 16&T?ou(e,t,s,n,a,c):so(t,e,a,b,c);n=m?n.projectionNext:n.next}}function Al(e,t,n,s,a,c){su(n,s,e.firstChild,t,a,c,!1)}function ou(e,t,n,s,a,c){const m=n[16],T=m[6].projection[s.projection];if(Array.isArray(T))for(let F=0;F<T.length;F++)so(t,e,a,T[F],c);else su(e,t,T,m[3],a,c,!0)}function xo(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function au(e,t,n){const{mergedAttrs:s,classes:a,styles:c}=n;null!==s&&An(e,t,s),null!==a&&xo(e,t,a),null!==c&&function Pl(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function Ia(e){return function lu(){if(void 0===Ol&&(Ol=null,Zt.trustedTypes))try{Ol=Zt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ol}()?.createHTML(e)||e}function aa(e){Vu=e}function Dc(e){return function uu(){if(void 0===Nl&&(Nl=null,Zt.trustedTypes))try{Nl=Zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Nl}()?.createScriptURL(e)||e}class $a{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gt})`}}class cd extends $a{getTypeName(){return"HTML"}}class dd extends $a{getTypeName(){return"Style"}}class g extends $a{getTypeName(){return"Script"}}class u extends $a{getTypeName(){return"URL"}}class d extends $a{getTypeName(){return"ResourceURL"}}function v(e){return e instanceof $a?e.changingThisBreaksApplicationSecurity:e}function H(e,t){const n=function ee(e){return e instanceof $a&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${gt})`)}return n===t}function Re(e){return new cd(e)}function rt(e){return new dd(e)}function wt(e){return new g(e)}function Ot(e){return new u(e)}function yn(e){return new d(e)}class Ri{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(Ia(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class ko{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const s=this.inertDocument.createElement("body");n.appendChild(s)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=Ia(t),n;const s=this.inertDocument.createElement("body");return s.innerHTML=Ia(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const n=t.attributes;for(let a=n.length-1;0<a;a--){const m=n.item(a).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&t.removeAttribute(m)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Cc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function al(e){return(e=String(e)).match(Cc)?e:"unsafe:"+e}function Yo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function ll(...e){const t={};for(const n of e)for(const s in n)n.hasOwnProperty(s)&&(t[s]=!0);return t}const kl=Yo("area,br,col,hr,img,wbr"),ju=Yo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$u=Yo("rp,rt"),Ll=ll(kl,ll(ju,Yo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ll($u,Yo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ll($u,ju)),Wu=Yo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fh=ll(Wu,Yo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pf=Yo("script,style,template");class Of{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,s=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=this.checkClobberedElement(n,n.nextSibling);if(a){n=a;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Ll.hasOwnProperty(n))return this.sanitizedSomething=!0,!Pf.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=t.attributes;for(let a=0;a<s.length;a++){const c=s.item(a),m=c.name,b=m.toLowerCase();if(!fh.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let T=c.value;Wu[b]&&(T=al(T)),this.buf.push(" ",m,'="',xf(T),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Ll.hasOwnProperty(n)&&!kl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(xf(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Nf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Rg=/([^\#-~ |!])/g;function xf(e){return e.replace(/&/g,"&amp;").replace(Nf,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Rg,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function ph(e,t){let n=null;try{Tc=Tc||function on(e){const t=new ko(e);return function xl(){try{return!!(new window.DOMParser).parseFromString(Ia(""),"text/html")}catch{return!1}}()?new Ri(t):t}(e);let s=t?String(t):"";n=Tc.getInertBodyElement(s);let a=5,c=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=c,c=n.innerHTML,n=Tc.getInertBodyElement(s)}while(s!==c);return Ia((new Of).sanitizeChildren(fd(n)||n))}finally{if(n){const s=fd(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function fd(e){return"content"in e&&function gh(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Bi=(()=>((Bi=Bi||{})[Bi.NONE=0]="NONE",Bi[Bi.HTML=1]="HTML",Bi[Bi.STYLE=2]="STYLE",Bi[Bi.SCRIPT=3]="SCRIPT",Bi[Bi.URL=4]="URL",Bi[Bi.RESOURCE_URL=5]="RESOURCE_URL",Bi))();function mh(e){const t=du();return t?t.sanitize(Bi.URL,e)||"":H(e,"URL")?v(e):al(qe(e))}function Wa(e){const t=du();if(t)return Dc(t.sanitize(Bi.RESOURCE_URL,e)||"");if(H(e,"ResourceURL"))return Dc(v(e));throw new Le(904,!1)}function _h(e,t,n){return function Ff(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Wa:mh}(t,n)(e)}function du(){const e=nt();return e&&e[12]}const Sc=new Sr("ENVIRONMENT_INITIALIZER"),Gu=new Sr("INJECTOR",-1),yh=new Sr("INJECTOR_DEF_TYPES");class vh{get(t,n=wn){if(n===wn){const s=new Error(`NullInjectorError: No provider for ${ge(t)}!`);throw s.name="NullInjectorError",s}return n}}function Eh(e){return{\u0275providers:e}}function Uf(...e){return{\u0275providers:Ih(0,e),\u0275fromNgModule:!0}}function Ih(e,...t){const n=[],s=new Set;let a;return I(t,c=>{const m=c;Ku(m,n,[],s)&&(a||(a=[]),a.push(m))}),void 0!==a&&pd(a,n),n}function pd(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];gd(a,c=>{t.push(c)})}}function Ku(e,t,n,s){if(!(e=le(e)))return!1;let a=null,c=cr(e);const m=!c&&Hn(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const T=e.ngModule;if(c=cr(T),!c)return!1;a=T}const b=s.has(a);if(m){if(b)return!1;if(s.add(a),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const F of T)Ku(F,t,n,s)}}else{if(!c)return!1;{if(null!=c.imports&&!b){let F;s.add(a);try{I(c.imports,Q=>{Ku(Q,t,n,s)&&(F||(F=[]),F.push(Q))})}finally{}void 0!==F&&pd(F,t)}if(!b){const F=Gr(a)||(()=>new a);t.push({provide:a,useFactory:F,deps:V},{provide:yh,useValue:a,multi:!0},{provide:Sc,useValue:()=>De(a),multi:!0})}const T=c.providers;null==T||b||gd(T,Q=>{t.push(Q)})}}return a!==e&&void 0!==e.providers}function gd(e,t){for(let n of e)$e(n)&&(n=n.\u0275providers),Array.isArray(n)?gd(n,t):t(n)}const bh=_e({provide:String,useValue:_e});function hu(e){return null!==e&&"object"==typeof e&&bh in e}function Fl(e){return"function"==typeof e}const Ch=new Sr("Set Injector scope."),_d={},Hf={};let yd;function vd(){return void 0===yd&&(yd=new vh),yd}class fu{}class Vf extends fu{get destroyed(){return this._destroyed}constructor(t,n,s,a){super(),this.parent=n,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,is(t,m=>this.processProvider(m)),this.records.set(Gu,Zu(void 0,this)),a.has("environment")&&this.records.set(fu,Zu(void 0,this));const c=this.records.get(Ch);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(yh.multi,V,It.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=Jn(this),s=tn(void 0);try{return t()}finally{Jn(n),tn(s)}}get(t,n=wn,s=It.Default){this.assertNotDestroyed(),s=W(s);const a=Jn(this),c=tn(void 0);try{if(!(s&It.SkipSelf)){let b=this.records.get(t);if(void 0===b){const T=function $f(e){return"function"==typeof e||"object"==typeof e&&e instanceof Sr}(t)&&yr(t);b=T&&this.injectableDefInScope(T)?Zu(wh(t),_d):null,this.records.set(t,b)}if(null!=b)return this.hydrate(t,b)}return(s&It.Self?vd():this.parent).get(t,n=s&It.Optional&&n===wn?null:n)}catch(m){if("NullInjectorError"===m.name){if((m[Gn]=m[Gn]||[]).unshift(ge(t)),a)throw m;return function ae(e,t,n,s){const a=e[Gn];throw t[Hr]&&a.unshift(t[Hr]),e.message=function Ie(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=ge(t);if(Array.isArray(t))a=t.map(ge).join(" -> ");else if("object"==typeof t){let c=[];for(let m in t)if(t.hasOwnProperty(m)){let b=t[m];c.push(m+":"+("string"==typeof b?JSON.stringify(b):ge(b)))}a=`{${c.join(", ")}}`}return`${n}${s?"("+s+")":""}[${a}]: ${e.replace(pr,"\n  ")}`}("\n"+e.message,a,n,s),e.ngTokenPath=a,e[Gn]=null,e}(m,t,"R3InjectorError",this.source)}throw m}finally{tn(c),Jn(a)}}resolveInjectorInitializers(){const t=Jn(this),n=tn(void 0);try{const s=this.get(Sc.multi,V,It.Self);for(const a of s)a()}finally{Jn(t),tn(n)}}toString(){const t=[],n=this.records;for(const s of n.keys())t.push(ge(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(t){let n=Fl(t=le(t))?t:le(t&&t.provide);const s=function kg(e){return hu(e)?Zu(void 0,e.useValue):Zu(jf(e),_d)}(t);if(Fl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Zu(void 0,_d,!0),a.factory=()=>se(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,s)}hydrate(t,n){return n.value===_d&&(n.value=Hf,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Th(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=le(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function wh(e){const t=yr(e),n=null!==t?t.factory:Gr(e);if(null!==n)return n;if(e instanceof Sr)throw new Le(204,!1);if(e instanceof Function)return function xg(e){const t=e.length;if(t>0)throw N(t,"?"),new Le(204,!1);const n=function Br(e){const t=e&&(e[ln]||e[un]);if(t){const n=function vr(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function jf(e,t,n){let s;if(Fl(e)){const a=le(e);return Gr(a)||wh(a)}if(hu(e))s=()=>le(e.useValue);else if(function Bf(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...se(e.deps||[]));else if(function Dh(e){return!(!e||!e.useExisting)}(e))s=()=>De(le(e.useExisting));else{const a=le(e&&(e.useClass||e.provide));if(!function Ed(e){return!!e.deps}(e))return Gr(a)||wh(a);s=()=>new a(...se(e.deps))}return s}function Zu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function is(e,t){for(const n of e)Array.isArray(n)?is(n,t):n&&$e(n)?is(n.\u0275providers,t):t(n)}class Wf{}class Yu{}class zf{resolveComponentFactory(t){throw function Id(e){const t=Error(`No component factory found for ${ge(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let pu=(()=>{class e{}return e.NULL=new zf,e})();function Gf(){return gu(ni(),nt())}function gu(e,t){return new qu(Lr(e,t))}let qu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=Gf,e})();function Kf(e){return e instanceof qu?e.nativeElement:e}class Vs{}let Ac=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Ah(){const e=nt(),n=mr(ni().index,e);return(zr(n)?n:e)[11]}(),e})(),bd=(()=>{class e{}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:()=>null}),e})();class Qu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Mc=new Qu("15.1.1"),Xu={};function Cd(e){return e.ngOriginalError}class Ju{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Cd(t);for(;n&&Cd(n);)n=Cd(n);return n||null}}function za(e){return e instanceof Function?e():e}function Nh(e,t,n){let s=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===s||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Oc="ng-template";function Sd(e,t,n){let s=0;for(;s<e.length;){let a=e[s++];if(n&&"class"===a){if(a=e[s],-1!==Nh(a.toLowerCase(),t,0))return!0}else if(1===a){for(;s<e.length&&"string"==typeof(a=e[s++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function xh(e){return 4===e.type&&e.value!==Oc}function Ad(e,t,n){return t===(4!==e.type||n?e.value:Oc)}function kh(e,t,n){let s=4;const a=e.attrs||[],c=function ep(e){for(let t=0;t<e.length;t++)if(jn(e[t]))return t;return e.length}(a);let m=!1;for(let b=0;b<t.length;b++){const T=t[b];if("number"!=typeof T){if(!m)if(4&s){if(s=2|1&s,""!==T&&!Ad(e,T,n)||""===T&&1===t.length){if(qo(s))return!1;m=!0}}else{const F=8&s?T:t[++b];if(8&s&&null!==e.attrs){if(!Sd(e.attrs,F,n)){if(qo(s))return!1;m=!0}continue}const ce=Md(8&s?"class":T,a,xh(e),n);if(-1===ce){if(qo(s))return!1;m=!0;continue}if(""!==F){let Pe;Pe=ce>c?"":a[ce+1].toLowerCase();const Ge=8&s?Pe:null;if(Ge&&-1!==Nh(Ge,F,0)||2&s&&F!==Pe){if(qo(s))return!1;m=!0}}}}else{if(!m&&!qo(s)&&!qo(T))return!1;if(m&&qo(T))continue;m=!1,s=T|1&s}}return qo(s)||m}function qo(e){return 0==(1&e)}function Md(e,t,n,s){if(null===t)return-1;let a=0;if(s||!n){let c=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let b=t[++a];for(;"string"==typeof b;)b=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function Nc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Lh(e,t,n=!1){for(let s=0;s<t.length;s++)if(kh(e,t[s],n))return!0;return!1}function Rd(e,t){e:for(let n=0;n<t.length;n++){const s=t[n];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function xc(e,t){return e?":not("+t.trim()+")":t}function Pd(e){let t=e[0],n=1,s=2,a="",c=!1;for(;n<e.length;){let m=e[n];if("string"==typeof m)if(2&s){const b=e[++n];a+="["+m+(b.length>0?'="'+b+'"':"")+"]"}else 8&s?a+="."+m:4&s&&(a+=" "+m);else""!==a&&!qo(m)&&(t+=xc(c,a),a=""),s=m,c=c||!qo(s);n++}return""!==a&&(t+=xc(c,a)),t}const $n={};function Ul(e){Od(xn(),nt(),Pt()+e,!1)}function Od(e,t,n,s){if(!s)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&C(t,c,n)}else{const c=e.preOrderHooks;null!==c&&B(t,c,0,n)}sn(n)}function tc(e,t=null,n=null,s){const a=Nd(e,t,n,s);return a.resolveInjectorInitializers(),a}function Nd(e,t=null,n=null,s,a=new Set){const c=[n||V,Uf(e)];return s=s||("object"==typeof e?void 0:ge(e)),new Vf(c,t||vd(),s||null,a)}let ul=(()=>{class e{static create(n,s){if(Array.isArray(n))return tc({name:""},s,n,"");{const a=n.name??"";return tc({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=wn,e.NULL=new vh,e.\u0275prov=Vt({token:e,providedIn:"any",factory:()=>De(Gu)}),e.__NG_ELEMENT_ID__=-1,e})();function rc(e,t=It.Default){const n=nt();return null===n?De(e,t):Ta(ni(),n,le(e),t)}function gp(){throw new Error("invalid")}function mp(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const c=n[s+1];if(-1!==c){const m=e.data[c];R(n[s]),m.contentQueries(2,t[c],c)}}}function Fc(e,t,n,s,a,c,m,b,T,F,Q){const ce=t.blueprint.slice();return ce[0]=a,ce[2]=76|s,(null!==Q||e&&1024&e[2])&&(ce[2]|=1024),cn(ce),ce[3]=ce[15]=e,ce[8]=n,ce[10]=m||e&&e[10],ce[11]=b||e&&e[11],ce[12]=T||e&&e[12]||null,ce[9]=F||e&&e[9]||null,ce[6]=c,ce[20]=function wu(){return gc++}(),ce[21]=Q,ce[16]=2==t.type?e[16]:ce,ce}function Bl(e,t,n,s,a){let c=e.data[t];if(null===c)c=function Uc(e,t,n,s,a){const c=ts(),m=go(),T=e.data[t]=function Yh(e,t,n,s,a,c){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,n,t,s,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(m?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T)),T}(e,t,n,s,a),function mo(){return Qt.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=s,c.attrs=a;const m=function po(){const e=Qt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return Ei(c,!0),c}function _u(e,t,n,s){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function Bc(e,t,n){ve(t);try{const s=e.viewQuery;null!==s&&Ts(1,s,n);const a=e.template;null!==a&&$d(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&mp(e,t),e.staticViewQueries&&Ts(2,e.viewQuery,n);const c=e.components;null!==c&&function _p(e,t){for(let n=0;n<t.length;n++)Je(e,t[n])}(t,c)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,Rt()}}function ic(e,t,n,s){const a=t[2];if(128!=(128&a)){ve(t);try{cn(t),function zi(e){return Qt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&$d(e,t,n,2,s);const m=3==(3&a);if(m){const F=e.preOrderCheckHooks;null!==F&&C(t,F,null)}else{const F=e.preOrderHooks;null!==F&&B(t,F,0,null),S(t,0)}if(function re(e){for(let t=il(e);null!==t;t=Ou(t)){if(!t[2])continue;const n=t[9];for(let s=0;s<n.length;s++){const a=n[s];512&a[2]||Si(a[3],1),a[2]|=512}}}(t),function K(e){for(let t=il(e);null!==t;t=Ou(t))for(let n=10;n<t.length;n++){const s=t[n],a=s[1];ti(s)&&ic(a,s,a.template,s[8])}}(t),null!==e.contentQueries&&mp(e,t),m){const F=e.contentCheckHooks;null!==F&&C(t,F)}else{const F=e.contentHooks;null!==F&&B(t,F,1),S(t,1)}!function Wg(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const a=n[s];if(a<0)sn(~a);else{const c=a,m=n[++s],b=n[++s];_o(m,c),b(2,t[c])}}}finally{sn(-1)}}(e,t);const b=e.components;null!==b&&function zg(e,t){for(let n=0;n<t.length;n++)ye(e,t[n])}(t,b);const T=e.viewQuery;if(null!==T&&Ts(2,T,s),m){const F=e.viewCheckHooks;null!==F&&C(t,F)}else{const F=e.viewHooks;null!==F&&B(t,F,2),S(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,Si(t[3],-1))}finally{Rt()}}}function $d(e,t,n,s,a){const c=Pt(),m=2&s;try{sn(-1),m&&t.length>22&&Od(e,t,22,!1),n(s,a)}finally{sn(c)}}function Hc(e,t,n){if(ui(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const m=e.data[c];m.contentQueries&&m.contentQueries(1,n[c],c)}}}function Vc(e,t,n){xs()&&(function Ip(e,t,n,s){const a=n.directiveStart,c=n.directiveEnd;Vn(n)&&function r(e,t,n){const s=Lr(t,e),a=Gh(n),c=e[10],m=Ut(e,Fc(e,a,null,n.onPush?32:16,s,t,c,c.createRenderer(s,n),null,null,null));e[t.index]=m}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||vo(n,t),ps(s,t);const m=n.initialInputs;for(let b=a;b<c;b++){const T=e.data[b],F=ns(t,e,b,n);ps(F,t),null!==m&&h(0,b-a,F,T,0,m),dr(T)&&(mr(n.index,t)[8]=ns(t,e,b,n))}}(e,t,n,Lr(n,t)),64==(64&n.flags)&&tf(e,t,n))}function zh(e,t,n=Lr){const s=t.localNames;if(null!==s){let a=t.index+1;for(let c=0;c<s.length;c+=2){const m=s[c+1],b=-1===m?n(t,e):e[m];e[a++]=b}}}function Gh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wd(e,t,n,s,a,c,m,b,T,F){const Q=22+s,ce=Q+a,Pe=function Kh(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:$n);return n}(Q,ce),Ge="function"==typeof F?F():F;return Pe[1]={type:e,blueprint:Pe,template:n,queries:null,viewQuery:b,declTNode:t,data:Pe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Ge,incompleteFirstPass:!1}}function zd(e,t,n,s){const a=la(t);null===n?a.push(s):(a.push(n),e.firstCreatePass&&Hi(e).push(s,a.length-1))}function yu(e,t,n,s){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===s?qh(n,t,a,c):s.hasOwnProperty(a)&&qh(n,t,s[a],c)}return n}function qh(e,t,n,s){e.hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}function Fo(e,t,n,s,a,c,m,b){const T=Lr(t,n);let Q,F=t.inputs;!b&&null!=F&&(Q=F[s])?(wp(e,n,Q,s,a),Vn(t)&&Gd(n,t.index)):3&t.type&&(s=function yp(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=m?m(a,t.value||"",s):a,c.setProperty(T,s,a))}function Gd(e,t){const n=mr(t,e);16&n[2]||(n[2]|=32)}function Kd(e,t,n,s){let a=!1;if(xs()){const c=null===s?null:{"":-1},m=function bp(e,t){const n=e.directiveRegistry;let s=null,a=null;if(n)for(let c=0;c<n.length;c++){const m=n[c];if(Lh(t,m.selectors,!1))if(s||(s=[]),dr(m))if(null!==m.findHostDirectiveDefs){const b=[];a=a||new Map,m.findHostDirectiveDefs(m,b,a),s.unshift(...b,m),Zd(e,t,b.length)}else s.unshift(m),Zd(e,t,0);else a=a||new Map,m.findHostDirectiveDefs?.(m,s,a),s.push(m)}return null===s?null:[s,a]}(e,n);let b,T;null===m?b=T=null:[b,T]=m,null!==b&&(a=!0,Jh(e,t,n,b,c,T)),c&&function Dp(e,t,n){if(t){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new Le(-301,!1);s.push(t[a],c)}}}(n,s,c)}return n.mergedAttrs=Xr(n.mergedAttrs,n.attrs),a}function Jh(e,t,n,s,a,c){for(let F=0;F<s.length;F++)Jo(vo(n,t),e,s[F].type);!function Cp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,s.length);for(let F=0;F<s.length;F++){const Q=s[F];Q.providersResolver&&Q.providersResolver(Q)}let m=!1,b=!1,T=_u(e,t,s.length,null);for(let F=0;F<s.length;F++){const Q=s[F];n.mergedAttrs=Xr(n.mergedAttrs,Q.hostAttrs),o(e,n,t,T,Q),rf(T,Q,a),null!==Q.contentQueries&&(n.flags|=4),(null!==Q.hostBindings||null!==Q.hostAttrs||0!==Q.hostVars)&&(n.flags|=64);const ce=Q.type.prototype;!m&&(ce.ngOnChanges||ce.ngOnInit||ce.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),m=!0),!b&&(ce.ngOnChanges||ce.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),b=!0),T++}!function Qh(e,t,n){const a=t.directiveEnd,c=e.data,m=t.attrs,b=[];let T=null,F=null;for(let Q=t.directiveStart;Q<a;Q++){const ce=c[Q],Pe=n?n.get(ce):null,lt=Pe?Pe.outputs:null;T=yu(ce.inputs,Q,T,Pe?Pe.inputs:null),F=yu(ce.outputs,Q,F,lt);const Dt=null===T||null===m||xh(t)?null:D(T,Q,m);b.push(Dt)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=b,t.inputs=T,t.outputs=F}(e,n,c)}function tf(e,t,n){const s=n.directiveStart,a=n.directiveEnd,c=n.index,m=function Gi(){return Qt.lFrame.currentDirectiveIndex}();try{sn(c);for(let b=s;b<a;b++){const T=e.data[b],F=t[b];z(b),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&nf(T,F)}}finally{sn(-1),z(m)}}function nf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zd(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function rf(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;dr(t)&&(n[""]=e)}}function o(e,t,n,s,a){e.data[s]=a;const c=a.factory||(a.factory=Gr(a.type)),m=new it(c,dr(a),rc);e.blueprint[s]=m,n[s]=m,function Ep(e,t,n,s,a){const c=a.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const b=~t.index;(function ef(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(m)!=b&&m.push(b),m.push(n,s,c)}}(e,t,s,_u(e,n,a.hostVars,$n),a)}function i(e,t,n,s,a,c){const m=Lr(e,t);!function l(e,t,n,s,a,c,m){if(null==c)e.removeAttribute(t,a,n);else{const b=null==m?qe(c):m(c,s||"",a);e.setAttribute(t,a,b,n)}}(t[11],m,c,e.value,n,s,a)}function h(e,t,n,s,a,c){const m=c[t];if(null!==m){const b=s.setInput;for(let T=0;T<m.length;){const F=m[T++],Q=m[T++],ce=m[T++];null!==b?s.setInput(n,ce,F,Q):n[Q]=ce}}}function D(e,t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===s&&(s=[]);const m=e[c];for(let b=0;b<m.length;b+=2)if(m[b]===t){s.push(c,m[b+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function M(e,t,n,s){return[e,!0,!1,t,null,0,s,n,null,null]}function ye(e,t){const n=mr(t,e);if(ti(n)){const s=n[1];48&n[2]?ic(s,n,s.template,n[8]):n[5]>0&&Xe(n)}}function Xe(e){for(let s=il(e);null!==s;s=Ou(s))for(let a=10;a<s.length;a++){const c=s[a];if(ti(c))if(512&c[2]){const m=c[1];ic(m,c,m.template,c[8])}else c[5]>0&&Xe(c)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const a=mr(n[s],e);ti(a)&&a[5]>0&&Xe(a)}}function Je(e,t){const n=mr(t,e),s=n[1];(function ut(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),Bc(s,n,n[8])}function Ut(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function rn(e){for(;e;){e[2]|=32;const t=Fa(e);if(Xi(e)&&!t)return e;e=t}return null}function Zn(e,t,n,s=!0){const a=t[10];a.begin&&a.begin();try{ic(e,t,e.template,n)}catch(m){throw s&&cl(t,m),m}finally{a.end&&a.end()}}function Ts(e,t,n){R(0),t(e,n)}function la(e){return e[7]||(e[7]=[])}function Hi(e){return e.cleanup||(e.cleanup=[])}function ba(e,t,n){return(null===e||dr(e))&&(n=function ds(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function cl(e,t){const n=e[9],s=n?n.get(Ju,null):null;s&&s.handleError(t)}function wp(e,t,n,s,a){for(let c=0;c<n.length;){const m=n[c++],b=n[c++],T=t[m],F=e.data[m];null!==F.setInput?F.setInput(T,a,s,b):T[b]=a}}function sf(e,t,n){let s=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const b=t[m];"number"==typeof b?c=b:1==c?a=Ee(a,b):2==c&&(s=Ee(s,b+": "+t[++m]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=a:e.classesWithoutHost=a}function af(e,t,n,s,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&s.push(Kn(c)),gr(c))for(let b=10;b<c.length;b++){const T=c[b],F=T[1].firstChild;null!==F&&af(T[1],T,F,s)}const m=n.type;if(8&m)af(e,t,n.child,s);else if(32&m){const b=Ql(n,t);let T;for(;T=b();)s.push(T)}else if(16&m){const b=Ic(t,n);if(Array.isArray(b))s.push(...b);else{const T=Fa(t[16]);af(T[1],T,b,s,!0)}}n=a?n.projectionNext:n.next}return s}class Yd{get rootNodes(){const t=this._lView,n=t[1];return af(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(gr(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(wl(t,s),w(n,s))}this._attachedToViewContainer=!1}vc(this._lView[1],this._lView)}onDestroy(t){zd(this._lView[1],this._lView,null,t)}markForCheck(){rn(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Zn(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Jl(e,t){Al(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t}}class iv extends Yd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Zn(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Gg extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Hn(t);return new qd(n,this.ngModule)}}function Kg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class ov{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,s){s=W(s);const a=this.injector.get(t,Xu,s);return a!==Xu||n===Xu?a:this.parentInjector.get(t,n,s)}}class qd extends Yu{get inputs(){return Kg(this.componentDef.inputs)}get outputs(){return Kg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Fh(e){return e.map(Pd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,s,a){let c=(a=a||this.ngModule)instanceof fu?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const m=c?new ov(t,c):t,b=m.get(Vs,null);if(null===b)throw new Le(407,!1);const T=m.get(bd,null),F=b.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ce=s?function Zh(e,t,n){return e.selectRootElement(t,n===qt.ShadowDom)}(F,s,this.componentDef.encapsulation):Cl(F,Q,function sv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Q)),Pe=this.componentDef.onPush?288:272,Ge=Wd(0,null,null,1,0,null,null,null,null,null),lt=Fc(null,Ge,null,Pe,null,null,b,F,T,m,null);let Dt,Bt;ve(lt);try{const Jt=this.componentDef;let Mn,_t=null;Jt.findHostDirectiveDefs?(Mn=[],_t=new Map,Jt.findHostDirectiveDefs(Jt,Mn,_t),Mn.push(Jt)):Mn=[Jt];const zn=function lv(e,t){const n=e[1];return e[22]=t,Bl(n,22,2,"#host",null)}(lt,ce),Pi=function uv(e,t,n,s,a,c,m,b){const T=a[1];!function cv(e,t,n,s){for(const a of e)t.mergedAttrs=Xr(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(sf(t,t.mergedAttrs,!0),null!==n&&au(s,n,t))}(s,e,t,m);const F=c.createRenderer(t,n),Q=Fc(a,Gh(n),null,n.onPush?32:16,a[e.index],e,c,F,b||null,null,null);return T.firstCreatePass&&Zd(T,e,s.length-1),Ut(a,Q),a[e.index]=Q}(zn,ce,Jt,Mn,lt,b,F);Bt=hs(Ge,22),ce&&function hv(e,t,n,s){if(s)An(e,n,["ng-version",Mc.full]);else{const{attrs:a,classes:c}=function tp(e){const t=[],n=[];let s=1,a=2;for(;s<e.length;){let c=e[s];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++s]):8===a&&n.push(c);else{if(!qo(a))break;a=c}s++}return{attrs:t,classes:n}}(t.selectors[0]);a&&An(e,n,a),c&&c.length>0&&xo(e,n,c.join(" "))}}(F,Jt,ce,s),void 0!==n&&function fv(e,t,n){const s=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];s.push(null!=c?Array.from(c):null)}}(Bt,this.ngContentSelectors,n),Dt=function dv(e,t,n,s,a,c){const m=ni(),b=a[1],T=Lr(m,a);Jh(b,a,m,n,null,s);for(let Q=0;Q<n.length;Q++)ps(ns(a,b,m.directiveStart+Q,m),a);tf(b,a,m),T&&ps(T,a);const F=ns(a,b,m.directiveStart+m.componentOffset,m);if(e[8]=a[8]=F,null!==c)for(const Q of c)Q(F,t);return Hc(b,m,e),F}(Pi,Jt,Mn,_t,lt,[pv]),Bc(Ge,lt,null)}finally{Rt()}return new av(this.componentType,Dt,gu(Bt,lt),lt,Bt)}}class av extends Wf{constructor(t,n,s,a,c){super(),this.location=s,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new iv(a),this.componentType=t}setInput(t,n){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[t])){const c=this._rootLView;wp(c[1],c,a,t,n),Gd(c,this._tNode.index)}}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function pv(){const e=ni();Tr(nt()[1],e)}function Tp(e){let t=function Zg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let a;if(dr(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);a=t.\u0275dir}if(a){if(n){s.push(a);const m=e;m.inputs=Sp(e.inputs),m.declaredInputs=Sp(e.declaredInputs),m.outputs=Sp(e.outputs);const b=a.hostBindings;b&&yv(e,b);const T=a.viewQuery,F=a.contentQueries;if(T&&mv(e,T),F&&_v(e,F),Se(e.inputs,a.inputs),Se(e.declaredInputs,a.declaredInputs),Se(e.outputs,a.outputs),dr(a)&&a.data.animation){const Q=e.data;Q.animation=(Q.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const b=c[m];b&&b.ngInherit&&b(e),b===Tp&&(n=!1)}}t=Object.getPrototypeOf(t)}!function gv(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=Xr(a.hostAttrs,n=Xr(n,a.hostAttrs))}}(s)}function Sp(e){return e===Ae?{}:e===V?[]:e}function mv(e,t){const n=e.viewQuery;e.viewQuery=n?(s,a)=>{t(s,a),n(s,a)}:t}function _v(e,t){const n=e.contentQueries;e.contentQueries=n?(s,a,c)=>{t(s,a,c),n(s,a,c)}:t}function yv(e,t){const n=e.hostBindings;e.hostBindings=n?(s,a)=>{t(s,a),n(s,a)}:t}let lf=null;function sc(){if(!lf){const e=Zt.Symbol;if(e&&e.iterator)lf=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const s=t[n];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(lf=s)}}}return lf}function uf(e){return!!Ap(e)&&(Array.isArray(e)||!(e instanceof Map)&&sc()in e)}function Ap(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function So(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Mp(e,t,n,s){const a=nt();return So(a,xi(),t)&&(xn(),i(nn(),a,e,t,n,s)),Mp}function $c(e,t,n,s){return So(e,xi(),n)?t+qe(n)+s:$n}function am(e,t,n,s,a,c,m,b){const T=nt(),F=xn(),Q=e+22,ce=F.firstCreatePass?function Av(e,t,n,s,a,c,m,b,T){const F=t.consts,Q=Bl(t,e,4,m||null,yi(F,b));Kd(t,n,Q,yi(F,T)),Tr(t,Q);const ce=Q.tViews=Wd(2,Q,s,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,F);return null!==t.queries&&(t.queries.template(t,Q),ce.queries=t.queries.embeddedTView(Q)),Q}(Q,F,T,t,n,s,a,c,m):F.data[Q];Ei(ce,!1);const Pe=T[11].createComment("");Zo(F,T,Pe,ce),ps(Pe,T),Ut(T,T[Q]=M(Pe,T,Pe,ce)),_n(ce)&&Vc(F,T,ce),null!=m&&zh(T,ce,b)}function lm(e){return function xr(e,t){return e[t]}(function Ho(){return Qt.lFrame.contextLView}(),22+e)}function Rp(e,t,n){const s=nt();return So(s,xi(),t)&&Fo(xn(),nn(),s,e,t,s[11],n,!1),Rp}function Pp(e,t,n,s,a){const m=a?"class":"style";wp(e,n,t.inputs[m],m,s)}function df(e,t,n,s){const a=nt(),c=xn(),m=22+e,b=a[11],T=a[m]=Cl(b,t,function Ki(){return Qt.lFrame.currentNamespace}()),F=c.firstCreatePass?function Rv(e,t,n,s,a,c,m){const b=t.consts,F=Bl(t,e,2,a,yi(b,c));return Kd(t,n,F,yi(b,m)),null!==F.attrs&&sf(F,F.attrs,!1),null!==F.mergedAttrs&&sf(F,F.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,F),F}(m,c,a,0,t,n,s):c.data[m];return Ei(F,!0),au(b,T,F),32!=(32&F.flags)&&Zo(c,a,T,F),0===function Ns(){return Qt.lFrame.elementDepthCount}()&&ps(T,a),function fo(){Qt.lFrame.elementDepthCount++}(),_n(F)&&(Vc(c,a,F),Hc(c,F,a)),null!==s&&zh(a,F),df}function hf(){let e=ni();go()?ks():(e=e.parent,Ei(e,!1));const t=e;!function Gs(){Qt.lFrame.elementDepthCount--}();const n=xn();return n.firstCreatePass&&(Tr(n,e),ui(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function St(e){return 0!=(8&e.flags)}(t)&&Pp(n,t,nt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Rn(e){return 0!=(16&e.flags)}(t)&&Pp(n,t,nt(),t.stylesWithoutHost,!1),hf}function Op(e,t,n,s){return df(e,t,n,s),hf(),Op}function cm(){return nt()}function kp(e){return!!e&&"function"==typeof e.then}function dm(e){return!!e&&"function"==typeof e.subscribe}const hm=dm;function Lp(e,t,n,s){const a=nt(),c=xn(),m=ni();return fm(c,a,a[11],m,e,t,s),Lp}function Fp(e,t){const n=ni(),s=nt(),a=xn();return fm(a,s,ba(_(a.data),n,s),n,e,t),Fp}function fm(e,t,n,s,a,c,m){const b=_n(s),F=e.firstCreatePass&&Hi(e),Q=t[8],ce=la(t);let Pe=!0;if(3&s.type||m){const Dt=Lr(s,t),Bt=m?m(Dt):Dt,Jt=ce.length,Mn=m?zn=>m(Kn(zn[s.index])):s.index;let _t=null;if(!m&&b&&(_t=function Ov(e,t,n,s){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===n&&a[c+1]===s){const b=t[7],T=a[c+2];return b.length>T?b[T]:null}"string"==typeof m&&(c+=2)}return null}(e,t,a,s.index)),null!==_t)(_t.__ngLastListenerFn__||_t).__ngNextListenerFn__=c,_t.__ngLastListenerFn__=c,Pe=!1;else{c=gm(s,t,Q,c,!1);const zn=n.listen(Bt,a,c);ce.push(c,zn),F&&F.push(a,Mn,Jt,Jt+1)}}else c=gm(s,t,Q,c,!1);const Ge=s.outputs;let lt;if(Pe&&null!==Ge&&(lt=Ge[a])){const Dt=lt.length;if(Dt)for(let Bt=0;Bt<Dt;Bt+=2){const Pi=t[lt[Bt]][lt[Bt+1]].subscribe(c),ss=ce.length;ce.push(c,Pi),F&&F.push(a,s.index,ss,-(ss+1))}}}function pm(e,t,n,s){try{return!1!==n(s)}catch(a){return cl(e,a),!1}}function gm(e,t,n,s,a){return function c(m){if(m===Function)return s;rn(e.componentOffset>-1?mr(e.index,t):t);let T=pm(t,0,s,m),F=c.__ngNextListenerFn__;for(;F;)T=pm(t,0,F,m)&&T,F=F.__ngNextListenerFn__;return a&&!1===T&&(m.preventDefault(),m.returnValue=!1),T}}function mm(e=1){return function Dn(e){return(Qt.lFrame.contextLView=function dn(e,t){for(;e>0;)t=t[15],e--;return t}(e,Qt.lFrame.contextLView))[8]}(e)}function Nv(e,t){let n=null;const s=function Jf(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===s?Lh(e,c,!0):Rd(s,c))return a}else n=a}return n}function _m(e){const t=nt()[16][6];if(!t.projection){const s=t.projection=N(e?e.length:1,null),a=s.slice();let c=t.child;for(;null!==c;){const m=e?Nv(c,e):0;null!==m&&(a[m]?a[m].projectionNext=c:s[m]=c,a[m]=c),c=c.next}}}function ym(e,t=0,n){const s=nt(),a=xn(),c=Bl(a,22+e,16,null,n||null);null===c.projection&&(c.projection=t),ks(),32!=(32&c.flags)&&function Fu(e,t,n){ou(t[11],0,t,n,ku(e,n,t),Tl(n.parent||t[6],n,t))}(a,s,c)}function ff(e,t){return e<<17|t<<2}function vu(e){return e>>17&32767}function Bp(e){return 2|e}function ac(e){return(131068&e)>>2}function Hp(e,t){return-131069&e|t<<2}function Vp(e){return 1|e}function Am(e,t,n,s,a){const c=e[n+1],m=null===t;let b=s?vu(c):ac(c),T=!1;for(;0!==b&&(!1===T||m);){const Q=e[b+1];Bv(e[b],t)&&(T=!0,e[b+1]=s?Vp(Q):Bp(Q)),b=s?vu(Q):ac(Q)}T&&(e[n+1]=s?Bp(c):Vp(c))}function Bv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&En(e,t)>=0}const Ss={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Mm(e){return e.substring(Ss.key,Ss.keyEnd)}function Rm(e,t){const n=Ss.textEnd;return n===t?-1:(t=Ss.keyEnd=function $v(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,Ss.key=t,n),Qc(e,t,n))}function Qc(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function jp(e,t,n){return Ga(e,t,n,!1),jp}function $p(e,t){return Ga(e,t,null,!0),$p}function fl(e,t){for(let n=function Vv(e){return function Om(e){Ss.key=0,Ss.keyEnd=0,Ss.value=0,Ss.valueEnd=0,Ss.textEnd=e.length}(e),Rm(e,Qc(e,0,Ss.textEnd))}(t);n>=0;n=Rm(t,n))Ct(e,Mm(t),!0)}function Ga(e,t,n,s){const a=nt(),c=xn(),m=Ai(2);c.firstUpdatePass&&Lm(c,e,m,s),t!==$n&&So(a,m,t)&&Um(c,c.data[Pt()],a,a[11],e,a[m+1]=function eE(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ge(v(e)))),e}(t,n),s,m)}function km(e,t){return t>=e.expandoStartIndex}function Lm(e,t,n,s){const a=e.data;if(null===a[n+1]){const c=a[Pt()],m=km(e,n);Hm(c,s)&&null===t&&!m&&(t=!1),t=function Zv(e,t,n,s){const a=_(e);let c=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(n=Xd(n=Wp(null,e,t,n,s),t.attrs,s),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(n=Wp(a,e,t,n,s),null===c){let T=function Yv(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==ac(s))return e[vu(s)]}(e,t,s);void 0!==T&&Array.isArray(T)&&(T=Wp(null,e,t,T[1],s),T=Xd(T,t.attrs,s),function qv(e,t,n,s){e[vu(n?t.classBindings:t.styleBindings)]=s}(e,t,s,T))}else c=function Qv(e,t,n){let s;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)s=Xd(s,e[c].hostAttrs,n);return Xd(s,t.attrs,n)}(e,t,s)}return void 0!==c&&(s?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,s),function Fv(e,t,n,s,a,c){let m=c?t.classBindings:t.styleBindings,b=vu(m),T=ac(m);e[s]=n;let Q,F=!1;if(Array.isArray(n)?(Q=n[1],(null===Q||En(n,Q)>0)&&(F=!0)):Q=n,a)if(0!==T){const Pe=vu(e[b+1]);e[s+1]=ff(Pe,b),0!==Pe&&(e[Pe+1]=Hp(e[Pe+1],s)),e[b+1]=function kv(e,t){return 131071&e|t<<17}(e[b+1],s)}else e[s+1]=ff(b,0),0!==b&&(e[b+1]=Hp(e[b+1],s)),b=s;else e[s+1]=ff(T,0),0===b?b=s:e[T+1]=Hp(e[T+1],s),T=s;F&&(e[s+1]=Bp(e[s+1])),Am(e,Q,s,!0),Am(e,Q,s,!1),function Uv(e,t,n,s,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&En(c,t)>=0&&(n[s+1]=Vp(n[s+1]))}(t,Q,e,s,c),m=ff(b,T),c?t.classBindings=m:t.styleBindings=m}(a,c,t,n,m,s)}}function Wp(e,t,n,s,a){let c=null;const m=n.directiveEnd;let b=n.directiveStylingLast;for(-1===b?b=n.directiveStart:b++;b<m&&(c=t[b],s=Xd(s,c.hostAttrs,a),c!==e);)b++;return null!==e&&(n.directiveStylingLast=b),s}function Xd(e,t,n){const s=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?a=m:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ct(e,m,!!n||t[++c]))}return void 0===e?null:e}function Um(e,t,n,s,a,c,m,b){if(!(3&t.type))return;const T=e.data,F=T[b+1],Q=function Lv(e){return 1==(1&e)}(F)?Bm(T,t,n,a,ac(F),m):void 0;pf(Q)||(pf(c)||function xv(e){return 2==(2&e)}(F)&&(c=Bm(T,null,n,a,b,m)),function Rl(e,t,n,s,a){if(t)a?e.addClass(n,s):e.removeClass(n,s);else{let c=-1===s.indexOf("-")?void 0:To.DashCase;null==a?e.removeStyle(n,s,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=To.Important),e.setStyle(n,s,a,c))}}(s,m,Ni(Pt(),n),a,c))}function Bm(e,t,n,s,a,c){const m=null===t;let b;for(;a>0;){const T=e[a],F=Array.isArray(T),Q=F?T[1]:T,ce=null===Q;let Pe=n[a+1];Pe===$n&&(Pe=ce?V:void 0);let Ge=ce?Lt(Pe,s):Q===s?Pe:void 0;if(F&&!pf(Ge)&&(Ge=Lt(T,s)),pf(Ge)&&(b=Ge,m))return b;const lt=e[a+1];a=m?vu(lt):ac(lt)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(b=Lt(T,s))}return b}function pf(e){return void 0!==e}function Hm(e,t){return 0!=(e.flags&(t?8:16))}function Vm(e,t=""){const n=nt(),s=xn(),a=e+22,c=s.firstCreatePass?Bl(s,a,1,t,null):s.data[a],m=n[a]=function Nu(e,t){return e.createText(t)}(n[11],t);Zo(s,n,m,c),Ei(c,!1)}function zp(e){return gf("",e,""),zp}function gf(e,t,n){const s=nt(),a=$c(s,e,t,n);return a!==$n&&function Hl(e,t,n){const s=Ni(t,e);!function Xl(e,t,n){e.setValue(t,n)}(e[11],s,n)}(s,Pt(),a),gf}function qm(e,t,n){!function Ka(e,t,n,s){const a=xn(),c=Ai(2);a.firstUpdatePass&&Lm(a,null,c,s);const m=nt();if(n!==$n&&So(m,c,n)){const b=a.data[Pt()];if(Hm(b,s)&&!km(a,c)){let T=s?b.classesWithoutHost:b.stylesWithoutHost;null!==T&&(n=Ee(T,n||"")),Pp(a,b,m,n,s)}else!function Jv(e,t,n,s,a,c,m,b){a===$n&&(a=V);let T=0,F=0,Q=0<a.length?a[0]:null,ce=0<c.length?c[0]:null;for(;null!==Q||null!==ce;){const Pe=T<a.length?a[T+1]:void 0,Ge=F<c.length?c[F+1]:void 0;let Dt,lt=null;Q===ce?(T+=2,F+=2,Pe!==Ge&&(lt=ce,Dt=Ge)):null===ce||null!==Q&&Q<ce?(T+=2,lt=Q):(F+=2,lt=ce,Dt=Ge),null!==lt&&Um(e,t,n,s,lt,Dt,m,b),Q=T<a.length?a[T]:null,ce=F<c.length?c[F]:null}}(a,b,m,m[11],m[c+1],m[c+1]=function Xv(e,t,n){if(null==n||""===n)return V;const s=[],a=v(n);if(Array.isArray(a))for(let c=0;c<a.length;c++)e(s,a[c],!0);else if("object"==typeof a)for(const c in a)a.hasOwnProperty(c)&&e(s,c,a[c]);else"string"==typeof a&&t(s,a);return s}(e,t,n),s,c)}}(Ct,fl,$c(nt(),e,t,n),!0)}function Gp(e,t,n){const s=nt();return So(s,xi(),t)&&Fo(xn(),nn(),s,e,t,s[11],n,!0),Gp}function Kp(e,t,n){const s=nt();if(So(s,xi(),t)){const c=xn(),m=nn();Fo(c,m,s,e,t,ba(_(c.data),m,s),n,!0)}return Kp}const lc=void 0;var vE=["en",[["a","p"],["AM","PM"],lc],[["AM","PM"],lc,lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lc,"{1} 'at' {0}",lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function yE(e){const n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Xc={};function Zp(e){const t=function EE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=a_(t);if(n)return n;const s=t.split("-")[0];if(n=a_(s),n)return n;if("en"===s)return vE;throw new Le(701,!1)}function o_(e){return Zp(e)[Sn.PluralCase]}function a_(e){return e in Xc||(Xc[e]=Zt.ng&&Zt.ng.common&&Zt.ng.common.locales&&Zt.ng.common.locales[e]),Xc[e]}var Sn=(()=>((Sn=Sn||{})[Sn.LocaleId=0]="LocaleId",Sn[Sn.DayPeriodsFormat=1]="DayPeriodsFormat",Sn[Sn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Sn[Sn.DaysFormat=3]="DaysFormat",Sn[Sn.DaysStandalone=4]="DaysStandalone",Sn[Sn.MonthsFormat=5]="MonthsFormat",Sn[Sn.MonthsStandalone=6]="MonthsStandalone",Sn[Sn.Eras=7]="Eras",Sn[Sn.FirstDayOfWeek=8]="FirstDayOfWeek",Sn[Sn.WeekendRange=9]="WeekendRange",Sn[Sn.DateFormat=10]="DateFormat",Sn[Sn.TimeFormat=11]="TimeFormat",Sn[Sn.DateTimeFormat=12]="DateTimeFormat",Sn[Sn.NumberSymbols=13]="NumberSymbols",Sn[Sn.NumberFormats=14]="NumberFormats",Sn[Sn.CurrencyCode=15]="CurrencyCode",Sn[Sn.CurrencySymbol=16]="CurrencySymbol",Sn[Sn.CurrencyName=17]="CurrencyName",Sn[Sn.Currencies=18]="Currencies",Sn[Sn.Directionality=19]="Directionality",Sn[Sn.PluralCase=20]="PluralCase",Sn[Sn.ExtraData=21]="ExtraData",Sn))();const Jc="en-US";let l_=Jc;function Qp(e,t,n,s,a){if(e=le(e),Array.isArray(e))for(let c=0;c<e.length;c++)Qp(e[c],t,n,s,a);else{const c=xn(),m=nt();let b=Fl(e)?e:le(e.provide),T=jf(e);const F=ni(),Q=1048575&F.providerIndexes,ce=F.directiveStart,Pe=F.providerIndexes>>20;if(Fl(e)||!e.multi){const Ge=new it(T,a,rc),lt=Jp(b,t,a?Q:Q+Pe,ce);-1===lt?(Jo(vo(F,m),c,b),Xp(c,e,t.length),t.push(b),F.directiveStart++,F.directiveEnd++,a&&(F.providerIndexes+=1048576),n.push(Ge),m.push(Ge)):(n[lt]=Ge,m[lt]=Ge)}else{const Ge=Jp(b,t,Q+Pe,ce),lt=Jp(b,t,Q,Q+Pe),Bt=lt>=0&&n[lt];if(a&&!Bt||!a&&!(Ge>=0&&n[Ge])){Jo(vo(F,m),c,b);const Jt=function y0(e,t,n,s,a){const c=new it(e,n,rc);return c.multi=[],c.index=t,c.componentProviders=0,N_(c,a,s&&!n),c}(a?_0:m0,n.length,a,s,T);!a&&Bt&&(n[lt].providerFactory=Jt),Xp(c,e,t.length,0),t.push(b),F.directiveStart++,F.directiveEnd++,a&&(F.providerIndexes+=1048576),n.push(Jt),m.push(Jt)}else Xp(c,e,Ge>-1?Ge:lt,N_(n[a?lt:Ge],T,!a&&s));!a&&s&&Bt&&n[lt].componentProviders++}}}function Xp(e,t,n,s){const a=Fl(t),c=function md(e){return!!e.useClass}(t);if(a||c){const T=(c?le(t.useClass):t).prototype.ngOnDestroy;if(T){const F=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const Q=F.indexOf(n);-1===Q?F.push(n,[s,T]):F[Q+1].push(s,T)}else F.push(n,T)}}}function N_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Jp(e,t,n,s){for(let a=n;a<s;a++)if(t[a]===e)return a;return-1}function m0(e,t,n,s){return eg(this.multi,[])}function _0(e,t,n,s){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,b=ns(n,n[1],this.providerFactory.index,s);c=b.slice(0,m),eg(a,c);for(let T=m;T<b.length;T++)c.push(b[T])}else c=[],eg(a,c);return c}function eg(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function x_(e,t=[]){return n=>{n.providersResolver=(s,a)=>function g0(e,t,n){const s=xn();if(s.firstCreatePass){const a=dr(e);Qp(n,s.data,s.blueprint,a,!0),Qp(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}class ed{}class k_{}function v0(e,t){return new L_(e,t??null)}class L_ extends ed{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gg(this);const s=Ar(t);this._bootstrapComponents=za(s.bootstrap),this._r3Injector=Nd(t,n,[{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],ge(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class tg extends k_{constructor(t){super(),this.moduleType=t}create(t){return new L_(this.moduleType,t)}}class E0 extends ed{constructor(t,n,s){super(),this.componentFactoryResolver=new Gg(this),this.instance=null;const a=new Vf([...t,{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],n||vd(),s,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function ng(e,t,n=null){return new E0(e,t,n).injector}let I0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const s=Ih(0,n.type),a=s.length>0?ng([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Vt({token:e,providedIn:"environment",factory:()=>new e(De(fu))}),e})();function F_(e){e.getStandaloneInjector=t=>t.get(I0).getOrCreateStandaloneInjector(e)}function ig(e){return t=>{setTimeout(e,void 0,t)}}const pl=class K0 extends f.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){let a=t,c=n||(()=>null),m=s;if(t&&"object"==typeof t){const T=t;a=T.next?.bind(T),c=T.error?.bind(T),m=T.complete?.bind(T)}this.__isAsync&&(c=ig(c),a&&(a=ig(a)),m&&(m=ig(m)));const b=super.subscribe({next:a,error:c,complete:m});return t instanceof k.w0&&t.add(b),b}};function Z0(){return this._results[sc()]()}class Ef{get changes(){return this._changes||(this._changes=new pl)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sc(),s=Ef.prototype;s[n]||(s[n]=Z0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const a=function y(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Js(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],c=t[s];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(s._results,a,n))&&(s._results=a,s.length=a.length,s.last=a[this.length-1],s.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oh=(()=>{class e{}return e.__NG_ELEMENT_ID__=Q0,e})();const Y0=oh,q0=class extends Y0{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t,n){const s=this._declarationTContainer.tViews,a=Fc(this._declarationLView,s,t,16,null,s.declTNode,null,null,null,null,n||null);a[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(a[19]=m.createEmbeddedView(s)),Bc(s,a,t),new Yd(a)}};function Q0(){return If(ni(),nt())}function If(e,t){return 4&e.type?new q0(t,e,gu(e,t)):null}let bf=(()=>{class e{}return e.__NG_ELEMENT_ID__=X0,e})();function X0(){return Q_(ni(),nt())}const J0=bf,Y_=class extends J0{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){const t=bi(this._hostTNode,this._hostLView);if(Li(t)){const n=qs(t,this._hostLView),s=Jr(t);return new Fi(n[1].data[s+8],n)}return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=q_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,s){let a,c;"number"==typeof s?a=s:null!=s&&(a=s.index,c=s.injector);const m=t.createEmbeddedView(n||{},c);return this.insert(m,a),m}createComponent(t,n,s,a,c){const m=t&&!function zo(e){return"function"==typeof e}(t);let b;if(m)b=n;else{const ce=n||{};b=ce.index,s=ce.injector,a=ce.projectableNodes,c=ce.environmentInjector||ce.ngModuleRef}const T=m?t:new qd(Hn(t)),F=s||this.parentInjector;if(!c&&null==T.ngModule){const Pe=(m?F:this.parentInjector).get(fu,null);Pe&&(c=Pe)}const Q=T.create(F,a,void 0,c);return this.insert(Q.hostView,b),Q}insert(t,n){const s=t._lView,a=s[1];if(function qr(e){return gr(e[3])}(s)){const Q=this.indexOf(t);if(-1!==Q)this.detach(Q);else{const ce=s[3],Pe=new Y_(ce,ce[6],ce[3]);Pe.detach(Pe.indexOf(t))}}const c=this._adjustIndex(n),m=this._lContainer;!function yc(e,t,n,s){const a=10+s,c=n.length;s>0&&(n[a-1][4]=t),s<c-10?(t[4]=n[a],p(n,10+s,t)):(n.push(t),t[4]=null),t[3]=n;const m=t[17];null!==m&&n!==m&&function tu(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(m,t);const b=t[19];null!==b&&b.insertView(e),t[2]|=64}(a,s,m,c);const b=Cs(c,m),T=s[11],F=Va(T,m[7]);return null!==F&&function ld(e,t,n,s,a,c){s[0]=a,s[6]=t,Al(e,s,n,1,a,c)}(a,m[6],T,s,F,b),t.attachToViewContainerRef(),p(sg(m),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=q_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=wl(this._lContainer,n);s&&(w(sg(this._lContainer),n),vc(s[1],s))}detach(t){const n=this._adjustIndex(t,-1),s=wl(this._lContainer,n);return s&&null!=w(sg(this._lContainer),n)?new Yd(s):null}_adjustIndex(t,n=0){return t??this.length+n}};function q_(e){return e[8]}function sg(e){return e[8]||(e[8]=[])}function Q_(e,t){let n;const s=t[e.index];if(gr(s))n=s;else{let a;if(8&e.type)a=Kn(s);else{const c=t[11];a=c.createComment("");const m=Lr(e,t);va(c,Va(c,m),a,function Ea(e,t){return e.nextSibling(t)}(c,m),!1)}t[e.index]=n=M(s,t,a,e),Ut(t,n)}return new Y_(n,e,t)}class og{constructor(t){this.queryList=t,this.matches=null}clone(){return new og(this.queryList)}setDirty(){this.queryList.setDirty()}}class ag{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<s;c++){const m=n.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new ag(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==oy(t,n).matches&&this.queries[n].setDirty()}}class X_{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class lg{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const a=null!==n?n.length:0,c=this.getByIndex(s).embeddedTView(t,a);c&&(c.indexInDeclarationView=s,null!==n?n.push(c):n=[c])}return null!==n?new lg(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ug{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ug(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const c=s[a];this.matchTNodeWithReadOption(t,n,eI(n,c)),this.matchTNodeWithReadOption(t,n,na(n,t,c,!1,!1))}else s===oh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,na(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===qu||a===bf||a===oh&&4&n.type)this.addMatch(n.index,-2);else{const c=na(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function eI(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function nI(e,t,n,s){return-1===n?function tI(e,t){return 11&e.type?gu(e,t):4&e.type?If(e,t):null}(t,e):-2===n?function rI(e,t,n){return n===qu?gu(t,e):n===oh?If(t,e):n===bf?Q_(t,e):void 0}(e,t,s):ns(e,e[1],n,t)}function J_(e,t,n,s){const a=t[19].queries[s];if(null===a.matches){const c=e.data,m=n.matches,b=[];for(let T=0;T<m.length;T+=2){const F=m[T];b.push(F<0?null:nI(t,c[F],m[T+1],n.metadata.read))}a.matches=b}return a.matches}function cg(e,t,n,s){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const m=J_(e,t,a,n);for(let b=0;b<c.length;b+=2){const T=c[b];if(T>0)s.push(m[b/2]);else{const F=c[b+1],Q=t[-T];for(let ce=10;ce<Q.length;ce++){const Pe=Q[ce];Pe[17]===Pe[3]&&cg(Pe[1],Pe,F,s)}if(null!==Q[9]){const ce=Q[9];for(let Pe=0;Pe<ce.length;Pe++){const Ge=ce[Pe];cg(Ge[1],Ge,F,s)}}}}}return s}function ey(e){const t=nt(),n=xn(),s=E();R(s+1);const a=oy(n,s);if(e.dirty&&function Is(e){return 4==(4&e[2])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?cg(n,t,s,[]):J_(n,t,a,s);e.reset(c,Kf),e.notifyOnChanges()}return!0}return!1}function ty(e,t,n){const s=xn();s.firstCreatePass&&(sy(s,new X_(e,t,n),-1),2==(2&t)&&(s.staticViewQueries=!0)),iy(s,nt(),t)}function ny(e,t,n,s){const a=xn();if(a.firstCreatePass){const c=ni();sy(a,new X_(t,n,s),c.index),function sI(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}iy(a,nt(),n)}function ry(){return function iI(e,t){return e[19].queries[t].queryList}(nt(),E())}function iy(e,t,n){const s=new Ef(4==(4&n));zd(e,t,s,s.destroy),null===t[19]&&(t[19]=new ag),t[19].queries.push(new og(s))}function sy(e,t,n){null===e.queries&&(e.queries=new lg),e.queries.track(new ug(t,n))}function oy(e,t){return e.queries.getByIndex(t)}function ay(e,t){return If(e,t)}function Cf(...e){}const Ty=new Sr("Application Initializer");let wf=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Cf,this.reject=Cf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(kp(c))n.push(c);else if(hm(c)){const m=new Promise((b,T)=>{c.subscribe({complete:b,error:T})});n.push(m)}}Promise.all(n).then(()=>{s()}).catch(a=>{this.reject(a)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(De(Ty,8))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sy=new Sr("AppId",{providedIn:"root",factory:function Ay(){return`${gg()}${gg()}${gg()}`}});function gg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const My=new Sr("Platform Initializer"),wI=new Sr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ry=new Sr("appBootstrapListener"),TI=new Sr("AnimationModuleType");let SI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Tf=new Sr("LocaleId",{providedIn:"root",factory:()=>j(Tf,It.Optional|It.SkipSelf)||function AI(){return typeof $localize<"u"&&$localize.locale||Jc}()}),MI=new Sr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class RI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let PI=(()=>{class e{compileModuleSync(n){return new tg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),c=za(Ar(n).declarations).reduce((m,b)=>{const T=Hn(b);return T&&m.push(new qd(T)),m},[]);return new RI(s,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xI=(()=>Promise.resolve(0))();function mg(e){typeof Zone>"u"?xI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ca{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pl(!1),this.onMicrotaskEmpty=new pl(!1),this.onStable=new pl(!1),this.onError=new pl(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&n,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function kI(){let e=Zt.requestAnimationFrame,t=Zt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function UI(e){const t=()=>{!function FI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Zt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yg(e),e.isCheckStableRunning=!0,_g(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,a,c,m,b)=>{try{return Ny(e),n.invokeTask(a,c,m,b)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),xy(e)}},onInvoke:(n,s,a,c,m,b,T)=>{try{return Ny(e),n.invoke(a,c,m,b,T)}finally{e.shouldCoalesceRunChangeDetection&&t(),xy(e)}},onHasTask:(n,s,a,c)=>{n.hasTask(a,c),s===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,yg(e),_g(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,s,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ca.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Ca.isInAngularZone())throw new Le(909,!1)}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,t,LI,Cf,Cf);try{return c.runTask(m,n,s)}finally{c.cancelTask(m)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const LI={};function _g(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ny(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function xy(e){e._nesting--,_g(e)}class BI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pl,this.onMicrotaskEmpty=new pl,this.onStable=new pl,this.onError=new pl}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,a){return t.apply(n,s)}}const ky=new Sr(""),Ly=new Sr("");let vg,HI=(()=>{class e{constructor(n,s,a){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vg||(function VI(e){vg=e}(a),a.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ca.assertNotInAngularZone(),mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())mg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,a){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(De(Ca),De(Fy),De(Ly))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac}),e})(),Fy=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return vg?.findTestabilityInTree(this,n,s)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Eu=null;const Uy=new Sr("AllowMultipleToken"),Eg=new Sr("PlatformDestroyListeners");class WI{constructor(t,n){this.name=t,this.token=n}}function Hy(e,t,n=[]){const s=`Platform: ${t}`,a=new Sr(s);return(c=[])=>{let m=Ig();if(!m||m.injector.get(Uy,!1)){const b=[...n,...c,{provide:a,useValue:!0}];e?e(b):function zI(e){if(Eu&&!Eu.get(Uy,!1))throw new Le(400,!1);Eu=e;const t=e.get(jy);(function By(e){const t=e.get(My,null);t&&t.forEach(n=>n())})(e)}(function Vy(e=[],t){return ul.create({name:t,providers:[{provide:Ch,useValue:"platform"},{provide:Eg,useValue:new Set([()=>Eu=null])},...e]})}(b,s))}return function KI(e){const t=Ig();if(!t)throw new Le(401,!1);return t}()}}function Ig(){return Eu?.get(jy)??null}let jy=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const a=function Wy(e,t){let n;return n="noop"===e?new BI:("zone.js"===e?void 0:e)||new Ca(t),n}(s?.ngZone,function $y(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(s)),c=[{provide:Ca,useValue:a}];return a.run(()=>{const m=ul.create({providers:c,parent:this.injector,name:n.moduleType.name}),b=n.create(m),T=b.injector.get(Ju,null);if(!T)throw new Le(402,!1);return a.runOutsideAngular(()=>{const F=a.onError.subscribe({next:Q=>{T.handleError(Q)}});b.onDestroy(()=>{Af(this._modules,b),F.unsubscribe()})}),function zy(e,t,n){try{const s=n();return kp(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(T,a,()=>{const F=b.injector.get(wf);return F.runInitializers(),F.donePromise.then(()=>(function u_(e){zt(e,"Expected localeId to be defined"),"string"==typeof e&&(l_=e.toLowerCase().replace(/_/g,"-"))}(b.injector.get(Tf,Jc)||Jc),this._moduleDoBootstrap(b),b))})})}bootstrapModule(n,s=[]){const a=Gy({},s);return function jI(e,t,n){const s=new tg(n);return Promise.resolve(s)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const s=n.injector.get(Sf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Le(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(Eg,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(De(ul))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Gy(e,t){return Array.isArray(t)?t.reduce(Gy,e):{...e,...t}}let Sf=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,s,a){this._zone=n,this._injector=s,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new $.y(b=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{b.next(this._stable),b.complete()})}),m=new $.y(b=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Ca.assertNotInAngularZone(),mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,b.next(!0))})})});const F=this._zone.onUnstable.subscribe(()=>{Ca.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{b.next(!1)}))});return()=>{T.unsubscribe(),F.unsubscribe()}});this.isStable=(0,fe.T)(c,m.pipe((0,me.B)()))}bootstrap(n,s){const a=n instanceof Yu;if(!this._injector.get(wf).done)throw!a&&sr(n),new Le(405,false);let m;m=a?n:this._injector.get(pu).resolveComponentFactory(n),this.componentTypes.push(m.componentType);const b=function $I(e){return e.isBoundToModule}(m)?void 0:this._injector.get(ed),F=m.create(ul.NULL,[],s||m.selector,b),Q=F.location.nativeElement,ce=F.injector.get(ky,null);return ce?.registerApplication(Q),F.onDestroy(()=>{this.detachView(F.hostView),Af(this.components,F),ce?.unregisterApplication(Q)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;Af(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(Ry,[]);s.push(...this._bootstrapListeners),s.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Af(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(De(Ca),De(fu),De(Ju))},e.\u0275prov=Vt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Af(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YI(){return!1}function qI(){}let QI=(()=>{class e{}return e.__NG_ELEMENT_ID__=XI,e})();function XI(e){return function JI(e,t,n){if(Vn(e)&&!n){const s=mr(e.index,t);return new Yd(s,s)}return 47&e.type?new Yd(t[16],t):null}(ni(),nt(),16==(16&e))}class Qy{constructor(){}supports(t){return uf(t)}create(t){return new sb(t)}}const ib=(e,t)=>t;class sb{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ib}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,a=0,c=null;for(;n||s;){const m=!s||n&&n.currentIndex<Jy(s,a,c)?n:s,b=Jy(m,a,c),T=m.currentIndex;if(m===s)a--,s=s._nextRemoved;else if(n=n._next,null==m.previousIndex)a++;else{c||(c=[]);const F=b-a,Q=T-a;if(F!=Q){for(let Pe=0;Pe<F;Pe++){const Ge=Pe<c.length?c[Pe]:c[Pe]=0,lt=Ge+Pe;Q<=lt&&lt<F&&(c[Pe]=Ge+1)}c[m.previousIndex]=Q-F}}b!==T&&t(m,b,T)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!uf(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,m,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let b=0;b<this.length;b++)c=t[b],m=this._trackByFn(b,c),null!==n&&Object.is(n.trackById,m)?(s&&(n=this._verifyReinsertion(n,c,m,b)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,m,b),s=!0),n=n._next}else a=0,function wv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[sc()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,b=>{m=this._trackByFn(a,b),null!==n&&Object.is(n.trackById,m)?(s&&(n=this._verifyReinsertion(n,b,m,a)),Object.is(n.item,b)||this._addIdentityChange(n,b)):(n=this._mismatch(n,b,m,a),s=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new ob(n,s),c,a),t}_verifyReinsertion(t,n,s,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xy),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ob{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ab{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class Xy{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new ab,this.map.set(n,s)),s.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jy(e,t,n){const s=e.previousIndex;if(null===s)return s;let a=0;return n&&s<n.length&&(a=n[s]),s+t+a}class ev{constructor(){}supports(t){return t instanceof Map||Ap(t)}create(){return new lb}}class lb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Ap(t)))throw new Le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,s);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const s=new ub(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class ub{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tv(){return new Tg([new Qy])}let Tg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||tv()),deps:[[e,new x,new Na]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(null!=s)return s;throw new Le(901,!1)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:tv}),e})();function nv(){return new Sg([new ev])}let Sg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||nv()),deps:[[e,new x,new Na]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(s)return s;throw new Le(901,!1)}}return e.\u0275prov=Vt({token:e,providedIn:"root",factory:nv}),e})();const hb=Hy(null,"core",[]);let fb=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(De(Sf))},e.\u0275mod=hr({type:e}),e.\u0275inj=Ir({}),e})();function pb(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},3238:(yt,Oe,P)=>{P.d(Oe,{_A:()=>Nt,rD:()=>Vt,sG:()=>an,K7:()=>Yn,HF:()=>Ht,BQ:()=>de,XK:()=>Ft,ey:()=>Hr,Ng:()=>Pr,wG:()=>tn,si:()=>nr,CB:()=>Yt,jH:()=>Jn,pj:()=>Be,Kr:()=>be,Id:()=>O,FD:()=>Fe,sb:()=>Me});var f=P(4650),k=P(7253),$=P(445),me=P(6895),_e=P(3353),Se=P(1281),ge=P(7579),Ee=P(9521);const le=["text"];function Ke(De,oe){if(1&De&&f._UZ(0,"mat-pseudo-checkbox",5),2&De){const j=f.oxw();f.Q6J("state",j.selected?"checked":"unchecked")("disabled",j.disabled)}}function $e(De,oe){if(1&De&&(f.TgZ(0,"span",6),f._uU(1),f.qZA()),2&De){const j=f.oxw();f.xp6(1),f.hij("(",j.group.label,")")}}const at=[[["mat-icon"]],"*"],gt=["mat-icon","*"],He=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function Ye(){return!0}});let de=(()=>{class De{constructor(j,W,se){this._sanityChecks=W,this._document=se,this._hasDoneGlobalChecks=!1,j._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(j){return!(0,_e.Oy)()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[j])}}return De.\u0275fac=function(j){return new(j||De)(f.LFG(k.qm),f.LFG(He,8),f.LFG(me.K0))},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({imports:[$.vT,$.vT]}),De})();function O(De){return class extends De{get disabled(){return this._disabled}set disabled(oe){this._disabled=(0,Se.Ig)(oe)}constructor(...oe){super(...oe),this._disabled=!1}}}function Be(De,oe){return class extends De{get color(){return this._color}set color(j){const W=j||this.defaultColor;W!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),W&&this._elementRef.nativeElement.classList.add(`mat-${W}`),this._color=W)}constructor(...j){super(...j),this.defaultColor=oe,this.color=oe}}}function be(De){return class extends De{get disableRipple(){return this._disableRipple}set disableRipple(oe){this._disableRipple=(0,Se.Ig)(oe)}constructor(...oe){super(...oe),this._disableRipple=!1}}}function Me(De,oe=0){return class extends De{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(j){this._tabIndex=null!=j?(0,Se.su)(j):this.defaultTabIndex}constructor(...j){super(...j),this._tabIndex=oe,this.defaultTabIndex=oe}}}function Fe(De){return class extends De{updateErrorState(){const oe=this.errorState,ke=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);ke!==oe&&(this.errorState=ke,this.stateChanges.next())}constructor(...oe){super(...oe),this.errorState=!1}}}const ft=new f.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function dt(){return(0,f.f3M)(f.soG)}});class Nt{constructor(){this._localeChanges=new ge.x,this.localeChanges=this._localeChanges}getValidDateOrNull(oe){return this.isDateInstance(oe)&&this.isValid(oe)?oe:null}deserialize(oe){return null==oe||this.isDateInstance(oe)&&this.isValid(oe)?oe:this.invalid()}setLocale(oe){this.locale=oe,this._localeChanges.next()}compareDate(oe,j){return this.getYear(oe)-this.getYear(j)||this.getMonth(oe)-this.getMonth(j)||this.getDate(oe)-this.getDate(j)}sameDate(oe,j){if(oe&&j){let W=this.isValid(oe),se=this.isValid(j);return W&&se?!this.compareDate(oe,j):W==se}return oe==j}clampDate(oe,j,W){return j&&this.compareDate(oe,j)<0?j:W&&this.compareDate(oe,W)>0?W:oe}}const an=new f.OlP("mat-date-formats"),Bn=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function $t(De,oe){const j=Array(De);for(let W=0;W<De;W++)j[W]=oe(W);return j}let zt=(()=>{class De extends Nt{constructor(j,W){super(),this.useUtcForDisplay=!1,super.setLocale(j)}getYear(j){return j.getFullYear()}getMonth(j){return j.getMonth()}getDate(j){return j.getDate()}getDayOfWeek(j){return j.getDay()}getMonthNames(j){const W=new Intl.DateTimeFormat(this.locale,{month:j,timeZone:"utc"});return $t(12,se=>this._format(W,new Date(2017,se,1)))}getDateNames(){const j=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return $t(31,W=>this._format(j,new Date(2017,0,W+1)))}getDayOfWeekNames(j){const W=new Intl.DateTimeFormat(this.locale,{weekday:j,timeZone:"utc"});return $t(7,se=>this._format(W,new Date(2017,0,se+1)))}getYearName(j){const W=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(W,j)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(j){return this.getDate(this._createDateWithOverflow(this.getYear(j),this.getMonth(j)+1,0))}clone(j){return new Date(j.getTime())}createDate(j,W,se){let ke=this._createDateWithOverflow(j,W,se);return ke.getMonth(),ke}today(){return new Date}parse(j,W){return"number"==typeof j?new Date(j):j?new Date(Date.parse(j)):null}format(j,W){if(!this.isValid(j))throw Error("NativeDateAdapter: Cannot format invalid date.");const se=new Intl.DateTimeFormat(this.locale,{...W,timeZone:"utc"});return this._format(se,j)}addCalendarYears(j,W){return this.addCalendarMonths(j,12*W)}addCalendarMonths(j,W){let se=this._createDateWithOverflow(this.getYear(j),this.getMonth(j)+W,this.getDate(j));return this.getMonth(se)!=((this.getMonth(j)+W)%12+12)%12&&(se=this._createDateWithOverflow(this.getYear(se),this.getMonth(se),0)),se}addCalendarDays(j,W){return this._createDateWithOverflow(this.getYear(j),this.getMonth(j),this.getDate(j)+W)}toIso8601(j){return[j.getUTCFullYear(),this._2digit(j.getUTCMonth()+1),this._2digit(j.getUTCDate())].join("-")}deserialize(j){if("string"==typeof j){if(!j)return null;if(Bn.test(j)){let W=new Date(j);if(this.isValid(W))return W}}return super.deserialize(j)}isDateInstance(j){return j instanceof Date}isValid(j){return!isNaN(j.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(j,W,se){const ke=new Date;return ke.setFullYear(j,W,se),ke.setHours(0,0,0,0),ke}_2digit(j){return("00"+j).slice(-2)}_format(j,W){const se=new Date;return se.setUTCFullYear(W.getFullYear(),W.getMonth(),W.getDate()),se.setUTCHours(W.getHours(),W.getMinutes(),W.getSeconds(),W.getMilliseconds()),j.format(se)}}return De.\u0275fac=function(j){return new(j||De)(f.LFG(ft,8),f.LFG(_e.t4))},De.\u0275prov=f.Yz7({token:De,factory:De.\u0275fac}),De})();const xt={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let fn=(()=>{class De{}return De.\u0275fac=function(j){return new(j||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({providers:[{provide:Nt,useClass:zt}]}),De})(),Ft=(()=>{class De{}return De.\u0275fac=function(j){return new(j||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({providers:[{provide:an,useValue:xt}],imports:[fn]}),De})(),Vt=(()=>{class De{isErrorState(j,W){return!!(j&&j.invalid&&(j.touched||W&&W.submitted))}}return De.\u0275fac=function(j){return new(j||De)},De.\u0275prov=f.Yz7({token:De,factory:De.\u0275fac,providedIn:"root"}),De})();class Cn{constructor(oe,j,W,se=!1){this._renderer=oe,this.element=j,this.config=W,this._animationForciblyDisabledThroughCss=se,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Br=(0,_e.i$)({passive:!0,capture:!0});class vr{constructor(){this._events=new Map,this._delegateEventHandler=oe=>{const j=(0,_e.sA)(oe);j&&this._events.get(oe.type)?.forEach((W,se)=>{(se===j||se.contains(j))&&W.forEach(ke=>ke.handleEvent(oe))})}}addHandler(oe,j,W,se){const ke=this._events.get(j);if(ke){const X=ke.get(W);X?X.add(se):ke.set(W,new Set([se]))}else this._events.set(j,new Map([[W,new Set([se])]])),oe.runOutsideAngular(()=>{document.addEventListener(j,this._delegateEventHandler,Br)})}removeHandler(oe,j,W){const se=this._events.get(oe);if(!se)return;const ke=se.get(j);ke&&(ke.delete(W),0===ke.size&&se.delete(j),0===se.size&&(this._events.delete(oe),document.removeEventListener(oe,this._delegateEventHandler,Br)))}}const cr={enterDuration:225,exitDuration:150},kn=(0,_e.i$)({passive:!0,capture:!0}),un=["mousedown","touchstart"],ar=["mouseup","mouseleave","touchend","touchcancel"];class It{constructor(oe,j,W,se){this._target=oe,this._ngZone=j,this._platform=se,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,se.isBrowser&&(this._containerElement=(0,Se.fI)(W))}fadeInRipple(oe,j,W={}){const se=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),ke={...cr,...W.animation};W.centered&&(oe=se.left+se.width/2,j=se.top+se.height/2);const X=W.radius||function br(De,oe,j){const W=Math.max(Math.abs(De-j.left),Math.abs(De-j.right)),se=Math.max(Math.abs(oe-j.top),Math.abs(oe-j.bottom));return Math.sqrt(W*W+se*se)}(oe,j,se),ae=oe-se.left,Ie=j-se.top,je=ke.enterDuration,we=document.createElement("div");we.classList.add("mat-ripple-element"),we.style.left=ae-X+"px",we.style.top=Ie-X+"px",we.style.height=2*X+"px",we.style.width=2*X+"px",null!=W.color&&(we.style.backgroundColor=W.color),we.style.transitionDuration=`${je}ms`,this._containerElement.appendChild(we);const mt=window.getComputedStyle(we),qt=mt.transitionDuration,Ae="none"===mt.transitionProperty||"0s"===qt||"0s, 0s"===qt||0===se.width&&0===se.height,V=new Cn(this,we,W,Ae);we.style.transform="scale3d(1, 1, 1)",V.state=0,W.persistent||(this._mostRecentTransientRipple=V);let L=null;return!Ae&&(je||ke.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const U=()=>this._finishRippleTransition(V),ne=()=>this._destroyRipple(V);we.addEventListener("transitionend",U),we.addEventListener("transitioncancel",ne),L={onTransitionEnd:U,onTransitionCancel:ne}}),this._activeRipples.set(V,L),(Ae||!je)&&this._finishRippleTransition(V),V}fadeOutRipple(oe){if(2===oe.state||3===oe.state)return;const j=oe.element,W={...cr,...oe.config.animation};j.style.transitionDuration=`${W.exitDuration}ms`,j.style.opacity="0",oe.state=2,(oe._animationForciblyDisabledThroughCss||!W.exitDuration)&&this._finishRippleTransition(oe)}fadeOutAll(){this._getActiveRipples().forEach(oe=>oe.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(oe=>{oe.config.persistent||oe.fadeOut()})}setupTriggerEvents(oe){const j=(0,Se.fI)(oe);!this._platform.isBrowser||!j||j===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=j,un.forEach(W=>{It._eventManager.addHandler(this._ngZone,W,j,this)}))}handleEvent(oe){"mousedown"===oe.type?this._onMousedown(oe):"touchstart"===oe.type?this._onTouchStart(oe):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ar.forEach(j=>{this._triggerElement.addEventListener(j,this,kn)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(oe){0===oe.state?this._startFadeOutTransition(oe):2===oe.state&&this._destroyRipple(oe)}_startFadeOutTransition(oe){const j=oe===this._mostRecentTransientRipple,{persistent:W}=oe.config;oe.state=1,!W&&(!j||!this._isPointerDown)&&oe.fadeOut()}_destroyRipple(oe){const j=this._activeRipples.get(oe)??null;this._activeRipples.delete(oe),this._activeRipples.size||(this._containerRect=null),oe===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),oe.state=3,null!==j&&(oe.element.removeEventListener("transitionend",j.onTransitionEnd),oe.element.removeEventListener("transitioncancel",j.onTransitionCancel)),oe.element.remove()}_onMousedown(oe){const j=(0,k.X6)(oe),W=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!j&&!W&&(this._isPointerDown=!0,this.fadeInRipple(oe.clientX,oe.clientY,this._target.rippleConfig))}_onTouchStart(oe){if(!this._target.rippleDisabled&&!(0,k.yG)(oe)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const j=oe.changedTouches;for(let W=0;W<j.length;W++)this.fadeInRipple(j[W].clientX,j[W].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(oe=>{!oe.config.persistent&&(1===oe.state||oe.config.terminateOnPointerUp&&0===oe.state)&&oe.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const oe=this._triggerElement;oe&&(un.forEach(j=>It._eventManager.removeHandler(j,oe,this)),this._pointerUpEventsRegistered&&ar.forEach(j=>oe.removeEventListener(j,this,kn)))}}It._eventManager=new vr;const Dr=new f.OlP("mat-ripple-global-options");let tn=(()=>{class De{get disabled(){return this._disabled}set disabled(j){j&&this.fadeOutAllNonPersistent(),this._disabled=j,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(j){this._trigger=j,this._setupTriggerEventsIfEnabled()}constructor(j,W,se,ke,X){this._elementRef=j,this._animationMode=X,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=ke||{},this._rippleRenderer=new It(this,W,j,se)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(j,W=0,se){return"number"==typeof j?this._rippleRenderer.fadeInRipple(j,W,{...this.rippleConfig,...se}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...j})}}return De.\u0275fac=function(j){return new(j||De)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(_e.t4),f.Y36(Dr,8),f.Y36(f.QbO,8))},De.\u0275dir=f.lG2({type:De,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(j,W){2&j&&f.ekj("mat-ripple-unbounded",W.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),De})(),nr=(()=>{class De{}return De.\u0275fac=function(j){return new(j||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({imports:[de,de]}),De})(),Rr=(()=>{class De{constructor(j){this._animationMode=j,this.state="unchecked",this.disabled=!1}}return De.\u0275fac=function(j){return new(j||De)(f.Y36(f.QbO,8))},De.\u0275cmp=f.Xpm({type:De,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(j,W){2&j&&f.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===W.state)("mat-pseudo-checkbox-checked","checked"===W.state)("mat-pseudo-checkbox-disabled",W.disabled)("_mat-animation-noopable","NoopAnimations"===W._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(j,W){},styles:['.mat-pseudo-checkbox{border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}.mat-pseudo-checkbox-checked::after{top:2.7px;width:10px;height:4px}'],encapsulation:2,changeDetection:0}),De})(),Zt=(()=>{class De{}return De.\u0275fac=function(j){return new(j||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({imports:[de]}),De})();const Ht=new f.OlP("MAT_OPTION_PARENT_COMPONENT"),Yn=new f.OlP("MatOptgroup");let rr=0;class pr{constructor(oe,j=!1){this.source=oe,this.isUserInput=j}}let Pn=(()=>{class De{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(j){this._disabled=(0,Se.Ig)(j)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}constructor(j,W,se,ke){this._element=j,this._changeDetectorRef=W,this._parent=se,this.group=ke,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+rr++,this.onSelectionChange=new f.vpe,this._stateChanges=new ge.x}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(j,W){const se=this._getHostElement();"function"==typeof se.focus&&se.focus(W)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(j){(j.keyCode===Ee.K5||j.keyCode===Ee.L_)&&!(0,Ee.Vb)(j)&&(this._selectViaInteraction(),j.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const j=this.viewValue;j!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=j)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(j=!1){this.onSelectionChange.emit(new pr(this,j))}}return De.\u0275fac=function(j){f.$Z()},De.\u0275dir=f.lG2({type:De,viewQuery:function(j,W){if(1&j&&f.Gf(le,7),2&j){let se;f.iGM(se=f.CRH())&&(W._text=se.first)}},inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),De})(),Hr=(()=>{class De extends Pn{constructor(j,W,se,ke){super(j,W,se,ke)}}return De.\u0275fac=function(j){return new(j||De)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Ht,8),f.Y36(Yn,8))},De.\u0275cmp=f.Xpm({type:De,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-mdc-option","mat-mdc-focus-indicator","mdc-list-item"],hostVars:12,hostBindings:function(j,W){1&j&&f.NdJ("click",function(){return W._selectViaInteraction()})("keydown",function(ke){return W._handleKeydown(ke)}),2&j&&(f.Ikx("id",W.id),f.uIk("tabindex",W._getTabIndex())("aria-selected",W._getAriaSelected())("aria-disabled",W.disabled.toString()),f.ekj("mdc-list-item--selected",W.selected)("mat-mdc-option-multiple",W.multiple)("mat-mdc-option-active",W.active)("mdc-list-item--disabled",W.disabled))},exportAs:["matOption"],features:[f.qOj],ngContentSelectors:gt,decls:7,vars:4,consts:[["class","mat-mdc-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mdc-list-item__primary-text"],["text",""],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-mdc-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-mdc-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(j,W){1&j&&(f.F$t(at),f.YNc(0,Ke,1,2,"mat-pseudo-checkbox",0),f.Hsn(1),f.TgZ(2,"span",1,2),f.Hsn(4,1),f.qZA(),f.YNc(5,$e,2,1,"span",3),f._UZ(6,"div",4)),2&j&&(f.Q6J("ngIf",W.multiple),f.xp6(5),f.Q6J("ngIf",W.group&&W.group._inert),f.xp6(1),f.Q6J("matRippleTrigger",W._getHostElement())("matRippleDisabled",W.disabled||W.disableRipple))},dependencies:[tn,me.O5,Rr],styles:['.mat-mdc-option{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);min-height:48px}.mat-mdc-option:focus{outline:none}[dir=rtl] .mat-mdc-option,.mat-mdc-option[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-option.mdc-list-item{align-items:center}.mat-mdc-option.mdc-list-item--disabled{opacity:.38;cursor:default}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox{margin-right:0;margin-left:16px}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-active::before{content:""}'],encapsulation:2,changeDetection:0}),De})();function Yt(De,oe,j){if(j.length){let W=oe.toArray(),se=j.toArray(),ke=0;for(let X=0;X<De+1;X++)W[X].group&&W[X].group===se[ke]&&ke++;return ke}return 0}function Jn(De,oe,j,W){return De<j?De:De+oe>j+W?Math.max(0,De-W+oe):j}let Pr=(()=>{class De{}return De.\u0275fac=function(j){return new(j||De)},De.\u0275mod=f.oAB({type:De}),De.\u0275inj=f.cJS({imports:[nr,me.ez,de,Zt]}),De})()},1481:(yt,Oe,P)=>{P.d(Oe,{Dx:()=>nr,H7:()=>mt,b2:()=>ar,q6:()=>cr,se:()=>Fe});var f=P(6895),k=P(4650);class $ extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends ${static makeCurrent(){(0,f.HT)(new fe)}onAndCancel(L,U,ne){return L.addEventListener(U,ne,!1),()=>{L.removeEventListener(U,ne,!1)}}dispatchEvent(L,U){L.dispatchEvent(U)}remove(L){L.parentNode&&L.parentNode.removeChild(L)}createElement(L,U){return(U=U||this.getDefaultDocument()).createElement(L)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(L){return L.nodeType===Node.ELEMENT_NODE}isShadowRoot(L){return L instanceof DocumentFragment}getGlobalEventTarget(L,U){return"window"===U?window:"document"===U?L:"body"===U?L.body:null}getBaseHref(L){const U=function _e(){return me=me||document.querySelector("base"),me?me.getAttribute("href"):null}();return null==U?null:function ge(V){Se=Se||document.createElement("a"),Se.setAttribute("href",V);const L=Se.pathname;return"/"===L.charAt(0)?L:`/${L}`}(U)}resetBaseElement(){me=null}getUserAgent(){return window.navigator.userAgent}getCookie(L){return(0,f.Mx)(document.cookie,L)}}let Se,me=null;const Ee=new k.OlP("TRANSITION_ID"),ue=[{provide:k.ip1,useFactory:function J(V,L,U){return()=>{U.get(k.CZH).donePromise.then(()=>{const ne=(0,f.q)(),Te=L.querySelectorAll(`style[ng-transition="${V}"]`);for(let st=0;st<Te.length;st++)ne.remove(Te[st])})}},deps:[Ee,f.K0,k.zs3],multi:!0}];let Ke=(()=>{class V{build(){return new XMLHttpRequest}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();const $e=new k.OlP("EventManagerPlugins");let at=(()=>{class V{constructor(U,ne){this._zone=ne,this._eventNameToPlugin=new Map,U.forEach(Te=>Te.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,ne,Te){return this._findPluginFor(ne).addEventListener(U,ne,Te)}addGlobalEventListener(U,ne,Te){return this._findPluginFor(ne).addGlobalEventListener(U,ne,Te)}getZone(){return this._zone}_findPluginFor(U){const ne=this._eventNameToPlugin.get(U);if(ne)return ne;const Te=this._plugins;for(let st=0;st<Te.length;st++){const kt=Te[st];if(kt.supports(U))return this._eventNameToPlugin.set(U,kt),kt}throw new Error(`No event manager plugin found for event ${U}`)}}return V.\u0275fac=function(U){return new(U||V)(k.LFG($e),k.LFG(k.R0b))},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();class gt{constructor(L){this._doc=L}addGlobalEventListener(L,U,ne){const Te=(0,f.q)().getGlobalEventTarget(this._doc,L);if(!Te)throw new Error(`Unsupported event target ${Te} for event ${U}`);return this.addEventListener(Te,U,ne)}}let Le=(()=>{class V{constructor(){this._stylesSet=new Set}addStyles(U){const ne=new Set;U.forEach(Te=>{this._stylesSet.has(Te)||(this._stylesSet.add(Te),ne.add(Te))}),this.onStylesAdded(ne)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})(),Qe=(()=>{class V extends Le{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,ne,Te){U.forEach(st=>{const kt=this._doc.createElement("style");kt.textContent=st,Te.push(ne.appendChild(kt))})}addHost(U){const ne=[];this._addStylesToHost(this._stylesSet,U,ne),this._hostNodes.set(U,ne)}removeHost(U){const ne=this._hostNodes.get(U);ne&&ne.forEach(qe),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((ne,Te)=>{this._addStylesToHost(U,Te,ne)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach(qe))}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(f.K0))},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();function qe(V){(0,f.q)().remove(V)}const Ye={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},He=/%COMP%/g;function be(V,L){return L.flat(100).map(U=>U.replace(He,V))}function Me(V){return L=>{if("__ngUnwrap__"===L)return V;!1===V(L)&&(L.preventDefault(),L.returnValue=!1)}}let Fe=(()=>{class V{constructor(U,ne,Te){this.eventManager=U,this.sharedStylesHost=ne,this.appId=Te,this.rendererByCompId=new Map,this.defaultRenderer=new Ue(U)}createRenderer(U,ne){if(!U||!ne)return this.defaultRenderer;switch(ne.encapsulation){case k.ifc.Emulated:{let Te=this.rendererByCompId.get(ne.id);return Te||(Te=new an(this.eventManager,this.sharedStylesHost,ne,this.appId),this.rendererByCompId.set(ne.id,Te)),Te.applyToHost(U),Te}case k.ifc.ShadowDom:return new Bn(this.eventManager,this.sharedStylesHost,U,ne);default:if(!this.rendererByCompId.has(ne.id)){const Te=be(ne.id,ne.styles);this.sharedStylesHost.addStyles(Te),this.rendererByCompId.set(ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(at),k.LFG(Qe),k.LFG(k.AFp))},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();class Ue{constructor(L){this.eventManager=L,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(L,U){return U?document.createElementNS(Ye[U]||U,L):document.createElement(L)}createComment(L){return document.createComment(L)}createText(L){return document.createTextNode(L)}appendChild(L,U){(Nt(L)?L.content:L).appendChild(U)}insertBefore(L,U,ne){L&&(Nt(L)?L.content:L).insertBefore(U,ne)}removeChild(L,U){L&&L.removeChild(U)}selectRootElement(L,U){let ne="string"==typeof L?document.querySelector(L):L;if(!ne)throw new Error(`The selector "${L}" did not match any elements`);return U||(ne.textContent=""),ne}parentNode(L){return L.parentNode}nextSibling(L){return L.nextSibling}setAttribute(L,U,ne,Te){if(Te){U=Te+":"+U;const st=Ye[Te];st?L.setAttributeNS(st,U,ne):L.setAttribute(U,ne)}else L.setAttribute(U,ne)}removeAttribute(L,U,ne){if(ne){const Te=Ye[ne];Te?L.removeAttributeNS(Te,U):L.removeAttribute(`${ne}:${U}`)}else L.removeAttribute(U)}addClass(L,U){L.classList.add(U)}removeClass(L,U){L.classList.remove(U)}setStyle(L,U,ne,Te){Te&(k.JOm.DashCase|k.JOm.Important)?L.style.setProperty(U,ne,Te&k.JOm.Important?"important":""):L.style[U]=ne}removeStyle(L,U,ne){ne&k.JOm.DashCase?L.style.removeProperty(U):L.style[U]=""}setProperty(L,U,ne){L[U]=ne}setValue(L,U){L.nodeValue=U}listen(L,U,ne){return"string"==typeof L?this.eventManager.addGlobalEventListener(L,U,Me(ne)):this.eventManager.addEventListener(L,U,Me(ne))}}function Nt(V){return"TEMPLATE"===V.tagName&&void 0!==V.content}class an extends Ue{constructor(L,U,ne,Te){super(L),this.component=ne;const st=be(Te+"-"+ne.id,ne.styles);U.addStyles(st),this.contentAttr=function O(V){return"_ngcontent-%COMP%".replace(He,V)}(Te+"-"+ne.id),this.hostAttr=function Be(V){return"_nghost-%COMP%".replace(He,V)}(Te+"-"+ne.id)}applyToHost(L){super.setAttribute(L,this.hostAttr,"")}createElement(L,U){const ne=super.createElement(L,U);return super.setAttribute(ne,this.contentAttr,""),ne}}class Bn extends Ue{constructor(L,U,ne,Te){super(L),this.sharedStylesHost=U,this.hostEl=ne,this.shadowRoot=ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const st=be(Te.id,Te.styles);for(let kt=0;kt<st.length;kt++){const qn=document.createElement("style");qn.textContent=st[kt],this.shadowRoot.appendChild(qn)}}nodeOrShadowRoot(L){return L===this.hostEl?this.shadowRoot:L}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(L,U){return super.appendChild(this.nodeOrShadowRoot(L),U)}insertBefore(L,U,ne){return super.insertBefore(this.nodeOrShadowRoot(L),U,ne)}removeChild(L,U){return super.removeChild(this.nodeOrShadowRoot(L),U)}parentNode(L){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(L)))}}let $t=(()=>{class V extends gt{constructor(U){super(U)}supports(U){return!0}addEventListener(U,ne,Te){return U.addEventListener(ne,Te,!1),()=>this.removeEventListener(U,ne,Te)}removeEventListener(U,ne,Te){return U.removeEventListener(ne,Te)}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(f.K0))},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();const zt=["alt","control","meta","shift"],xt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fn={alt:V=>V.altKey,control:V=>V.ctrlKey,meta:V=>V.metaKey,shift:V=>V.shiftKey};let Ft=(()=>{class V extends gt{constructor(U){super(U)}supports(U){return null!=V.parseEventName(U)}addEventListener(U,ne,Te){const st=V.parseEventName(ne),kt=V.eventCallback(st.fullKey,Te,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(U,st.domEventName,kt))}static parseEventName(U){const ne=U.toLowerCase().split("."),Te=ne.shift();if(0===ne.length||"keydown"!==Te&&"keyup"!==Te)return null;const st=V._normalizeKey(ne.pop());let kt="",qn=ne.indexOf("code");if(qn>-1&&(ne.splice(qn,1),kt="code."),zt.forEach(Kr=>{const oi=ne.indexOf(Kr);oi>-1&&(ne.splice(oi,1),kt+=Kr+".")}),kt+=st,0!=ne.length||0===st.length)return null;const ir={};return ir.domEventName=Te,ir.fullKey=kt,ir}static matchEventFullKeyCode(U,ne){let Te=xt[U.key]||U.key,st="";return ne.indexOf("code.")>-1&&(Te=U.code,st="code."),!(null==Te||!Te)&&(Te=Te.toLowerCase()," "===Te?Te="space":"."===Te&&(Te="dot"),zt.forEach(kt=>{kt!==Te&&(0,fn[kt])(U)&&(st+=kt+".")}),st+=Te,st===ne)}static eventCallback(U,ne,Te){return st=>{V.matchEventFullKeyCode(st,U)&&Te.runGuarded(()=>ne(st))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(f.K0))},V.\u0275prov=k.Yz7({token:V,factory:V.\u0275fac}),V})();const cr=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:f.bD},{provide:k.g9A,useValue:function In(){fe.makeCurrent()},multi:!0},{provide:f.K0,useFactory:function Br(){return(0,k.RDi)(document),document},deps:[]}]),ln=new k.OlP(""),kn=[{provide:k.rWj,useClass:class le{addToWindow(L){k.dqk.getAngularTestability=(ne,Te=!0)=>{const st=L.findTestabilityInTree(ne,Te);if(null==st)throw new Error("Could not find testability for element.");return st},k.dqk.getAllAngularTestabilities=()=>L.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>L.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(ne=>{const Te=k.dqk.getAllAngularTestabilities();let st=Te.length,kt=!1;const qn=function(ir){kt=kt||ir,st--,0==st&&ne(kt)};Te.forEach(function(ir){ir.whenStable(qn)})})}findTestabilityInTree(L,U,ne){return null==U?null:L.getTestability(U)??(ne?(0,f.q)().isShadowRoot(U)?this.findTestabilityInTree(L,U.host,!0):this.findTestabilityInTree(L,U.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],un=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function Cn(){return new k.qLn},deps:[]},{provide:$e,useClass:$t,multi:!0,deps:[f.K0,k.R0b,k.Lbi]},{provide:$e,useClass:Ft,multi:!0,deps:[f.K0]},{provide:Fe,useClass:Fe,deps:[at,Qe,k.AFp]},{provide:k.FYo,useExisting:Fe},{provide:Le,useExisting:Qe},{provide:Qe,useClass:Qe,deps:[f.K0]},{provide:at,useClass:at,deps:[$e,k.R0b]},{provide:f.JF,useClass:Ke,deps:[]},[]];let ar=(()=>{class V{constructor(U){}static withServerTransition(U){return{ngModule:V,providers:[{provide:k.AFp,useValue:U.appId},{provide:Ee,useExisting:k.AFp},ue]}}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(ln,12))},V.\u0275mod=k.oAB({type:V}),V.\u0275inj=k.cJS({providers:[...un,...kn],imports:[f.ez,k.hGG]}),V})(),nr=(()=>{class V{constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(f.K0))},V.\u0275prov=k.Yz7({token:V,factory:function(U){let ne=null;return ne=U?new U:function tn(){return new nr((0,k.LFG)(f.K0))}(),ne},providedIn:"root"}),V})();typeof window<"u"&&window;let mt=(()=>{class V{}return V.\u0275fac=function(U){return new(U||V)},V.\u0275prov=k.Yz7({token:V,factory:function(U){let ne=null;return ne=U?new(U||V):k.LFG(qt),ne},providedIn:"root"}),V})(),qt=(()=>{class V extends mt{constructor(U){super(),this._doc=U}sanitize(U,ne){if(null==ne)return null;switch(U){case k.q3G.NONE:return ne;case k.q3G.HTML:return(0,k.qzn)(ne,"HTML")?(0,k.z3N)(ne):(0,k.EiD)(this._doc,String(ne)).toString();case k.q3G.STYLE:return(0,k.qzn)(ne,"Style")?(0,k.z3N)(ne):ne;case k.q3G.SCRIPT:if((0,k.qzn)(ne,"Script"))return(0,k.z3N)(ne);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(ne,"URL")?(0,k.z3N)(ne):(0,k.mCW)(String(ne));case k.q3G.RESOURCE_URL:if((0,k.qzn)(ne,"ResourceURL"))return(0,k.z3N)(ne);throw new Error(`unsafe value used in a resource URL context (see ${k.JZr})`);default:throw new Error(`Unexpected SecurityContext ${U} (see ${k.JZr})`)}}bypassSecurityTrustHtml(U){return(0,k.JVY)(U)}bypassSecurityTrustStyle(U){return(0,k.L6k)(U)}bypassSecurityTrustScript(U){return(0,k.eBb)(U)}bypassSecurityTrustUrl(U){return(0,k.LAX)(U)}bypassSecurityTrustResourceUrl(U){return(0,k.pB0)(U)}}return V.\u0275fac=function(U){return new(U||V)(k.LFG(f.K0))},V.\u0275prov=k.Yz7({token:V,factory:function(U){let ne=null;return ne=U?new U:function Gt(V){return new qt(V.get(f.K0))}(k.LFG(k.zs3)),ne},providedIn:"root"}),V})()},6806:(yt,Oe,P)=>{P.d(Oe,{F0:()=>bi,Bz:()=>Pa,lC:()=>Gr});var f=P(4650),k=P(8996),$=P(9646),fe=P(1135),me=P(6805),_e=P(9841),Se=P(7272),ge=P(9770),Ee=P(9635),J=P(2843),ue=P(9751),le=P(515),Ke=P(727),$e=P(4482),at=P(5403);function gt(){return(0,$e.e)((y,I)=>{let p=null;y._refCount++;const w=(0,at.x)(I,void 0,void 0,void 0,()=>{if(!y||y._refCount<=0||0<--y._refCount)return void(p=null);const N=y._connection,q=p;p=null,N&&(!q||N===q)&&N.unsubscribe(),I.unsubscribe()});y.subscribe(w),w.closed||(p=y.connect())})}class Le extends ue.y{constructor(I,p){super(),this.source=I,this.subjectFactory=p,this._subject=null,this._refCount=0,this._connection=null,(0,$e.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ke.w0;const p=this.getSubject();I.add(this.source.subscribe((0,at.x)(p,void 0,()=>{this._teardown(),p.complete()},w=>{this._teardown(),p.error(w)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ke.w0.EMPTY)}return I}refCount(){return gt()(this)}}var Qe=P(7579),qe=P(6895),Ye=P(4004),He=P(3900),de=P(5698),Ve=P(8675),et=P(9300),tt=P(5577),O=P(590),Be=P(4351),be=P(8505),Me=P(262),Fe=P(5026);function Ue(y){return y<=0?()=>le.E:(0,$e.e)((I,p)=>{let w=[];I.subscribe((0,at.x)(p,N=>{w.push(N),y<w.length&&w.shift()},()=>{for(const N of w)p.next(N);p.complete()},void 0,()=>{w=null}))})}var ft=P(8068),dt=P(6590),Nt=P(4671);function an(y,I){const p=arguments.length>=2;return w=>w.pipe(y?(0,et.h)((N,q)=>y(N,q,w)):Nt.y,Ue(1),p?(0,dt.d)(I):(0,ft.T)(()=>new me.K))}var Bn=P(2529),$t=P(9718),zt=P(8746),xt=P(8189),fn=P(1481);const Ft="primary",ur=Symbol("RouteTitle");class Vt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const p=this.params[I];return Array.isArray(p)?p[0]:p}return null}getAll(I){if(this.has(I)){const p=this.params[I];return Array.isArray(p)?p:[p]}return[]}get keys(){return Object.keys(this.params)}}function en(y){return new Vt(y)}function Ir(y,I,p){const w=p.path.split("/");if(w.length>y.length||"full"===p.pathMatch&&(I.hasChildren()||w.length<y.length))return null;const N={};for(let q=0;q<w.length;q++){const te=w[q],Ne=y[q];if(te.startsWith(":"))N[te.substring(1)]=Ne;else if(te!==Ne.path)return null}return{consumed:y.slice(0,w.length),posParams:N}}function In(y,I){const p=y?Object.keys(y):void 0,w=I?Object.keys(I):void 0;if(!p||!w||p.length!=w.length)return!1;let N;for(let q=0;q<p.length;q++)if(N=p[q],!Cn(y[N],I[N]))return!1;return!0}function Cn(y,I){if(Array.isArray(y)&&Array.isArray(I)){if(y.length!==I.length)return!1;const p=[...y].sort(),w=[...I].sort();return p.every((N,q)=>w[q]===N)}return y===I}function Br(y){return Array.prototype.concat.apply([],y)}function vr(y){return y.length>0?y[y.length-1]:null}function ln(y,I){for(const p in y)y.hasOwnProperty(p)&&I(y[p],p)}function kn(y){return(0,f.CqO)(y)?y:(0,f.QGY)(y)?(0,k.D)(Promise.resolve(y)):(0,$.of)(y)}const un=!1,ar={exact:function tn(y,I,p){if(!Gn(y.segments,I.segments)||!Ht(y.segments,I.segments,p)||y.numberOfChildren!==I.numberOfChildren)return!1;for(const w in I.children)if(!y.children[w]||!tn(y.children[w],I.children[w],p))return!1;return!0},subset:Rr},It={exact:function Dr(y,I){return In(y,I)},subset:function nr(y,I){return Object.keys(I).length<=Object.keys(y).length&&Object.keys(I).every(p=>Cn(y[p],I[p]))},ignored:()=>!0};function br(y,I,p){return ar[p.paths](y.root,I.root,p.matrixParams)&&It[p.queryParams](y.queryParams,I.queryParams)&&!("exact"===p.fragment&&y.fragment!==I.fragment)}function Rr(y,I,p){return Zt(y,I,I.segments,p)}function Zt(y,I,p,w){if(y.segments.length>p.length){const N=y.segments.slice(0,p.length);return!(!Gn(N,p)||I.hasChildren()||!Ht(N,p,w))}if(y.segments.length===p.length){if(!Gn(y.segments,p)||!Ht(y.segments,p,w))return!1;for(const N in I.children)if(!y.children[N]||!Rr(y.children[N],I.children[N],w))return!1;return!0}{const N=p.slice(0,y.segments.length),q=p.slice(y.segments.length);return!!(Gn(y.segments,N)&&Ht(y.segments,N,w)&&y.children[Ft])&&Zt(y.children[Ft],I,q,w)}}function Ht(y,I,p){return I.every((w,N)=>It[p](y[N].parameters,w.parameters))}class Et{constructor(I=new jt([],{}),p={},w=null){this.root=I,this.queryParams=p,this.fragment=w}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return Hr.serialize(this)}}class jt{constructor(I,p){this.segments=I,this.children=p,this.parent=null,ln(p,(w,N)=>w.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yt(this)}}class wn{constructor(I,p){this.path=I,this.parameters=p}get parameterMap(){return this._parameterMap||(this._parameterMap=en(this.parameters)),this._parameterMap}toString(){return ke(this)}}function Gn(y,I){return y.length===I.length&&y.every((p,w)=>p.path===I[w].path)}let pr=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:function(){return new Pn},providedIn:"root"}),y})();class Pn{parse(I){const p=new Ae(I);return new Et(p.parseRootSegment(),p.parseQueryParams(),p.parseFragment())}serialize(I){const p=`/${Jn(I.root,!0)}`,w=function ae(y){const I=Object.keys(y).map(p=>{const w=y[p];return Array.isArray(w)?w.map(N=>`${De(p)}=${De(N)}`).join("&"):`${De(p)}=${De(w)}`}).filter(p=>!!p);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${p}${w}${"string"==typeof I.fragment?`#${function oe(y){return encodeURI(y)}(I.fragment)}`:""}`}}const Hr=new Pn;function Yt(y){return y.segments.map(I=>ke(I)).join("/")}function Jn(y,I){if(!y.hasChildren())return Yt(y);if(I){const p=y.children[Ft]?Jn(y.children[Ft],!1):"",w=[];return ln(y.children,(N,q)=>{q!==Ft&&w.push(`${q}:${Jn(N,!1)}`)}),w.length>0?`${p}(${w.join("//")})`:p}{const p=function rr(y,I){let p=[];return ln(y.children,(w,N)=>{N===Ft&&(p=p.concat(I(w,N)))}),ln(y.children,(w,N)=>{N!==Ft&&(p=p.concat(I(w,N)))}),p}(y,(w,N)=>N===Ft?[Jn(y.children[Ft],!1)]:[`${N}:${Jn(w,!1)}`]);return 1===Object.keys(y.children).length&&null!=y.children[Ft]?`${Yt(y)}/${p[0]}`:`${Yt(y)}/(${p.join("//")})`}}function Pr(y){return encodeURIComponent(y).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function De(y){return Pr(y).replace(/%3B/gi,";")}function j(y){return Pr(y).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function W(y){return decodeURIComponent(y)}function se(y){return W(y.replace(/\+/g,"%20"))}function ke(y){return`${j(y.path)}${function X(y){return Object.keys(y).map(I=>`;${j(I)}=${j(y[I])}`).join("")}(y.parameters)}`}const Ie=/^[^\/()?;=#]+/;function je(y){const I=y.match(Ie);return I?I[0]:""}const we=/^[^=?&#]+/,Gt=/^[^&#]+/;class Ae{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new jt([],{}):new jt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let p={};this.peekStartsWith("/(")&&(this.capture("/"),p=this.parseParens(!0));let w={};return this.peekStartsWith("(")&&(w=this.parseParens(!1)),(I.length>0||Object.keys(p).length>0)&&(w[Ft]=new jt(I,p)),w}parseSegment(){const I=je(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new f.vHH(4009,un);return this.capture(I),new wn(W(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const p=je(this.remaining);if(!p)return;this.capture(p);let w="";if(this.consumeOptional("=")){const N=je(this.remaining);N&&(w=N,this.capture(w))}I[W(p)]=W(w)}parseQueryParam(I){const p=function mt(y){const I=y.match(we);return I?I[0]:""}(this.remaining);if(!p)return;this.capture(p);let w="";if(this.consumeOptional("=")){const te=function qt(y){const I=y.match(Gt);return I?I[0]:""}(this.remaining);te&&(w=te,this.capture(w))}const N=se(p),q=se(w);if(I.hasOwnProperty(N)){let te=I[N];Array.isArray(te)||(te=[te],I[N]=te),te.push(q)}else I[N]=q}parseParens(I){const p={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const w=je(this.remaining),N=this.remaining[w.length];if("/"!==N&&")"!==N&&";"!==N)throw new f.vHH(4010,un);let q;w.indexOf(":")>-1?(q=w.slice(0,w.indexOf(":")),this.capture(q),this.capture(":")):I&&(q=Ft);const te=this.parseChildren();p[q]=1===Object.keys(te).length?te[Ft]:new jt([],te),this.consumeOptional("//")}return p}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new f.vHH(4011,un)}}function V(y){return y.segments.length>0?new jt([],{[Ft]:y}):y}function L(y){const I={};for(const w of Object.keys(y.children)){const q=L(y.children[w]);(q.segments.length>0||q.hasChildren())&&(I[w]=q)}return function U(y){if(1===y.numberOfChildren&&y.children[Ft]){const I=y.children[Ft];return new jt(y.segments.concat(I.segments),I.children)}return y}(new jt(y.segments,I))}function ne(y){return y instanceof Et}function ir(y,I,p,w,N){if(0===p.length)return os(I.root,I.root,I.root,w,N);const q=function js(y){if("string"==typeof y[0]&&1===y.length&&"/"===y[0])return new ao(!0,0,y);let I=0,p=!1;const w=y.reduce((N,q,te)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ne={};return ln(q.outlets,(ct,Ct)=>{Ne[Ct]="string"==typeof ct?ct.split("/"):ct}),[...N,{outlets:Ne}]}if(q.segmentPath)return[...N,q.segmentPath]}return"string"!=typeof q?[...N,q]:0===te?(q.split("/").forEach((Ne,ct)=>{0==ct&&"."===Ne||(0==ct&&""===Ne?p=!0:".."===Ne?I++:""!=Ne&&N.push(Ne))}),N):[...N,q]},[]);return new ao(p,I,w)}(p);return q.toRoot()?os(I.root,I.root,new jt([],{}),w,N):function te(ct){const Ct=function Hn(y,I,p,w){if(y.isAbsolute)return new Ci(I.root,!0,0);if(-1===w)return new Ci(p,p===I.root,0);return function Cr(y,I,p){let w=y,N=I,q=p;for(;q>N;){if(q-=N,w=w.parent,!w)throw new f.vHH(4005,!1);N=w.segments.length}return new Ci(w,!1,N-q)}(p,w+(Kr(y.commands[0])?0:1),y.numberOfDoubleDots)}(q,I,y.snapshot?._urlSegment,ct),Lt=Ct.processChildren?Ar(Ct.segmentGroup,Ct.index,q.commands):sr(Ct.segmentGroup,Ct.index,q.commands);return os(I.root,Ct.segmentGroup,Lt,w,N)}(y.snapshot?._lastPathIndex)}function Kr(y){return"object"==typeof y&&null!=y&&!y.outlets&&!y.segmentPath}function oi(y){return"object"==typeof y&&null!=y&&y.outlets}function os(y,I,p,w,N){let te,q={};w&&ln(w,(ct,Ct)=>{q[Ct]=Array.isArray(ct)?ct.map(Lt=>`${Lt}`):`${ct}`}),te=y===I?p:hr(y,I,p);const Ne=V(L(te));return new Et(Ne,q,N)}function hr(y,I,p){const w={};return ln(y.children,(N,q)=>{w[q]=N===I?p:hr(N,I,p)}),new jt(y.segments,w)}class ao{constructor(I,p,w){if(this.isAbsolute=I,this.numberOfDoubleDots=p,this.commands=w,I&&w.length>0&&Kr(w[0]))throw new f.vHH(4003,!1);const N=w.find(oi);if(N&&N!==vr(w))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ci{constructor(I,p,w){this.segmentGroup=I,this.processChildren=p,this.index=w}}function sr(y,I,p){if(y||(y=new jt([],{})),0===y.segments.length&&y.hasChildren())return Ar(y,I,p);const w=function fi(y,I,p){let w=0,N=I;const q={match:!1,pathIndex:0,commandIndex:0};for(;N<y.segments.length;){if(w>=p.length)return q;const te=y.segments[N],Ne=p[w];if(oi(Ne))break;const ct=`${Ne}`,Ct=w<p.length-1?p[w+1]:null;if(N>0&&void 0===ct)break;if(ct&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Zr(ct,Ct,te))return q;w+=2}else{if(!Zr(ct,{},te))return q;w++}N++}return{match:!0,pathIndex:N,commandIndex:w}}(y,I,p),N=p.slice(w.commandIndex);if(w.match&&w.pathIndex<y.segments.length){const q=new jt(y.segments.slice(0,w.pathIndex),{});return q.children[Ft]=new jt(y.segments.slice(w.pathIndex),y.children),Ar(q,0,N)}return w.match&&0===N.length?new jt(y.segments,{}):w.match&&!y.hasChildren()?Mt(y,I,p):w.match?Ar(y,0,N):Mt(y,I,p)}function Ar(y,I,p){if(0===p.length)return new jt(y.segments,{});{const w=function Er(y){return oi(y[0])?y[0].outlets:{[Ft]:y}}(p),N={};return ln(w,(q,te)=>{"string"==typeof q&&(q=[q]),null!==q&&(N[te]=sr(y.children[te],I,q))}),ln(y.children,(q,te)=>{void 0===w[te]&&(N[te]=q)}),new jt(y.segments,N)}}function Mt(y,I,p){const w=y.segments.slice(0,I);let N=0;for(;N<p.length;){const q=p[N];if(oi(q)){const ct=hn(q.outlets);return new jt(w,ct)}if(0===N&&Kr(p[0])){w.push(new wn(y.segments[I].path,Wn(p[0]))),N++;continue}const te=oi(q)?q.outlets[Ft]:`${q}`,Ne=N<p.length-1?p[N+1]:null;te&&Ne&&Kr(Ne)?(w.push(new wn(te,Wn(Ne))),N+=2):(w.push(new wn(te,{})),N++)}return new jt(w,{})}function hn(y){const I={};return ln(y,(p,w)=>{"string"==typeof p&&(p=[p]),null!==p&&(I[w]=Mt(new jt([],{}),0,p))}),I}function Wn(y){const I={};return ln(y,(p,w)=>I[w]=`${p}`),I}function Zr(y,I,p){return y==p.path&&In(I,p.parameters)}const ai="imperative";class er{constructor(I,p){this.id=I,this.url=p}}class Wr extends er{constructor(I,p,w="imperative",N=null){super(I,p),this.type=0,this.navigationTrigger=w,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class On extends er{constructor(I,p,w){super(I,p),this.urlAfterRedirects=w,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ii extends er{constructor(I,p,w,N){super(I,p),this.reason=w,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wi extends er{constructor(I,p,w,N){super(I,p),this.reason=w,this.code=N,this.type=16}}class vn extends er{constructor(I,p,w,N){super(I,p),this.error=w,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class As extends er{constructor(I,p,w,N){super(I,p),this.urlAfterRedirects=w,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qi extends er{constructor(I,p,w,N){super(I,p),this.urlAfterRedirects=w,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $s extends er{constructor(I,p,w,N,q){super(I,p),this.urlAfterRedirects=w,this.state=N,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pi extends er{constructor(I,p,w,N){super(I,p),this.urlAfterRedirects=w,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yr extends er{constructor(I,p,w,N){super(I,p),this.urlAfterRedirects=w,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gs{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ms{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gi{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qn{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class si{constructor(I,p,w){this.routerEvent=I,this.position=p,this.anchor=w,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Nn=(()=>{class y{createUrlTree(p,w,N,q,te,Ne){return ir(p||w.root,N,q,te,Ne)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac}),y})(),Or=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:function(I){return Nn.\u0275fac(I)},providedIn:"root"}),y})();class gn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const p=this.pathFromRoot(I);return p.length>1?p[p.length-2]:null}children(I){const p=Ms(I,this._root);return p?p.children.map(w=>w.value):[]}firstChild(I){const p=Ms(I,this._root);return p&&p.children.length>0?p.children[0].value:null}siblings(I){const p=zr(I,this._root);return p.length<2?[]:p[p.length-2].children.map(N=>N.value).filter(N=>N!==I)}pathFromRoot(I){return zr(I,this._root).map(p=>p.value)}}function Ms(y,I){if(y===I.value)return I;for(const p of I.children){const w=Ms(y,p);if(w)return w}return null}function zr(y,I){if(y===I.value)return[I];for(const p of I.children){const w=zr(y,p);if(w.length)return w.unshift(I),w}return[]}class gr{constructor(I,p){this.value=I,this.children=p}toString(){return`TreeNode(${this.value})`}}function ui(y){const I={};return y&&y.children.forEach(p=>I[p.value.outlet]=p),I}class Vn extends gn{constructor(I,p){super(I),this.snapshot=p,as(this,I)}toString(){return this.snapshot.toString()}}function _n(y,I){const p=function dr(y,I){const te=new Ti([],{},{},"",{},Ft,I,null,y.root,-1,{});return new _s("",new gr(te,[]))}(y,I),w=new fe.X([new wn("",{})]),N=new fe.X({}),q=new fe.X({}),te=new fe.X({}),Ne=new fe.X(""),ct=new Xi(w,N,te,Ne,q,Ft,I,p.root);return ct.snapshot=p.root,new Vn(new gr(ct,[]),p)}class Xi{constructor(I,p,w,N,q,te,Ne,ct){this.url=I,this.params=p,this.queryParams=w,this.fragment=N,this.data=q,this.outlet=te,this.component=Ne,this.title=this.data?.pipe((0,Ye.U)(Ct=>Ct[ur]))??(0,$.of)(void 0),this._futureSnapshot=ct}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ye.U)(I=>en(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ye.U)(I=>en(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rs(y,I="emptyOnly"){const p=y.pathFromRoot;let w=0;if("always"!==I)for(w=p.length-1;w>=1;){const N=p[w],q=p[w-1];if(N.routeConfig&&""===N.routeConfig.path)w--;else{if(q.component)break;w--}}return function _i(y){return y.reduce((I,p)=>({params:{...I.params,...p.params},data:{...I.data,...p.data},resolve:{...p.data,...I.resolve,...p.routeConfig?.data,...p._resolvedData}}),{params:{},data:{},resolve:{}})}(p.slice(w))}class Ti{get title(){return this.data?.[ur]}constructor(I,p,w,N,q,te,Ne,ct,Ct,Lt,En){this.url=I,this.params=p,this.queryParams=w,this.fragment=N,this.data=q,this.outlet=te,this.component=Ne,this.routeConfig=ct,this._urlSegment=Ct,this._lastPathIndex=Lt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=en(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=en(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(w=>w.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _s extends gn{constructor(I,p){super(p),this.url=I,as(this,p)}toString(){return ys(this._root)}}function as(y,I){I.value._routerState=y,I.children.forEach(p=>as(y,p))}function ys(y){const I=y.children.length>0?` { ${y.children.map(ys).join(", ")} } `:"";return`${y.value}${I}`}function Vi(y){if(y.snapshot){const I=y.snapshot,p=y._futureSnapshot;y.snapshot=p,In(I.queryParams,p.queryParams)||y.queryParams.next(p.queryParams),I.fragment!==p.fragment&&y.fragment.next(p.fragment),In(I.params,p.params)||y.params.next(p.params),function yr(y,I){if(y.length!==I.length)return!1;for(let p=0;p<y.length;++p)if(!In(y[p],I[p]))return!1;return!0}(I.url,p.url)||y.url.next(p.url),In(I.data,p.data)||y.data.next(p.data)}else y.snapshot=y._futureSnapshot,y.data.next(y._futureSnapshot.data)}function lo(y,I){const p=In(y.params,I.params)&&function Yn(y,I){return Gn(y,I)&&y.every((p,w)=>In(p.parameters,I[w].parameters))}(y.url,I.url);return p&&!(!y.parent!=!I.parent)&&(!y.parent||lo(y.parent,I.parent))}function ji(y,I,p){if(p&&y.shouldReuseRoute(I.value,p.value.snapshot)){const w=p.value;w._futureSnapshot=I.value;const N=function ls(y,I,p){return I.children.map(w=>{for(const N of p.children)if(y.shouldReuseRoute(w.value,N.value.snapshot))return ji(y,w,N);return ji(y,w)})}(y,I,p);return new gr(w,N)}{if(y.shouldAttach(I.value)){const q=y.retrieve(I.value);if(null!==q){const te=q.route;return te.value._futureSnapshot=I.value,te.children=I.children.map(Ne=>ji(y,Ne)),te}}const w=function $i(y){return new Xi(new fe.X(y.url),new fe.X(y.params),new fe.X(y.queryParams),new fe.X(y.fragment),new fe.X(y.data),y.outlet,y.component,y)}(I.value),N=I.children.map(q=>ji(y,q));return new gr(w,N)}}const Bo="ngNavigationCancelingError";function co(y,I){const{redirectTo:p,navigationBehaviorOptions:w}=ne(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,N=Ps(!1,0,I);return N.url=p,N.navigationBehaviorOptions=w,N}function Ps(y,I,p){const w=new Error("NavigationCancelingError: "+(y||""));return w[Bo]=!0,w.cancellationCode=I,p&&(w.url=p),w}function Nr(y){return bn(y)&&ne(y.url)}function bn(y){return y&&y[Bo]}class Os{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ji,this.attachRef=null}}let Ji=(()=>{class y{constructor(){this.contexts=new Map}onChildOutletCreated(p,w){const N=this.getOrCreateContext(p);N.outlet=w,this.contexts.set(p,N)}onChildOutletDestroyed(p){const w=this.getContext(p);w&&(w.outlet=null,w.attachRef=null)}onOutletDeactivated(){const p=this.contexts;return this.contexts=new Map,p}onOutletReAttached(p){this.contexts=p}getOrCreateContext(p){let w=this.getContext(p);return w||(w=new Os,this.contexts.set(p,w)),w}getContext(p){return this.contexts.get(p)||null}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const es=!1;let Gr=(()=>{class y{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Ji),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(p){if(p.name){const{firstChange:w,previousValue:N}=p.name;if(w)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(p){return this.parentContexts.getContext(p)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const p=this.parentContexts.getContext(this.name);p?.route&&(p.attachRef?this.attach(p.attachRef,p.route):this.activateWith(p.route,p.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,es);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,es);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,es);this.location.detach();const p=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(p.instance),p}attach(p,w){this.activated=p,this._activatedRoute=w,this.location.insert(p.hostView),this.attachEvents.emit(p.instance)}deactivate(){if(this.activated){const p=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(p)}}activateWith(p,w){if(this.isActivated)throw new f.vHH(4013,es);this._activatedRoute=p;const N=this.location,te=p.snapshot.component,Ne=this.parentContexts.getOrCreateContext(this.name).children,ct=new Wi(p,Ne,N.injector);if(w&&function ci(y){return!!y.resolveComponentFactory}(w)){const Ct=w.resolveComponentFactory(te);this.activated=N.createComponent(Ct,N.length,ct)}else this.activated=N.createComponent(te,{index:N.length,injector:ct,environmentInjector:w??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275dir=f.lG2({type:y,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),y})();class Wi{constructor(I,p,w){this.route=I,this.childContexts=p,this.parent=w}get(I,p){return I===Xi?this.route:I===Ji?this.childContexts:this.parent.get(I,p)}}let us=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275cmp=f.Xpm({type:y,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(p,w){1&p&&f._UZ(0,"router-outlet")},dependencies:[Gr],encapsulation:2}),y})();function jr(y,I){return y.providers&&!y._injector&&(y._injector=(0,f.MMx)(y.providers,I,`Route: ${y.path}`)),y._injector??I}function Es(y){const I=y.children&&y.children.map(Es),p=I?{...y,children:I}:{...y};return!p.component&&!p.loadComponent&&(I||p.loadChildren)&&p.outlet&&p.outlet!==Ft&&(p.component=us),p}function Kn(y){return y.outlet||Ft}function ds(y,I){const p=y.filter(w=>Kn(w)===I);return p.push(...y.filter(w=>Kn(w)!==I)),p}function Ni(y){if(!y)return null;if(y.routeConfig?._injector)return y.routeConfig._injector;for(let I=y.parent;I;I=I.parent){const p=I.routeConfig;if(p?._loadedInjector)return p._loadedInjector;if(p?._injector)return p._injector}return null}class or{constructor(I,p,w,N){this.routeReuseStrategy=I,this.futureState=p,this.currState=w,this.forwardEvent=N}activate(I){const p=this.futureState._root,w=this.currState?this.currState._root:null;this.deactivateChildRoutes(p,w,I),Vi(this.futureState.root),this.activateChildRoutes(p,w,I)}deactivateChildRoutes(I,p,w){const N=ui(p);I.children.forEach(q=>{const te=q.value.outlet;this.deactivateRoutes(q,N[te],w),delete N[te]}),ln(N,(q,te)=>{this.deactivateRouteAndItsChildren(q,w)})}deactivateRoutes(I,p,w){const N=I.value,q=p?p.value:null;if(N===q)if(N.component){const te=w.getContext(N.outlet);te&&this.deactivateChildRoutes(I,p,te.children)}else this.deactivateChildRoutes(I,p,w);else q&&this.deactivateRouteAndItsChildren(p,w)}deactivateRouteAndItsChildren(I,p){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,p):this.deactivateRouteAndOutlet(I,p)}detachAndStoreRouteSubtree(I,p){const w=p.getContext(I.value.outlet),N=w&&I.value.component?w.children:p,q=ui(I);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],N);if(w&&w.outlet){const te=w.outlet.detach(),Ne=w.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:te,route:I,contexts:Ne})}}deactivateRouteAndOutlet(I,p){const w=p.getContext(I.value.outlet),N=w&&I.value.component?w.children:p,q=ui(I);for(const te of Object.keys(q))this.deactivateRouteAndItsChildren(q[te],N);w&&w.outlet&&(w.outlet.deactivate(),w.children.onOutletDeactivated(),w.attachRef=null,w.resolver=null,w.route=null)}activateChildRoutes(I,p,w){const N=ui(p);I.children.forEach(q=>{this.activateRoutes(q,N[q.value.outlet],w),this.forwardEvent(new Qn(q.value.snapshot))}),I.children.length&&this.forwardEvent(new ei(I.value.snapshot))}activateRoutes(I,p,w){const N=I.value,q=p?p.value:null;if(Vi(N),N===q)if(N.component){const te=w.getOrCreateContext(N.outlet);this.activateChildRoutes(I,p,te.children)}else this.activateChildRoutes(I,p,w);else if(N.component){const te=w.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Ne=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),te.children.onOutletReAttached(Ne.contexts),te.attachRef=Ne.componentRef,te.route=Ne.route.value,te.outlet&&te.outlet.attach(Ne.componentRef,Ne.route.value),Vi(Ne.route.value),this.activateChildRoutes(I,null,te.children)}else{const Ne=Ni(N.snapshot),ct=Ne?.get(f._Vd)??null;te.attachRef=null,te.route=N,te.resolver=ct,te.injector=Ne,te.outlet&&te.outlet.activateWith(N,te.injector),this.activateChildRoutes(I,null,te.children)}}else this.activateChildRoutes(I,null,w)}}class hs{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class xr{constructor(I,p){this.component=I,this.route=p}}function mr(y,I,p){const w=y._root;return qr(w,I?I._root:null,p,[w.value])}function ti(y,I){const p=Symbol(),w=I.get(y,p);return w===p?"function"!=typeof y||(0,f.Z0I)(y)?I.get(y):y:w}function qr(y,I,p,w,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=ui(I);return y.children.forEach(te=>{(function yi(y,I,p,w,N={canDeactivateChecks:[],canActivateChecks:[]}){const q=y.value,te=I?I.value:null,Ne=p?p.getContext(y.value.outlet):null;if(te&&q.routeConfig===te.routeConfig){const ct=function cn(y,I,p){if("function"==typeof p)return p(y,I);switch(p){case"pathParamsChange":return!Gn(y.url,I.url);case"pathParamsOrQueryParamsChange":return!Gn(y.url,I.url)||!In(y.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lo(y,I)||!In(y.queryParams,I.queryParams);default:return!lo(y,I)}}(te,q,q.routeConfig.runGuardsAndResolvers);ct?N.canActivateChecks.push(new hs(w)):(q.data=te.data,q._resolvedData=te._resolvedData),qr(y,I,q.component?Ne?Ne.children:null:p,w,N),ct&&Ne&&Ne.outlet&&Ne.outlet.isActivated&&N.canDeactivateChecks.push(new xr(Ne.outlet.component,te))}else te&&Si(I,Ne,N),N.canActivateChecks.push(new hs(w)),qr(y,null,q.component?Ne?Ne.children:null:p,w,N)})(te,q[te.value.outlet],p,w.concat([te.value]),N),delete q[te.value.outlet]}),ln(q,(te,Ne)=>Si(te,p.getContext(Ne),N)),N}function Si(y,I,p){const w=ui(y),N=y.value;ln(w,(q,te)=>{Si(q,N.component?I?I.children.getContext(te):null:I,p)}),p.canDeactivateChecks.push(new xr(N.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,N))}function Qt(y){return"function"==typeof y}function nt(y){return y instanceof me.K||"EmptyError"===y?.name}const xn=Symbol("INITIAL_VALUE");function vi(){return(0,He.w)(y=>(0,_e.a)(y.map(I=>I.pipe((0,de.q)(1),(0,Ve.O)(xn)))).pipe((0,Ye.U)(I=>{for(const p of I)if(!0!==p){if(p===xn)return xn;if(!1===p||p instanceof Et)return p}return!0}),(0,et.h)(I=>I!==xn),(0,de.q)(1)))}function Ls(y){return(0,Ee.z)((0,be.b)(I=>{if(ne(I))throw co(0,I)}),(0,Ye.U)(I=>!0===I))}const Qr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zi(y,I,p,w,N){const q=xi(y,I,p);return q.matched?function wr(y,I,p,w){const N=I.canMatch;if(!N||0===N.length)return(0,$.of)(!0);const q=N.map(te=>{const Ne=ti(te,y);return kn(function xs(y){return y&&Qt(y.canMatch)}(Ne)?Ne.canMatch(I,p):y.runInContext(()=>Ne(I,p)))});return(0,$.of)(q).pipe(vi(),Ls())}(w=jr(I,w),I,p).pipe((0,Ye.U)(te=>!0===te?q:{...Qr})):(0,$.of)(q)}function xi(y,I,p){if(""===I.path)return"full"===I.pathMatch&&(y.hasChildren()||p.length>0)?{...Qr}:{matched:!0,consumedSegments:[],remainingSegments:p,parameters:{},positionalParamSegments:{}};const N=(I.matcher||Ir)(p,y,I);if(!N)return{...Qr};const q={};ln(N.posParams,(Ne,ct)=>{q[ct]=Ne.path});const te=N.consumed.length>0?{...q,...N.consumed[N.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:N.consumed,remainingSegments:p.slice(N.consumed.length),parameters:te,positionalParamSegments:N.posParams??{}}}function Ai(y,I,p,w){if(p.length>0&&function _o(y,I,p){return p.some(w=>z(y,I,w)&&Kn(w)!==Ft)}(y,p,w)){const q=new jt(I,function ki(y,I,p,w){const N={};N[Ft]=w,w._sourceSegment=y,w._segmentIndexShift=I.length;for(const q of p)if(""===q.path&&Kn(q)!==Ft){const te=new jt([],{});te._sourceSegment=y,te._segmentIndexShift=I.length,N[Kn(q)]=te}return N}(y,I,w,new jt(p,y.children)));return q._sourceSegment=y,q._segmentIndexShift=I.length,{segmentGroup:q,slicedSegments:[]}}if(0===p.length&&function Gi(y,I,p){return p.some(w=>z(y,I,w))}(y,p,w)){const q=new jt(y.segments,function mo(y,I,p,w,N){const q={};for(const te of w)if(z(y,p,te)&&!N[Kn(te)]){const Ne=new jt([],{});Ne._sourceSegment=y,Ne._segmentIndexShift=I.length,q[Kn(te)]=Ne}return{...N,...q}}(y,I,p,w,y.children));return q._sourceSegment=y,q._segmentIndexShift=I.length,{segmentGroup:q,slicedSegments:p}}const N=new jt(y.segments,y.children);return N._sourceSegment=y,N._segmentIndexShift=I.length,{segmentGroup:N,slicedSegments:p}}function z(y,I,p){return(!(y.hasChildren()||I.length>0)||"full"!==p.pathMatch)&&""===p.path}function _(y,I,p,w){return!!(Kn(y)===w||w!==Ft&&z(I,p,y))&&("**"===y.path||xi(I,y,p).matched)}function E(y,I,p){return 0===I.length&&!y.children[p]}const R=!1;class G{constructor(I){this.segmentGroup=I||null}}class ie{constructor(I){this.urlTree=I}}function ve(y){return(0,J._)(new G(y))}function Ce(y){return(0,J._)(new ie(y))}class Rt{constructor(I,p,w,N,q){this.injector=I,this.configLoader=p,this.urlSerializer=w,this.urlTree=N,this.config=q,this.allowRedirects=!0}apply(){const I=Ai(this.urlTree.root,[],[],this.config).segmentGroup,p=new jt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,p,Ft).pipe((0,Ye.U)(q=>this.createUrlTree(L(q),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Me.K)(q=>{if(q instanceof ie)return this.allowRedirects=!1,this.match(q.urlTree);throw q instanceof G?this.noMatchError(q):q}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,Ft).pipe((0,Ye.U)(N=>this.createUrlTree(L(N),I.queryParams,I.fragment))).pipe((0,Me.K)(N=>{throw N instanceof G?this.noMatchError(N):N}))}noMatchError(I){return new f.vHH(4002,R)}createUrlTree(I,p,w){const N=V(I);return new Et(N,p,w)}expandSegmentGroup(I,p,w,N){return 0===w.segments.length&&w.hasChildren()?this.expandChildren(I,p,w).pipe((0,Ye.U)(q=>new jt([],q))):this.expandSegment(I,w,p,w.segments,N,!0)}expandChildren(I,p,w){const N=[];for(const q of Object.keys(w.children))"primary"===q?N.unshift(q):N.push(q);return(0,k.D)(N).pipe((0,Be.b)(q=>{const te=w.children[q],Ne=ds(p,q);return this.expandSegmentGroup(I,Ne,te,q).pipe((0,Ye.U)(ct=>({segment:ct,outlet:q})))}),(0,Fe.R)((q,te)=>(q[te.outlet]=te.segment,q),{}),an())}expandSegment(I,p,w,N,q,te){return(0,k.D)(w).pipe((0,Be.b)(Ne=>this.expandSegmentAgainstRoute(I,p,w,Ne,N,q,te).pipe((0,Me.K)(Ct=>{if(Ct instanceof G)return(0,$.of)(null);throw Ct}))),(0,O.P)(Ne=>!!Ne),(0,Me.K)((Ne,ct)=>{if(nt(Ne))return E(p,N,q)?(0,$.of)(new jt([],{})):ve(p);throw Ne}))}expandSegmentAgainstRoute(I,p,w,N,q,te,Ne){return _(N,p,q,te)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(I,p,N,q,te):Ne&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,p,w,N,q,te):ve(p):ve(p)}expandSegmentAgainstRouteUsingRedirect(I,p,w,N,q,te){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,w,N,te):this.expandRegularSegmentAgainstRouteUsingRedirect(I,p,w,N,q,te)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,p,w,N){const q=this.applyRedirectCommands([],w.redirectTo,{});return w.redirectTo.startsWith("/")?Ce(q):this.lineralizeSegments(w,q).pipe((0,tt.z)(te=>{const Ne=new jt(te,{});return this.expandSegment(I,Ne,p,te,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,p,w,N,q,te){const{matched:Ne,consumedSegments:ct,remainingSegments:Ct,positionalParamSegments:Lt}=xi(p,N,q);if(!Ne)return ve(p);const En=this.applyRedirectCommands(ct,N.redirectTo,Lt);return N.redirectTo.startsWith("/")?Ce(En):this.lineralizeSegments(N,En).pipe((0,tt.z)(Mr=>this.expandSegment(I,p,w,Mr.concat(Ct),te,!1)))}matchSegmentAgainstRoute(I,p,w,N,q){return"**"===w.path?(I=jr(w,I),w.loadChildren?(w._loadedRoutes?(0,$.of)({routes:w._loadedRoutes,injector:w._loadedInjector}):this.configLoader.loadChildren(I,w)).pipe((0,Ye.U)(Ne=>(w._loadedRoutes=Ne.routes,w._loadedInjector=Ne.injector,new jt(N,{})))):(0,$.of)(new jt(N,{}))):zi(p,w,N,I).pipe((0,He.w)(({matched:te,consumedSegments:Ne,remainingSegments:ct})=>te?this.getChildConfig(I=w._injector??I,w,N).pipe((0,tt.z)(Lt=>{const En=Lt.injector??I,Mr=Lt.routes,{segmentGroup:eo,slicedSegments:to}=Ai(p,Ne,ct,Mr),Ui=new jt(eo.segments,eo.children);if(0===to.length&&Ui.hasChildren())return this.expandChildren(En,Mr,Ui).pipe((0,Ye.U)(ma=>new jt(Ne,ma)));if(0===Mr.length&&0===to.length)return(0,$.of)(new jt(Ne,{}));const Mi=Kn(w)===q;return this.expandSegment(En,Ui,Mr,to,Mi?Ft:q,!0).pipe((0,Ye.U)(Ja=>new jt(Ne.concat(Ja.segments),Ja.children)))})):ve(p)))}getChildConfig(I,p,w){return p.children?(0,$.of)({routes:p.children,injector:I}):p.loadChildren?void 0!==p._loadedRoutes?(0,$.of)({routes:p._loadedRoutes,injector:p._loadedInjector}):function Zs(y,I,p,w){const N=I.canLoad;if(void 0===N||0===N.length)return(0,$.of)(!0);const q=N.map(te=>{const Ne=ti(te,y);return kn(function fr(y){return y&&Qt(y.canLoad)}(Ne)?Ne.canLoad(I,p):y.runInContext(()=>Ne(I,p)))});return(0,$.of)(q).pipe(vi(),Ls())}(I,p,w).pipe((0,tt.z)(N=>N?this.configLoader.loadChildren(I,p).pipe((0,be.b)(q=>{p._loadedRoutes=q.routes,p._loadedInjector=q.injector})):function ot(y){return(0,J._)(Ps(R,3))}())):(0,$.of)({routes:[],injector:I})}lineralizeSegments(I,p){let w=[],N=p.root;for(;;){if(w=w.concat(N.segments),0===N.numberOfChildren)return(0,$.of)(w);if(N.numberOfChildren>1||!N.children[Ft])return(0,J._)(new f.vHH(4e3,R));N=N.children[Ft]}}applyRedirectCommands(I,p,w){return this.applyRedirectCreateUrlTree(p,this.urlSerializer.parse(p),I,w)}applyRedirectCreateUrlTree(I,p,w,N){const q=this.createSegmentGroup(I,p.root,w,N);return new Et(q,this.createQueryParams(p.queryParams,this.urlTree.queryParams),p.fragment)}createQueryParams(I,p){const w={};return ln(I,(N,q)=>{if("string"==typeof N&&N.startsWith(":")){const Ne=N.substring(1);w[q]=p[Ne]}else w[q]=N}),w}createSegmentGroup(I,p,w,N){const q=this.createSegments(I,p.segments,w,N);let te={};return ln(p.children,(Ne,ct)=>{te[ct]=this.createSegmentGroup(I,Ne,w,N)}),new jt(q,te)}createSegments(I,p,w,N){return p.map(q=>q.path.startsWith(":")?this.findPosParam(I,q,N):this.findOrReturn(q,w))}findPosParam(I,p,w){const N=w[p.path.substring(1)];if(!N)throw new f.vHH(4001,R);return N}findOrReturn(I,p){let w=0;for(const N of p){if(N.path===I.path)return p.splice(w),N;w++}return I}}class Pt{}class Ln{constructor(I,p,w,N,q,te,Ne){this.injector=I,this.rootComponentType=p,this.config=w,this.urlTree=N,this.url=q,this.paramsInheritanceStrategy=te,this.urlSerializer=Ne}recognize(){const I=Ai(this.urlTree.root,[],[],this.config.filter(p=>void 0===p.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Ft).pipe((0,Ye.U)(p=>{if(null===p)return null;const w=new Ti([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new gr(w,p),q=new _s(this.url,N);return this.inheritParamsAndData(q._root),q}))}inheritParamsAndData(I){const p=I.value,w=Rs(p,this.paramsInheritanceStrategy);p.params=Object.freeze(w.params),p.data=Object.freeze(w.data),I.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(I,p,w,N){return 0===w.segments.length&&w.hasChildren()?this.processChildren(I,p,w):this.processSegment(I,p,w,w.segments,N)}processChildren(I,p,w){return(0,k.D)(Object.keys(w.children)).pipe((0,Be.b)(N=>{const q=w.children[N],te=ds(p,N);return this.processSegmentGroup(I,te,q,N)}),(0,Fe.R)((N,q)=>N&&q?(N.push(...q),N):null),(0,Bn.o)(N=>null!==N),(0,dt.d)(null),an(),(0,Ye.U)(N=>{if(null===N)return null;const q=Ki(N);return function Fr(y){y.sort((I,p)=>I.value.outlet===Ft?-1:p.value.outlet===Ft?1:I.value.outlet.localeCompare(p.value.outlet))}(q),q}))}processSegment(I,p,w,N,q){return(0,k.D)(p).pipe((0,Be.b)(te=>this.processSegmentAgainstRoute(te._injector??I,te,w,N,q)),(0,O.P)(te=>!!te),(0,Me.K)(te=>{if(nt(te))return E(w,N,q)?(0,$.of)([]):(0,$.of)(null);throw te}))}processSegmentAgainstRoute(I,p,w,N,q){if(p.redirectTo||!_(p,w,N,q))return(0,$.of)(null);let te;if("**"===p.path){const Ne=N.length>0?vr(N).parameters:{},ct=C(w)+N.length,Ct=new Ti(N,Ne,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S(p),Kn(p),p.component??p._loadedComponent??null,p,Tr(w),ct,Z(p));te=(0,$.of)({snapshot:Ct,consumedSegments:[],remainingSegments:[]})}else te=zi(w,p,N,I).pipe((0,Ye.U)(({matched:Ne,consumedSegments:ct,remainingSegments:Ct,parameters:Lt})=>{if(!Ne)return null;const En=C(w)+ct.length;return{snapshot:new Ti(ct,Lt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,S(p),Kn(p),p.component??p._loadedComponent??null,p,Tr(w),En,Z(p)),consumedSegments:ct,remainingSegments:Ct}}));return te.pipe((0,He.w)(Ne=>{if(null===Ne)return(0,$.of)(null);const{snapshot:ct,consumedSegments:Ct,remainingSegments:Lt}=Ne;I=p._injector??I;const En=p._loadedInjector??I,Mr=function Xn(y){return y.children?y.children:y.loadChildren?y._loadedRoutes:[]}(p),{segmentGroup:eo,slicedSegments:to}=Ai(w,Ct,Lt,Mr.filter(Mi=>void 0===Mi.redirectTo));if(0===to.length&&eo.hasChildren())return this.processChildren(En,Mr,eo).pipe((0,Ye.U)(Mi=>null===Mi?null:[new gr(ct,Mi)]));if(0===Mr.length&&0===to.length)return(0,$.of)([new gr(ct,[])]);const Ui=Kn(p)===q;return this.processSegment(En,Mr,eo,to,Ui?Ft:q).pipe((0,Ye.U)(Mi=>null===Mi?null:[new gr(ct,Mi)]))}))}}function Ur(y){const I=y.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ki(y){const I=[],p=new Set;for(const w of y){if(!Ur(w)){I.push(w);continue}const N=I.find(q=>w.value.routeConfig===q.value.routeConfig);void 0!==N?(N.children.push(...w.children),p.add(N)):I.push(w)}for(const w of p){const N=Ki(w.children);I.push(new gr(w.value,N))}return I.filter(w=>!p.has(w))}function Tr(y){let I=y;for(;I._sourceSegment;)I=I._sourceSegment;return I}function C(y){let I=y,p=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,p+=I._segmentIndexShift??0;return p-1}function S(y){return y.data||{}}function Z(y){return y.resolve||{}}function bt(y){return"string"==typeof y.title||null===y.title}function St(y){return(0,He.w)(I=>{const p=y(I);return p?(0,k.D)(p).pipe((0,Ye.U)(()=>I)):(0,$.of)(I)})}const Fn=new f.OlP("ROUTES");let An=(()=>{class y{constructor(p,w){this.injector=p,this.compiler=w,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(p){if(this.componentLoaders.get(p))return this.componentLoaders.get(p);if(p._loadedComponent)return(0,$.of)(p._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(p);const w=kn(p.loadComponent()).pipe((0,Ye.U)(Ii),(0,be.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(p),p._loadedComponent=q}),(0,zt.x)(()=>{this.componentLoaders.delete(p)})),N=new Le(w,()=>new Qe.x).pipe(gt());return this.componentLoaders.set(p,N),N}loadChildren(p,w){if(this.childrenLoaders.get(w))return this.childrenLoaders.get(w);if(w._loadedRoutes)return(0,$.of)({routes:w._loadedRoutes,injector:w._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(w);const q=this.loadModuleFactoryOrRoutes(w.loadChildren).pipe((0,Ye.U)(Ne=>{this.onLoadEndListener&&this.onLoadEndListener(w);let ct,Ct,Lt=!1;Array.isArray(Ne)?Ct=Ne:(ct=Ne.create(p).injector,Ct=Br(ct.get(Fn,[],f.XFs.Self|f.XFs.Optional)));return{routes:Ct.map(Es),injector:ct}}),(0,zt.x)(()=>{this.childrenLoaders.delete(w)})),te=new Le(q,()=>new Qe.x).pipe(gt());return this.childrenLoaders.set(w,te),te}loadModuleFactoryOrRoutes(p){return kn(p()).pipe((0,Ye.U)(Ii),(0,tt.z)(N=>N instanceof f.YKP||Array.isArray(N)?(0,$.of)(N):(0,k.D)(this.compiler.compileModuleAsync(N))))}}return y.\u0275fac=function(p){return new(p||y)(f.LFG(f.zs3),f.LFG(f.Sil))},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Ii(y){return function jn(y){return y&&"object"==typeof y&&"default"in y}(y)?y.default:y}let _r=(()=>{class y{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Qe.x,this.configLoader=(0,f.f3M)(An),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(pr),this.rootContexts=(0,f.f3M)(Ji),this.navigationId=0,this.afterPreactivation=()=>(0,$.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new ms(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new gs(N))}complete(){this.transitions?.complete()}handleNavigationRequest(p){const w=++this.navigationId;this.transitions?.next({...this.transitions.value,...p,id:w})}setupNavigations(p){return this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:p.currentUrlTree,currentRawUrl:p.currentUrlTree,extractedUrl:p.urlHandlingStrategy.extract(p.currentUrlTree),urlAfterRedirects:p.urlHandlingStrategy.extract(p.currentUrlTree),rawUrl:p.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ai,restoredState:null,currentSnapshot:p.routerState.snapshot,targetSnapshot:null,currentRouterState:p.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,et.h)(w=>0!==w.id),(0,Ye.U)(w=>({...w,extractedUrl:p.urlHandlingStrategy.extract(w.rawUrl)})),(0,He.w)(w=>{let N=!1,q=!1;return(0,$.of)(w).pipe((0,be.b)(te=>{this.currentNavigation={id:te.id,initialUrl:te.rawUrl,extractedUrl:te.extractedUrl,trigger:te.source,extras:te.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,He.w)(te=>{const Ne=p.browserUrlTree.toString(),ct=!p.navigated||te.extractedUrl.toString()!==Ne||Ne!==p.currentUrlTree.toString();if(!ct&&"reload"!==(te.extras.onSameUrlNavigation??p.onSameUrlNavigation)){const Lt="";return this.events.next(new wi(te.id,p.serializeUrl(w.rawUrl),Lt,0)),p.rawUrlTree=te.rawUrl,te.resolve(null),le.E}if(p.urlHandlingStrategy.shouldProcessUrl(te.rawUrl))return Li(te.source)&&(p.browserUrlTree=te.extractedUrl),(0,$.of)(te).pipe((0,He.w)(Lt=>{const En=this.transitions?.getValue();return this.events.next(new Wr(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),Lt.source,Lt.restoredState)),En!==this.transitions?.getValue()?le.E:Promise.resolve(Lt)}),function Dn(y,I,p,w){return(0,He.w)(N=>function Tt(y,I,p,w,N){return new Rt(y,I,p,w,N).apply()}(y,I,p,N.extractedUrl,w).pipe((0,Ye.U)(q=>({...N,urlAfterRedirects:q}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,p.config),(0,be.b)(Lt=>{this.currentNavigation={...this.currentNavigation,finalUrl:Lt.urlAfterRedirects},w.urlAfterRedirects=Lt.urlAfterRedirects}),function he(y,I,p,w,N){return(0,tt.z)(q=>function nn(y,I,p,w,N,q,te="emptyOnly"){return new Ln(y,I,p,w,N,te,q).recognize().pipe((0,He.w)(Ne=>null===Ne?function sn(y){return new ue.y(I=>I.error(y))}(new Pt):(0,$.of)(Ne)))}(y,I,p,q.urlAfterRedirects,w.serialize(q.urlAfterRedirects),w,N).pipe((0,Ye.U)(te=>({...q,targetSnapshot:te}))))}(this.environmentInjector,this.rootComponentType,p.config,this.urlSerializer,p.paramsInheritanceStrategy),(0,be.b)(Lt=>{if(w.targetSnapshot=Lt.targetSnapshot,"eager"===p.urlUpdateStrategy){if(!Lt.extras.skipLocationChange){const Mr=p.urlHandlingStrategy.merge(Lt.urlAfterRedirects,Lt.rawUrl);p.setBrowserUrl(Mr,Lt)}p.browserUrlTree=Lt.urlAfterRedirects}const En=new As(Lt.id,this.urlSerializer.serialize(Lt.extractedUrl),this.urlSerializer.serialize(Lt.urlAfterRedirects),Lt.targetSnapshot);this.events.next(En)}));if(ct&&p.urlHandlingStrategy.shouldProcessUrl(p.rawUrlTree)){const{id:Lt,extractedUrl:En,source:Mr,restoredState:eo,extras:to}=te,Ui=new Wr(Lt,this.urlSerializer.serialize(En),Mr,eo);this.events.next(Ui);const Mi=_n(En,this.rootComponentType).snapshot;return w={...te,targetSnapshot:Mi,urlAfterRedirects:En,extras:{...to,skipLocationChange:!1,replaceUrl:!1}},(0,$.of)(w)}{const Lt="";return this.events.next(new wi(te.id,p.serializeUrl(w.extractedUrl),Lt,1)),p.rawUrlTree=te.rawUrl,te.resolve(null),le.E}}),(0,be.b)(te=>{const Ne=new Qi(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot);this.events.next(Ne)}),(0,Ye.U)(te=>w={...te,guards:mr(te.targetSnapshot,te.currentSnapshot,this.rootContexts)}),function Ds(y,I){return(0,tt.z)(p=>{const{targetSnapshot:w,currentSnapshot:N,guards:{canActivateChecks:q,canDeactivateChecks:te}}=p;return 0===te.length&&0===q.length?(0,$.of)({...p,guardsResult:!0}):function ni(y,I,p,w){return(0,k.D)(y).pipe((0,tt.z)(N=>function Ho(y,I,p,w,N){const q=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,$.of)(!0);const te=q.map(Ne=>{const ct=Ni(I)??N,Ct=ti(Ne,ct);return kn(function Gs(y){return y&&Qt(y.canDeactivate)}(Ct)?Ct.canDeactivate(y,I,p,w):ct.runInContext(()=>Ct(y,I,p,w))).pipe((0,O.P)())});return(0,$.of)(te).pipe(vi())}(N.component,N.route,p,I,w)),(0,O.P)(N=>!0!==N,!0))}(te,w,N,y).pipe((0,tt.z)(Ne=>Ne&&function ho(y){return"boolean"==typeof y}(Ne)?function ts(y,I,p,w){return(0,k.D)(I).pipe((0,Be.b)(N=>(0,Se.z)(function Ei(y,I){return null!==y&&I&&I(new gi(y)),(0,$.of)(!0)}(N.route.parent,w),function po(y,I){return null!==y&&I&&I(new li(y)),(0,$.of)(!0)}(N.route,w),function ks(y,I,p){const w=I[I.length-1],q=I.slice(0,I.length-1).reverse().map(te=>function Is(y){const I=y.routeConfig?y.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:y,guards:I}:null}(te)).filter(te=>null!==te).map(te=>(0,ge.P)(()=>{const Ne=te.guards.map(ct=>{const Ct=Ni(te.node)??p,Lt=ti(ct,Ct);return kn(function fo(y){return y&&Qt(y.canActivateChild)}(Lt)?Lt.canActivateChild(w,y):Ct.runInContext(()=>Lt(w,y))).pipe((0,O.P)())});return(0,$.of)(Ne).pipe(vi())}));return(0,$.of)(q).pipe(vi())}(y,N.path,p),function go(y,I,p){const w=I.routeConfig?I.routeConfig.canActivate:null;if(!w||0===w.length)return(0,$.of)(!0);const N=w.map(q=>(0,ge.P)(()=>{const te=Ni(I)??p,Ne=ti(q,te);return kn(function Ns(y){return y&&Qt(y.canActivate)}(Ne)?Ne.canActivate(I,y):te.runInContext(()=>Ne(I,y))).pipe((0,O.P)())}));return(0,$.of)(N).pipe(vi())}(y,N.route,p))),(0,O.P)(N=>!0!==N,!0))}(w,q,y,I):(0,$.of)(Ne)),(0,Ye.U)(Ne=>({...p,guardsResult:Ne})))})}(this.environmentInjector,te=>this.events.next(te)),(0,be.b)(te=>{if(w.guardsResult=te.guardsResult,ne(te.guardsResult))throw co(0,te.guardsResult);const Ne=new $s(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(te.urlAfterRedirects),te.targetSnapshot,!!te.guardsResult);this.events.next(Ne)}),(0,et.h)(te=>!!te.guardsResult||(p.restoreHistory(te),this.cancelNavigationTransition(te,"",3),!1)),St(te=>{if(te.guards.canActivateChecks.length)return(0,$.of)(te).pipe((0,be.b)(Ne=>{const ct=new pi(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(ct)}),(0,He.w)(Ne=>{let ct=!1;return(0,$.of)(Ne).pipe(function We(y,I){return(0,tt.z)(p=>{const{targetSnapshot:w,guards:{canActivateChecks:N}}=p;if(!N.length)return(0,$.of)(p);let q=0;return(0,k.D)(N).pipe((0,Be.b)(te=>function it(y,I,p,w){const N=y.routeConfig,q=y._resolve;return void 0!==N?.title&&!bt(N)&&(q[ur]=N.title),function At(y,I,p,w){const N=function pt(y){return[...Object.keys(y),...Object.getOwnPropertySymbols(y)]}(y);if(0===N.length)return(0,$.of)({});const q={};return(0,k.D)(N).pipe((0,tt.z)(te=>function vt(y,I,p,w){const N=Ni(I)??w,q=ti(y,N);return kn(q.resolve?q.resolve(I,p):N.runInContext(()=>q(I,p)))}(y[te],I,p,w).pipe((0,O.P)(),(0,be.b)(Ne=>{q[te]=Ne}))),Ue(1),(0,$t.h)(q),(0,Me.K)(te=>nt(te)?le.E:(0,J._)(te)))}(q,y,I,w).pipe((0,Ye.U)(te=>(y._resolvedData=te,y.data=Rs(y,p).resolve,N&&bt(N)&&(y.data[ur]=N.title),null)))}(te.route,w,y,I)),(0,be.b)(()=>q++),Ue(1),(0,tt.z)(te=>q===N.length?(0,$.of)(p):le.E))})}(p.paramsInheritanceStrategy,this.environmentInjector),(0,be.b)({next:()=>ct=!0,complete:()=>{ct||(p.restoreHistory(Ne),this.cancelNavigationTransition(Ne,"",2))}}))}),(0,be.b)(Ne=>{const ct=new Yr(Ne.id,this.urlSerializer.serialize(Ne.extractedUrl),this.urlSerializer.serialize(Ne.urlAfterRedirects),Ne.targetSnapshot);this.events.next(ct)}))}),St(te=>{const Ne=ct=>{const Ct=[];ct.routeConfig?.loadComponent&&!ct.routeConfig._loadedComponent&&Ct.push(this.configLoader.loadComponent(ct.routeConfig).pipe((0,be.b)(Lt=>{ct.component=Lt}),(0,Ye.U)(()=>{})));for(const Lt of ct.children)Ct.push(...Ne(Lt));return Ct};return(0,_e.a)(Ne(te.targetSnapshot.root)).pipe((0,dt.d)(),(0,de.q)(1))}),St(()=>this.afterPreactivation()),(0,Ye.U)(te=>{const Ne=function uo(y,I,p){const w=ji(y,I._root,p?p._root:void 0);return new Vn(w,I)}(p.routeReuseStrategy,te.targetSnapshot,te.currentRouterState);return w={...te,targetRouterState:Ne}}),(0,be.b)(te=>{p.currentUrlTree=te.urlAfterRedirects,p.rawUrlTree=p.urlHandlingStrategy.merge(te.urlAfterRedirects,te.rawUrl),p.routerState=te.targetRouterState,"deferred"===p.urlUpdateStrategy&&(te.extras.skipLocationChange||p.setBrowserUrl(p.rawUrlTree,te),p.browserUrlTree=te.urlAfterRedirects)}),((y,I,p)=>(0,Ye.U)(w=>(new or(I,w.targetRouterState,w.currentRouterState,p).activate(y),w)))(this.rootContexts,p.routeReuseStrategy,te=>this.events.next(te)),(0,be.b)({next:te=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,p.navigated=!0,this.events.next(new On(te.id,this.urlSerializer.serialize(te.extractedUrl),this.urlSerializer.serialize(p.currentUrlTree))),p.titleStrategy?.updateTitle(te.targetRouterState.snapshot),te.resolve(!0)},complete:()=>{N=!0}}),(0,zt.x)(()=>{N||q||this.cancelNavigationTransition(w,"",1),this.currentNavigation?.id===w.id&&(this.currentNavigation=null)}),(0,Me.K)(te=>{if(q=!0,bn(te)){Nr(te)||(p.navigated=!0,p.restoreHistory(w,!0));const Ne=new ii(w.id,this.urlSerializer.serialize(w.extractedUrl),te.message,te.cancellationCode);if(this.events.next(Ne),Nr(te)){const ct=p.urlHandlingStrategy.merge(te.url,p.rawUrlTree),Ct={skipLocationChange:w.extras.skipLocationChange,replaceUrl:"eager"===p.urlUpdateStrategy||Li(w.source)};p.scheduleNavigation(ct,ai,null,Ct,{resolve:w.resolve,reject:w.reject,promise:w.promise})}else w.resolve(!1)}else{p.restoreHistory(w,!0);const Ne=new vn(w.id,this.urlSerializer.serialize(w.extractedUrl),te,w.targetSnapshot??void 0);this.events.next(Ne);try{w.resolve(p.errorHandler(te))}catch(ct){w.reject(ct)}}return le.E}))}))}cancelNavigationTransition(p,w,N){const q=new ii(p.id,this.urlSerializer.serialize(p.extractedUrl),w,N);this.events.next(q),p.resolve(!1)}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function Li(y){return y!==ai}let Jr=(()=>{class y{buildTitle(p){let w,N=p.root;for(;void 0!==N;)w=this.getResolvedTitleForRoute(N)??w,N=N.children.find(q=>q.outlet===Ft);return w}getResolvedTitleForRoute(p){return p.data[ur]}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:function(){return(0,f.f3M)(Ys)},providedIn:"root"}),y})(),Ys=(()=>{class y extends Jr{constructor(p){super(),this.title=p}updateTitle(p){const w=this.buildTitle(p);void 0!==w&&this.title.setTitle(w)}}return y.\u0275fac=function(p){return new(p||y)(f.LFG(fn.Dx))},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),qs=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:function(){return(0,f.f3M)(Xo)},providedIn:"root"}),y})();class Qs{shouldDetach(I){return!1}store(I,p){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,p){return I.routeConfig===p.routeConfig}}let Xo=(()=>{class y extends Qs{}return y.\u0275fac=function(){let I;return function(w){return(I||(I=f.n5z(y)))(w||y)}}(),y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const yo=new f.OlP("",{providedIn:"root",factory:()=>({})});let ua=(()=>{class y{}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:function(){return(0,f.f3M)(wa)},providedIn:"root"}),y})(),wa=(()=>{class y{shouldProcessUrl(p){return!0}extract(p){return p}merge(p,w){return p}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();function jo(y){throw y}function vo(y,I,p){return I.parse("/")}const Eo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ao={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class y{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(yo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||jo,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||vo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(ua),this.routeReuseStrategy=(0,f.f3M)(qs),this.urlCreationStrategy=(0,f.f3M)(Or),this.titleStrategy=(0,f.f3M)(Jr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Br((0,f.f3M)(Fn,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(_r),this.urlSerializer=(0,f.f3M)(pr),this.location=(0,f.f3M)(qe.Ye),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Et,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=_n(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(p=>{this.lastSuccessfulId=p.id,this.currentPageId=p.targetPageId},p=>{this.console.warn(`Unhandled Navigation Error: ${p}`)})}resetRootComponentType(p){this.routerState.root.component=p,this.navigationTransitions.rootComponentType=p}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const p=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ai,p)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(p=>{const w="popstate"===p.type?"popstate":"hashchange";"popstate"===w&&setTimeout(()=>{this.navigateToSyncWithBrowser(p.url,w,p.state)},0)}))}navigateToSyncWithBrowser(p,w,N){const q={replaceUrl:!0},te=N?.navigationId?N:null;if(N){const ct={...N};delete ct.navigationId,delete ct.\u0275routerPageId,0!==Object.keys(ct).length&&(q.state=ct)}const Ne=this.parseUrl(p);this.scheduleNavigation(Ne,w,te,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(p){this.config=p.map(Es),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(p,w={}){const{relativeTo:N,queryParams:q,fragment:te,queryParamsHandling:Ne,preserveFragment:ct}=w,Ct=ct?this.currentUrlTree.fragment:te;let Lt=null;switch(Ne){case"merge":Lt={...this.currentUrlTree.queryParams,...q};break;case"preserve":Lt=this.currentUrlTree.queryParams;break;default:Lt=q||null}return null!==Lt&&(Lt=this.removeEmptyProps(Lt)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,p,Lt,Ct??null)}navigateByUrl(p,w={skipLocationChange:!1}){const N=ne(p)?p:this.parseUrl(p),q=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(q,ai,null,w)}navigate(p,w={skipLocationChange:!1}){return function Jo(y){for(let I=0;I<y.length;I++){if(null==y[I])throw new f.vHH(4008,!1)}}(p),this.navigateByUrl(this.createUrlTree(p,w),w)}serializeUrl(p){return this.urlSerializer.serialize(p)}parseUrl(p){let w;try{w=this.urlSerializer.parse(p)}catch(N){w=this.malformedUriErrorHandler(N,this.urlSerializer,p)}return w}isActive(p,w){let N;if(N=!0===w?{...Eo}:!1===w?{...Ao}:w,ne(p))return br(this.currentUrlTree,p,N);const q=this.parseUrl(p);return br(this.currentUrlTree,q,N)}removeEmptyProps(p){return Object.keys(p).reduce((w,N)=>{const q=p[N];return null!=q&&(w[N]=q),w},{})}scheduleNavigation(p,w,N,q,te){if(this.disposed)return Promise.resolve(!1);let Ne,ct,Ct,Lt;return te?(Ne=te.resolve,ct=te.reject,Ct=te.promise):Ct=new Promise((En,Mr)=>{Ne=En,ct=Mr}),Lt="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:q.replaceUrl||q.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:Lt,source:w,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:p,extras:q,resolve:Ne,reject:ct,promise:Ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ct.catch(En=>Promise.reject(En))}setBrowserUrl(p,w){const N=this.urlSerializer.serialize(p),q={...w.extras.state,...this.generateNgRouterState(w.id,w.targetPageId)};this.location.isCurrentPathEqualTo(N)||w.extras.replaceUrl?this.location.replaceState(N,"",q):this.location.go(N,"",q)}restoreHistory(p,w=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-p.targetPageId;"popstate"!==p.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===N?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===N&&(this.resetState(p),this.browserUrlTree=p.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(N)}else"replace"===this.canceledNavigationResolution&&(w&&this.resetState(p),this.resetUrlToCurrentUrlTree())}resetState(p){this.routerState=p.currentRouterState,this.currentUrlTree=p.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,p.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(p,w){return"computed"===this.canceledNavigationResolution?{navigationId:p,\u0275routerPageId:w}:{navigationId:p}}}return y.\u0275fac=function(p){return new(p||y)},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();class Ta{}let na=(()=>{class y{constructor(p,w,N,q,te){this.router=p,this.injector=N,this.preloadingStrategy=q,this.loader=te}setUpPreloading(){this.subscription=this.router.events.pipe((0,et.h)(p=>p instanceof On),(0,Be.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(p,w){const N=[];for(const q of w){q.providers&&!q._injector&&(q._injector=(0,f.MMx)(q.providers,p,`Route: ${q.path}`));const te=q._injector??p,Ne=q._loadedInjector??te;q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent?N.push(this.preloadConfig(te,q)):(q.children||q._loadedRoutes)&&N.push(this.processRoutes(Ne,q.children??q._loadedRoutes))}return(0,k.D)(N).pipe((0,xt.J)())}preloadConfig(p,w){return this.preloadingStrategy.preload(w,()=>{let N;N=w.loadChildren&&void 0===w.canLoad?this.loader.loadChildren(p,w):(0,$.of)(null);const q=N.pipe((0,tt.z)(te=>null===te?(0,$.of)(void 0):(w._loadedRoutes=te.routes,w._loadedInjector=te.injector,this.processRoutes(te.injector??p,te.routes))));if(w.loadComponent&&!w._loadedComponent){const te=this.loader.loadComponent(w);return(0,k.D)([q,te]).pipe((0,xt.J)())}return q})}}return y.\u0275fac=function(p){return new(p||y)(f.LFG(bi),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Ta),f.LFG(An))},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();const ns=new f.OlP("");let da=(()=>{class y{constructor(p,w,N,q,te={}){this.urlSerializer=p,this.transitions=w,this.viewportScroller=N,this.zone=q,this.options=te,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},te.scrollPositionRestoration=te.scrollPositionRestoration||"disabled",te.anchorScrolling=te.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof Wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=p.navigationTrigger,this.restoredId=p.restoredState?p.restoredState.navigationId:0):p instanceof On&&(this.lastId=p.id,this.scheduleScrollEvent(p,this.urlSerializer.parse(p.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(p=>{p instanceof si&&(p.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(p.position):p.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(p.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(p,w){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new si(p,"popstate"===this.lastSource?this.store[this.restoredId]:null,w))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return y.\u0275fac=function(p){f.$Z()},y.\u0275prov=f.Yz7({token:y,factory:y.\u0275fac}),y})();function Do(y,I){return{\u0275kind:y,\u0275providers:I}}function ha(){const y=(0,f.f3M)(f.zs3);return I=>{const p=y.get(f.z2F);if(I!==p.components[0])return;const w=y.get(bi),N=y.get(Xs);1===y.get(Mo)&&w.initialNavigation(),y.get($o,null,f.XFs.Optional)?.setUpPreloading(),y.get(ns,null,f.XFs.Optional)?.init(),w.resetRootComponentType(p.componentTypes[0]),N.closed||(N.next(),N.unsubscribe())}}const Xs=new f.OlP("",{factory:()=>new Qe.x}),Mo=new f.OlP("",{providedIn:"root",factory:()=>1});const $o=new f.OlP("");function gl(y){return Do(0,[{provide:$o,useExisting:na},{provide:Ta,useExisting:y}])}const fa=new f.OlP("ROUTER_FORROOT_GUARD"),Ma=[qe.Ye,{provide:pr,useClass:Pn},bi,Ji,{provide:Xi,useFactory:function Fi(y){return y.routerState.root},deps:[bi]},An,[]];function Ra(){return new f.PXZ("Router",bi)}let Pa=(()=>{class y{constructor(p){}static forRoot(p,w){return{ngModule:y,providers:[Ma,[],{provide:Fn,multi:!0,useValue:p},{provide:fa,useFactory:sa,deps:[[bi,new f.FiY,new f.tp0]]},{provide:yo,useValue:w||{}},w?.useHash?{provide:qe.S$,useClass:qe.Do}:{provide:qe.S$,useClass:qe.b0},{provide:ns,useFactory:()=>{const y=(0,f.f3M)(qe.EM),I=(0,f.f3M)(f.R0b),p=(0,f.f3M)(yo),w=(0,f.f3M)(_r),N=(0,f.f3M)(pr);return p.scrollOffset&&y.setOffset(p.scrollOffset),new da(N,w,y,I,p)}},w?.preloadingStrategy?gl(w.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Ra},w?.initialNavigation?kr(w):[],[{provide:Wo,useFactory:ha},{provide:f.tb,multi:!0,useExisting:Wo}]]}}static forChild(p){return{ngModule:y,providers:[{provide:Fn,multi:!0,useValue:p}]}}}return y.\u0275fac=function(p){return new(p||y)(f.LFG(fa,8))},y.\u0275mod=f.oAB({type:y}),y.\u0275inj=f.cJS({imports:[us]}),y})();function sa(y){return"guarded"}function kr(y){return["disabled"===y.initialNavigation?Do(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const I=(0,f.f3M)(bi);return()=>{I.setUpLocationChangeListener()}}},{provide:Mo,useValue:2}]).\u0275providers:[],"enabledBlocking"===y.initialNavigation?Do(2,[{provide:Mo,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:I=>{const p=I.get(qe.V_,Promise.resolve());return()=>p.then(()=>new Promise(N=>{const q=I.get(bi),te=I.get(Xs);(function w(N){I.get(bi).events.pipe((0,et.h)(te=>te instanceof On||te instanceof ii||te instanceof vn),(0,Ye.U)(te=>te instanceof On||te instanceof ii&&(0===te.code||1===te.code)&&null),(0,et.h)(te=>null!==te),(0,de.q)(1)).subscribe(()=>{N()})})(()=>{N(!0)}),I.get(_r).afterPreactivation=()=>(N(!0),te.closed?(0,$.of)(void 0):te),q.initialNavigation()}))}}]).\u0275providers:[]]}const Wo=new f.OlP("")},3942:(yt,Oe,P)=>{P.d(Oe,{Z:()=>at});var f=P(2090),k=P(4859),$=P(9681),fe=P(1877);class me{constructor(Le,Qe){this._delegate=Le,this.firebase=Qe,(0,$._addComponent)(Le,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService(Le,Qe=$._DEFAULT_ENTRY_NAME){var qe;this._delegate.checkDestroyed();const Ye=this._delegate.container.getProvider(Le);return!Ye.isInitialized()&&"EXPLICIT"===(null===(qe=Ye.getComponent())||void 0===qe?void 0:qe.instantiationMode)&&Ye.initialize(),Ye.getImmediate({identifier:Qe})}_removeServiceInstance(Le,Qe=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Qe)}_addComponent(Le){(0,$._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,$._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),J=function Ee(){const gt=function ge(gt){const Le={},Qe={__esModule:!0,initializeApp:function He(tt,O={}){const Be=$.initializeApp(tt,O);if((0,f.r3)(Le,Be.name))return Le[Be.name];const be=new gt(Be,Qe);return Le[Be.name]=be,be},app:Ye,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Ve(tt){const O=tt.name,Be=O.replace("-compat","");if($._registerComponent(tt)&&"PUBLIC"===tt.type){const be=(Me=Ye())=>{if("function"!=typeof Me[Be])throw Se.create("invalid-app-argument",{appName:O});return Me[Be]()};void 0!==tt.serviceProps&&(0,f.ZB)(be,tt.serviceProps),Qe[Be]=be,gt.prototype[Be]=function(...Me){return this._getService.bind(this,O).apply(this,tt.multipleInstances?Me:[])}}return"PUBLIC"===tt.type?Qe[Be]:null},removeApp:function qe(tt){delete Le[tt]},useAsService:function et(tt,O){return"serverAuth"===O?null:O},modularAPIs:$}};function Ye(tt){if(!(0,f.r3)(Le,tt=tt||$._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:tt});return Le[tt]}return Qe.default=Qe,Object.defineProperty(Qe,"apps",{get:function de(){return Object.keys(Le).map(tt=>Le[tt])}}),Ye.App=gt,Qe}(me);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function Le(Qe){(0,f.ZB)(gt,Qe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),gt}(),ue=new fe.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const at=J;!function $e(gt){(0,$.registerVersion)("@firebase/app-compat","0.2.1",gt)}()},9681:(yt,Oe,P)=>{P.r(Oe),P.d(Oe,{FirebaseError:()=>fe.ZR,SDK_VERSION:()=>Br,_DEFAULT_ENTRY_NAME:()=>Bn,_addComponent:()=>fn,_addOrOverwriteComponent:()=>Ft,_apps:()=>zt,_clearComponents:()=>Ir,_components:()=>xt,_getProvider:()=>Vt,_registerComponent:()=>ur,_removeServiceInstance:()=>en,deleteApp:()=>kn,getApp:()=>cr,getApps:()=>ln,initializeApp:()=>vr,onLog:()=>It,registerVersion:()=>ar,setLogLevel:()=>br});var f=P(5861),k=P(4859),$=P(1877),fe=P(2090),me=P(8766);class _e{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(function Se(De){return"VERSION"===De.getComponent()?.type}(j)){const W=j.getImmediate();return`${W.library}/${W.version}`}return null}).filter(j=>j).join(" ")}}const ge="@firebase/app",J=new $.Yd("@firebase/app"),Bn="[DEFAULT]",$t={[ge]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},zt=new Map,xt=new Map;function fn(De,oe){try{De.container.addComponent(oe)}catch(j){J.debug(`Component ${oe.name} failed to register with FirebaseApp ${De.name}`,j)}}function Ft(De,oe){De.container.addOrOverwriteComponent(oe)}function ur(De){const oe=De.name;if(xt.has(oe))return J.debug(`There were multiple attempts to register component ${oe}.`),!1;xt.set(oe,De);for(const j of zt.values())fn(j,De);return!0}function Vt(De,oe){const j=De.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),De.container.getProvider(oe)}function en(De,oe,j=Bn){Vt(De,oe).clearInstance(j)}function Ir(){xt.clear()}const In=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cn{constructor(oe,j,W){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=W,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}const Br="9.16.0";function vr(De,oe={}){let j=De;"object"!=typeof oe&&(oe={name:oe});const W=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},oe),se=W.name;if("string"!=typeof se||!se)throw In.create("bad-app-name",{appName:String(se)});if(j||(j=(0,fe.aH)()),!j)throw In.create("no-options");const ke=zt.get(se);if(ke){if((0,fe.vZ)(j,ke.options)&&(0,fe.vZ)(W,ke.config))return ke;throw In.create("duplicate-app",{appName:se})}const X=new k.H0(se);for(const Ie of xt.values())X.addComponent(Ie);const ae=new Cn(j,W,X);return zt.set(se,ae),ae}function cr(De=Bn){const oe=zt.get(De);if(!oe&&De===Bn)return vr();if(!oe)throw In.create("no-app",{appName:De});return oe}function ln(){return Array.from(zt.values())}function kn(De){return un.apply(this,arguments)}function un(){return(un=(0,f.Z)(function*(De){const oe=De.name;zt.has(oe)&&(zt.delete(oe),yield Promise.all(De.container.getProviders().map(j=>j.delete())),De.isDeleted=!0)})).apply(this,arguments)}function ar(De,oe,j){var W;let se=null!==(W=$t[De])&&void 0!==W?W:De;j&&(se+=`-${j}`);const ke=se.match(/\s|\//),X=oe.match(/\s|\//);if(ke||X){const ae=[`Unable to register library "${se}" with version "${oe}":`];return ke&&ae.push(`library name "${se}" contains illegal characters (whitespace or "/")`),ke&&X&&ae.push("and"),X&&ae.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void J.warn(ae.join(" "))}ur(new k.wA(`${se}-version`,()=>({library:se,version:oe}),"VERSION"))}function It(De,oe){if(null!==De&&"function"!=typeof De)throw In.create("invalid-log-argument");(0,$.Am)(De,oe)}function br(De){(0,$.Ub)(De)}const nr="firebase-heartbeat-store";let Rr=null;function Zt(){return Rr||(Rr=(0,me.X3)("firebase-heartbeat-database",1,{upgrade:(De,oe)=>{0===oe&&De.createObjectStore(nr)}}).catch(De=>{throw In.create("idb-open",{originalErrorMessage:De.message})})),Rr}function Et(){return(Et=(0,f.Z)(function*(De){try{return(yield Zt()).transaction(nr).objectStore(nr).get(Yn(De))}catch(oe){if(oe instanceof fe.ZR)J.warn(oe.message);else{const j=In.create("idb-get",{originalErrorMessage:oe?.message});J.warn(j.message)}}})).apply(this,arguments)}function jt(De,oe){return wn.apply(this,arguments)}function wn(){return(wn=(0,f.Z)(function*(De,oe){try{const W=(yield Zt()).transaction(nr,"readwrite");return yield W.objectStore(nr).put(oe,Yn(De)),W.done}catch(j){if(j instanceof fe.ZR)J.warn(j.message);else{const W=In.create("idb-set",{originalErrorMessage:j?.message});J.warn(W.message)}}})).apply(this,arguments)}function Yn(De){return`${De.name}!${De.options.appId}`}class pr{constructor(oe){this.container=oe,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new Yt(j),this._heartbeatsCachePromise=this._storage.read().then(W=>(this._heartbeatsCache=W,W))}triggerHeartbeat(){var oe=this;return(0,f.Z)(function*(){const W=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),se=Pn();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==se&&!oe._heartbeatsCache.heartbeats.some(ke=>ke.date===se))return oe._heartbeatsCache.heartbeats.push({date:se,agent:W}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(ke=>{const X=new Date(ke.date).valueOf();return Date.now()-X<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,f.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const j=Pn(),{heartbeatsToSend:W,unsentEntries:se}=function Hr(De,oe=1024){const j=[];let W=De.slice();for(const se of De){const ke=j.find(X=>X.agent===se.agent);if(ke){if(ke.dates.push(se.date),Jn(j)>oe){ke.dates.pop();break}}else if(j.push({agent:se.agent,dates:[se.date]}),Jn(j)>oe){j.pop();break}W=W.slice(1)}return{heartbeatsToSend:j,unsentEntries:W}}(oe._heartbeatsCache.heartbeats),ke=(0,fe.L)(JSON.stringify({version:2,heartbeats:W}));return oe._heartbeatsCache.lastSentHeartbeatDate=j,se.length>0?(oe._heartbeatsCache.heartbeats=se,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),ke})()}}function Pn(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,f.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function Ht(De){return Et.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var j=this;return(0,f.Z)(function*(){var W;if(yield j._canUseIndexedDBPromise){const ke=yield j.read();return jt(j.app,{lastSentHeartbeatDate:null!==(W=oe.lastSentHeartbeatDate)&&void 0!==W?W:ke.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var j=this;return(0,f.Z)(function*(){var W;if(yield j._canUseIndexedDBPromise){const ke=yield j.read();return jt(j.app,{lastSentHeartbeatDate:null!==(W=oe.lastSentHeartbeatDate)&&void 0!==W?W:ke.lastSentHeartbeatDate,heartbeats:[...ke.heartbeats,...oe.heartbeats]})}})()}}function Jn(De){return(0,fe.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Pr(De){ur(new k.wA("platform-logger",oe=>new _e(oe),"PRIVATE")),ur(new k.wA("heartbeat",oe=>new pr(oe),"PRIVATE")),ar(ge,"0.9.1",De),ar(ge,"0.9.1","esm2017"),ar("fire-js","")}("")},4859:(yt,Oe,P)=>{P.d(Oe,{H0:()=>ge,wA:()=>$,zt:()=>me});var f=P(5861),k=P(2090);class ${constructor(J,ue,le){this.name=J,this.instanceFactory=ue,this.type=le,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(J){return this.instantiationMode=J,this}setMultipleInstances(J){return this.multipleInstances=J,this}setServiceProps(J){return this.serviceProps=J,this}setInstanceCreatedCallback(J){return this.onInstanceCreated=J,this}}const fe="[DEFAULT]";class me{constructor(J,ue){this.name=J,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(J){const ue=this.normalizeInstanceIdentifier(J);if(!this.instancesDeferred.has(ue)){const le=new k.BH;if(this.instancesDeferred.set(ue,le),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Ke=this.getOrInitializeService({instanceIdentifier:ue});Ke&&le.resolve(Ke)}catch{}}return this.instancesDeferred.get(ue).promise}getImmediate(J){var ue;const le=this.normalizeInstanceIdentifier(J?.identifier),Ke=null!==(ue=J?.optional)&&void 0!==ue&&ue;if(!this.isInitialized(le)&&!this.shouldAutoInitialize()){if(Ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:le})}catch($e){if(Ke)return null;throw $e}}getComponent(){return this.component}setComponent(J){if(J.name!==this.name)throw Error(`Mismatching Component ${J.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=J,this.shouldAutoInitialize()){if(function Se(Ee){return"EAGER"===Ee.instantiationMode}(J))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[ue,le]of this.instancesDeferred.entries()){const Ke=this.normalizeInstanceIdentifier(ue);try{const $e=this.getOrInitializeService({instanceIdentifier:Ke});le.resolve($e)}catch{}}}}clearInstance(J=fe){this.instancesDeferred.delete(J),this.instancesOptions.delete(J),this.instances.delete(J)}delete(){var J=this;return(0,f.Z)(function*(){const ue=Array.from(J.instances.values());yield Promise.all([...ue.filter(le=>"INTERNAL"in le).map(le=>le.INTERNAL.delete()),...ue.filter(le=>"_delete"in le).map(le=>le._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(J=fe){return this.instances.has(J)}getOptions(J=fe){return this.instancesOptions.get(J)||{}}initialize(J={}){const{options:ue={}}=J,le=this.normalizeInstanceIdentifier(J.instanceIdentifier);if(this.isInitialized(le))throw Error(`${this.name}(${le}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ke=this.getOrInitializeService({instanceIdentifier:le,options:ue});for(const[$e,at]of this.instancesDeferred.entries())le===this.normalizeInstanceIdentifier($e)&&at.resolve(Ke);return Ke}onInit(J,ue){var le;const Ke=this.normalizeInstanceIdentifier(ue),$e=null!==(le=this.onInitCallbacks.get(Ke))&&void 0!==le?le:new Set;$e.add(J),this.onInitCallbacks.set(Ke,$e);const at=this.instances.get(Ke);return at&&J(at,Ke),()=>{$e.delete(J)}}invokeOnInitCallbacks(J,ue){const le=this.onInitCallbacks.get(ue);if(le)for(const Ke of le)try{Ke(J,ue)}catch{}}getOrInitializeService({instanceIdentifier:J,options:ue={}}){let le=this.instances.get(J);if(!le&&this.component&&(le=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=J,Ee===fe?void 0:Ee),options:ue}),this.instances.set(J,le),this.instancesOptions.set(J,ue),this.invokeOnInitCallbacks(le,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,le)}catch{}var Ee;return le||null}normalizeInstanceIdentifier(J=fe){return this.component?this.component.multipleInstances?J:fe:J}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ge{constructor(J){this.name=J,this.providers=new Map}addComponent(J){const ue=this.getProvider(J.name);if(ue.isComponentSet())throw new Error(`Component ${J.name} has already been registered with ${this.name}`);ue.setComponent(J)}addOrOverwriteComponent(J){this.getProvider(J.name).isComponentSet()&&this.providers.delete(J.name),this.addComponent(J)}getProvider(J){if(this.providers.has(J))return this.providers.get(J);const ue=new me(J,this);return this.providers.set(J,ue),ue}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Oe,P)=>{P.d(Oe,{Am:()=>Ee,Ub:()=>ge,Yd:()=>Se,in:()=>k});const f=[];var k=(()=>{return(J=k||(k={}))[J.DEBUG=0]="DEBUG",J[J.VERBOSE=1]="VERBOSE",J[J.INFO=2]="INFO",J[J.WARN=3]="WARN",J[J.ERROR=4]="ERROR",J[J.SILENT=5]="SILENT",k;var J})();const $={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},fe=k.INFO,me={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},_e=(J,ue,...le)=>{if(ue<J.logLevel)return;const Ke=(new Date).toISOString(),$e=me[ue];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[$e](`[${Ke}]  ${J.name}:`,...le)};class Se{constructor(ue){this.name=ue,this._logLevel=fe,this._logHandler=_e,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in k))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?$[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ue),this._logHandler(this,k.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ue),this._logHandler(this,k.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ue),this._logHandler(this,k.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ue),this._logHandler(this,k.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ue),this._logHandler(this,k.ERROR,...ue)}}function ge(J){f.forEach(ue=>{ue.setLogLevel(J)})}function Ee(J,ue){for(const le of f){let Ke=null;ue&&ue.level&&(Ke=$[ue.level]),le.userLogHandler=null===J?null:($e,at,...gt)=>{const Le=gt.map(Qe=>{if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch{return null}}).filter(Qe=>Qe).join(" ");at>=(Ke??$e.logLevel)&&J({level:k[at].toLowerCase(),message:Le,args:gt,type:$e.name})}}}},259:(yt,Oe,P)=>{P.d(Oe,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=P(9681);(0,f.registerVersion)("firebase","9.16.0","app")},9260:(yt,Oe,P)=>{P.d(Oe,{Z:()=>f.Z});var f=P(3942);f.Z.registerVersion("firebase","9.16.0","app-compat")},750:(yt,Oe,P)=>{P.r(Oe);var f=P(5861),k=P(3942),$=P(2090),fe=P(9681),me=P(1877),_e=P(655),Se=P(4859);const at=function Ke(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},gt=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new me.Yd("@firebase/auth");function Ye(g,...u){qe.logLevel<=me.in.ERROR&&qe.error(`Auth (${fe.SDK_VERSION}): ${g}`,...u)}function He(g,...u){throw tt(g,...u)}function de(g,...u){return tt(g,...u)}function Ve(g,u,d){const v=Object.assign(Object.assign({},gt()),{[u]:d});return new $.LL("auth","Firebase",v).create(u,{appName:g.name})}function et(g,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&He(g,"argument-error"),Ve(g,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function tt(g,...u){if("string"!=typeof g){const d=u[0],v=[...u.slice(1)];return v[0]&&(v[0].appName=g.name),g._errorFactory.create(d,...v)}return Le.create(g,...u)}function O(g,u,...d){if(!g)throw tt(u,...d)}function Be(g){const u="INTERNAL ASSERTION FAILED: "+g;throw Ye(u),new Error(u)}function be(g,u){g||Be(u)}const Me=new Map;function Fe(g){be(g instanceof Function,"Expected a class definition");let u=Me.get(g);return u?(be(u instanceof g,"Instance stored in cache mismatched with class"),u):(u=new g,Me.set(g,u),u)}function dt(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.href)||""}function Nt(){return"http:"===an()||"https:"===an()}function an(){var g;return typeof self<"u"&&(null===(g=self.location)||void 0===g?void 0:g.protocol)||null}class zt{constructor(u,d){this.shortDelay=u,this.longDelay=d,be(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function Bn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Nt()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xt(g,u){be(g.emulator,"Emulator should always be set here");const{url:d}=g.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class fn{static initialize(u,d,v){this.fetchImpl=u,d&&(this.headersImpl=d),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ft={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ur=new zt(3e4,6e4);function Vt(g,u){return g.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:g.tenantId}):u}function en(g,u,d,v){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(g,u,d,v,H={}){return yr(g,H,(0,f.Z)(function*(){let ee={},Re={};v&&("GET"===u?Re=v:ee={body:JSON.stringify(v)});const rt=(0,$.xO)(Object.assign({key:g.config.apiKey},Re)).slice(1),wt=yield g._getAdditionalHeaders();return wt["Content-Type"]="application/json",g.languageCode&&(wt["X-Firebase-Locale"]=g.languageCode),fn.fetch()(vr(g,g.config.apiHost,d,rt),Object.assign({method:u,headers:wt,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function yr(g,u,d){return In.apply(this,arguments)}function In(){return(In=(0,f.Z)(function*(g,u,d){g._canInitEmulator=!1;const v=Object.assign(Object.assign({},Ft),u);try{const H=new cr(g),ee=yield Promise.race([d(),H.promise]);H.clearNetworkTimeout();const Re=yield ee.json();if("needConfirmation"in Re)throw ln(g,"account-exists-with-different-credential",Re);if(ee.ok&&!("errorMessage"in Re))return Re;{const rt=ee.ok?Re.errorMessage:Re.error.message,[wt,Ot]=rt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===wt)throw ln(g,"credential-already-in-use",Re);if("EMAIL_EXISTS"===wt)throw ln(g,"email-already-in-use",Re);if("USER_DISABLED"===wt)throw ln(g,"user-disabled",Re);const yn=v[wt]||wt.toLowerCase().replace(/[_\s]+/g,"-");if(Ot)throw Ve(g,yn,Ot);He(g,yn)}}catch(H){if(H instanceof $.ZR)throw H;He(g,"network-request-failed")}})).apply(this,arguments)}function Cn(g,u,d,v){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(g,u,d,v,H={}){const ee=yield en(g,u,d,v,H);return"mfaPendingCredential"in ee&&He(g,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function vr(g,u,d,v){const H=`${u}${d}?${v}`;return g.config.emulator?xt(g.config,H):`${g.config.apiScheme}://${H}`}class cr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,v)=>{this.timer=setTimeout(()=>v(de(this.auth,"network-request-failed")),ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ln(g,u,d){const v={appName:g.name};d.email&&(v.email=d.email),d.phoneNumber&&(v.phoneNumber=d.phoneNumber);const H=de(g,u,v);return H.customData._tokenResponse=d,H}function un(){return(un=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function ar(g,u){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function br(g,u){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function tn(g){if(g)try{const u=new Date(Number(g));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Zt(){return(Zt=(0,f.Z)(function*(g,u=!1){const d=(0,$.m9)(g),v=yield d.getIdToken(u),H=Et(v);O(H&&H.exp&&H.auth_time&&H.iat,d.auth,"internal-error");const ee="object"==typeof H.firebase?H.firebase:void 0,Re=ee?.sign_in_provider;return{claims:H,token:v,authTime:tn(Ht(H.auth_time)),issuedAtTime:tn(Ht(H.iat)),expirationTime:tn(Ht(H.exp)),signInProvider:Re||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Ht(g){return 1e3*Number(g)}function Et(g){const[u,d,v]=g.split(".");if(void 0===u||void 0===d||void 0===v)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const H=(0,$.tV)(d);return H?JSON.parse(H):(Ye("Failed to decode base64 JWT payload"),null)}catch(H){return Ye("Caught error parsing JWT payload as JSON",H?.toString()),null}}function wn(g,u){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,f.Z)(function*(g,u,d=!1){if(d)return u;try{return yield u}catch(v){throw v instanceof $.ZR&&Gn(v)&&g.auth.currentUser===g&&(yield g.auth.signOut()),v}})).apply(this,arguments)}function Gn({code:g}){return"auth/user-disabled"===g||"auth/user-token-expired"===g}class rr{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const H=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,H)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const v=this.getInterval(u);this.timerId=setTimeout((0,f.Z)(function*(){yield d.iteration()}),v)}iteration(){var u=this;return(0,f.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class pr{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=tn(this.lastLoginAt),this.creationTime=tn(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pn(g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(g){var u;const d=g.auth,v=yield g.getIdToken(),H=yield wn(g,br(d,{idToken:v}));O(H?.users.length,d,"internal-error");const ee=H.users[0];g._notifyReloadListener(ee);const Re=null!==(u=ee.providerUserInfo)&&void 0!==u&&u.length?De(ee.providerUserInfo):[],rt=Pr(g.providerData,Re),yn=!!g.isAnonymous&&!(g.email&&ee.passwordHash||rt?.length),on={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:rt,metadata:new pr(ee.createdAt,ee.lastLoginAt),isAnonymous:yn};Object.assign(g,on)})).apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(g){const u=(0,$.m9)(g);yield Pn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Pr(g,u){return[...g.filter(v=>!u.some(H=>H.providerId===v.providerId)),...u]}function De(g){return g.map(u=>{var{providerId:d}=u,v=(0,_e._T)(u,["providerId"]);return{providerId:d,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function j(){return(j=(0,f.Z)(function*(g,u){const d=yield yr(g,{},(0,f.Z)(function*(){const v=(0,$.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:H,apiKey:ee}=g.config,Re=vr(g,H,"/v1/token",`key=${ee}`),rt=yield g._getAdditionalHeaders();return rt["Content-Type"]="application/x-www-form-urlencoded",fn.fetch()(Re,{method:"POST",headers:rt,body:v})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class W{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){O(u.idToken,"internal-error"),O(typeof u.idToken<"u","internal-error"),O(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function jt(g){const u=Et(g);return O(u,"internal-error"),O(typeof u.exp<"u","internal-error"),O(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var v=this;return(0,f.Z)(function*(){return O(!v.accessToken||v.refreshToken,u,"user-token-expired"),d||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(u,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var v=this;return(0,f.Z)(function*(){const{accessToken:H,refreshToken:ee,expiresIn:Re}=yield function oe(g,u){return j.apply(this,arguments)}(u,d);v.updateTokensAndExpiration(H,ee,Number(Re))})()}updateTokensAndExpiration(u,d,v){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(u,d){const{refreshToken:v,accessToken:H,expirationTime:ee}=d,Re=new W;return v&&(O("string"==typeof v,"internal-error",{appName:u}),Re.refreshToken=v),H&&(O("string"==typeof H,"internal-error",{appName:u}),Re.accessToken=H),ee&&(O("number"==typeof ee,"internal-error",{appName:u}),Re.expirationTime=ee),Re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new W,this.toJSON())}_performRefresh(){return Be("not implemented")}}function se(g,u){O("string"==typeof g||typeof g>"u","internal-error",{appName:u})}class ke{constructor(u){var{uid:d,auth:v,stsTokenManager:H}=u,ee=(0,_e._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=v,this.stsTokenManager=H,this.accessToken=H.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new pr(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,f.Z)(function*(){const v=yield wn(d,d.stsTokenManager.getToken(d.auth,u));return O(v,d.auth,"internal-error"),d.accessToken!==v&&(d.accessToken=v,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),v})()}getIdTokenResult(u){return function Rr(g){return Zt.apply(this,arguments)}(this,u)}reload(){return function Yt(g){return Jn.apply(this,arguments)}(this)}_assign(u){this!==u&&(O(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new ke(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){O(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var v=this;return(0,f.Z)(function*(){let H=!1;u.idToken&&u.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(u),H=!0),d&&(yield Pn(v)),yield v.auth._persistUserIfCurrent(v),H&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var u=this;return(0,f.Z)(function*(){const d=yield u.getIdToken();return yield wn(u,function kn(g,u){return un.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var v,H,ee,Re,rt,wt,Ot,yn;const on=null!==(v=d.displayName)&&void 0!==v?v:void 0,Ri=null!==(H=d.email)&&void 0!==H?H:void 0,ko=null!==(ee=d.phoneNumber)&&void 0!==ee?ee:void 0,xl=null!==(Re=d.photoURL)&&void 0!==Re?Re:void 0,Cc=null!==(rt=d.tenantId)&&void 0!==rt?rt:void 0,al=null!==(wt=d._redirectEventId)&&void 0!==wt?wt:void 0,Yo=null!==(Ot=d.createdAt)&&void 0!==Ot?Ot:void 0,ll=null!==(yn=d.lastLoginAt)&&void 0!==yn?yn:void 0,{uid:kl,emailVerified:ju,isAnonymous:$u,providerData:hd,stsTokenManager:wc}=d;O(kl&&wc,u,"internal-error");const hh=W.fromJSON(this.name,wc);O("string"==typeof kl,u,"internal-error"),se(on,u.name),se(Ri,u.name),O("boolean"==typeof ju,u,"internal-error"),O("boolean"==typeof $u,u,"internal-error"),se(ko,u.name),se(xl,u.name),se(Cc,u.name),se(al,u.name),se(Yo,u.name),se(ll,u.name);const Ll=new ke({uid:kl,auth:u,email:Ri,emailVerified:ju,displayName:on,isAnonymous:$u,photoURL:xl,phoneNumber:ko,tenantId:Cc,stsTokenManager:hh,createdAt:Yo,lastLoginAt:ll});return hd&&Array.isArray(hd)&&(Ll.providerData=hd.map(Wu=>Object.assign({},Wu))),al&&(Ll._redirectEventId=al),Ll}static _fromIdTokenResponse(u,d,v=!1){return(0,f.Z)(function*(){const H=new W;H.updateFromServerResponse(d);const ee=new ke({uid:d.localId,auth:u,stsTokenManager:H,isAnonymous:v});return yield Pn(ee),ee})()}}const ae=(()=>{class g{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(d,v){var H=this;return(0,f.Z)(function*(){H.storage[d]=v})()}_get(d){var v=this;return(0,f.Z)(function*(){const H=v.storage[d];return void 0===H?null:H})()}_remove(d){var v=this;return(0,f.Z)(function*(){delete v.storage[d]})()}_addListener(d,v){}_removeListener(d,v){}}return g.type="NONE",g})();function Ie(g,u,d){return`firebase:${g}:${u}:${d}`}class je{constructor(u,d,v){this.persistence=u,this.auth=d,this.userKey=v;const{config:H,name:ee}=this.auth;this.fullUserKey=Ie(this.userKey,H.apiKey,ee),this.fullPersistenceKey=Ie("persistence",H.apiKey,ee),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,f.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?ke._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,f.Z)(function*(){if(d.persistence===u)return;const v=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,v?d.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,v="authUser"){return(0,f.Z)(function*(){if(!d.length)return new je(Fe(ae),u,v);const H=(yield Promise.all(d.map(function(){var Ot=(0,f.Z)(function*(yn){if(yield yn._isAvailable())return yn});return function(yn){return Ot.apply(this,arguments)}}()))).filter(Ot=>Ot);let ee=H[0]||Fe(ae);const Re=Ie(v,u.config.apiKey,u.name);let rt=null;for(const Ot of d)try{const yn=yield Ot._get(Re);if(yn){const on=ke._fromJSON(u,yn);Ot!==ee&&(rt=on),ee=Ot;break}}catch{}const wt=H.filter(Ot=>Ot._shouldAllowMigration);return ee._shouldAllowMigration&&wt.length?(ee=wt[0],rt&&(yield ee._set(Re,rt.toJSON())),yield Promise.all(d.map(function(){var Ot=(0,f.Z)(function*(yn){if(yn!==ee)try{yield yn._remove(Re)}catch{}});return function(yn){return Ot.apply(this,arguments)}}())),new je(ee,u,v)):new je(ee,u,v)})()}}function we(g){const u=g.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Ae(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(mt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(L(u))return"Blackberry";if(U(u))return"Webos";if(Gt(u))return"Safari";if((u.includes("chrome/")||qt(u))&&!u.includes("edge/"))return"Chrome";if(V(u))return"Android";{const v=g.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function mt(g=(0,$.z$)()){return/firefox\//i.test(g)}function Gt(g=(0,$.z$)()){const u=g.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function qt(g=(0,$.z$)()){return/crios\//i.test(g)}function Ae(g=(0,$.z$)()){return/iemobile/i.test(g)}function V(g=(0,$.z$)()){return/android/i.test(g)}function L(g=(0,$.z$)()){return/blackberry/i.test(g)}function U(g=(0,$.z$)()){return/webos/i.test(g)}function ne(g=(0,$.z$)()){return/iphone|ipad|ipod/i.test(g)||/macintosh/i.test(g)&&/mobile/i.test(g)}function qn(g=(0,$.z$)()){return ne(g)||V(g)||U(g)||L(g)||/windows phone/i.test(g)||Ae(g)}function Kr(g,u=[]){let d;switch(g){case"Browser":d=we((0,$.z$)());break;case"Worker":d=`${we((0,$.z$)())}-${g}`;break;default:d=g}const v=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${fe.SDK_VERSION}/${v}`}class oi{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const v=ee=>new Promise((Re,rt)=>{try{Re(u(ee))}catch(wt){rt(wt)}});v.onAbort=d,this.queue.push(v);const H=this.queue.length-1;return()=>{this.queue[H]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,f.Z)(function*(){if(d.auth.currentUser===u)return;const v=[];try{for(const H of d.queue)yield H(u),H.onAbort&&v.push(H.onAbort)}catch(H){v.reverse();for(const ee of v)try{ee()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:H?.message})}})()}}class os{constructor(u,d,v){this.app=u,this.heartbeatServiceProvider=d,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ao(this),this.idTokenSubscription=new ao(this),this.beforeStateQueue=new oi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(u,d){var v=this;return d&&(this._popupRedirectResolver=Fe(d)),this._initializationPromise=this.queue((0,f.Z)(function*(){var H,ee;if(!v._deleted&&(v.persistenceManager=yield je.create(v,u),!v._deleted)){if(null!==(H=v._popupRedirectResolver)&&void 0!==H&&H._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(d),v.lastNotifiedUid=(null===(ee=v.currentUser)||void 0===ee?void 0:ee.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,f.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,f.Z)(function*(){var v;const H=yield d.assertedPersistence.getCurrentUser();let ee=H,Re=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const rt=null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId,wt=ee?._redirectEventId,Ot=yield d.tryRedirectSignIn(u);(!rt||rt===wt)&&Ot?.user&&(ee=Ot.user,Re=!0)}if(!ee)return d.directlySetCurrentUser(null);if(!ee._redirectEventId){if(Re)try{yield d.beforeStateQueue.runMiddleware(ee)}catch(rt){ee=H,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(rt))}return ee?d.reloadAndSetCurrentUserOrClear(ee):d.directlySetCurrentUser(null)}return O(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===ee._redirectEventId?d.directlySetCurrentUser(ee):d.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(u){var d=this;return(0,f.Z)(function*(){let v=null;try{v=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,f.Z)(function*(){try{yield Pn(u)}catch(v){if("auth/network-request-failed"!==v?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function $t(){if(typeof navigator>"u")return null;const g=navigator;return g.languages&&g.languages[0]||g.language||null}()}_delete(){var u=this;return(0,f.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,f.Z)(function*(){const v=u?(0,$.m9)(u):null;return v&&O(v.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(v&&v._clone(d))})()}_updateCurrentUser(u,d=!1){var v=this;return(0,f.Z)(function*(){if(!v._deleted)return u&&O(v.tenantId===u.tenantId,v,"tenant-id-mismatch"),d||(yield v.beforeStateQueue.runMiddleware(u)),v.queue((0,f.Z)(function*(){yield v.directlySetCurrentUser(u),v.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,f.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,f.Z)(function*(){yield d.assertedPersistence.setPersistence(Fe(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new $.LL("auth","Firebase",u())}onAuthStateChanged(u,d,v){return this.registerStateListener(this.authStateSubscription,u,d,v)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,v){return this.registerStateListener(this.idTokenSubscription,u,d,v)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var v=this;return(0,f.Z)(function*(){const H=yield v.getOrInitRedirectPersistenceManager(d);return null===u?H.removeCurrentUser():H.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,f.Z)(function*(){if(!d.redirectPersistenceManager){const v=u&&Fe(u)||d._popupRedirectResolver;O(v,d,"argument-error"),d.redirectPersistenceManager=yield je.create(d,[Fe(v._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,f.Z)(function*(){var v,H;return d._isInitialized&&(yield d.queue((0,f.Z)(function*(){}))),(null===(v=d._currentUser)||void 0===v?void 0:v._redirectEventId)===u?d._currentUser:(null===(H=d.redirectUser)||void 0===H?void 0:H._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,f.Z)(function*(){if(u===d.currentUser)return d.queue((0,f.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,v,H){if(this._deleted)return()=>{};const ee="function"==typeof d?d:d.next.bind(d),Re=this._isInitialized?Promise.resolve():this._initializationPromise;return O(Re,this,"internal-error"),Re.then(()=>ee(this.currentUser)),"function"==typeof d?u.addObserver(d,v,H):u.addObserver(d)}directlySetCurrentUser(u){var d=this;return(0,f.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return O(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Kr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,f.Z)(function*(){var d;const v={"X-Client-Version":u.clientVersion};u.app.options.appId&&(v["X-Firebase-gmpid"]=u.app.options.appId);const H=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return H&&(v["X-Firebase-Client"]=H),v})()}}function hr(g){return(0,$.m9)(g)}class ao{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,$.ne)(d=>this.observer=d)}get next(){return O(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ci(g){const u=g.indexOf(":");return u<0?"":g.substr(0,u+1)}function Hn(g){if(!g)return null;const u=Number(g);return isNaN(u)?null:u}class Er{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return Be("not implemented")}_getIdTokenResponse(u){return Be("not implemented")}_linkToIdToken(u,d){return Be("not implemented")}_getReauthenticationResolver(u){return Be("not implemented")}}function sr(g,u){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:resetPassword",Vt(g,u))})).apply(this,arguments)}function fi(g,u){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function hn(g,u){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:update",Vt(g,u))})).apply(this,arguments)}function ai(){return(ai=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithPassword",Vt(g,u))})).apply(this,arguments)}function er(g,u){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:sendOobCode",Vt(g,u))})).apply(this,arguments)}function On(g,u){return ii.apply(this,arguments)}function ii(){return(ii=(0,f.Z)(function*(g,u){return er(g,u)})).apply(this,arguments)}function wi(g,u){return vn.apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(g,u){return er(g,u)})).apply(this,arguments)}function As(g,u){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,f.Z)(function*(g,u){return er(g,u)})).apply(this,arguments)}function $s(g,u){return pi.apply(this,arguments)}function pi(){return(pi=(0,f.Z)(function*(g,u){return er(g,u)})).apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithEmailLink",Vt(g,u))})).apply(this,arguments)}function gi(){return(gi=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithEmailLink",Vt(g,u))})).apply(this,arguments)}class ei extends Er{constructor(u,d,v,H=null){super("password",v),this._email=u,this._password=d,this._tenantId=H}static _fromEmailAndPassword(u,d){return new ei(u,d,"password")}static _fromEmailAndCode(u,d,v=null){return new ei(u,d,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,f.Z)(function*(){switch(d.signInMethod){case"password":return function Zr(g,u){return ai.apply(this,arguments)}(u,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function Yr(g,u){return gs.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:He(u,"internal-error")}})()}_linkToIdToken(u,d){var v=this;return(0,f.Z)(function*(){switch(v.signInMethod){case"password":return fi(u,{idToken:d,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function ms(g,u){return gi.apply(this,arguments)}(u,{idToken:d,email:v._email,oobCode:v._password});default:He(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function li(g,u){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithIdp",Vt(g,u))})).apply(this,arguments)}class mi extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new mi(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):He("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:H}=d,ee=(0,_e._T)(d,["providerId","signInMethod"]);if(!v||!H)return null;const Re=new mi(v,H);return Re.idToken=ee.idToken||void 0,Re.accessToken=ee.accessToken||void 0,Re.secret=ee.secret,Re.nonce=ee.nonce,Re.pendingToken=ee.pendingToken||null,Re}_getIdTokenResponse(u){return li(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,li(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,li(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,$.xO)(d)}return u}}function tr(g,u){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:sendVerificationCode",Vt(g,u))})).apply(this,arguments)}function Or(){return(Or=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Vt(g,u))})).apply(this,arguments)}function Ms(){return(Ms=(0,f.Z)(function*(g,u){const d=yield Cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Vt(g,u));if(d.temporaryProof)throw ln(g,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const zr={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithPhoneNumber",Vt(g,Object.assign(Object.assign({},u),{operation:"REAUTH"})),zr)})).apply(this,arguments)}class Vn extends Er{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new Vn({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new Vn({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function pn(g,u){return Or.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function gn(g,u){return Ms.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function gr(g,u){return ui.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:v,verificationCode:H}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:v,code:H}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:v,phoneNumber:H,temporaryProof:ee}=u;return v||d||H||ee?new Vn({verificationId:d,verificationCode:v,phoneNumber:H,temporaryProof:ee}):null}}class Xi{constructor(u){var d,v,H,ee,Re,rt;const wt=(0,$.zd)((0,$.pd)(u)),Ot=null!==(d=wt.apiKey)&&void 0!==d?d:null,yn=null!==(v=wt.oobCode)&&void 0!==v?v:null,on=function _n(g){switch(g){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(H=wt.mode)&&void 0!==H?H:null);O(Ot&&yn&&on,"argument-error"),this.apiKey=Ot,this.operation=on,this.code=yn,this.continueUrl=null!==(ee=wt.continueUrl)&&void 0!==ee?ee:null,this.languageCode=null!==(Re=wt.languageCode)&&void 0!==Re?Re:null,this.tenantId=null!==(rt=wt.tenantId)&&void 0!==rt?rt:null}static parseLink(u){const d=function dr(g){const u=(0,$.zd)((0,$.pd)(g)).link,d=u?(0,$.zd)((0,$.pd)(u)).deep_link_id:null,v=(0,$.zd)((0,$.pd)(g)).deep_link_id;return(v?(0,$.zd)((0,$.pd)(v)).link:null)||v||d||u||g}(u);try{return new Xi(d)}catch{return null}}}let _i=(()=>{class g{constructor(){this.providerId=g.PROVIDER_ID}static credential(d,v){return ei._fromEmailAndPassword(d,v)}static credentialWithLink(d,v){const H=Xi.parseLink(v);return O(H,"argument-error"),ei._fromEmailAndCode(d,H.code,H.tenantId)}}return g.PROVIDER_ID="password",g.EMAIL_PASSWORD_SIGN_IN_METHOD="password",g.EMAIL_LINK_SIGN_IN_METHOD="emailLink",g})();class Ti{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class _s extends Ti{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class as extends _s{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return O("providerId"in d&&"signInMethod"in d,"argument-error"),mi._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return O(u.idToken||u.accessToken,"argument-error"),mi._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return as.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return as.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:v,oauthTokenSecret:H,pendingToken:ee,nonce:Re,providerId:rt}=u;if(!v&&!H&&!d&&!ee||!rt)return null;try{return new as(rt)._credential({idToken:d,accessToken:v,nonce:Re,pendingToken:ee})}catch{return null}}}let ys=(()=>{class g extends _s{constructor(){super("facebook.com")}static credential(d){return mi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.FACEBOOK_SIGN_IN_METHOD="facebook.com",g.PROVIDER_ID="facebook.com",g})(),Vi=(()=>{class g extends _s{constructor(){super("google.com"),this.addScope("profile")}static credential(d,v){return mi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:v})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:v,oauthAccessToken:H}=d;if(!v&&!H)return null;try{return g.credential(v,H)}catch{return null}}}return g.GOOGLE_SIGN_IN_METHOD="google.com",g.PROVIDER_ID="google.com",g})(),lo=(()=>{class g extends _s{constructor(){super("github.com")}static credential(d){return mi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return g.credential(d.oauthAccessToken)}catch{return null}}}return g.GITHUB_SIGN_IN_METHOD="github.com",g.PROVIDER_ID="github.com",g})();class ji extends Er{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return li(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,li(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,li(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:H,pendingToken:ee}=d;return v&&H&&ee&&v===H?new ji(v,ee):null}static _create(u,d){return new ji(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Ti{constructor(u){O(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return $i.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return $i.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=ji.fromJSON(u);return O(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:v}=u;if(!d||!v)return null;try{return ji._create(v,d)}catch{return null}}}let Bo=(()=>{class g extends _s{constructor(){super("twitter.com")}static credential(d,v){return mi._fromParams({providerId:g.PROVIDER_ID,signInMethod:g.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:v})}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:v,oauthTokenSecret:H}=d;if(!v||!H)return null;try{return g.credential(v,H)}catch{return null}}}return g.TWITTER_SIGN_IN_METHOD="twitter.com",g.PROVIDER_ID="twitter.com",g})();function co(g,u){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signUp",Vt(g,u))})).apply(this,arguments)}class Nr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,v,H=!1){return(0,f.Z)(function*(){const ee=yield ke._fromIdTokenResponse(u,v,H),Re=bn(v);return new Nr({user:ee,providerId:Re,_tokenResponse:v,operationType:d})})()}static _forOperation(u,d,v){return(0,f.Z)(function*(){yield u._updateTokensIfNecessary(v,!0);const H=bn(v);return new Nr({user:u,providerId:H,_tokenResponse:v,operationType:d})})()}}function bn(g){return g.providerId?g.providerId:"phoneNumber"in g?"phone":null}function Ji(){return(Ji=(0,f.Z)(function*(g){var u;const d=hr(g);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Nr({user:d.currentUser,providerId:null,operationType:"signIn"});const v=yield co(d,{returnSecureToken:!0}),H=yield Nr._fromIdTokenResponse(d,"signIn",v,!0);return yield d._updateCurrentUser(H.user),H})).apply(this,arguments)}class es extends $.ZR{constructor(u,d,v,H){var ee;super(d.code,d.message),this.operationType=v,this.user=H,Object.setPrototypeOf(this,es.prototype),this.customData={appName:u.name,tenantId:null!==(ee=u.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:d.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(u,d,v,H){return new es(u,d,v,H)}}function Gr(g,u,d,v){return("reauthenticate"===u?d._getReauthenticationResolver(g):d._getIdTokenResponse(g)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?es._fromErrorAndOperation(g,ee,u,v):ee})}function Wi(g){return new Set(g.map(({providerId:u})=>u).filter(u=>!!u))}function us(){return(us=(0,f.Z)(function*(g,u){const d=(0,$.m9)(g);yield $r(!0,d,u);const{providerUserInfo:v}=yield ar(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),H=Wi(v||[]);return d.providerData=d.providerData.filter(ee=>H.has(ee.providerId)),H.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function jr(g,u){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(g,u,d=!1){const v=yield wn(g,u._linkToIdToken(g.auth,yield g.getIdToken()),d);return Nr._forOperation(g,"link",v)})).apply(this,arguments)}function $r(g,u,d){return cs.apply(this,arguments)}function cs(){return(cs=(0,f.Z)(function*(g,u,d){yield Pn(u);const H=!1===g?"provider-already-linked":"no-such-provider";O(Wi(u.providerData).has(d)===g,u.auth,H)})).apply(this,arguments)}function zs(g,u){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,f.Z)(function*(g,u,d=!1){const{auth:v}=g,H="reauthenticate";try{const ee=yield wn(g,Gr(v,H,u,g),d);O(ee.idToken,v,"internal-error");const Re=Et(ee.idToken);O(Re,v,"internal-error");const{sub:rt}=Re;return O(g.uid===rt,v,"user-mismatch"),Nr._forOperation(g,H,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&He(v,"user-mismatch"),ee}})).apply(this,arguments)}function vs(g,u){return di.apply(this,arguments)}function di(){return(di=(0,f.Z)(function*(g,u,d=!1){const v="signIn",H=yield Gr(g,v,u),ee=yield Nr._fromIdTokenResponse(g,v,H);return d||(yield g._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function lr(g,u){return Es.apply(this,arguments)}function Es(){return(Es=(0,f.Z)(function*(g,u){return vs(hr(g),u)})).apply(this,arguments)}function Kn(g,u){return ds.apply(this,arguments)}function ds(){return(ds=(0,f.Z)(function*(g,u){const d=(0,$.m9)(g);return yield $r(!1,d,u.providerId),jr(d,u)})).apply(this,arguments)}function Ni(g,u){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,f.Z)(function*(g,u){return zs((0,$.m9)(g),u)})).apply(this,arguments)}function or(g,u){return hs.apply(this,arguments)}function hs(){return(hs=(0,f.Z)(function*(g,u){return Cn(g,"POST","/v1/accounts:signInWithCustomToken",Vt(g,u))})).apply(this,arguments)}function mr(){return(mr=(0,f.Z)(function*(g,u){const d=hr(g),v=yield or(d,{token:u,returnSecureToken:!0}),H=yield Nr._fromIdTokenResponse(d,"signIn",v);return yield d._updateCurrentUser(H.user),H})).apply(this,arguments)}class Is{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?ti._fromServerResponse(u,d):He(u,"internal-error")}}class ti extends Is{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new ti(d)}}function qr(g,u,d){var v;O((null===(v=d.url)||void 0===v?void 0:v.length)>0,g,"invalid-continue-uri"),O(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,g,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(O(d.iOS.bundleId.length>0,g,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(O(d.android.packageName.length>0,g,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function cn(){return(cn=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g),H={requestType:"PASSWORD_RESET",email:u};d&&qr(v,H,d),yield wi(v,H)})).apply(this,arguments)}function Qt(){return(Qt=(0,f.Z)(function*(g,u,d){yield sr((0,$.m9)(g),{oobCode:u,newPassword:d})})).apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(g,u){yield hn((0,$.m9)(g),{oobCode:u})})).apply(this,arguments)}function Ns(g,u){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(g,u){const d=(0,$.m9)(g),v=yield sr(d,{oobCode:u}),H=v.requestType;switch(O(H,d,"internal-error"),H){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":O(v.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":O(v.mfaInfo,d,"internal-error");default:O(v.email,d,"internal-error")}let ee=null;return v.mfaInfo&&(ee=Is._fromServerResponse(hr(d),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:ee},operation:H}})).apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(g,u){const{data:d}=yield Ns((0,$.m9)(g),u);return d.email})).apply(this,arguments)}function bs(){return(bs=(0,f.Z)(function*(g,u,d){const v=hr(g),H=yield co(v,{returnSecureToken:!0,email:u,password:d}),ee=yield Nr._fromIdTokenResponse(v,"signIn",H);return yield v._updateCurrentUser(ee.user),ee})).apply(this,arguments)}function vi(){return(vi=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g),H={requestType:"EMAIL_SIGNIN",email:u};O(d.handleCodeInApp,v,"argument-error"),d&&qr(v,H,d),yield As(v,H)})).apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g),H=_i.credentialWithLink(u,d||dt());return O(H._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),lr(v,H)})).apply(this,arguments)}function po(g,u){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:createAuthUri",Vt(g,u))})).apply(this,arguments)}function ks(){return(ks=(0,f.Z)(function*(g,u){const v={identifier:u,continueUri:Nt()?dt():"http://localhost"},{signinMethods:H}=yield po((0,$.m9)(g),v);return H||[]})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(g,u){const d=(0,$.m9)(g),H={requestType:"VERIFY_EMAIL",idToken:yield g.getIdToken()};u&&qr(d.auth,H,u);const{email:ee}=yield On(d.auth,H);ee!==g.email&&(yield g.reload())})).apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g),ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield g.getIdToken(),newEmail:u};d&&qr(v.auth,ee,d);const{email:Re}=yield $s(v.auth,ee);Re!==g.email&&(yield g.reload())})).apply(this,arguments)}function Qr(g,u){return zi.apply(this,arguments)}function zi(){return(zi=(0,f.Z)(function*(g,u){return en(g,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(g,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const v=(0,$.m9)(g),ee={idToken:yield v.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},Re=yield wn(v,Qr(v.auth,ee));v.displayName=Re.displayName||null,v.photoURL=Re.photoUrl||null;const rt=v.providerData.find(({providerId:wt})=>"password"===wt);rt&&(rt.displayName=v.displayName,rt.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Re)})).apply(this,arguments)}function _o(g,u,d){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,f.Z)(function*(g,u,d){const{auth:v}=g,ee={idToken:yield g.getIdToken(),returnSecureToken:!0};u&&(ee.email=u),d&&(ee.password=d);const Re=yield wn(g,fi(v,ee));yield g._updateTokensIfNecessary(Re,!0)})).apply(this,arguments)}class _{constructor(u,d,v={}){this.isNewUser=u,this.providerId=d,this.profile=v}}class E extends _{constructor(u,d,v,H){super(u,d,v),this.username=H}}class R extends _{constructor(u,d){super(u,"facebook.com",d)}}class G extends E{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class ie extends _{constructor(u,d){super(u,"google.com",d)}}class ve extends E{constructor(u,d,v){super(u,"twitter.com",d,v)}}function Ce(g){const{user:u,_tokenResponse:d}=g;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function z(g){var u,d;if(!g)return null;const{providerId:v}=g,H=g.rawUserInfo?JSON.parse(g.rawUserInfo):{},ee=g.isNewUser||"identitytoolkit#SignupNewUserResponse"===g.kind;if(!v&&g?.idToken){const Re=null===(d=null===(u=Et(g.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(Re)return new _(ee,"anonymous"!==Re&&"custom"!==Re?Re:null)}if(!v)return null;switch(v){case"facebook.com":return new R(ee,H);case"github.com":return new G(ee,H);case"google.com":return new ie(ee,H);case"twitter.com":return new ve(ee,H,g.screenName||null);case"custom":case"anonymous":return new _(ee,null);default:return new _(ee,v,H)}}(d)}class Ln{constructor(u,d,v){this.type=u,this.credential=d,this.auth=v}static _fromIdtoken(u,d){return new Ln("enroll",u,d)}static _fromMfaPendingCredential(u){return new Ln("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,v;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ln._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(v=u.multiFactorSession)&&void 0!==v&&v.idToken)return Ln._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Fr{constructor(u,d,v){this.session=u,this.hints=d,this.signInResolver=v}static _fromError(u,d){const v=hr(u),H=d.customData._serverResponse,ee=(H.mfaInfo||[]).map(rt=>Is._fromServerResponse(v,rt));O(H.mfaPendingCredential,v,"internal-error");const Re=Ln._fromMfaPendingCredential(H.mfaPendingCredential);return new Fr(Re,ee,function(){var rt=(0,f.Z)(function*(wt){const Ot=yield wt._process(v,Re);delete H.mfaInfo,delete H.mfaPendingCredential;const yn=Object.assign(Object.assign({},H),{idToken:Ot.idToken,refreshToken:Ot.refreshToken});switch(d.operationType){case"signIn":const on=yield Nr._fromIdTokenResponse(v,d.operationType,yn);return yield v._updateCurrentUser(on.user),on;case"reauthenticate":return O(d.user,v,"internal-error"),Nr._forOperation(d.user,d.operationType,yn);default:He(v,"internal-error")}});return function(wt){return rt.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,f.Z)(function*(){return d.signInResolver(u)})()}}function Ur(g,u){return en(g,"POST","/v2/accounts/mfaEnrollment:start",Vt(g,u))}class Tr{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(v=>Is._fromServerResponse(u.auth,v)))})}static _fromUser(u){return new Tr(u)}getSession(){var u=this;return(0,f.Z)(function*(){return Ln._fromIdtoken(yield u.user.getIdToken(),u.user.auth)})()}enroll(u,d){var v=this;return(0,f.Z)(function*(){const H=u,ee=yield v.getSession(),Re=yield wn(v.user,H._process(v.user.auth,ee,d));return yield v.user._updateTokensIfNecessary(Re),v.user.reload()})()}unenroll(u){var d=this;return(0,f.Z)(function*(){const v="string"==typeof u?u:u.uid,H=yield d.user.getIdToken(),ee=yield wn(d.user,function Zi(g,u){return en(g,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(g,u))}(d.user.auth,{idToken:H,mfaEnrollmentId:v}));d.enrolledFactors=d.enrolledFactors.filter(({uid:Re})=>Re!==v),yield d.user._updateTokensIfNecessary(ee);try{yield d.user.reload()}catch(Re){if("auth/user-token-expired"!==Re?.code)throw Re}})()}}const C=new WeakMap,S="__sak";class Z{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(S,"1"),this.storage.removeItem(S),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const pt=(()=>{class g extends Z{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,v)=>this.onStorageEvent(d,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function he(){const g=(0,$.z$)();return Gt(g)||ne(g)}()&&function ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=qn(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const v of Object.keys(this.listeners)){const H=this.storage.getItem(v),ee=this.localCache[v];H!==ee&&d(v,ee,H)}}onStorageEvent(d,v=!1){if(!d.key)return void this.forAllChangedKeys((rt,wt,Ot)=>{this.notifyListeners(rt,Ot)});const H=d.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(H);if(d.newValue!==rt)null!==d.newValue?this.storage.setItem(H,d.newValue):this.storage.removeItem(H);else if(this.localCache[H]===d.newValue&&!v)return}const ee=()=>{const rt=this.storage.getItem(H);!v&&this.localCache[H]===rt||this.notifyListeners(H,rt)},Re=this.storage.getItem(H);!function kt(){return(0,$.w1)()&&10===document.documentMode}()||Re===d.newValue||d.newValue===d.oldValue?ee():setTimeout(ee,10)}notifyListeners(d,v){this.localCache[d]=v;const H=this.listeners[d];if(H)for(const ee of Array.from(H))ee(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,v,H)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:v,newValue:H}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,v){var H=()=>super._set,ee=this;return(0,f.Z)(function*(){yield H().call(ee,d,v),ee.localCache[d]=JSON.stringify(v)})()}_get(d){var v=()=>super._get,H=this;return(0,f.Z)(function*(){const ee=yield v().call(H,d);return H.localCache[d]=JSON.stringify(ee),ee})()}_remove(d){var v=()=>super._remove,H=this;return(0,f.Z)(function*(){yield v().call(H,d),delete H.localCache[d]})()}}return g.type="LOCAL",g})(),bt=(()=>{class g extends Z{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,v){}_removeListener(d,v){}}return g.type="SESSION",g})();let Rn=(()=>{class g{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const v=this.receivers.find(ee=>ee.isListeningto(d));if(v)return v;const H=new g(d);return this.receivers.push(H),H}isListeningto(d){return this.eventTarget===d}handleEvent(d){var v=this;return(0,f.Z)(function*(){const H=d,{eventId:ee,eventType:Re,data:rt}=H.data,wt=v.handlersMap[Re];if(!wt?.size)return;H.ports[0].postMessage({status:"ack",eventId:ee,eventType:Re});const Ot=Array.from(wt).map(function(){var on=(0,f.Z)(function*(Ri){return Ri(H.origin,rt)});return function(Ri){return on.apply(this,arguments)}}()),yn=yield function St(g){return Promise.all(g.map(function(){var u=(0,f.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(v){return{fulfilled:!1,reason:v}}});return function(d){return u.apply(this,arguments)}}()))}(Ot);H.ports[0].postMessage({status:"done",eventId:ee,eventType:Re,response:yn})})()}_subscribe(d,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(v)}_unsubscribe(d,v){this.handlersMap[d]&&v&&this.handlersMap[d].delete(v),(!v||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return g.receivers=[],g})();function mn(g="",u=10){let d="";for(let v=0;v<u;v++)d+=Math.floor(10*Math.random());return g+d}class Fn{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,v=50){var H=this;return(0,f.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let Re,rt;return new Promise((wt,Ot)=>{const yn=mn("",20);ee.port1.start();const on=setTimeout(()=>{Ot(new Error("unsupported_event"))},v);rt={messageChannel:ee,onMessage(Ri){const ko=Ri;if(ko.data.eventId===yn)switch(ko.data.status){case"ack":clearTimeout(on),Re=setTimeout(()=>{Ot(new Error("timeout"))},3e3);break;case"done":clearTimeout(Re),wt(ko.data.response);break;default:clearTimeout(on),clearTimeout(Re),Ot(new Error("invalid_response"))}}},H.handlers.add(rt),ee.port1.addEventListener("message",rt.onMessage),H.target.postMessage({eventType:u,eventId:yn,data:d},[ee.port2])}).finally(()=>{rt&&H.removeMessageHandler(rt)})})()}}function An(){return window}function Ii(){return typeof An().WorkerGlobalScope<"u"&&"function"==typeof An().importScripts}function _r(){return(_r=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ys="firebaseLocalStorageDb",Qs="firebaseLocalStorage",Xo="fbase_key";class Vo{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function yo(g,u){return g.transaction([Qs],u?"readwrite":"readonly").objectStore(Qs)}function wa(){const g=indexedDB.open(Ys,1);return new Promise((u,d)=>{g.addEventListener("error",()=>{d(g.error)}),g.addEventListener("upgradeneeded",()=>{const v=g.result;try{v.createObjectStore(Qs,{keyPath:Xo})}catch(H){d(H)}}),g.addEventListener("success",(0,f.Z)(function*(){const v=g.result;v.objectStoreNames.contains(Qs)?u(v):(v.close(),yield function ua(){const g=indexedDB.deleteDatabase(Ys);return new Vo(g).toPromise()}(),u(yield wa()))}))})}function Yi(g,u,d){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(g,u,d){const v=yo(g,!0).put({[Xo]:u,value:d});return new Vo(v).toPromise()})).apply(this,arguments)}function Eo(){return(Eo=(0,f.Z)(function*(g,u){const d=yo(g,!1).get(u),v=yield new Vo(d).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Ao(g,u){const d=yo(g,!0).delete(u);return new Vo(d).toPromise()}const Io=(()=>{class g{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,f.Z)(function*(){return d.db||(d.db=yield wa()),d.db})()}_withRetries(d){var v=this;return(0,f.Z)(function*(){let H=0;for(;;)try{const ee=yield v._openDb();return yield d(ee)}catch(ee){if(H++>3)throw ee;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,f.Z)(function*(){return Ii()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,f.Z)(function*(){d.receiver=Rn._getInstance(function Jr(){return Ii()?self:null}()),d.receiver._subscribe("keyChanged",function(){var v=(0,f.Z)(function*(H,ee){return{keyProcessed:(yield d._poll()).includes(ee.key)}});return function(H,ee){return v.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var v=(0,f.Z)(function*(H,ee){return["keyChanged"]});return function(H,ee){return v.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,f.Z)(function*(){var v,H;if(d.activeServiceWorker=yield function Xr(){return _r.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new Fn(d.activeServiceWorker);const ee=yield d.sender._send("ping",{},800);ee&&null!==(v=ee[0])&&void 0!==v&&v.fulfilled&&null!==(H=ee[0])&&void 0!==H&&H.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var v=this;return(0,f.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Li(){var g;return(null===(g=navigator?.serviceWorker)||void 0===g?void 0:g.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:d},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const d=yield wa();return yield Yi(d,S,"1"),yield Ao(d,S),!0}catch{}return!1})()}_withPendingWrite(d){var v=this;return(0,f.Z)(function*(){v.pendingWrites++;try{yield d()}finally{v.pendingWrites--}})()}_set(d,v){var H=this;return(0,f.Z)(function*(){return H._withPendingWrite((0,f.Z)(function*(){return yield H._withRetries(ee=>Yi(ee,d,v)),H.localCache[d]=v,H.notifyServiceWorker(d)}))})()}_get(d){var v=this;return(0,f.Z)(function*(){const H=yield v._withRetries(ee=>function vo(g,u){return Eo.apply(this,arguments)}(ee,d));return v.localCache[d]=H,H})()}_remove(d){var v=this;return(0,f.Z)(function*(){return v._withPendingWrite((0,f.Z)(function*(){return yield v._withRetries(H=>Ao(H,d)),delete v.localCache[d],v.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,f.Z)(function*(){const v=yield d._withRetries(Re=>{const rt=yo(Re,!1).getAll();return new Vo(rt).toPromise()});if(!v)return[];if(0!==d.pendingWrites)return[];const H=[],ee=new Set;for(const{fbase_key:Re,value:rt}of v)ee.add(Re),JSON.stringify(d.localCache[Re])!==JSON.stringify(rt)&&(d.notifyListeners(Re,rt),H.push(Re));for(const Re of Object.keys(d.localCache))d.localCache[Re]&&!ee.has(Re)&&(d.notifyListeners(Re,null),H.push(Re));return H})()}notifyListeners(d,v){this.localCache[d]=v;const H=this.listeners[d];if(H)for(const ee of Array.from(H))ee(v)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return g.type="LOCAL",g})();function ca(g,u){return en(g,"POST","/v2/accounts/mfaSignIn:start",Vt(g,u))}function ta(){return(ta=(0,f.Z)(function*(g){return(yield en(g,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ns(g){return new Promise((u,d)=>{const v=document.createElement("script");v.setAttribute("src",g),v.onload=u,v.onerror=H=>{const ee=de("internal-error");ee.customData=H,d(ee)},v.type="text/javascript",v.charset="UTF-8",function na(){var g,u;return null!==(u=null===(g=document.getElementsByTagName("head"))||void 0===g?void 0:g[0])&&void 0!==u?u:document}().appendChild(v)})}function da(g){return`__${g}${Math.floor(1e6*Math.random())}`}const Fi=1e12;class Do{constructor(u){this.auth=u,this.counter=Fi,this._widgets=new Map}render(u,d){const v=this.counter;return this._widgets.set(v,new ra(u,this.auth.name,d||{})),this.counter++,v}reset(u){var d;const v=u||Fi;null===(d=this._widgets.get(v))||void 0===d||d.delete(),this._widgets.delete(v)}getResponse(u){var d;return(null===(d=this._widgets.get(u||Fi))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,f.Z)(function*(){var v;return null===(v=d._widgets.get(u||Fi))||void 0===v||v.execute(),""})()}}class ra{constructor(u,d,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const H="string"==typeof u?document.getElementById(u):u;O(H,"argument-error",{appName:d}),this.container=H,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Sa(g){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<g;v++)u.push(d.charAt(Math.floor(Math.random()*d.length)));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ya=da("rcb"),Aa=new zt(3e4,6e4);class Xs{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=An().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return O(function Mo(g){return g.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(g)}(d),u,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(An().grecaptcha):new Promise((v,H)=>{const ee=An().setTimeout(()=>{H(de(u,"network-request-failed"))},Aa.get());An()[Ya]=()=>{An().clearTimeout(ee),delete An()[Ya];const rt=An().grecaptcha;if(!rt)return void H(de(u,"internal-error"));const wt=rt.render;rt.render=(Ot,yn)=>{const on=wt(Ot,yn);return this.counter++,on},this.hostLanguage=d,v(rt)},ns(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Ya,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(ee),H(de(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=An().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ia{load(u){return(0,f.Z)(function*(){return new Do(u)})()}clearedOneInstance(){}}const qa="recaptcha",Qa={theme:"light",type:"image"};class $o{constructor(u,d=Object.assign({},Qa),v){this.parameters=d,this.type=qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hr(v),this.isInvisible="invisible"===this.parameters.size,O(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const H="string"==typeof u?document.getElementById(u):u;O(H,this.auth,"argument-error"),this.container=H,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ia:new Xs,this.validateStartingState()}verify(){var u=this;return(0,f.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),v=u.getAssertedRecaptcha();return v.getResponse(d)||new Promise(ee=>{const Re=rt=>{rt&&(u.tokenChangeListeners.delete(Re),ee(rt))};u.tokenChangeListeners.add(Re),u.isInvisible&&v.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){O(!this.parameters.sitekey,this.auth,"argument-error"),O(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),O(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(v=>v(d)),"function"==typeof u)u(d);else if("string"==typeof u){const v=An()[u];"function"==typeof v&&v(d)}}}assertNotDestroyed(){O(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,f.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const v=document.createElement("div");d.appendChild(v),d=v}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,f.Z)(function*(){O(Nt()&&!Ii(),u.auth,"internal-error"),yield function gl(){let g=null;return new Promise(u=>{"complete"!==document.readyState?(g=()=>u(),window.addEventListener("load",g)):u()}).catch(u=>{throw g&&window.removeEventListener("load",g),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function Fs(g){return ta.apply(this,arguments)}(u.auth);O(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return O(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ml{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=Vn._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Co(){return(Co=(0,f.Z)(function*(g,u,d){const v=hr(g),H=yield Pa(v,u,(0,$.m9)(d));return new ml(H,ee=>lr(v,ee))})).apply(this,arguments)}function fa(){return(fa=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g);yield $r(!1,v,"phone");const H=yield Pa(v.auth,u,(0,$.m9)(d));return new ml(H,ee=>Kn(v,ee))})).apply(this,arguments)}function Ra(){return(Ra=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g),H=yield Pa(v.auth,u,(0,$.m9)(d));return new ml(H,ee=>Ni(v,ee))})).apply(this,arguments)}function Pa(g,u,d){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,f.Z)(function*(g,u,d){var v;const H=yield d.verify();try{let ee;if(O("string"==typeof H,g,"argument-error"),O(d.type===qa,g,"argument-error"),ee="string"==typeof u?{phoneNumber:u}:u,"session"in ee){const Re=ee.session;if("phoneNumber"in ee)return O("enroll"===Re.type,g,"internal-error"),(yield Ur(g,{idToken:Re.credential,phoneEnrollmentInfo:{phoneNumber:ee.phoneNumber,recaptchaToken:H}})).phoneSessionInfo.sessionInfo;{O("signin"===Re.type,g,"internal-error");const rt=(null===(v=ee.multiFactorHint)||void 0===v?void 0:v.uid)||ee.multiFactorUid;return O(rt,g,"missing-multi-factor-info"),(yield ca(g,{mfaPendingCredential:Re.credential,mfaEnrollmentId:rt,phoneSignInInfo:{recaptchaToken:H}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Re}=yield tr(g,{phoneNumber:ee.phoneNumber,recaptchaToken:H});return Re}}finally{d._reset()}})).apply(this,arguments)}function ga(){return(ga=(0,f.Z)(function*(g,u){yield jr((0,$.m9)(g),u)})).apply(this,arguments)}let sa=(()=>{class g{constructor(d){this.providerId=g.PROVIDER_ID,this.auth=hr(d)}verifyPhoneNumber(d,v){return Pa(this.auth,d,(0,$.m9)(v))}static credential(d,v){return Vn._fromVerification(d,v)}static credentialFromResult(d){return g.credentialFromTaggedObject(d)}static credentialFromError(d){return g.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:v,temporaryProof:H}=d;return v&&H?Vn._fromTokenResponse(v,H):null}}return g.PROVIDER_ID="phone",g.PHONE_SIGN_IN_METHOD="phone",g})();function kr(g,u){return u?Fe(u):(O(g._popupRedirectResolver,g,"argument-error"),g._popupRedirectResolver)}class Wo extends Er{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return li(u,this._buildIdpRequest())}_linkToIdToken(u,d){return li(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return li(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function zo(g){return vs(g.auth,new Wo(g),g.bypassAuthState)}function Js(g){const{auth:u,user:d}=g;return O(d,u,"internal-error"),zs(d,new Wo(g),g.bypassAuthState)}function y(g){return I.apply(this,arguments)}function I(){return(I=(0,f.Z)(function*(g){const{auth:u,user:d}=g;return O(d,u,"internal-error"),jr(d,new Wo(g),g.bypassAuthState)})).apply(this,arguments)}class p{constructor(u,d,v,H,ee=!1){this.auth=u,this.resolver=v,this.user=H,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,f.Z)(function*(v,H){u.pendingPromise={resolve:v,reject:H};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(ee){u.reject(ee)}});return function(v,H){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,f.Z)(function*(){const{urlResponse:v,sessionId:H,postBody:ee,tenantId:Re,error:rt,type:wt}=u;if(rt)return void d.reject(rt);const Ot={auth:d.auth,requestUri:v,sessionId:H,tenantId:Re||void 0,postBody:ee||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(wt)(Ot))}catch(yn){d.reject(yn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return zo;case"linkViaPopup":case"linkViaRedirect":return y;case"reauthViaPopup":case"reauthViaRedirect":return Js;default:He(this.auth,"internal-error")}}resolve(u){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const w=new zt(2e3,1e4);function q(){return(q=(0,f.Z)(function*(g,u,d){const v=hr(g);et(g,u,Ti);const H=kr(v,d);return new Lt(v,"signInViaPopup",u,H).executeNotNull()})).apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g);et(v.auth,u,Ti);const H=kr(v.auth,d);return new Lt(v.auth,"reauthViaPopup",u,H,v).executeNotNull()})).apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g);et(v.auth,u,Ti);const H=kr(v.auth,d);return new Lt(v.auth,"linkViaPopup",u,H,v).executeNotNull()})).apply(this,arguments)}let Lt=(()=>{class g extends p{constructor(d,v,H,ee,Re){super(d,v,ee,Re),this.provider=H,this.authWindow=null,this.pollId=null,g.currentPopupAction&&g.currentPopupAction.cancel(),g.currentPopupAction=this}executeNotNull(){var d=this;return(0,f.Z)(function*(){const v=yield d.execute();return O(v,d.auth,"internal-error"),v})()}onExecution(){var d=this;return(0,f.Z)(function*(){be(1===d.filter.length,"Popup operations only handle one event");const v=mn();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],v),d.authWindow.associatedEvent=v,d.resolver._originValidation(d.auth).catch(H=>{d.reject(H)}),d.resolver._isIframeWebStorageSupported(d.auth,H=>{H||d.reject(de(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(de(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,g.currentPopupAction=null}pollUserCancellation(){const d=()=>{var v,H;this.pollId=null!==(H=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==H&&H.closed?window.setTimeout(()=>{this.pollId=null,this.reject(de(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,w.get())};d()}}return g.currentPopupAction=null,g})();const Mr=new Map;class eo extends p{constructor(u,d,v=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,v),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,f.Z)(function*(){let v=Mr.get(d.auth._key());if(!v){try{const ee=(yield function to(g,u){return Ui.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;v=()=>Promise.resolve(ee)}catch(H){v=()=>Promise.reject(H)}Mr.set(d.auth._key(),v)}return d.bypassAuthState||Mr.set(d.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,v=this;return(0,f.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(v,u);if("unknown"!==u.type){if(u.eventId){const H=yield v.auth._redirectUserForId(u.eventId);if(H)return v.user=H,d().call(v,u);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Ui(){return(Ui=(0,f.Z)(function*(g,u){const d=Oa(u),v=Go(g);if(!(yield v._isAvailable()))return!1;const H="true"===(yield v._get(d));return yield v._remove(d),H})).apply(this,arguments)}function Mi(g,u){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(g,u){return Go(g)._set(Oa(u),"true")})).apply(this,arguments)}function ma(g,u){Mr.set(g._key(),u)}function Go(g){return Fe(g._redirectPersistence)}function Oa(g){return Ie("pendingRedirect",g.config.apiKey,g.name)}function A(){return(A=(0,f.Z)(function*(g,u,d){const v=hr(g);et(g,u,Ti),yield v._initializationPromise;const H=kr(v,d);return yield Mi(H,v),H._openRedirect(v,u,"signInViaRedirect")})).apply(this,arguments)}function pe(){return(pe=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g);et(v.auth,u,Ti),yield v.auth._initializationPromise;const H=kr(v.auth,d);yield Mi(H,v.auth);const ee=yield Tn(v);return H._openRedirect(v.auth,u,"reauthViaRedirect",ee)})).apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(g,u,d){const v=(0,$.m9)(g);et(v.auth,u,Ti),yield v.auth._initializationPromise;const H=kr(v.auth,d);yield $r(!1,v,u.providerId),yield Mi(H,v.auth);const ee=yield Tn(v);return H._openRedirect(v.auth,u,"linkViaRedirect",ee)})).apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(g,u){return yield hr(g)._initializationPromise,Xt(g,u,!1)})).apply(this,arguments)}function Xt(g,u){return Un.apply(this,arguments)}function Un(){return(Un=(0,f.Z)(function*(g,u,d=!1){const v=hr(g),H=kr(v,u),Re=yield new eo(v,H,d).execute();return Re&&!d&&(delete Re.user._redirectEventId,yield v._persistUserIfCurrent(Re.user),yield v._setRedirectUser(null,u)),Re})).apply(this,arguments)}function Tn(g){return rs.apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(g){const u=mn(`${g.uid}:::`);return g._redirectEventId=u,yield g.auth._setRedirectUser(g),yield g.auth._persistUserIfCurrent(g),u})).apply(this,arguments)}class xa{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(u,v)&&(d=!0,this.sendToConsumer(u,v),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function ro(g){switch(g.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _a(g);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var v;if(u.error&&!_a(u)){const H=(null===(v=u.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";d.onError(de(this.auth,H))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const v=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&v}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(el(u))}saveEventToCache(u){this.cachedEventUids.add(el(u)),this.lastProcessedEventTime=Date.now()}}function el(g){return[g.type,g.eventId,g.sessionId,g.tenantId].filter(u=>u).join("-")}function _a({type:g,error:u}){return"unknown"===g&&"auth/no-auth-event"===u?.code}function wo(g){return Po.apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(g,u={}){return en(g,"GET","/v1/projects",u)})).apply(this,arguments)}const jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bu=/^https?/;function ya(){return(ya=(0,f.Z)(function*(g){if(g.config.emulator)return;const{authorizedDomains:u}=yield wo(g);for(const d of u)try{if($l(d))return}catch{}He(g,"unauthorized-domain")})).apply(this,arguments)}function $l(g){const u=dt(),{protocol:d,hostname:v}=new URL(u);if(g.startsWith("chrome-extension://")){const Re=new URL(g);return""===Re.hostname&&""===v?"chrome-extension:"===d&&g.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&Re.hostname===v}if(!bu.test(d))return!1;if(jl.test(g))return v===g;const H=g.replace(/\./g,"\\.");return new RegExp("^(.+\\."+H+"|"+H+")$","i").test(v)}const rd=new zt(3e4,6e4);function cc(){const g=An().___jsl;if(g?.H)for(const u of Object.keys(g.H))if(g.H[u].r=g.H[u].r||[],g.H[u].L=g.H[u].L||[],g.H[u].r=[...g.H[u].L],g.CP)for(let d=0;d<g.CP.length;d++)g.CP[d]=null}let ka=null;function lh(g){return ka=ka||function Wl(g){return new Promise((u,d)=>{var v,H,ee;function Re(){cc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{cc(),d(de(g,"network-request-failed"))},timeout:rd.get()})}if(null!==(H=null===(v=An().gapi)||void 0===v?void 0:v.iframes)&&void 0!==H&&H.Iframe)u(gapi.iframes.getContext());else{if(null===(ee=An().gapi)||void 0===ee||!ee.load){const rt=da("iframefcb");return An()[rt]=()=>{gapi.load?Re():d(de(g,"network-request-failed"))},ns(`https://apis.google.com/js/api.js?onload=${rt}`).catch(wt=>d(wt))}Re()}}).catch(u=>{throw ka=null,u})}(g),ka}const zl=new zt(5e3,15e3),ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(g){const u=g.config;O(u.authDomain,g,"auth-domain-config-required");const d=u.emulator?xt(u,"emulator/auth/iframe"):`https://${g.config.authDomain}/__/auth/iframe`,v={apiKey:u.apiKey,appName:g.name,v:fe.SDK_VERSION},H=dh.get(g.config.apiHost);H&&(v.eid=H);const ee=g._getFrameworks();return ee.length&&(v.fw=ee.join(",")),`${d}?${(0,$.xO)(v).slice(1)}`}function Gl(){return Gl=(0,f.Z)(function*(g){const u=yield lh(g),d=An().gapi;return O(d,g,"internal-error"),u.open({where:document.body,url:dc(g),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ch,dontclear:!0},v=>new Promise(function(){var H=(0,f.Z)(function*(ee,Re){yield v.restyle({setHideOnLeave:!1});const rt=de(g,"network-request-failed"),wt=An().setTimeout(()=>{Re(rt)},zl.get());function Ot(){An().clearTimeout(wt),ee(v)}v.ping(Ot).then(Ot,()=>{Re(rt)})});return function(ee,Re){return H.apply(this,arguments)}}()))}),Gl.apply(this,arguments)}const hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class To{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fs(g,u,d,v,H,ee){O(g.config.authDomain,g,"auth-domain-config-required"),O(g.config.apiKey,g,"invalid-api-key");const Re={apiKey:g.config.apiKey,appName:g.name,authType:d,redirectUrl:v,v:fe.SDK_VERSION,eventId:H};if(u instanceof Ti){u.setDefaultLanguage(g.languageCode),Re.providerId=u.providerId||"",(0,$.xb)(u.getCustomParameters())||(Re.customParameters=JSON.stringify(u.getCustomParameters()));for(const[wt,Ot]of Object.entries(ee||{}))Re[wt]=Ot}if(u instanceof _s){const wt=u.getScopes().filter(Ot=>""!==Ot);wt.length>0&&(Re.scopes=wt.join(","))}g.tenantId&&(Re.tid=g.tenantId);const rt=Re;for(const wt of Object.keys(rt))void 0===rt[wt]&&delete rt[wt];return`${function gc({config:g}){return g.emulator?xt(g,"emulator/auth/handler"):`https://${g.authDomain}/__/auth/handler`}(g)}?${(0,$.xO)(rt).slice(1)}`}const wu="webStorageSupport",Zl=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bt,this._completeRedirectFn=Xt,this._overrideRedirectResult=ma}_openPopup(u,d,v,H){var ee=this;return(0,f.Z)(function*(){var Re;be(null===(Re=ee.eventManagers[u._key()])||void 0===Re?void 0:Re.manager,"_initialize() not called before _openPopup()");const rt=fs(u,d,v,dt(),H);return function Cu(g,u,d,v=500,H=600){const ee=Math.max((window.screen.availHeight-H)/2,0).toString(),Re=Math.max((window.screen.availWidth-v)/2,0).toString();let rt="";const wt=Object.assign(Object.assign({},hc),{width:v.toString(),height:H.toString(),top:ee,left:Re}),Ot=(0,$.z$)().toLowerCase();d&&(rt=qt(Ot)?"_blank":d),mt(Ot)&&(u=u||"http://localhost",wt.scrollbars="yes");const yn=Object.entries(wt).reduce((Ri,[ko,xl])=>`${Ri}${ko}=${xl},`,"");if(function st(g=(0,$.z$)()){var u;return ne(g)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Ot)&&"_self"!==rt)return function vl(g,u){const d=document.createElement("a");d.href=g,d.target=u;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(v)}(u||"",rt),new To(null);const on=window.open(u||"",rt,yn);O(on,g,"popup-blocked");try{on.focus()}catch{}return new To(on)}(u,rt,mn())})()}_openRedirect(u,d,v,H){var ee=this;return(0,f.Z)(function*(){return yield ee._originValidation(u),function jn(g){An().location.href=g}(fs(u,d,v,dt(),H)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:H,promise:ee}=this.eventManagers[d];return H?Promise.resolve(H):(be(ee,"If manager is not set, promise should be"),ee)}const v=this.initAndGetManager(u);return this.eventManagers[d]={promise:v},v.catch(()=>{delete this.eventManagers[d]}),v}initAndGetManager(u){var d=this;return(0,f.Z)(function*(){const v=yield function Du(g){return Gl.apply(this,arguments)}(u),H=new xa(u);return v.register("authEvent",ee=>(O(ee?.authEvent,u,"invalid-auth-event"),{status:H.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:H},d.iframes[u._key()]=v,H})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(wu,{type:wu},H=>{var ee;const Re=null===(ee=H?.[0])||void 0===ee?void 0:ee[wu];void 0!==Re&&d(!!Re),He(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function _l(g){return ya.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return qn()||Gt()||ne()}};class io{constructor(u){this.factorId=u}_process(u,d,v){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,v);case"signin":return this._finalizeSignIn(u,d.credential);default:return Be("unexpected MultiFactorSessionType")}}}class Yl extends io{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Yl(u)}_finalizeEnroll(u,d,v){return function Ki(g,u){return en(g,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(g,u))}(u,{idToken:d,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Ta(g,u){return en(g,"POST","/v2/accounts/mfaSignIn:finalize",Vt(g,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Bs=(()=>{class g{constructor(){}static assertion(d){return Yl._fromCredential(d)}}return g.FACTOR_ID="phone",g})();var Il="@firebase/auth";class Su{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,f.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(v=>{u(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){O(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function No(){return window}function Ru(){return(Ru=(0,f.Z)(function*(g,u,d){var v;const{BuildInfo:H}=No();be(u.sessionId,"AuthEvent did not contain a session ID");const ee=yield Pu(u.sessionId),Re={};return ne()?Re.ibi=H.packageName:V()?Re.apn=H.packageName:He(g,"operation-not-supported-in-this-environment"),H.displayName&&(Re.appDisplayName=H.displayName),Re.sessionId=ee,fs(g,d,u.type,void 0,null!==(v=u.eventId)&&void 0!==v?v:void 0,Re)})).apply(this,arguments)}function bl(){return(bl=(0,f.Z)(function*(g){const{BuildInfo:u}=No(),d={};ne()?d.iosBundleId=u.packageName:V()?d.androidPackageName=u.packageName:He(g,"operation-not-supported-in-this-environment"),yield wo(g,d)})).apply(this,arguments)}function Fa(){return(Fa=(0,f.Z)(function*(g,u,d){const{cordova:v}=No();let H=()=>{};try{yield new Promise((ee,Re)=>{let rt=null;function wt(){var on;ee();const Ri=null===(on=v.plugins.browsertab)||void 0===on?void 0:on.close;"function"==typeof Ri&&Ri(),"function"==typeof d?.close&&d.close()}function Ot(){rt||(rt=window.setTimeout(()=>{Re(de(g,"redirect-cancelled-by-user"))},2e3))}function yn(){"visible"===document?.visibilityState&&Ot()}u.addPassiveListener(wt),document.addEventListener("resume",Ot,!1),V()&&document.addEventListener("visibilitychange",yn,!1),H=()=>{u.removePassiveListener(wt),document.removeEventListener("resume",Ot,!1),document.removeEventListener("visibilitychange",yn,!1),rt&&window.clearTimeout(rt)}})}finally{H()}})).apply(this,arguments)}function Pu(g){return il.apply(this,arguments)}function il(){return(il=(0,f.Z)(function*(g){const u=Ou(g),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(H=>H.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ou(g){if(be(/[0-9a-zA-Z]+/.test(g),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(g);const u=new ArrayBuffer(g.length),d=new Uint8Array(u);for(let v=0;v<g.length;v++)d[v]=g.charCodeAt(v);return d}(0,$.Pz)("authIdTokenMaxAge"),function nl(g){(0,fe._registerComponent)(new Se.wA("auth",(u,{options:d})=>{const v=u.getProvider("app").getImmediate(),H=u.getProvider("heartbeat"),{apiKey:ee,authDomain:Re}=v.options;return((rt,wt)=>{O(ee&&!ee.includes(":"),"invalid-api-key",{appName:rt.name}),O(!Re?.includes(":"),"argument-error",{appName:rt.name});const Ot={apiKey:ee,authDomain:Re,clientPlatform:g,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kr(g)},yn=new os(rt,wt,Ot);return function ft(g,u){const d=u?.persistence||[],v=(Array.isArray(d)?d:[d]).map(Fe);u?.errorMap&&g._updateErrorMap(u.errorMap),g._initializeWithPersistence(v,u?.popupRedirectResolver)}(yn,d),yn})(v,H)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,v)=>{u.getProvider("auth-internal").initialize()})),(0,fe._registerComponent)(new Se.wA("auth-internal",u=>{const d=hr(u.getProvider("auth").getImmediate());return new Su(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,fe.registerVersion)(Il,"0.21.1",function ps(g){switch(g){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(g)),(0,fe.registerVersion)(Il,"0.21.1","esm2017")}("Browser");class so extends xa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,f.Z)(function*(){yield u.initPromise})()}}function Dl(g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,f.Z)(function*(g){const u=yield Jl()._get(eu(g));return u&&(yield Jl()._remove(eu(g))),u})).apply(this,arguments)}function ld(){const g=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const v=Math.floor(Math.random()*u.length);g.push(u.charAt(v))}return g.join("")}function Jl(){return Fe(pt)}function eu(g){return Ie("authEvent",g.config.apiKey,g.name)}function Ba(g){if(!g?.includes("?"))return{};const[u,...d]=g.split("?");return(0,$.zd)(d.join("?"))}const xu=class vc{constructor(){this._redirectPersistence=bt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Xt,this._overrideRedirectResult=ma}_initialize(u){var d=this;return(0,f.Z)(function*(){const v=u._key();let H=d.eventManagers.get(v);return H||(H=new so(u),d.eventManagers.set(v,H),d.attachCallbackListeners(u,H)),H})()}_openPopup(u){He(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,v,H){var ee=this;return(0,f.Z)(function*(){!function ad(g){var u,d,v,H,ee,Re,rt,wt,Ot,yn;const on=No();O("function"==typeof(null===(u=on?.universalLinks)||void 0===u?void 0:u.subscribe),g,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),O(typeof(null===(d=on?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),O("function"==typeof(null===(ee=null===(H=null===(v=on?.cordova)||void 0===v?void 0:v.plugins)||void 0===H?void 0:H.browsertab)||void 0===ee?void 0:ee.openUrl),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"==typeof(null===(wt=null===(rt=null===(Re=on?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===rt?void 0:rt.browsertab)||void 0===wt?void 0:wt.isAvailable),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),O("function"==typeof(null===(yn=null===(Ot=on?.cordova)||void 0===Ot?void 0:Ot.InAppBrowser)||void 0===yn?void 0:yn.open),g,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Re=yield ee._initialize(u);yield Re.initialized(),Re.resetRedirect(),function Ja(){Mr.clear()}(),yield ee._originValidation(u);const rt=function Nu(g,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:ld(),postBody:null,tenantId:g.tenantId,error:de(g,"no-auth-event")}}(u,v,H);yield function Xl(g,u){return Jl()._set(eu(g),u)}(u,rt);const wt=yield function ql(g,u,d){return Ru.apply(this,arguments)}(u,rt,d),Ot=yield function Ql(g){const{cordova:u}=No();return new Promise(d=>{u.plugins.browsertab.isAvailable(v=>{let H=null;v?u.plugins.browsertab.openUrl(g):H=u.InAppBrowser.open(g,function Te(g=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(g)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(g)}()?"_blank":"_system","location=yes"),d(H)})})}(wt);return function od(g,u,d){return Fa.apply(this,arguments)}(u,Re,Ot)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function sd(g){return bl.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:v,handleOpenURL:H,BuildInfo:ee}=No(),Re=setTimeout((0,f.Z)(function*(){yield Dl(u),d.onEvent(nu())}),500),rt=function(){var yn=(0,f.Z)(function*(on){clearTimeout(Re);const Ri=yield Dl(u);let ko=null;Ri&&on?.url&&(ko=function sl(g,u){var d,v;const H=function tu(g){const u=Ba(g),d=u.link?decodeURIComponent(u.link):void 0,v=Ba(d).link,H=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ba(H).link||H||v||d||g}(u);if(H.includes("/__/auth/callback")){const ee=Ba(H),Re=ee.firebaseError?function yc(g){try{return JSON.parse(g)}catch{return null}}(decodeURIComponent(ee.firebaseError)):null,rt=null===(v=null===(d=Re?.code)||void 0===d?void 0:d.split("auth/"))||void 0===v?void 0:v[1],wt=rt?de(rt):null;return wt?{type:g.type,eventId:g.eventId,tenantId:g.tenantId,error:wt,urlResponse:null,sessionId:null,postBody:null}:{type:g.type,eventId:g.eventId,tenantId:g.tenantId,sessionId:g.sessionId,urlResponse:H,postBody:null}}return null}(Ri,on.url)),d.onEvent(ko||nu())});return function(Ri){return yn.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,rt);const wt=H,Ot=`${ee.packageName.toLowerCase()}://`;No().handleOpenURL=function(){var yn=(0,f.Z)(function*(on){if(on.toLowerCase().startsWith(Ot)&&rt({url:on}),"function"==typeof wt)try{wt(on)}catch(Ri){console.error(Ri)}});return function(on){return yn.apply(this,arguments)}}()}};function nu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:de("no-auth-event")}}function Ha(){var g;return(null===(g=self?.location)||void 0===g?void 0:g.protocol)||null}function Lu(g=(0,$.z$)()){return!("file:"!==Ha()&&"ionic:"!==Ha()&&"capacitor:"!==Ha()||!g.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hs(){try{const g=self.localStorage,u=mn();if(g)return g.setItem(u,"1"),g.removeItem(u),!function Tl(g=(0,$.z$)()){return function Va(){return(0,$.w1)()&&11===document?.documentMode}()||function Ea(g=(0,$.z$)()){return/Edge\/\d+/.test(g)}(g)}()||(0,$.hl)()}catch{return Ko()&&(0,$.hl)()}return!1}function Ko(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ol(){return(function ru(){return"http:"===Ha()||"https:"===Ha()}()||(0,$.ru)()||Lu())&&!function oo(){return(0,$.b$)()||(0,$.UG)()}()&&Hs()&&!Ko()}function iu(){return Lu()&&typeof document<"u"}function Sl(){return(Sl=(0,f.Z)(function*(){return!!iu()&&new Promise(g=>{const u=setTimeout(()=>{g(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),g(!0)})})})).apply(this,arguments)}const Cs={LOCAL:"local",NONE:"none",SESSION:"session"},oa=O,su="persistence";function Fu(g){return ou.apply(this,arguments)}function ou(){return(ou=(0,f.Z)(function*(g){yield g._initializationPromise;const u=Rl(),d=Ie(su,g.config.apiKey,g.name);u&&u.setItem(d,g._getPersistence())})).apply(this,arguments)}function Rl(){var g;try{return(null===(g=function Ic(){return typeof window<"u"?window:null}())||void 0===g?void 0:g.sessionStorage)||null}catch{return null}}const Pl=O;class xo{constructor(){this.browserResolver=Fe(Zl),this.cordovaResolver=Fe(xu),this.underlyingResolver=null,this._redirectPersistence=bt,this._completeRedirectFn=Xt,this._overrideRedirectResult=ma}_initialize(u){var d=this;return(0,f.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,v,H){var ee=this;return(0,f.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openPopup(u,d,v,H)})()}_openRedirect(u,d,v,H){var ee=this;return(0,f.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._openRedirect(u,d,v,H)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,f.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Zo(){return Sl.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function au(g){return g.unwrap()}function lu(g){return Uu(g)}function Uu(g){const{_tokenResponse:u}=g instanceof $.ZR?g.customData:g;if(!u)return null;if(!(g instanceof $.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return sa.credentialFromResult(g);const d=u.providerId;if(!d||"password"===d)return null;let v;switch(d){case"google.com":v=Vi;break;case"facebook.com":v=ys;break;case"github.com":v=lo;break;case"twitter.com":v=Bo;break;default:const{oauthIdToken:H,oauthAccessToken:ee,oauthTokenSecret:Re,pendingToken:rt,nonce:wt}=u;return ee||Re||H||rt?rt?d.startsWith("saml.")?ji._create(d,rt):mi._fromParams({providerId:d,signInMethod:d,pendingToken:rt,idToken:H,accessToken:ee}):new as(d).credential({idToken:H,accessToken:ee,rawNonce:wt}):null}return g instanceof $.ZR?v.credentialFromError(g):v.credentialFromResult(g)}function ri(g,u){return u.catch(d=>{throw d instanceof $.ZR&&function Ia(g,u){var d;const v=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Vu(g,function Xn(g,u){var d;const v=(0,$.m9)(g),H=u;return O(u.customData.operationType,v,"argument-error"),O(null===(d=H.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,v,"argument-error"),Fr._fromError(v,H)}(g,u));else if(v){const H=Uu(u),ee=u;H&&(ee.credential=H,ee.tenantId=v.tenantId||void 0,ee.email=v.email||void 0,ee.phoneNumber=v.phoneNumber||void 0)}}(g,d),d}).then(d=>{const H=d.user;return{operationType:d.operationType,credential:lu(d),additionalUserInfo:Ce(d),user:aa.getOrCreate(H)}})}function Bu(g,u){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(g,u){const d=yield u;return{verificationId:d.verificationId,confirm:v=>ri(g,d.confirm(v))}})).apply(this,arguments)}class Vu{constructor(u,d){this.resolver=d,this.auth=function Ol(g){return g.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return ri(au(this.auth),this.resolver.resolveSignIn(u))}}class aa{constructor(u){this._delegate=u,this.multiFactor=function B(g){const u=(0,$.m9)(g);return C.has(u)||C.set(u,Tr._fromUser(u)),C.get(u)}(u)}static getOrCreate(u){return aa.USER_MAP.has(u)||aa.USER_MAP.set(u,new aa(u)),aa.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,f.Z)(function*(){return ri(d.auth,Kn(d._delegate,u))})()}linkWithPhoneNumber(u,d){var v=this;return(0,f.Z)(function*(){return Bu(v.auth,function Iu(g,u,d){return fa.apply(this,arguments)}(v._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,f.Z)(function*(){return ri(d.auth,function ct(g,u,d){return Ct.apply(this,arguments)}(d._delegate,u,xo))})()}linkWithRedirect(u){var d=this;return(0,f.Z)(function*(){return yield Fu(hr(d.auth)),function xe(g,u,d){return function Ze(g,u,d){return ht.apply(this,arguments)}(g,u,d)}(d._delegate,u,xo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,f.Z)(function*(){return ri(d.auth,Ni(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Bu(this.auth,function Ma(g,u,d){return Ra.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return ri(this.auth,function te(g,u,d){return Ne.apply(this,arguments)}(this._delegate,u,xo))}reauthenticateWithRedirect(u){var d=this;return(0,f.Z)(function*(){return yield Fu(hr(d.auth)),function x(g,u,d){return function Y(g,u,d){return pe.apply(this,arguments)}(g,u,d)}(d._delegate,u,xo)})()}sendEmailVerification(u){return function Ho(g,u){return Zs.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,f.Z)(function*(){return yield function ci(g,u){return us.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function mo(g,u){return _o((0,$.m9)(g),u,null)}(this._delegate,u)}updatePassword(u){return function ki(g,u){return _o((0,$.m9)(g),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function pa(g,u){return ga.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function xi(g,u){return Ai.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function Ls(g,u,d){return wr.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}aa.USER_MAP=new WeakMap;const ja=O;let Nl=(()=>{class g{constructor(d,v){if(this.app=d,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:H}=d.options;ja(H,"invalid-api-key",{appName:d.name}),ja(H,"invalid-api-key",{appName:d.name});const ee=typeof window<"u"?xo:void 0;this._delegate=v.initialize({options:{persistence:bc(H,d.name),popupRedirectResolver:ee}}),this._delegate._updateErrorMap(at),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?aa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,v){!function js(g,u,d){const v=hr(g);O(v._canInitEmulator,v,"emulator-config-failed"),O(/^https?:\/\//.test(u),v,"invalid-emulator-scheme");const H=!!d?.disableWarnings,ee=Ci(u),{host:Re,port:rt}=function Vr(g){const u=Ci(g),d=/(\/\/)?([^?#/]+)/.exec(g.substr(u.length));if(!d)return{host:"",port:null};const v=d[2].split("@").pop()||"",H=/^(\[[^\]]+\])(:|$)/.exec(v);if(H){const ee=H[1];return{host:ee,port:Hn(v.substr(ee.length+1))}}{const[ee,Re]=v.split(":");return{host:ee,port:Hn(Re)}}}(u);v.config.emulator={url:`${ee}//${Re}${null===rt?"":`:${rt}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Re,port:rt,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:H})}),H||function Cr(){function g(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",g):g())}()}(this._delegate,d,v)}applyActionCode(d){return function ho(g,u){return fr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return Ns(this._delegate,d)}confirmPasswordReset(d,v){return function Si(g,u,d){return Qt.apply(this,arguments)}(this._delegate,d,v)}createUserWithEmailAndPassword(d,v){var H=this;return(0,f.Z)(function*(){return ri(H._delegate,function Ks(g,u,d){return bs.apply(this,arguments)}(H._delegate,d,v))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function go(g,u){return ks.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Ds(g,u){return"EMAIL_SIGNIN"===Xi.parseLink(u)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,f.Z)(function*(){ja(ol(),d._delegate,"operation-not-supported-in-this-environment");const v=yield function Wt(g,u){return Kt.apply(this,arguments)}(d._delegate,xo);return v?ri(d._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function ud(g,u){hr(g)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,v,H){const{next:ee,error:Re,complete:rt}=uu(d,v,H);return this._delegate.onAuthStateChanged(ee,Re,rt)}onIdTokenChanged(d,v,H){const{next:ee,error:Re,complete:rt}=uu(d,v,H);return this._delegate.onIdTokenChanged(ee,Re,rt)}sendSignInLinkToEmail(d,v){return function xn(g,u,d){return vi.apply(this,arguments)}(this._delegate,d,v)}sendPasswordResetEmail(d,v){return function yi(g,u,d){return cn.apply(this,arguments)}(this._delegate,d,v||void 0)}setPersistence(d){var v=this;return(0,f.Z)(function*(){let H;switch(function Al(g,u){oa(Object.values(Cs).includes(u),g,"invalid-persistence-type"),(0,$.b$)()?oa(u!==Cs.SESSION,g,"unsupported-persistence-type"):(0,$.UG)()?oa(u===Cs.NONE,g,"unsupported-persistence-type"):Ko()?oa(u===Cs.NONE||u===Cs.LOCAL&&(0,$.hl)(),g,"unsupported-persistence-type"):oa(u===Cs.NONE||Hs(),g,"unsupported-persistence-type")}(v._delegate,d),d){case Cs.SESSION:H=bt;break;case Cs.LOCAL:H=(yield Fe(Io)._isAvailable())?Io:pt;break;case Cs.NONE:H=ae;break;default:return He("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(H)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return ri(this._delegate,function Os(g){return Ji.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return ri(this._delegate,lr(this._delegate,d))}signInWithCustomToken(d){return ri(this._delegate,function xr(g,u){return mr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,v){return ri(this._delegate,function nt(g,u,d){return lr((0,$.m9)(g),_i.credential(u,d))}(this._delegate,d,v))}signInWithEmailLink(d,v){return ri(this._delegate,function ni(g,u,d){return ts.apply(this,arguments)}(this._delegate,d,v))}signInWithPhoneNumber(d,v){return Bu(this._delegate,function Sr(g,u,d){return Co.apply(this,arguments)}(this._delegate,d,v))}signInWithPopup(d){var v=this;return(0,f.Z)(function*(){return ja(ol(),v._delegate,"operation-not-supported-in-this-environment"),ri(v._delegate,function N(g,u,d){return q.apply(this,arguments)}(v._delegate,d,xo))})()}signInWithRedirect(d){var v=this;return(0,f.Z)(function*(){return ja(ol(),v._delegate,"operation-not-supported-in-this-environment"),yield Fu(v._delegate),function Ro(g,u,d){return function Na(g,u,d){return A.apply(this,arguments)}(g,u,d)}(v._delegate,d,xo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Gs(g,u){return xs.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return g.Persistence=Cs,g})();function uu(g,u,d){let v=g;"function"!=typeof g&&({next:v,error:u,complete:d}=g);const H=v;return{next:Re=>H(Re&&aa.getOrCreate(Re)),error:u,complete:d}}function bc(g,u){const d=function Ml(g,u){const d=Rl();if(!d)return[];const v=Ie(su,g,u);switch(d.getItem(v)){case Cs.NONE:return[ae];case Cs.LOCAL:return[Io,bt];case Cs.SESSION:return[bt];default:return[]}}(g,u);if(typeof self<"u"&&!d.includes(Io)&&d.push(Io),typeof window<"u")for(const v of[pt,bt])d.includes(v)||d.push(v);return d.includes(ae)||d.push(ae),d}class cu{constructor(){this.providerId="phone",this._delegate=new sa(au(k.Z.auth()))}static credential(u,d){return sa.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=sa.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=sa.PROVIDER_ID;const Dc=O;class $a{constructor(u,d,v=k.Z.app()){var H;Dc(null===(H=v.options)||void 0===H?void 0:H.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new $o(u,d,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dd(g){g.INTERNAL.registerComponent(new Se.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),v=u.getProvider("auth");return new Nl(d,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:_i,FacebookAuthProvider:ys,GithubAuthProvider:lo,GoogleAuthProvider:Vi,OAuthProvider:as,SAMLAuthProvider:$i,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:Bs,RecaptchaVerifier:$a,TwitterAuthProvider:Bo,Auth:Nl,AuthCredential:Er,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),g.registerVersion("@firebase/auth-compat","0.3.1")}(k.Z)},8766:(yt,Oe,P)=>{P.d(Oe,{Lj:()=>He,X3:()=>Ye});var f=P(5861);let $,fe;const Se=new WeakMap,ge=new WeakMap,Ee=new WeakMap,J=new WeakMap,ue=new WeakMap;let $e={get(O,Be,be){if(O instanceof IDBTransaction){if("done"===Be)return ge.get(O);if("objectStoreNames"===Be)return O.objectStoreNames||Ee.get(O);if("store"===Be)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Qe(O[Be])},set:(O,Be,be)=>(O[Be]=be,!0),has:(O,Be)=>O instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in O};function Le(O){return"function"==typeof O?function gt(O){return O!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return fe||(fe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(O)?function(...Be){return O.apply(qe(this),Be),Qe(Se.get(this))}:function(...Be){return Qe(O.apply(qe(this),Be))}:function(Be,...be){const Me=O.call(qe(this),Be,...be);return Ee.set(Me,Be.sort?Be.sort():[Be]),Qe(Me)}}(O):(O instanceof IDBTransaction&&function Ke(O){if(ge.has(O))return;const Be=new Promise((be,Me)=>{const Fe=()=>{O.removeEventListener("complete",Ue),O.removeEventListener("error",ft),O.removeEventListener("abort",ft)},Ue=()=>{be(),Fe()},ft=()=>{Me(O.error||new DOMException("AbortError","AbortError")),Fe()};O.addEventListener("complete",Ue),O.addEventListener("error",ft),O.addEventListener("abort",ft)});ge.set(O,Be)}(O),((O,Be)=>Be.some(be=>O instanceof be))(O,function me(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(O,$e):O)}function Qe(O){if(O instanceof IDBRequest)return function le(O){const Be=new Promise((be,Me)=>{const Fe=()=>{O.removeEventListener("success",Ue),O.removeEventListener("error",ft)},Ue=()=>{be(Qe(O.result)),Fe()},ft=()=>{Me(O.error),Fe()};O.addEventListener("success",Ue),O.addEventListener("error",ft)});return Be.then(be=>{be instanceof IDBCursor&&Se.set(be,O)}).catch(()=>{}),ue.set(Be,O),Be}(O);if(J.has(O))return J.get(O);const Be=Le(O);return Be!==O&&(J.set(O,Be),ue.set(Be,O)),Be}const qe=O=>ue.get(O);function Ye(O,Be,{blocked:be,upgrade:Me,blocking:Fe,terminated:Ue}={}){const ft=indexedDB.open(O,Be),dt=Qe(ft);return Me&&ft.addEventListener("upgradeneeded",Nt=>{Me(Qe(ft.result),Nt.oldVersion,Nt.newVersion,Qe(ft.transaction))}),be&&ft.addEventListener("blocked",()=>be()),dt.then(Nt=>{Ue&&Nt.addEventListener("close",()=>Ue()),Fe&&Nt.addEventListener("versionchange",()=>Fe())}).catch(()=>{}),dt}function He(O,{blocked:Be}={}){const be=indexedDB.deleteDatabase(O);return Be&&be.addEventListener("blocked",()=>Be()),Qe(be).then(()=>{})}const de=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],et=new Map;function tt(O,Be){if(!(O instanceof IDBDatabase)||Be in O||"string"!=typeof Be)return;if(et.get(Be))return et.get(Be);const be=Be.replace(/FromIndex$/,""),Me=Be!==be,Fe=Ve.includes(be);if(!(be in(Me?IDBIndex:IDBObjectStore).prototype)||!Fe&&!de.includes(be))return;const Ue=function(){var ft=(0,f.Z)(function*(dt,...Nt){const an=this.transaction(dt,Fe?"readwrite":"readonly");let Bn=an.store;return Me&&(Bn=Bn.index(Nt.shift())),(yield Promise.all([Bn[be](...Nt),Fe&&an.done]))[0]});return function(Nt){return ft.apply(this,arguments)}}();return et.set(Be,Ue),Ue}!function at(O){$e=O($e)}(O=>({...O,get:(Be,be,Me)=>tt(Be,be)||O.get(Be,be,Me),has:(Be,be)=>!!tt(Be,be)||O.has(Be,be)}))},5861:(yt,Oe,P)=>{function f($,fe,me,_e,Se,ge,Ee){try{var J=$[ge](Ee),ue=J.value}catch(le){return void me(le)}J.done?fe(ue):Promise.resolve(ue).then(_e,Se)}function k($){return function(){var fe=this,me=arguments;return new Promise(function(_e,Se){var ge=$.apply(fe,me);function Ee(ue){f(ge,_e,Se,Ee,J,"next",ue)}function J(ue){f(ge,_e,Se,Ee,J,"throw",ue)}Ee(void 0)})}}P.d(Oe,{Z:()=>k})}},yt=>{yt(yt.s=4662)}]);