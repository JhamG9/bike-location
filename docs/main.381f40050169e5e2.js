"use strict";(self.webpackChunkangular_mobile_app=self.webpackChunkangular_mobile_app||[]).push([[179],{3805:(yt,ke,F)=>{F.d(ke,{KQ:()=>rf,JS:()=>wp});var y=F(4650),U=F(4986),j=F(9751),de=F(9646),pe=F(6451),ye=F(4004),Se=F(3099),Ee=F(3900),Ie=F(5026),re=F(1884),se=F(4482),ge=F(5403),tt=F(8421),Ye=F(4671),lt=F(5032),_t=F(3269),Ge=F(2122),rt=F(2011),me=(F(750),F(3942)),Ve=F(4859),it=F(5861),st=F(9681),P=F(2090),xe=F(1877);const _e="@firebase/database";let Pe="";function Oe(o){Pe=o}class dt{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,P.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,P.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class ct{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,P.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const kt=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new dt(r)}}catch{}return new ct},vn=kt("localStorage"),Un=kt("sessionStorage"),Yt=new xe.Yd("@firebase/database"),qt=function(){let o=1;return function(){return o++}}(),Ft=function(o){const r=(0,P.dS)(o),i=new P.gQ;i.update(r);const l=i.digest();return P.US.encodeByteArray(l)},un=function(...o){let r="";for(let i=0;i<o.length;i++){const l=o[i];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=un.apply(null,l):r+="object"==typeof l?(0,P.Wl)(l):l,r+=" "}return r};let ur=null,Ht=!0;const Ut=function(o,r){(0,P.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(Yt.logLevel=xe.in.VERBOSE,ur=Yt.log.bind(Yt),r&&Un.set("logging_enabled",!0)):"function"==typeof o?ur=o:(ur=null,Un.remove("logging_enabled"))},fn=function(...o){if(!0===Ht&&(Ht=!1,null===ur&&!0===Un.get("logging_enabled")&&Ut(!0)),ur){const r=un.apply(null,o);ur(r)}},cr=function(o){return function(...r){fn(o,...r)}},Ur=function(...o){const r="FIREBASE INTERNAL ERROR: "+un(...o);Yt.error(r)},Yn=function(...o){const r=`FIREBASE FATAL ERROR: ${un(...o)}`;throw Yt.error(r),new Error(r)},pn=function(...o){const r="FIREBASE WARNING: "+un(...o);Yt.warn(r)},dr=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},qn="[MIN_NAME]",bn="[MAX_NAME]",sn=function(o,r){if(o===r)return 0;if(o===qn||r===bn)return-1;if(r===qn||o===bn)return 1;{const i=$n(o),l=$n(r);return null!==i?null!==l?i-l==0?o.length-r.length:i-l:-1:null!==l?1:o<r?-1:1}},kn=function(o,r){return o===r?0:o<r?-1:1},xt=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,P.Wl)(r))},Sr=function(o){if("object"!=typeof o||null===o)return(0,P.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let i="{";for(let l=0;l<r.length;l++)0!==l&&(i+=","),i+=(0,P.Wl)(r[l]),i+=":",i+=Sr(o[r[l]]);return i+="}",i},Or=function(o,r){const i=o.length;if(i<=r)return[o];const l=[];for(let h=0;h<i;h+=r)l.push(o.substring(h,h+r>i?i:h+r));return l};function an(o,r){for(const i in o)o.hasOwnProperty(i)&&r(i,o[i])}const sr=function(o){(0,P.hu)(!dr(o),"Invalid JSON number");const l=1023;let h,w,R,$,Q;0===o?(w=0,R=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?($=Math.min(Math.floor(Math.log(o)/Math.LN2),l),w=$+l,R=Math.round(o*Math.pow(2,52-$)-Math.pow(2,52))):(w=0,R=Math.round(o/Math.pow(2,-1074))));const oe=[];for(Q=52;Q;Q-=1)oe.push(R%2?1:0),R=Math.floor(R/2);for(Q=11;Q;Q-=1)oe.push(w%2?1:0),w=Math.floor(w/2);oe.push(h?1:0),oe.reverse();const je=oe.join("");let $e="";for(Q=0;Q<64;Q+=8){let at=parseInt(je.substr(Q,8),2).toString(16);1===at.length&&(at="0"+at),$e+=at}return $e.toLowerCase()},Dt=new RegExp("^-?(0*)\\d{1,10}$"),$n=function(o){if(Dt.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},yr=function(o){try{o()}catch(r){setTimeout(()=>{throw pn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},ai=function(o,r){const i=setTimeout(o,r);return"number"==typeof i&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class Rn{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){pn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zr{constructor(r,i,l){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pn(r)}}let Tn=(()=>{class o{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const ee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Y="ac",X="websocket",he="long_polling";class He{constructor(r,i,l,h,w=!1,R="",$=!1){this.secure=i,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=w,this.persistenceKey=R,this.includeNamespaceInQueryParams=$,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=vn.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&vn.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function mt(o,r,i){let l;if((0,P.hu)("string"==typeof r,"typeof type must == string"),(0,P.hu)("object"==typeof i,"typeof params must == object"),r===X)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==he)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function ve(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(i.ns=o.namespace);const h=[];return an(i,(w,R)=>{h.push(w+"="+R)}),l+h.join("&")}class tn{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,P.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,P.p$)(this.counters_)}}const nn={},cn={};function ae(o){const r=o.toString();return nn[r]||(nn[r]=new tn),nn[r]}class J{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&yr(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class tr{constructor(r,i,l,h,w,R,$){this.connId=r,this.repoInfo=i,this.applicationId=l,this.appCheckToken=h,this.authToken=w,this.transportSessionId=R,this.lastSessionId=$,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cr(r),this.stats_=ae(i),this.urlFn=Q=>(this.appCheckToken&&(Q[Y]=this.appCheckToken),mt(i,he,Q))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new J(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,P.Yr)()||"complete"===document.readyState)o();else{let r=!1;const i=function(){document.body?r||(r=!0,o()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Rr((...w)=>{const[R,$,Q,oe,je]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===R)this.id=$,this.password=Q;else{if("close"!==R)throw new Error("Unrecognized command received: "+R);$?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter($,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[R,$]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(R,$)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l[Y]=this.appCheckToken),typeof location<"u"&&location.hostname&&ee.test(location.hostname)&&(l.r="f");const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){tr.forceAllow_=!0}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){return!((0,P.Yr)()||!tr.forceAllow_&&(tr.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,P.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=(0,P.h$)(i),h=Or(l,1840);for(let w=0;w<h.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[w]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,P.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,P.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Rr{constructor(r,i,l,h){if(this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,P.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=qt(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=Rr.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const R="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch($){fn("frame writing exception"),$.stack&&fn($.stack),fn($)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||fn("No IE domain setting required")}catch{const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const R=this.pendingSegs.shift();l=l+"&seg"+h+"="+R.seg+"&ts"+h+"="+R.ts+"&d"+h+"="+R.d,h++}return i+=l,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,l){this.pendingSegs.push({seg:r,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},h=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(h),l()})}addTag(r,i){(0,P.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||"loaded"===h||"complete"===h)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{fn("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let Jt=null;typeof MozWebSocket<"u"?Jt=MozWebSocket:typeof WebSocket<"u"&&(Jt=WebSocket);let Kn=(()=>{class o{constructor(i,l,h,w,R,$,Q){this.connId=i,this.applicationId=h,this.appCheckToken=w,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cr(this.connId),this.stats_=ae(l),this.connURL=o.connectionURL_(l,$,Q,w,h),this.nodeAdmin=l.nodeAdmin}static connectionURL_(i,l,h,w,R){const $={v:"5"};return!(0,P.Yr)()&&typeof location<"u"&&location.hostname&&ee.test(location.hostname)&&($.r="f"),l&&($.s=l),h&&($.ls=h),w&&($[Y]=w),R&&($.p=R),mt(i,X,$)}open(i,l){this.onDisconnect=l,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,vn.set("previous_websocket_failure",!0);try{let h;if((0,P.Yr)()){h={headers:{"User-Agent":`Firebase/5/${Pe}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const R=process.env,$=0===this.connURL.indexOf("wss://")?R.HTTPS_PROXY||R.https_proxy:R.HTTP_PROXY||R.http_proxy;$&&(h.proxy={origin:$})}this.mySock=new Jt(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const w=h.message||h.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const w=h.message||h.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(i=!0)}return!i&&null!==Jt&&!o.forceDisallow_}static previouslyFailed(){return vn.isInMemoryStorage||!0===vn.get("previous_websocket_failure")}markConnectionHealthy(){vn.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const h=(0,P.cI)(l);this.onMessage(h)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,P.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const l=Number(i);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const l=i.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const h=this.extractFrameCount_(l);null!==h&&this.appendFrame_(h)}}send(i){this.resetKeepAlive();const l=(0,P.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=Or(l,16384);h.length>1&&this.sendString_(String(h.length));for(let w=0;w<h.length;w++)this.sendString_(h[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Gr=(()=>{class o{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[tr,Kn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const l=Kn&&Kn.isAvailable();let h=l&&!Kn.previouslyFailed();if(i.webSocketOnly&&(l||pn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[Kn];else{const w=this.transports_=[];for(const R of o.ALL_TRANSPORTS)R&&R.isAvailable()&&w.push(R);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class kr{constructor(r,i,l,h,w,R,$,Q,oe,je){this.id=r,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=w,this.onMessage_=R,this.onReady_=$,this.onDisconnect_=Q,this.onKill_=oe,this.lastSessionId=je,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cr("c:"+this.id+":"),this.transportManager_=new Gr(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const h=r.healthyTimeout||0;h>0&&(this.healthyTimeout_=ai(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=xt("t",r),l=xt("d",r);if("c"===i)this.onSecondaryControl_(l);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=xt("t",r),l=xt("d",r);"c"===i?this.onControl_(l):"d"===i&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=xt("t",r);if("d"in r){const l=r.d;if("h"===i)this.onHandshake_(l);else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(l):"r"===i?this.onReset_(l):"e"===i?Ur("Server Error: "+l):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ur("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,l=r.v,h=r.h;this.sessionId=r.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==l&&pn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),ai(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ai(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(vn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Pi{put(r,i,l,h){}merge(r,i,l,h){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,l){}onDisconnectMerge(r,i,l){}onDisconnectCancel(r,i){}reportStats(r){}}class Ii{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,P.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,i)}}on(r,i,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:l});const h=this.getInitialEvent(r);h&&i.apply(l,h)}off(r,i,l){this.validateEventType_(r);const h=this.listeners_[r]||[];for(let w=0;w<h.length;w++)if(h[w].callback===i&&(!l||l===h[w].context))return void h.splice(w,1)}validateEventType_(r){(0,P.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class Bn extends Ii{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,P.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bn}getInitialEvent(r){return(0,P.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class Wn{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function Pn(){return new Wn("")}function ln(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function Er(o){return o.pieces_.length-o.pieceNum_}function En(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new Wn(o.pieces_,r)}function ds(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Tr(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function ui(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let i=o.pieceNum_;i<o.pieces_.length-1;i++)r.push(o.pieces_[i]);return new Wn(r,0)}function In(o,r){const i=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)i.push(o.pieces_[l]);if(r instanceof Wn)for(let l=r.pieceNum_;l<r.pieces_.length;l++)i.push(r.pieces_[l]);else{const l=r.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&i.push(l[h])}return new Wn(i,0)}function _n(o){return o.pieceNum_>=o.pieces_.length}function Jn(o,r){const i=ln(o),l=ln(r);if(null===i)return r;if(i===l)return Jn(En(o),En(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function Is(o,r){const i=Tr(o,0),l=Tr(r,0);for(let h=0;h<i.length&&h<l.length;h++){const w=sn(i[h],l[h]);if(0!==w)return w}return i.length===l.length?0:i.length<l.length?-1:1}function Ds(o,r){if(Er(o)!==Er(r))return!1;for(let i=o.pieceNum_,l=r.pieceNum_;i<=o.pieces_.length;i++,l++)if(o.pieces_[i]!==r.pieces_[l])return!1;return!0}function ii(o,r){let i=o.pieceNum_,l=r.pieceNum_;if(Er(o)>Er(r))return!1;for(;i<o.pieces_.length;){if(o.pieces_[i]!==r.pieces_[l])return!1;++i,++l}return!0}class qi{constructor(r,i){this.errorPrefix_=i,this.parts_=Tr(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,P.ug)(this.parts_[l]);ws(this)}}function ws(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cs(o))}function Cs(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Qs extends Ii{constructor(){let r,i;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Qs}getInitialEvent(r){return(0,P.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const xs=1e3;let bs,wr=(()=>{class o extends Pi{constructor(i,l,h,w,R,$,Q,oe){if(super(),this.repoInfo_=i,this.applicationId_=l,this.onDataUpdate_=h,this.onConnectStatus_=w,this.onServerInfoUpdate_=R,this.authTokenProvider_=$,this.appCheckTokenProvider_=Q,this.authOverride_=oe,this.id=o.nextPersistentConnectionId_++,this.log_=cr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,oe&&!(0,P.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qs.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&Bn.getInstance().on("online",this.onOnline_,this)}sendRequest(i,l,h){const w=++this.requestNumber_,R={r:w,a:i,b:l};this.log_((0,P.Wl)(R)),(0,P.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(R),h&&(this.requestCBHash_[w]=h)}get(i){this.initConnection_();const l=new P.BH,w={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:$=>{const Q=$.d;"ok"===$.s?l.resolve(Q):l.reject(Q)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(i,l,h,w){this.initConnection_();const R=i._queryIdentifier,$=i._path.toString();this.log_("Listen called for "+$+" "+R),this.listens.has($)||this.listens.set($,new Map),(0,P.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,P.hu)(!this.listens.get($).has(R),"listen() called twice for same path/queryId.");const Q={onComplete:w,hashFn:l,query:i,tag:h};this.listens.get($).set(R,Q),this.connected_&&this.sendListen_(Q)}sendGet_(i){const l=this.outstandingGets_[i];this.sendRequest("g",l.request,h=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(h)})}sendListen_(i){const l=i.query,h=l._path.toString(),w=l._queryIdentifier;this.log_("Listen on "+h+" for "+w);const R={p:h};i.tag&&(R.q=l._queryObject,R.t=i.tag),R.h=i.hashFn(),this.sendRequest("q",R,Q=>{const oe=Q.d,je=Q.s;o.warnOnListenWarnings_(oe,l),(this.listens.get(h)&&this.listens.get(h).get(w))===i&&(this.log_("listen response",Q),"ok"!==je&&this.removeListen_(h,w),i.onComplete&&i.onComplete(je,oe))})}static warnOnListenWarnings_(i,l){if(i&&"object"==typeof i&&(0,P.r3)(i,"w")){const h=(0,P.DV)(i,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const w='".indexOn": "'+l._queryParams.getIndex().toString()+'"',R=l._path.toString();pn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${R} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,P.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,l=(0,P.w9)(i)?"auth":"gauth",h={cred:i};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(l,h,w=>{const R=w.s,$=w.d||"error";this.authToken_===i&&("ok"===R?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(R,$))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const l=i.s,h=i.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,h)})}unlisten(i,l){const h=i._path.toString(),w=i._queryIdentifier;this.log_("Unlisten called for "+h+" "+w),(0,P.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,w)&&this.connected_&&this.sendUnlisten_(h,w,i._queryObject,l)}sendUnlisten_(i,l,h,w){this.log_("Unlisten on "+i+" for "+l);const R={p:i};w&&(R.q=h,R.t=w),this.sendRequest("n",R)}onDisconnectPut(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:l,onComplete:h})}onDisconnectMerge(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:l,onComplete:h})}onDisconnectCancel(i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,l):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(i,l,h,w){const R={p:l,d:h};this.log_("onDisconnect "+i,R),this.sendRequest(i,R,$=>{w&&setTimeout(()=>{w($.s,$.d)},Math.floor(0))})}put(i,l,h,w){this.putInternal("p",i,l,h,w)}merge(i,l,h,w){this.putInternal("m",i,l,h,w)}putInternal(i,l,h,w,R){this.initConnection_();const $={p:l,d:h};void 0!==R&&($.h=R),this.outstandingPuts_.push({action:i,request:$,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(i){const l=this.outstandingPuts_[i].action,h=this.outstandingPuts_[i].request,w=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(l,h,R=>{this.log_(l+" response",R),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(R.s,R.d)})}reportStats(i){if(this.connected_){const l={c:i};this.log_("reportStats",l),this.sendRequest("s",l,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,P.Wl)(i));const l=i.r,h=this.requestCBHash_[l];h&&(delete this.requestCBHash_[l],h(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,l){this.log_("handleServerMessage",i,l),"d"===i?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===i?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===i?this.onListenRevoked_(l.p,l.q):"ac"===i?this.onAuthRevoked_(l.s,l.d):"apc"===i?this.onAppCheckRevoked_(l.s,l.d):"sd"===i?this.onSecurityDebugPacket_(l):Ur("Unrecognized action received from server: "+(0,P.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,P.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-i);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,it.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const l=i.onDataMessage_.bind(i),h=i.onReady_.bind(i),w=i.onRealtimeDisconnect_.bind(i),R=i.id+":"+o.nextConnectionId_++,$=i.lastSessionId;let Q=!1,oe=null;const je=function(){oe?oe.close():(Q=!0,w())};i.realtime_={close:je,sendRequest:function(Ot){(0,P.hu)(oe,"sendRequest call when we're not connected not allowed."),oe.sendRequest(Ot)}};const at=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[Ot,Zt]=yield Promise.all([i.authTokenProvider_.getToken(at),i.appCheckTokenProvider_.getToken(at)]);Q?fn("getToken() completed but was canceled"):(fn("getToken() completed. Creating connection."),i.authToken_=Ot&&Ot.accessToken,i.appCheckToken_=Zt&&Zt.token,oe=new kr(R,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,l,h,w,jn=>{pn(jn+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},$))}catch(Ot){i.log_("Failed to get token: "+Ot),Q||(i.repoInfo_.nodeAdmin&&pn(Ot),je())}}})()}interrupt(i){fn("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){fn("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,P.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const l=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const l=this.outstandingPuts_[i];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,l){let h;h=l?l.map(R=>Sr(R)).join("$"):"default";const w=this.removeListen_(i,h);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(i,l){const h=new Wn(i).toString();let w;if(this.listens.has(h)){const R=this.listens.get(h);w=R.get(l),R.delete(l),0===R.size&&this.listens.delete(h)}else w=void 0;return w}onAuthRevoked_(i,l){fn("Auth token revoked: "+i+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,l){fn("App check token revoked: "+i+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const l of i.values())this.sendListen_(l);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let l="js";(0,P.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+l+"."+Pe.replace(/\./g,"-")]=1,(0,P.uI)()?i["framework.cordova"]=1:(0,P.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=Bn.getInstance().currentlyOnline();return(0,P.xb)(this.interruptReasons_)&&i}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class yn{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new yn(r,i)}}class Us{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const l=new yn(qn,r),h=new yn(qn,i);return 0!==this.compare(l,h)}minPost(){return yn.MIN}}class fs extends Us{static get __EMPTY_NODE(){return bs}static set __EMPTY_NODE(r){bs=r}compare(r,i){return sn(r.name,i.name)}isDefinedOn(r){throw(0,P.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return yn.MIN}maxPost(){return new yn(bn,bs)}makePost(r,i){return(0,P.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new yn(r,bs)}toString(){return".key"}}const Mr=new fs;class wi{constructor(r,i,l,h,w=null){this.isReverse_=h,this.resultGenerator_=w,this.nodeStack_=[];let R=1;for(;!r.isEmpty();)if(R=i?l(r.key,i):1,h&&(R*=-1),R<0)r=this.isReverse_?r.left:r.right;else{if(0===R){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let $i,ci=(()=>{class o{constructor(i,l,h,w,R){this.key=i,this.value=l,this.color=h??o.RED,this.left=w??Pr.EMPTY_NODE,this.right=R??Pr.EMPTY_NODE}copy(i,l,h,w,R){return new o(i??this.key,l??this.value,h??this.color,w??this.left,R??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,h){let w=this;const R=h(i,w.key);return w=R<0?w.copy(null,null,null,w.left.insert(i,l,h),null):0===R?w.copy(null,l,null,null,null):w.copy(null,null,null,null,w.right.insert(i,l,h)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,l){let h,w;if(h=this,l(i,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(i,l),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===l(i,h.key)){if(h.right.isEmpty())return Pr.EMPTY_NODE;w=h.right.min_(),h=h.copy(w.key,w.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(i,l))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class Pr{constructor(r,i=Pr.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new Pr(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(r){return new Pr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(r){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(r){let i,l=this.root_,h=null;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}i<0?l=l.left:i>0&&(h=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new wi(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new wi(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new wi(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new wi(this.root_,null,this.comparator_,!0,r)}}function xr(o,r){return sn(o.name,r.name)}function ji(o,r){return sn(o,r)}Pr.EMPTY_NODE=new class Ts{copy(r,i,l,h,w){return this}insert(r,i,l){return new ci(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bs=function(o){return"number"==typeof o?"number:"+sr(o):"string:"+o},Qi=function(o){if(o.isLeafNode()){const r=o.val();(0,P.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,P.r3)(r,".sv"),"Priority must be a string or number.")}else(0,P.hu)(o===$i||o.isEmpty(),"priority of unexpected type.");(0,P.hu)(o===$i||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Zr,Xs,ir,rr=(()=>{class o{constructor(i,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=l,this.lazyHash_=null,(0,P.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Qi(this.priorityNode_)}static set __childrenNodeConstructor(i){Zr=i}static get __childrenNodeConstructor(){return Zr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new o(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return _n(i)?this:".priority"===ln(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,l){return null}updateImmediateChild(i,l){return".priority"===i?this.updatePriority(l):l.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,l).updatePriority(this.priorityNode_)}updateChild(i,l){const h=ln(i);return null===h?l:l.isEmpty()&&".priority"!==h?this:((0,P.hu)(".priority"!==h||1===Er(i),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(En(i),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,l){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Bs(this.priorityNode_.val())+":");const l=typeof this.value_;i+=l+":",i+="number"===l?sr(this.value_):this.value_,this.lazyHash_=Ft(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,P.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const l=typeof i.value_,h=typeof this.value_,w=o.VALUE_TYPE_ORDER.indexOf(l),R=o.VALUE_TYPE_ORDER.indexOf(h);return(0,P.hu)(w>=0,"Unknown leaf type: "+l),(0,P.hu)(R>=0,"Unknown leaf type: "+h),w===R?"object"===h?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:R-w}withIndex(){return this}isIndexed(){return!0}equals(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const Zn=new class hr extends Us{compare(r,i){const l=r.node.getPriority(),h=i.node.getPriority(),w=l.compareTo(h);return 0===w?sn(r.name,i.name):w}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return yn.MIN}maxPost(){return new yn(bn,new rr("[PRIORITY-POST]",ir))}makePost(r,i){const l=Xs(r);return new yn(i,new rr("[PRIORITY-POST]",l))}toString(){return".priority"}},Vr=Math.log(2);class fi{constructor(r){this.count=parseInt(Math.log(r+1)/Vr,10),this.current_=this.count-1;const h=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&h}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const gr=function(o,r,i,l){o.sort(r);const h=function(Q,oe){const je=oe-Q;let $e,at;if(0===je)return null;if(1===je)return $e=o[Q],at=i?i($e):$e,new ci(at,$e.node,ci.BLACK,null,null);{const Ot=parseInt(je/2,10)+Q,Zt=h(Q,Ot),jn=h(Ot+1,oe);return $e=o[Ot],at=i?i($e):$e,new ci(at,$e.node,ci.BLACK,Zt,jn)}},$=function(Q){let oe=null,je=null,$e=o.length;const at=function(Zt,jn){const yi=$e-Zt,Os=$e;$e-=Zt;const Ko=h(yi+1,Os),sa=o[yi],Fi=i?i(sa):sa;Ot(new ci(Fi,sa.node,jn,null,Ko))},Ot=function(Zt){oe?(oe.left=Zt,oe=Zt):(je=Zt,oe=Zt)};for(let Zt=0;Zt<Q.count;++Zt){const jn=Q.nextBitIsOne(),yi=Math.pow(2,Q.count-(Zt+1));jn?at(yi,ci.BLACK):(at(yi,ci.BLACK),at(yi,ci.RED))}return je}(new fi(o.length));return new Pr(l||r,$)};let Ss;const Ci={};class jr{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,P.hu)(Ci&&Zn,"ChildrenNode.ts has not been loaded"),Ss=Ss||new jr({".priority":Ci},{".priority":Zn}),Ss}get(r){const i=(0,P.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof Pr?i:null}hasIndex(r){return(0,P.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,P.hu)(r!==Mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const w=i.getIterator(yn.Wrap);let $,R=w.getNext();for(;R;)h=h||r.isDefinedOn(R.node),l.push(R),R=w.getNext();$=h?gr(l,r.getCompare()):Ci;const Q=r.toString(),oe=Object.assign({},this.indexSet_);oe[Q]=r;const je=Object.assign({},this.indexes_);return je[Q]=$,new jr(je,oe)}addToIndexes(r,i){const l=(0,P.UI)(this.indexes_,(h,w)=>{const R=(0,P.DV)(this.indexSet_,w);if((0,P.hu)(R,"Missing index implementation for "+w),h===Ci){if(R.isDefinedOn(r.node)){const $=[],Q=i.getIterator(yn.Wrap);let oe=Q.getNext();for(;oe;)oe.name!==r.name&&$.push(oe),oe=Q.getNext();return $.push(r),gr($,R.getCompare())}return Ci}{const $=i.get(r.name);let Q=h;return $&&(Q=Q.remove(new yn(r.name,$))),Q.insert(r,r.node)}});return new jr(l,this.indexSet_)}removeFromIndexes(r,i){const l=(0,P.UI)(this.indexes_,h=>{if(h===Ci)return h;{const w=i.get(r.name);return w?h.remove(new yn(r.name,w)):h}});return new jr(l,this.indexSet_)}}let Lr,Xt=(()=>{class o{constructor(i,l,h){this.children_=i,this.priorityNode_=l,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Qi(this.priorityNode_),this.children_.isEmpty()&&(0,P.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Lr||(Lr=new o(new Pr(ji),null,jr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Lr}updatePriority(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const l=this.children_.get(i);return null===l?Lr:l}}getChild(i){const l=ln(i);return null===l?this:this.getImmediateChild(l).getChild(En(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,l){if((0,P.hu)(l,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(l);{const h=new yn(i,l);let w,R;l.isEmpty()?(w=this.children_.remove(i),R=this.indexMap_.removeFromIndexes(h,this.children_)):(w=this.children_.insert(i,l),R=this.indexMap_.addToIndexes(h,this.children_));const $=w.isEmpty()?Lr:this.priorityNode_;return new o(w,$,R)}}updateChild(i,l){const h=ln(i);if(null===h)return l;{(0,P.hu)(".priority"!==ln(i)||1===Er(i),".priority must be the last token in a path");const w=this.getImmediateChild(h).updateChild(En(i),l);return this.updateImmediateChild(h,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const l={};let h=0,w=0,R=!0;if(this.forEachChild(Zn,($,Q)=>{l[$]=Q.val(i),h++,R&&o.INTEGER_REGEXP_.test($)?w=Math.max(w,Number($)):R=!1}),!i&&R&&w<2*h){const $=[];for(const Q in l)$[Q]=l[Q];return $}return i&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Bs(this.getPriority().val())+":"),this.forEachChild(Zn,(l,h)=>{const w=h.hash();""!==w&&(i+=":"+l+":"+w)}),this.lazyHash_=""===i?"":Ft(i)}return this.lazyHash_}getPredecessorChildName(i,l,h){const w=this.resolveIndex_(h);if(w){const R=w.getPredecessorKey(new yn(i,l));return R?R.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(i){const l=this.getFirstChildName(i);return l?new yn(l,this.children_.get(l)):null}getLastChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(i){const l=this.getLastChildName(i);return l?new yn(l,this.children_.get(l)):null}forEachChild(i,l){const h=this.resolveIndex_(i);return h?h.inorderTraversal(w=>l(w.name,w.node)):this.children_.inorderTraversal(l)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getIteratorFrom(i,w=>w);{const w=this.children_.getIteratorFrom(i.name,yn.Wrap);let R=w.peek();for(;null!=R&&l.compare(R,i)<0;)w.getNext(),R=w.peek();return w}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getReverseIteratorFrom(i,w=>w);{const w=this.children_.getReverseIteratorFrom(i.name,yn.Wrap);let R=w.peek();for(;null!=R&&l.compare(R,i)>0;)w.getNext(),R=w.peek();return w}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===zt?-1:0}withIndex(i){if(i===Mr||this.indexMap_.hasIndex(i))return this;{const l=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(i){return i===Mr||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const l=i;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const h=this.getIterator(Zn),w=l.getIterator(Zn);let R=h.getNext(),$=w.getNext();for(;R&&$;){if(R.name!==$.name||!R.node.equals($.node))return!1;R=h.getNext(),$=w.getNext()}return null===R&&null===$}return!1}return!1}}resolveIndex_(i){return i===Mr?null:this.indexMap_.get(i.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const zt=new class eo extends Xt{constructor(){super(new Pr(ji),Xt.EMPTY_NODE,jr.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Xt.EMPTY_NODE}isEmpty(){return!1}};function fr(o,r=null){if(null===o)return Xt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,P.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new rr(o,fr(r));if(o instanceof Array){let i=Xt.EMPTY_NODE;return an(o,(l,h)=>{if((0,P.r3)(o,l)&&"."!==l.substring(0,1)){const w=fr(h);(w.isLeafNode()||!w.isEmpty())&&(i=i.updateImmediateChild(l,w))}}),i.updatePriority(fr(r))}{const i=[];let l=!1;if(an(o,(R,$)=>{if("."!==R.substring(0,1)){const Q=fr($);Q.isEmpty()||(l=l||!Q.getPriority().isEmpty(),i.push(new yn(R,Q)))}}),0===i.length)return Xt.EMPTY_NODE;const w=gr(i,xr,R=>R.name,ji);if(l){const R=gr(i,Zn.getCompare());return new Xt(w,fr(r),new jr({".priority":R},{".priority":Zn}))}return new Xt(w,fr(r),jr.Default)}}Object.defineProperties(yn,{MIN:{value:new yn(qn,Xt.EMPTY_NODE)},MAX:{value:new yn(bn,zt)}}),fs.__EMPTY_NODE=Xt.EMPTY_NODE,rr.__childrenNodeConstructor=Xt,function wo(o){$i=o}(zt),function Ji(o){ir=o}(zt),function si(o){Xs=o}(fr);class As extends Us{constructor(r){super(),this.indexPath_=r,(0,P.hu)(!_n(r)&&".priority"!==ln(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const l=this.extractChild(r.node),h=this.extractChild(i.node),w=l.compareTo(h);return 0===w?sn(r.name,i.name):w}makePost(r,i){const l=fr(r),h=Xt.EMPTY_NODE.updateChild(this.indexPath_,l);return new yn(i,h)}maxPost(){const r=Xt.EMPTY_NODE.updateChild(this.indexPath_,zt);return new yn(bn,r)}toString(){return Tr(this.indexPath_,0).join("/")}}const Hs=new class Co extends Us{compare(r,i){const l=r.node.compareTo(i.node);return 0===l?sn(r.name,i.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return yn.MIN}maxPost(){return yn.MAX}makePost(r,i){const l=fr(r);return new yn(i,l)}toString(){return".value"}};function to(o){return{type:"value",snapshotNode:o}}function Vs(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function js(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function Ze(o,r,i){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:i}}class Xi{constructor(r){this.index_=r}updateChild(r,i,l,h,w,R){(0,P.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const $=r.getImmediateChild(i);return $.getChild(h).equals(l.getChild(h))&&$.isEmpty()===l.isEmpty()||(null!=R&&(l.isEmpty()?r.hasChild(i)?R.trackChildChange(js(i,$)):(0,P.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):$.isEmpty()?R.trackChildChange(Vs(i,l)):R.trackChildChange(Ze(i,l,$))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(r,i,l){return null!=l&&(r.isLeafNode()||r.forEachChild(Zn,(h,w)=>{i.hasChild(h)||l.trackChildChange(js(h,w))}),i.isLeafNode()||i.forEachChild(Zn,(h,w)=>{if(r.hasChild(h)){const R=r.getImmediateChild(h);R.equals(w)||l.trackChildChange(Ze(h,w,R))}else l.trackChildChange(Vs(h,w))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?Xt.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ni{constructor(r){this.indexedFilter_=new Xi(r.getIndex()),this.index_=r.getIndex(),this.startPost_=Ni.getStartPost_(r),this.endPost_=Ni.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,l=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return i&&l}updateChild(r,i,l,h,w,R){return this.matches(new yn(i,l))||(l=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,l,h,w,R)}updateFullNode(r,i,l){i.isLeafNode()&&(i=Xt.EMPTY_NODE);let h=i.withIndex(this.index_);h=h.updatePriority(Xt.EMPTY_NODE);const w=this;return i.forEachChild(Zn,(R,$)=>{w.matches(new yn(R,$))||(h=h.updateImmediateChild(R,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class $r{constructor(r){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new Ni(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,i,l,h,w,R){return this.rangedFilter_.matches(new yn(i,l))||(l=Xt.EMPTY_NODE),r.getImmediateChild(i).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,l,h,w,R):this.fullLimitUpdateChild_(r,i,l,w,R)}updateFullNode(r,i,l){let h;if(i.isLeafNode()||i.isEmpty())h=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let w;h=Xt.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let R=0;for(;w.hasNext()&&R<this.limit_;){const $=w.getNext();if(this.withinDirectionalStart($)){if(!this.withinDirectionalEnd($))break;h=h.updateImmediateChild($.name,$.node),R++}}}else{let w;h=i.withIndex(this.index_),h=h.updatePriority(Xt.EMPTY_NODE),w=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let R=0;for(;w.hasNext();){const $=w.getNext();R<this.limit_&&this.withinDirectionalStart($)&&this.withinDirectionalEnd($)?R++:h=h.updateImmediateChild($.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,l,h,w){let R;if(this.reverse_){const $e=this.index_.getCompare();R=(at,Ot)=>$e(Ot,at)}else R=this.index_.getCompare();const $=r;(0,P.hu)($.numChildren()===this.limit_,"");const Q=new yn(i,l),oe=this.reverse_?$.getFirstChild(this.index_):$.getLastChild(this.index_),je=this.rangedFilter_.matches(Q);if($.hasChild(i)){const $e=$.getImmediateChild(i);let at=h.getChildAfterChild(this.index_,oe,this.reverse_);for(;null!=at&&(at.name===i||$.hasChild(at.name));)at=h.getChildAfterChild(this.index_,at,this.reverse_);const Ot=null==at?1:R(at,Q);if(je&&!l.isEmpty()&&Ot>=0)return w?.trackChildChange(Ze(i,l,$e)),$.updateImmediateChild(i,l);{w?.trackChildChange(js(i,$e));const jn=$.updateImmediateChild(i,Xt.EMPTY_NODE);return null!=at&&this.rangedFilter_.matches(at)?(w?.trackChildChange(Vs(at.name,at.node)),jn.updateImmediateChild(at.name,at.node)):jn}}return l.isEmpty()?r:je&&R(oe,Q)>=0?(null!=w&&(w.trackChildChange(js(oe.name,oe.node)),w.trackChildChange(Vs(i,l))),$.updateImmediateChild(i,l).updateImmediateChild(oe.name,Xt.EMPTY_NODE)):r}}class ps{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,P.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qn}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,P.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:bn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,P.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zn}copy(){const r=new ps;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function $s(o,r,i){const l=o.copy();return l.startSet_=!0,void 0===r&&(r=null),l.indexStartValue_=r,null!=i?(l.startNameSet_=!0,l.indexStartName_=i):(l.startNameSet_=!1,l.indexStartName_=""),l}function Ws(o,r,i){const l=o.copy();return l.endSet_=!0,void 0===r&&(r=null),l.indexEndValue_=r,void 0!==i?(l.endNameSet_=!0,l.indexEndName_=i):(l.endNameSet_=!1,l.indexEndName_=""),l}function mr(o,r){const i=o.copy();return i.index_=r,i}function di(o){const r={};if(o.isDefault())return r;let i;if(o.index_===Zn?i="$priority":o.index_===Hs?i="$value":o.index_===Mr?i="$key":((0,P.hu)(o.index_ instanceof As,"Unrecognized index type!"),i=o.index_.toString()),r.orderBy=(0,P.Wl)(i),o.startSet_){const l=o.startAfterSet_?"startAfter":"startAt";r[l]=(0,P.Wl)(o.indexStartValue_),o.startNameSet_&&(r[l]+=","+(0,P.Wl)(o.indexStartName_))}if(o.endSet_){const l=o.endBeforeSet_?"endBefore":"endAt";r[l]=(0,P.Wl)(o.indexEndValue_),o.endNameSet_&&(r[l]+=","+(0,P.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function zi(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_),r.sin=!o.startAfterSet_),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_),r.ein=!o.endBeforeSet_),o.limitSet_){r.l=o.limit_;let i=o.viewFrom_;""===i&&(i=o.isViewFromLeft()?"l":"r"),r.vf=i}return o.index_!==Zn&&(r.i=o.index_.toString()),r}class Gi extends Pi{constructor(r,i,l,h){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=cr("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,P.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,l,h){const w=r._path.toString();this.log_("Listen called for "+w+" "+r._queryIdentifier);const R=Gi.getListenId_(r,l),$={};this.listens_[R]=$;const Q=di(r._queryParams);this.restRequest_(w+".json",Q,(oe,je)=>{let $e=je;if(404===oe&&($e=null,oe=null),null===oe&&this.onDataUpdate_(w,$e,!1,l),(0,P.DV)(this.listens_,R)===$){let at;at=oe?401===oe?"permission_denied":"rest_error:"+oe:"ok",h(at,null)}})}unlisten(r,i){const l=Gi.getListenId_(r,i);delete this.listens_[l]}get(r){const i=di(r._queryParams),l=r._path.toString(),h=new P.BH;return this.restRequest_(l+".json",i,(w,R)=>{let $=R;404===w&&($=null,w=null),null===w?(this.onDataUpdate_(l,$,!1,null),h.resolve($)):h.reject(new Error($))}),h.promise}refreshAuthToken(r){}restRequest_(r,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,w])=>{h&&h.accessToken&&(i.auth=h.accessToken),w&&w.token&&(i.ac=w.token);const R=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,P.xO)(i);this.log_("Sending REST request for "+R);const $=new XMLHttpRequest;$.onreadystatechange=()=>{if(l&&4===$.readyState){this.log_("REST Response for "+R+" received. status:",$.status,"response:",$.responseText);let Q=null;if($.status>=200&&$.status<300){try{Q=(0,P.cI)($.responseText)}catch{pn("Failed to parse JSON response for "+R+": "+$.responseText)}l(null,Q)}else 401!==$.status&&404!==$.status&&pn("Got unsuccessful REST response for "+R+" Status: "+$.status),l($.status);l=null}},$.open("GET",R,!0),$.send()})}}class ki{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function es(){return{value:null,children:new Map}}function Ki(o,r,i){if(_n(r))o.value=i,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,i);else{const l=ln(r);o.children.has(l)||o.children.set(l,es()),Ki(o.children.get(l),r=En(r),i)}}function ts(o,r){if(_n(r))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const i=o.value;return o.value=null,i.forEachChild(Zn,(l,h)=>{Ki(o,new Wn(l),h)}),ts(o,r)}}if(o.children.size>0){const i=ln(r);return r=En(r),o.children.has(i)&&ts(o.children.get(i),r)&&o.children.delete(i),0===o.children.size}return!0}function B(o,r,i){null!==o.value?i(r,o.value):function m(o,r){o.children.forEach((i,l)=>{r(l,i)})}(o,(l,h)=>{B(h,new Wn(r.toString()+"/"+l),i)})}class E{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&an(this.last_,(l,h)=>{i[l]=i[l]-h}),this.last_=r,i}}class fe{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new E(r);const l=1e4+2e4*Math.random();ai(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),i={};let l=!1;an(r,(h,w)=>{w>0&&(0,P.r3)(this.statsToReport_,h)&&(i[h]=w,l=!0)}),l&&this.server_.reportStats(i),ai(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ue=(()=>{return(o=ue||(ue={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ue;var o})();function wt(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class Ct{constructor(r,i,l){this.path=r,this.affectedTree=i,this.revert=l,this.type=ue.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(_n(this.path)){if(null!=this.affectedTree.value)return(0,P.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Wn(r));return new Ct(Pn(),i,this.revert)}}return(0,P.hu)(ln(this.path)===r,"operationForChild called for unrelated child."),new Ct(En(this.path),this.affectedTree,this.revert)}}class Dn{constructor(r,i){this.source=r,this.path=i,this.type=ue.LISTEN_COMPLETE}operationForChild(r){return _n(this.path)?new Dn(this.source,Pn()):new Dn(this.source,En(this.path))}}class hn{constructor(r,i,l){this.source=r,this.path=i,this.snap=l,this.type=ue.OVERWRITE}operationForChild(r){return _n(this.path)?new hn(this.source,Pn(),this.snap.getImmediateChild(r)):new hn(this.source,En(this.path),this.snap)}}class $t{constructor(r,i,l){this.source=r,this.path=i,this.children=l,this.type=ue.MERGE}operationForChild(r){if(_n(this.path)){const i=this.children.subtree(new Wn(r));return i.isEmpty()?null:i.value?new hn(this.source,Pn(),i.value):new $t(this.source,Pn(),i)}return(0,P.hu)(ln(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new $t(this.source,En(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Pt{constructor(r,i,l){this.node_=r,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(_n(r))return this.isFullyInitialized()&&!this.filtered_;const i=ln(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class xn{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function Xn(o,r,i,l,h,w){const R=l.filter($=>$.type===i);R.sort(($,Q)=>function Hn(o,r,i){if(null==r.childName||null==i.childName)throw(0,P.g5)("Should only compare child_ events.");const l=new yn(r.childName,r.snapshotNode),h=new yn(i.childName,i.snapshotNode);return o.index_.compare(l,h)}(o,$,Q)),R.forEach($=>{const Q=function Wr(o,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,$,w);h.forEach(oe=>{oe.respondsTo($.type)&&r.push(oe.createEvent(Q,o.query_))})})}function ns(o,r){return{eventCache:o,serverCache:r}}function gi(o,r,i,l){return ns(new Pt(r,i,l),o.serverCache)}function Yr(o,r,i,l){return ns(o.eventCache,new Pt(r,i,l))}function qr(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function C(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let x;class V{constructor(r,i=(()=>(x||(x=new Pr(kn)),x))()){this.value=r,this.children=i}static fromObject(r){let i=new V(null);return an(r,(l,h)=>{i=i.set(new Wn(l),h)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:Pn(),value:this.value};if(_n(r))return null;{const l=ln(r),h=this.children.get(l);if(null!==h){const w=h.findRootMostMatchingPathAndValue(En(r),i);return null!=w?{path:In(new Wn(l),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(_n(r))return this;{const i=ln(r),l=this.children.get(i);return null!==l?l.subtree(En(r)):new V(null)}}set(r,i){if(_n(r))return new V(i,this.children);{const l=ln(r),w=(this.children.get(l)||new V(null)).set(En(r),i),R=this.children.insert(l,w);return new V(this.value,R)}}remove(r){if(_n(r))return this.children.isEmpty()?new V(null):new V(null,this.children);{const i=ln(r),l=this.children.get(i);if(l){const h=l.remove(En(r));let w;return w=h.isEmpty()?this.children.remove(i):this.children.insert(i,h),null===this.value&&w.isEmpty()?new V(null):new V(this.value,w)}return this}}get(r){if(_n(r))return this.value;{const i=ln(r),l=this.children.get(i);return l?l.get(En(r)):null}}setTree(r,i){if(_n(r))return i;{const l=ln(r),w=(this.children.get(l)||new V(null)).setTree(En(r),i);let R;return R=w.isEmpty()?this.children.remove(l):this.children.insert(l,w),new V(this.value,R)}}fold(r){return this.fold_(Pn(),r)}fold_(r,i){const l={};return this.children.inorderTraversal((h,w)=>{l[h]=w.fold_(In(r,h),i)}),i(r,this.value,l)}findOnPath(r,i){return this.findOnPath_(r,Pn(),i)}findOnPath_(r,i,l){const h=!!this.value&&l(i,this.value);if(h)return h;if(_n(r))return null;{const w=ln(r),R=this.children.get(w);return R?R.findOnPath_(En(r),In(i,w),l):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,Pn(),i)}foreachOnPath_(r,i,l){if(_n(r))return this;{this.value&&l(i,this.value);const h=ln(r),w=this.children.get(h);return w?w.foreachOnPath_(En(r),In(i,h),l):new V(null)}}foreach(r){this.foreach_(Pn(),r)}foreach_(r,i){this.children.inorderTraversal((l,h)=>{h.foreach_(In(r,l),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,l)=>{l.value&&r(i,l.value)})}}class ne{constructor(r){this.writeTree_=r}static empty(){return new ne(new V(null))}}function Ue(o,r,i){if(_n(r))return new ne(new V(i));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const h=l.path;let w=l.value;const R=Jn(h,r);return w=w.updateChild(R,i),new ne(o.writeTree_.set(h,w))}{const h=new V(i),w=o.writeTree_.setTree(r,h);return new ne(w)}}}function Xe(o,r,i){let l=o;return an(i,(h,w)=>{l=Ue(l,In(r,h),w)}),l}function We(o,r){if(_n(r))return ne.empty();{const i=o.writeTree_.setTree(r,new V(null));return new ne(i)}}function pt(o,r){return null!=gt(o,r)}function gt(o,r){const i=o.writeTree_.findRootMostValueAndPath(r);return null!=i?o.writeTree_.get(i.path).getChild(Jn(i.path,r)):null}function Rt(o){const r=[],i=o.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(Zn,(l,h)=>{r.push(new yn(l,h))}):o.writeTree_.children.inorderTraversal((l,h)=>{null!=h.value&&r.push(new yn(l,h.value))}),r}function Bt(o,r){if(_n(r))return o;{const i=gt(o,r);return new ne(null!=i?new V(i):o.writeTree_.subtree(r))}}function Vn(o){return o.writeTree_.isEmpty()}function on(o,r){return er(Pn(),o.writeTree_,r)}function er(o,r,i){if(null!=r.value)return i.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((h,w)=>{".priority"===h?((0,P.hu)(null!==w.value,"Priority writes must always be leaf nodes"),l=w.value):i=er(In(o,h),w,i)}),!i.getChild(o).isEmpty()&&null!==l&&(i=i.updateChild(In(o,".priority"),l)),i}}function jt(o,r){return Gs(r,o)}function Fr(o,r){if(o.snap)return ii(o.path,r);for(const i in o.children)if(o.children.hasOwnProperty(i)&&ii(In(o.path,i),r))return!0;return!1}function no(o){return o.visible}function Zo(o,r,i){let l=ne.empty();for(let h=0;h<o.length;++h){const w=o[h];if(r(w)){const R=w.path;let $;if(w.snap)ii(i,R)?($=Jn(i,R),l=Ue(l,$,w.snap)):ii(R,i)&&($=Jn(R,i),l=Ue(l,Pn(),w.snap.getChild($)));else{if(!w.children)throw(0,P.g5)("WriteRecord should have .snap or .children");if(ii(i,R))$=Jn(i,R),l=Xe(l,$,w.children);else if(ii(R,i))if($=Jn(R,i),_n($))l=Xe(l,Pn(),w.children);else{const Q=(0,P.DV)(w.children,ln($));if(Q){const oe=Q.getChild(En($));l=Ue(l,Pn(),oe)}}}}}return l}function ro(o,r,i,l,h){if(l||h){const w=Bt(o.visibleWrites,r);return!h&&Vn(w)?i:h||null!=i||pt(w,Pn())?on(Zo(o.allWrites,function(oe){return(oe.visible||h)&&(!l||!~l.indexOf(oe.writeId))&&(ii(oe.path,r)||ii(r,oe.path))},r),i||Xt.EMPTY_NODE):null}{const w=gt(o.visibleWrites,r);if(null!=w)return w;{const R=Bt(o.visibleWrites,r);return Vn(R)?i:null!=i||pt(R,Pn())?on(R,i||Xt.EMPTY_NODE):null}}}function To(o,r,i,l){return ro(o.writeTree,o.treePath,r,i,l)}function go(o,r){return function Yo(o,r,i){let l=Xt.EMPTY_NODE;const h=gt(o.visibleWrites,r);if(h)return h.isLeafNode()||h.forEachChild(Zn,(w,R)=>{l=l.updateImmediateChild(w,R)}),l;if(i){const w=Bt(o.visibleWrites,r);return i.forEachChild(Zn,(R,$)=>{const Q=on(Bt(w,new Wn(R)),$);l=l.updateImmediateChild(R,Q)}),Rt(w).forEach(R=>{l=l.updateImmediateChild(R.name,R.node)}),l}return Rt(Bt(o.visibleWrites,r)).forEach(R=>{l=l.updateImmediateChild(R.name,R.node)}),l}(o.writeTree,o.treePath,r)}function mo(o,r,i,l){return function Bo(o,r,i,l,h){(0,P.hu)(l||h,"Either existingEventSnap or existingServerSnap must exist");const w=In(r,i);if(pt(o.visibleWrites,w))return null;{const R=Bt(o.visibleWrites,w);return Vn(R)?h.getChild(i):on(R,h.getChild(i))}}(o.writeTree,o.treePath,r,i,l)}function So(o,r){return function bo(o,r){return gt(o.visibleWrites,r)}(o.writeTree,In(o.treePath,r))}function mi(o,r,i){return function qo(o,r,i,l){const h=In(r,i),w=gt(o.visibleWrites,h);return null!=w?w:l.isCompleteForChild(i)?on(Bt(o.visibleWrites,h),l.getNode().getImmediateChild(i)):null}(o.writeTree,o.treePath,r,i)}function Ca(o,r){return Gs(In(o.treePath,r),o.writeTree)}function Gs(o,r){return{treePath:o,writeTree:r}}class la{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,l=r.childName;(0,P.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,P.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const w=h.type;if("child_added"===i&&"child_removed"===w)this.changeMap.set(l,Ze(l,r.snapshotNode,h.snapshotNode));else if("child_removed"===i&&"child_added"===w)this.changeMap.delete(l);else if("child_removed"===i&&"child_changed"===w)this.changeMap.set(l,js(l,h.oldSnap));else if("child_changed"===i&&"child_added"===w)this.changeMap.set(l,Vs(l,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==w)throw(0,P.g5)("Illegal combination of changes: "+r+" occurred after "+h);this.changeMap.set(l,Ze(l,r.snapshotNode,h.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const gs=new class Za{getCompleteChild(r){return null}getChildAfterChild(r,i,l){return null}};class Qo{constructor(r,i,l=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new Pt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mi(this.writes_,r,l)}}getChildAfterChild(r,i,l){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:C(this.viewCache_),w=function aa(o,r,i,l,h,w){return function wa(o,r,i,l,h,w,R){let $;const Q=Bt(o.visibleWrites,r),oe=gt(Q,Pn());if(null!=oe)$=oe;else{if(null==i)return[];$=on(Q,i)}if($=$.withIndex(R),$.isEmpty()||$.isLeafNode())return[];{const je=[],$e=R.getCompare(),at=w?$.getReverseIteratorFrom(l,R):$.getIteratorFrom(l,R);let Ot=at.getNext();for(;Ot&&je.length<h;)0!==$e(Ot,l)&&je.push(Ot),Ot=at.getNext();return je}}(o.writeTree,o.treePath,r,i,l,h,w)}(this.writes_,h,i,1,l,r);return 0===w.length?null:w[0]}}function bi(o,r,i,l,h,w){const R=r.eventCache;if(null!=So(l,i))return r;{let $,Q;if(_n(i))if((0,P.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const oe=C(r),$e=go(l,oe instanceof Xt?oe:Xt.EMPTY_NODE);$=o.filter.updateFullNode(r.eventCache.getNode(),$e,w)}else{const oe=To(l,C(r));$=o.filter.updateFullNode(r.eventCache.getNode(),oe,w)}else{const oe=ln(i);if(".priority"===oe){(0,P.hu)(1===Er(i),"Can't have a priority with additional path components");const je=R.getNode();Q=r.serverCache.getNode();const $e=mo(l,i,je,Q);$=null!=$e?o.filter.updatePriority(je,$e):R.getNode()}else{const je=En(i);let $e;if(R.isCompleteForChild(oe)){Q=r.serverCache.getNode();const at=mo(l,i,R.getNode(),Q);$e=null!=at?R.getNode().getImmediateChild(oe).updateChild(je,at):R.getNode().getImmediateChild(oe)}else $e=mi(l,oe,r.serverCache);$=null!=$e?o.filter.updateChild(R.getNode(),oe,$e,je,h,w):R.getNode()}}return gi(r,$,R.isFullyInitialized()||_n(i),o.filter.filtersNodes())}}function ss(o,r,i,l,h,w,R,$){const Q=r.serverCache;let oe;const je=R?o.filter:o.filter.getIndexedFilter();if(_n(i))oe=je.updateFullNode(Q.getNode(),l,null);else if(je.filtersNodes()&&!Q.isFiltered()){const Ot=Q.getNode().updateChild(i,l);oe=je.updateFullNode(Q.getNode(),Ot,null)}else{const Ot=ln(i);if(!Q.isCompleteForPath(i)&&Er(i)>1)return r;const Zt=En(i),yi=Q.getNode().getImmediateChild(Ot).updateChild(Zt,l);oe=".priority"===Ot?je.updatePriority(Q.getNode(),yi):je.updateChild(Q.getNode(),Ot,yi,Zt,gs,null)}const $e=Yr(r,oe,Q.isFullyInitialized()||_n(i),je.filtersNodes());return bi(o,$e,i,h,new Qo(h,$e,w),$)}function ba(o,r,i,l,h,w,R){const $=r.eventCache;let Q,oe;const je=new Qo(h,r,w);if(_n(i))oe=o.filter.updateFullNode(r.eventCache.getNode(),l,R),Q=gi(r,oe,!0,o.filter.filtersNodes());else{const $e=ln(i);if(".priority"===$e)oe=o.filter.updatePriority(r.eventCache.getNode(),l),Q=gi(r,oe,$.isFullyInitialized(),$.isFiltered());else{const at=En(i),Ot=$.getNode().getImmediateChild($e);let Zt;if(_n(at))Zt=l;else{const jn=je.getCompleteChild($e);Zt=null!=jn?".priority"===ds(at)&&jn.getChild(ui(at)).isEmpty()?jn:jn.updateChild(at,l):Xt.EMPTY_NODE}Q=Ot.equals(Zt)?r:gi(r,o.filter.updateChild($.getNode(),$e,Zt,at,je,R),$.isFullyInitialized(),o.filter.filtersNodes())}}return Q}function io(o,r){return o.eventCache.isCompleteForChild(r)}function Ta(o,r,i){return i.foreach((l,h)=>{r=r.updateChild(l,h)}),r}function Sa(o,r,i,l,h,w,R,$){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let oe,Q=r;oe=_n(i)?l:new V(null).setTree(i,l);const je=r.serverCache.getNode();return oe.children.inorderTraversal(($e,at)=>{if(je.hasChild($e)){const Zt=Ta(0,r.serverCache.getNode().getImmediateChild($e),at);Q=ss(o,Q,new Wn($e),Zt,h,w,R,$)}}),oe.children.inorderTraversal(($e,at)=>{const Ot=!r.serverCache.isCompleteForChild($e)&&null===at.value;if(!je.hasChild($e)&&!Ot){const jn=Ta(0,r.serverCache.getNode().getImmediateChild($e),at);Q=ss(o,Q,new Wn($e),jn,h,w,R,$)}}),Q}class Ao{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new Xi(l.getIndex()),w=function fo(o){return o.loadsAllData()?new Xi(o.getIndex()):o.hasLimit()?new $r(o):new Ni(o)}(l);this.processor_=function ua(o){return{filter:o}}(w);const R=i.serverCache,$=i.eventCache,Q=h.updateFullNode(Xt.EMPTY_NODE,R.getNode(),null),oe=w.updateFullNode(Xt.EMPTY_NODE,$.getNode(),null),je=new Pt(Q,R.isFullyInitialized(),h.filtersNodes()),$e=new Pt(oe,$.isFullyInitialized(),w.filtersNodes());this.viewCache_=ns($e,je),this.eventGenerator_=new xn(this.query_)}get query(){return this.query_}}function ea(o,r){const i=C(o.viewCache_);return i&&(o.query._queryParams.loadsAllData()||!_n(r)&&!i.getImmediateChild(ln(r)).isEmpty())?i.getChild(r):null}function Ja(o){return 0===o.eventRegistrations_.length}function _r(o,r,i){const l=[];if(i){(0,P.hu)(null==r,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(w=>{const R=w.createCancelEvent(i,h);R&&l.push(R)})}if(r){let h=[];for(let w=0;w<o.eventRegistrations_.length;++w){const R=o.eventRegistrations_[w];if(R.matches(r)){if(r.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(w+1));break}}else h.push(R)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return l}function Aa(o,r,i,l){r.type===ue.MERGE&&null!==r.source.queryId&&((0,P.hu)(C(o.viewCache_),"We should always have a full cache before handling merges"),(0,P.hu)(qr(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,w=function Jo(o,r,i,l,h){const w=new la;let R,$;if(i.type===ue.OVERWRITE){const oe=i;oe.source.fromUser?R=ba(o,r,oe.path,oe.snap,l,h,w):((0,P.hu)(oe.source.fromServer,"Unknown source."),$=oe.source.tagged||r.serverCache.isFiltered()&&!_n(oe.path),R=ss(o,r,oe.path,oe.snap,l,h,$,w))}else if(i.type===ue.MERGE){const oe=i;oe.source.fromUser?R=function Xo(o,r,i,l,h,w,R){let $=r;return l.foreach((Q,oe)=>{const je=In(i,Q);io(r,ln(je))&&($=ba(o,$,je,oe,h,w,R))}),l.foreach((Q,oe)=>{const je=In(i,Q);io(r,ln(je))||($=ba(o,$,je,oe,h,w,R))}),$}(o,r,oe.path,oe.children,l,h,w):((0,P.hu)(oe.source.fromServer,"Unknown source."),$=oe.source.tagged||r.serverCache.isFiltered(),R=Sa(o,r,oe.path,oe.children,l,h,$,w))}else if(i.type===ue.ACK_USER_WRITE){const oe=i;R=oe.revert?function Ho(o,r,i,l,h,w){let R;if(null!=So(l,i))return r;{const $=new Qo(l,r,h),Q=r.eventCache.getNode();let oe;if(_n(i)||".priority"===ln(i)){let je;if(r.serverCache.isFullyInitialized())je=To(l,C(r));else{const $e=r.serverCache.getNode();(0,P.hu)($e instanceof Xt,"serverChildren would be complete if leaf node"),je=go(l,$e)}oe=o.filter.updateFullNode(Q,je,w)}else{const je=ln(i);let $e=mi(l,je,r.serverCache);null==$e&&r.serverCache.isCompleteForChild(je)&&($e=Q.getImmediateChild(je)),oe=null!=$e?o.filter.updateChild(Q,je,$e,En(i),$,w):r.eventCache.getNode().hasChild(je)?o.filter.updateChild(Q,je,Xt.EMPTY_NODE,En(i),$,w):Q,oe.isEmpty()&&r.serverCache.isFullyInitialized()&&(R=To(l,C(r)),R.isLeafNode()&&(oe=o.filter.updateFullNode(oe,R,w)))}return R=r.serverCache.isFullyInitialized()||null!=So(l,Pn()),gi(r,oe,R,o.filter.filtersNodes())}}(o,r,oe.path,l,h,w):function Ya(o,r,i,l,h,w,R){if(null!=So(h,i))return r;const $=r.serverCache.isFiltered(),Q=r.serverCache;if(null!=l.value){if(_n(i)&&Q.isFullyInitialized()||Q.isCompleteForPath(i))return ss(o,r,i,Q.getNode().getChild(i),h,w,$,R);if(_n(i)){let oe=new V(null);return Q.getNode().forEachChild(Mr,(je,$e)=>{oe=oe.set(new Wn(je),$e)}),Sa(o,r,i,oe,h,w,$,R)}return r}{let oe=new V(null);return l.foreach((je,$e)=>{const at=In(i,je);Q.isCompleteForPath(at)&&(oe=oe.set(je,Q.getNode().getChild(at)))}),Sa(o,r,i,oe,h,w,$,R)}}(o,r,oe.path,oe.affectedTree,l,h,w)}else{if(i.type!==ue.LISTEN_COMPLETE)throw(0,P.g5)("Unknown operation type: "+i.type);R=function so(o,r,i,l,h){const w=r.serverCache;return bi(o,Yr(r,w.getNode(),w.isFullyInitialized()||_n(i),w.isFiltered()),i,l,gs,h)}(o,r,i.path,l,w)}const Q=w.getChanges();return function ca(o,r,i){const l=r.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),w=qr(o);(i.length>0||!o.eventCache.isFullyInitialized()||h&&!l.getNode().equals(w)||!l.getNode().getPriority().equals(w.getPriority()))&&i.push(to(qr(r)))}}(r,R,Q),{viewCache:R,changes:Q}}(o.processor_,h,r,i,l);return function Rs(o,r){(0,P.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,P.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,w.viewCache),(0,P.hu)(w.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=w.viewCache,el(o,w.changes,w.viewCache.eventCache.getNode(),null)}function el(o,r,i,l){return function rn(o,r,i,l){const h=[],w=[];return r.forEach(R=>{"child_changed"===R.type&&o.index_.indexedValueChanged(R.oldSnap,R.snapshotNode)&&w.push(function An(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(R.childName,R.snapshotNode))}),Xn(o,h,"child_removed",r,l,i),Xn(o,h,"child_added",r,l,i),Xn(o,h,"child_moved",w,l,i),Xn(o,h,"child_changed",r,l,i),Xn(o,h,"value",r,l,i),h}(o.eventGenerator_,r,i,l?[l]:o.eventRegistrations_)}let ha,b;class Ra{constructor(){this.views=new Map}}function pa(o,r,i,l){const h=r.source.queryId;if(null!==h){const w=o.views.get(h);return(0,P.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Aa(w,r,i,l)}{let w=[];for(const R of o.views.values())w=w.concat(Aa(R,r,i,l));return w}}function ta(o,r,i,l,h){const R=o.views.get(r._queryIdentifier);if(!R){let $=To(i,h?l:null),Q=!1;$?Q=!0:l instanceof Xt?($=go(i,l),Q=!1):($=Xt.EMPTY_NODE,Q=!1);const oe=ns(new Pt($,Q,!1),new Pt(l,h,!1));return new Ao(r,oe)}return R}function Ro(o){const r=[];for(const i of o.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function Ks(o,r){let i=null;for(const l of o.views.values())i=i||ea(l,r);return i}function Zi(o,r){return r._queryParams.loadsAllData()?f(o):o.views.get(r._queryIdentifier)}function _(o,r){return null!=Zi(o,r)}function I(o){return null!=f(o)}function f(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Z=1;class Re{constructor(r){this.listenProvider_=r,this.syncPointTree_=new V(null),this.pendingWriteTree_=function is(){return{visibleWrites:ne.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Qe(o,r,i,l,h){return function Qr(o,r,i,l,h){(0,P.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:r,snap:i,writeId:l,visible:h}),h&&(o.visibleWrites=Ue(o.visibleWrites,r,i)),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l,h),h?jo(o,new hn({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function vt(o,r,i=!1){const l=function zn(o,r){for(let i=0;i<o.allWrites.length;i++){const l=o.allWrites[i];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function Jr(o,r){const i=o.allWrites.findIndex($=>$.writeId===r);(0,P.hu)(i>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[i];o.allWrites.splice(i,1);let h=l.visible,w=!1,R=o.allWrites.length-1;for(;h&&R>=0;){const $=o.allWrites[R];$.visible&&(R>=i&&Fr($,l.path)?h=!1:ii(l.path,$.path)&&(w=!0)),R--}return!!h&&(w?(function rs(o){o.visibleWrites=Zo(o.allWrites,no,Pn()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=We(o.visibleWrites,l.path):an(l.children,Q=>{o.visibleWrites=We(o.visibleWrites,In(l.path,Q))}),!0))}(o.pendingWriteTree_,r)){let w=new V(null);return null!=l.snap?w=w.set(Pn(),!0):an(l.children,R=>{w=w.set(new Wn(R),!0)}),jo(o,new Ct(l.path,w,i))}return[]}function Ln(o,r,i){return jo(o,new hn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function ms(o,r,i,l,h=!1){const w=r._path,R=o.syncPointTree_.get(w);let $=[];if(R&&("default"===r._queryIdentifier||_(R,r))){const Q=function na(o,r,i,l){const h=r._queryIdentifier,w=[];let R=[];const $=I(o);if("default"===h)for(const[Q,oe]of o.views.entries())R=R.concat(_r(oe,i,l)),Ja(oe)&&(o.views.delete(Q),oe.query._queryParams.loadsAllData()||w.push(oe.query));else{const Q=o.views.get(h);Q&&(R=R.concat(_r(Q,i,l)),Ja(Q)&&(o.views.delete(h),Q.query._queryParams.loadsAllData()||w.push(Q.query)))}return $&&!I(o)&&w.push(new(function tl(){return(0,P.hu)(ha,"Reference.ts has not been loaded"),ha}())(r._repo,r._path)),{removed:w,events:R}}(R,r,i,l);(function fa(o){return 0===o.views.size})(R)&&(o.syncPointTree_=o.syncPointTree_.remove(w));const oe=Q.removed;if($=Q.events,!h){const je=-1!==oe.findIndex(at=>at._queryParams.loadsAllData()),$e=o.syncPointTree_.findOnPath(w,(at,Ot)=>I(Ot));if(je&&!$e){const at=o.syncPointTree_.subtree(w);if(!at.isEmpty()){const Ot=function Vt(o){return o.fold((r,i,l)=>{if(i&&I(i))return[f(i)];{let h=[];return i&&(h=Ro(i)),an(l,(w,R)=>{h=h.concat(R)}),h}})}(at);for(let Zt=0;Zt<Ot.length;++Zt){const jn=Ot[Zt],yi=jn.query,Os=O(o,jn);o.listenProvider_.startListening(Wt(yi),W(o,yi),Os.hashFn,Os.onComplete)}}}!$e&&oe.length>0&&!l&&(je?o.listenProvider_.stopListening(Wt(r),null):oe.forEach(at=>{const Ot=o.queryToTagMap.get(ie(at));o.listenProvider_.stopListening(Wt(at),Ot)}))}!function Gt(o,r){for(let i=0;i<r.length;++i){const l=r[i];if(!l._queryParams.loadsAllData()){const h=ie(l),w=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(w)}}}(o,oe)}return $}function Xr(o,r,i,l){const h=Ae(o,l);if(null!=h){const w=Be(h),R=w.path,$=w.queryId,Q=Jn(R,r);return ut(o,R,new hn(wt($),Q,i))}return[]}function Vo(o,r,i,l=!1){const h=r._path;let w=null,R=!1;o.syncPointTree_.foreachOnPath(h,(at,Ot)=>{const Zt=Jn(at,h);w=w||Ks(Ot,Zt),R=R||I(Ot)});let Q,$=o.syncPointTree_.get(h);$?(R=R||I($),w=w||Ks($,Pn())):($=new Ra,o.syncPointTree_=o.syncPointTree_.set(h,$)),null!=w?Q=!0:(Q=!1,w=Xt.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((Ot,Zt)=>{const jn=Ks(Zt,Pn());jn&&(w=w.updateImmediateChild(Ot,jn))}));const oe=_($,r);if(!oe&&!r._queryParams.loadsAllData()){const at=ie(r);(0,P.hu)(!o.queryToTagMap.has(at),"View does not exist, but we have a tag");const Ot=function On(){return Z++}();o.queryToTagMap.set(at,Ot),o.tagToQueryMap.set(Ot,at)}let $e=function Cr(o,r,i,l,h,w){const R=ta(o,r,l,h,w);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,R),function Xa(o,r){o.eventRegistrations_.push(r)}(R,i),function da(o,r){const i=o.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Zn,(w,R)=>{l.push(Vs(w,R))}),i.isFullyInitialized()&&l.push(to(i.getNode())),el(o,l,i.getNode(),r)}(R,i)}($,r,i,jt(o.pendingWriteTree_,h),w,Q);if(!oe&&!R&&!l){const at=Zi($,r);$e=$e.concat(function wn(o,r,i){const l=r._path,h=W(o,r),w=O(o,i),R=o.listenProvider_.startListening(Wt(r),h,w.hashFn,w.onComplete),$=o.syncPointTree_.subtree(l);if(h)(0,P.hu)(!I($.value),"If we're adding a query, it shouldn't be shadowed");else{const Q=$.fold((oe,je,$e)=>{if(!_n(oe)&&je&&I(je))return[f(je).query];{let at=[];return je&&(at=at.concat(Ro(je).map(Ot=>Ot.query))),an($e,(Ot,Zt)=>{at=at.concat(Zt)}),at}});for(let oe=0;oe<Q.length;++oe){const je=Q[oe];o.listenProvider_.stopListening(Wt(je),W(o,je))}}return R}(o,r,at))}return $e}function yo(o,r,i){const h=o.pendingWriteTree_,w=o.syncPointTree_.findOnPath(r,(R,$)=>{const oe=Ks($,Jn(R,r));if(oe)return oe});return ro(h,r,w,i,!0)}function jo(o,r){return Oa(r,o.syncPointTree_,null,jt(o.pendingWriteTree_,Pn()))}function Oa(o,r,i,l){if(_n(o.path))return A(o,r,i,l);{const h=r.get(Pn());null==i&&null!=h&&(i=Ks(h,Pn()));let w=[];const R=ln(o.path),$=o.operationForChild(R),Q=r.children.get(R);if(Q&&$){const oe=i?i.getImmediateChild(R):null,je=Ca(l,R);w=w.concat(Oa($,Q,oe,je))}return h&&(w=w.concat(pa(h,o,l,i))),w}}function A(o,r,i,l){const h=r.get(Pn());null==i&&null!=h&&(i=Ks(h,Pn()));let w=[];return r.children.inorderTraversal((R,$)=>{const Q=i?i.getImmediateChild(R):null,oe=Ca(l,R),je=o.operationForChild(R);je&&(w=w.concat(A(je,$,Q,oe)))}),h&&(w=w.concat(pa(h,o,l,i))),w}function O(o,r){const i=r.query,l=W(o,i);return{hashFn:()=>(function qa(o){return o.viewCache_.serverCache.getNode()}(r)||Xt.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return l?function _i(o,r,i){const l=Ae(o,i);if(l){const h=Be(l),w=h.path,R=h.queryId,$=Jn(w,r);return ut(o,w,new Dn(wt(R),$))}return[]}(o,i._path,l):function _o(o,r){return jo(o,new Dn({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,i._path);{const w=function Lt(o,r){let i="Unknown Error";"too_big"===o?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?i="Client doesn't have permission to access the desired data.":"unavailable"===o&&(i="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+i);return l.code=o.toUpperCase(),l}(h,i);return ms(o,i,null,w)}}}}function W(o,r){const i=ie(r);return o.queryToTagMap.get(i)}function ie(o){return o._path.toString()+"$"+o._queryIdentifier}function Ae(o,r){return o.tagToQueryMap.get(r)}function Be(o){const r=o.indexOf("$");return(0,P.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new Wn(o.substr(0,r))}}function ut(o,r,i){const l=o.syncPointTree_.get(r);return(0,P.hu)(l,"Missing sync point for query tag that we're tracking"),pa(l,i,jt(o.pendingWriteTree_,r),null)}function Wt(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function z(){return(0,P.hu)(b,"Reference.ts has not been loaded"),b}())(o._repo,o._path):o}class os{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new os(i)}node(){return this.node_}}class hi{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=In(this.path_,r);return new hi(this.syncTree_,i)}node(){return yo(this.syncTree_,this.path_)}}const nl=function(o,r,i){return o&&"object"==typeof o?((0,P.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?ga(o[".sv"],r,i):"object"==typeof o[".sv"]?oo(o[".sv"],r):void(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},ga=function(o,r,i){if("timestamp"===o)return i.timestamp;(0,P.hu)(!1,"Unexpected server value: "+o)},oo=function(o,r,i){o.hasOwnProperty("increment")||(0,P.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,P.hu)(!1,"Unexpected increment value: "+l);const h=r.node();if((0,P.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const R=h.getValue();return"number"!=typeof R?l:R+l},vo=function(o,r,i,l){return jl(r,new hi(i,o),l)},Mo=function(o,r,i){return jl(o,new os(r),i)};function jl(o,r,i){const l=o.getPriority().val(),h=nl(l,r.getImmediateChild(".priority"),i);let w;if(o.isLeafNode()){const R=o,$=nl(R.getValue(),r,i);return $!==R.getValue()||h!==R.getPriority().val()?new rr($,fr(h)):o}{const R=o;return w=R,h!==R.getPriority().val()&&(w=w.updatePriority(new rr(h))),R.forEachChild(Zn,($,Q)=>{const oe=jl(Q,r.getImmediateChild($),i);oe!==Q&&(w=w.updateImmediateChild($,oe))}),w}}class Du{constructor(r="",i=null,l={children:{},childCount:0}){this.name=r,this.parent=i,this.node=l}}function _l(o,r){let i=r instanceof Wn?r:new Wn(r),l=o,h=ln(i);for(;null!==h;){const w=(0,P.DV)(l.node.children,h)||{children:{},childCount:0};l=new Du(h,l,w),i=En(i),h=ln(i)}return l}function ma(o){return o.node.value}function $l(o,r){o.node.value=r,yl(o)}function rd(o){return o.node.childCount>0}function Wl(o,r){an(o.node.children,(i,l)=>{r(new Du(i,o,l))})}function ka(o,r,i,l){i&&!l&&r(o),Wl(o,h=>{ka(h,r,!0,l)}),i&&l&&r(o)}function zl(o){return new Wn(null===o.parent?o.name:zl(o.parent)+"/"+o.name)}function yl(o){null!==o.parent&&function uh(o,r,i){const l=function cc(o){return void 0===ma(o)&&!rd(o)}(i),h=(0,P.r3)(o.node.children,r);l&&h?(delete o.node.children[r],o.node.childCount--,yl(o)):!l&&!h&&(o.node.children[r]=i.node,o.node.childCount++,yl(o))}(o.parent,o.name,o)}const ch=/[\[\].#$\/\u0000-\u001F\u007F]/,dh=/[\[\].#$\u0000-\u001F\u007F]/,dc=10485760,wu=function(o){return"string"==typeof o&&0!==o.length&&!ch.test(o)},Gl=function(o){return"string"==typeof o&&0!==o.length&&!dh.test(o)},xa=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!dr(o)||o&&"object"==typeof o&&(0,P.r3)(o,".sv")},Po=function(o,r,i,l){l&&void 0===r||rl((0,P.gK)(o,"value"),r,i)},rl=function(o,r,i){const l=i instanceof Wn?new qi(i,o):i;if(void 0===r)throw new Error(o+"contains undefined "+Cs(l));if("function"==typeof r)throw new Error(o+"contains a function "+Cs(l)+" with contents = "+r.toString());if(dr(r))throw new Error(o+"contains "+r.toString()+" "+Cs(l));if("string"==typeof r&&r.length>dc/3&&(0,P.ug)(r)>dc)throw new Error(o+"contains a string greater than "+dc+" utf8 bytes "+Cs(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let h=!1,w=!1;if(an(r,(R,$)=>{if(".value"===R)h=!0;else if(".priority"!==R&&".sv"!==R&&(w=!0,!wu(R)))throw new Error(o+" contains an invalid key ("+R+") "+Cs(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Hi(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,P.ug)(r),ws(o)})(l,R),rl(o,$,l),function hs(o){const r=o.parts_.pop();o.byteLength_-=(0,P.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),h&&w)throw new Error(o+' contains ".value" child '+Cs(l)+" in addition to actual children.")}},Eo=function(o,r,i,l){if(l&&void 0===r)return;const h=(0,P.gK)(o,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(h+" must be an object containing the children to replace.");const w=[];an(r,(R,$)=>{const Q=new Wn(R);if(rl(h,$,In(i,Q)),".priority"===ds(Q)&&!xa($))throw new Error(h+"contains an invalid value for '"+Q.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(Q)}),function(o,r){let i,l;for(i=0;i<r.length;i++){l=r[i];const w=Tr(l);for(let R=0;R<w.length;R++)if((".priority"!==w[R]||R!==w.length-1)&&!wu(w[R]))throw new Error(o+"contains an invalid key ("+w[R]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Is);let h=null;for(i=0;i<r.length;i++){if(l=r[i],null!==h&&ii(h,l))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}}(h,w)},Cu=function(o,r,i){if(!i||void 0!==r){if(dr(r))throw new Error((0,P.gK)(o,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xa(r))throw new Error((0,P.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},vl=function(o,r,i,l){if(!(l&&void 0===i||wu(i)))throw new Error((0,P.gK)(o,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},El=function(o,r,i,l){if(!(l&&void 0===i||Gl(i)))throw new Error((0,P.gK)(o,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_s=function(o,r){if(".info"===ln(r))throw new Error(o+" failed = Can't modify data under /.info/")},gc=function(o,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!wu(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Gl(o)}(i))throw new Error((0,P.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kl(o,r){let i=null;for(let l=0;l<r.length;l++){const h=r[l],w=h.getPath();null!==i&&!Ds(w,i.path)&&(o.eventLists_.push(i),i=null),null===i&&(i={events:[],path:w}),i.events.push(h)}i&&o.eventLists_.push(i)}function Zl(o,r,i){Kl(o,i),Yl(o,l=>Ds(l,r))}function ao(o,r,i){Kl(o,i),Yl(o,l=>ii(l,r)||ii(r,l))}function Yl(o,r){o.recursionDepth_++;let i=!0;for(let l=0;l<o.eventLists_.length;l++){const h=o.eventLists_[l];h&&(r(h.path)?(Zs(o.eventLists_[l]),o.eventLists_[l]=null):i=!1)}i&&(o.eventLists_=[]),o.recursionDepth_--}function Zs(o){for(let r=0;r<o.events.length;r++){const i=o.events[r];if(null!==i){o.events[r]=null;const l=i.getEventRunner();ur&&fn("event: "+i.toString()),yr(l)}}}const Il="repo_interrupt";class Su{constructor(r,i,l,h){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=es(),this.transactionQueueTree_=new Du,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function il(o){const i=o.infoData_.getNode(new Wn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function sl(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:il(o)})}function Au(o,r,i,l,h){o.dataUpdateCount++;const w=new Wn(r);i=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,i):i;let R=[];if(h)if(l){const Q=(0,P.UI)(i,oe=>fr(oe));R=function Iu(o,r,i,l){const h=Ae(o,l);if(h){const w=Be(h),R=w.path,$=w.queryId,Q=Jn(R,r),oe=V.fromObject(i);return ut(o,R,new $t(wt($),Q,oe))}return[]}(o.serverSyncTree_,w,Q,h)}else{const Q=fr(i);R=Xr(o.serverSyncTree_,w,Q,h)}else if(l){const Q=(0,P.UI)(i,oe=>fr(oe));R=function oi(o,r,i){const l=V.fromObject(i);return jo(o,new $t({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,w,Q)}else{const Q=fr(i);R=Ln(o.serverSyncTree_,w,Q)}let $=w;R.length>0&&($=al(o,w)),ao(o.eventQueue_,$,R)}function Ru(o,r){_c(o,"connected",r),!1===r&&function sd(o){Fa(o,"onDisconnectEvents");const r=sl(o),i=es();B(o.onDisconnect_,Pn(),(h,w)=>{const R=vo(h,w,o.serverSyncTree_,r);Ki(i,h,R)});let l=[];B(i,Pn(),(h,w)=>{l=l.concat(Ln(o.serverSyncTree_,h,w));const R=Ua(o,h);al(o,R)}),o.onDisconnect_=es(),ao(o.eventQueue_,Pn(),l)}(o)}function _c(o,r,i){const l=new Wn("/.info/"+r),h=fr(i);o.infoData_.updateSnapshot(l,h);const w=Ln(o.infoSyncTree_,l,h);ao(o.eventQueue_,l,w)}function Oo(o){return o.nextWriteId_++}function ql(o,r,i,l,h){Fa(o,"set",{path:r.toString(),value:i,priority:l});const w=sl(o),R=fr(i,l),$=yo(o.serverSyncTree_,r),Q=Mo(R,$,w),oe=Oo(o),je=Qe(o.serverSyncTree_,r,Q,oe,!0);Kl(o.eventQueue_,je),o.server_.put(r.toString(),R.val(!0),(at,Ot)=>{const Zt="ok"===at;Zt||pn("set at "+r+" failed: "+at);const jn=vt(o.serverSyncTree_,oe,!Zt);ao(o.eventQueue_,r,jn),lo(0,h,at,Ot)});const $e=Ua(o,r);al(o,$e),ao(o.eventQueue_,$e,[])}function Dl(o,r,i){o.server_.onDisconnectCancel(r.toString(),(l,h)=>{"ok"===l&&ts(o.onDisconnect_,r),lo(0,i,l,h)})}function Ql(o,r,i,l){const h=fr(i);o.server_.onDisconnectPut(r.toString(),h.val(!0),(w,R)=>{"ok"===w&&Ki(o.onDisconnect_,r,h),lo(0,l,w,R)})}function Pu(o,r,i){let l;l=".info"===ln(r._path)?ms(o.infoSyncTree_,r,i):ms(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}function ol(o){o.persistentConnection_&&o.persistentConnection_.interrupt(Il)}function Fa(o,...r){let i="";o.persistentConnection_&&(i=o.persistentConnection_.id+":"),fn(i,...r)}function lo(o,r,i,l){r&&yr(()=>{if("ok"===i)r(null);else{const h=(i||"error").toUpperCase();let w=h;l&&(w+=": "+l);const R=new Error(w);R.code=h,r(R)}})}function Jl(o,r,i){return yo(o.serverSyncTree_,r,i)||Xt.EMPTY_NODE}function wl(o,r=o.transactionQueueTree_){if(r||tu(o,r),ma(r)){const i=eu(o,r);(0,P.hu)(i.length>0,"Sending zero length transaction queue"),i.every(h=>0===h.status)&&function Cl(o,r,i){const l=i.map(oe=>oe.currentWriteId),h=Jl(o,r,l);let w=h;const R=h.hash();for(let oe=0;oe<i.length;oe++){const je=i[oe];(0,P.hu)(0===je.status,"tryToSendTransactionQueue_: items in queue should all be run."),je.status=1,je.retryCount++;const $e=Jn(r,je.path);w=w.updateChild($e,je.currentOutputSnapshotRaw)}const $=w.val(!0),Q=r;o.server_.put(Q.toString(),$,oe=>{Fa(o,"transaction put response",{path:Q.toString(),status:oe});let je=[];if("ok"===oe){const $e=[];for(let at=0;at<i.length;at++)i[at].status=2,je=je.concat(vt(o.serverSyncTree_,i[at].currentWriteId)),i[at].onComplete&&$e.push(()=>i[at].onComplete(null,!0,i[at].currentOutputSnapshotResolved)),i[at].unwatcher();tu(o,_l(o.transactionQueueTree_,r)),wl(o,o.transactionQueueTree_),ao(o.eventQueue_,r,je);for(let at=0;at<$e.length;at++)yr($e[at])}else{if("datastale"===oe)for(let $e=0;$e<i.length;$e++)i[$e].status=3===i[$e].status?4:0;else{pn("transaction at "+Q.toString()+" failed: "+oe);for(let $e=0;$e<i.length;$e++)i[$e].status=4,i[$e].abortReason=oe}al(o,r)}},R)}(o,zl(r),i)}else rd(r)&&Wl(r,i=>{wl(o,i)})}function al(o,r){const i=Xl(o,r),l=zl(i);return function ld(o,r,i){if(0===r.length)return;const l=[];let h=[];const R=r.filter($=>0===$.status).map($=>$.currentWriteId);for(let $=0;$<r.length;$++){const Q=r[$],oe=Jn(i,Q.path);let $e,je=!1;if((0,P.hu)(null!==oe,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Q.status)je=!0,$e=Q.abortReason,h=h.concat(vt(o.serverSyncTree_,Q.currentWriteId,!0));else if(0===Q.status)if(Q.retryCount>=25)je=!0,$e="maxretry",h=h.concat(vt(o.serverSyncTree_,Q.currentWriteId,!0));else{const at=Jl(o,Q.path,R);Q.currentInputSnapshot=at;const Ot=r[$].update(at.val());if(void 0!==Ot){rl("transaction failed: Data returned ",Ot,Q.path);let Zt=fr(Ot);"object"==typeof Ot&&null!=Ot&&(0,P.r3)(Ot,".priority")||(Zt=Zt.updatePriority(at.getPriority()));const yi=Q.currentWriteId,Os=sl(o),Ko=Mo(Zt,at,Os);Q.currentOutputSnapshotRaw=Zt,Q.currentOutputSnapshotResolved=Ko,Q.currentWriteId=Oo(o),R.splice(R.indexOf(yi),1),h=h.concat(Qe(o.serverSyncTree_,Q.path,Ko,Q.currentWriteId,Q.applyLocally)),h=h.concat(vt(o.serverSyncTree_,yi,!0))}else je=!0,$e="nodata",h=h.concat(vt(o.serverSyncTree_,Q.currentWriteId,!0))}ao(o.eventQueue_,i,h),h=[],je&&(r[$].status=2,setTimeout(r[$].unwatcher,Math.floor(0)),r[$].onComplete&&l.push("nodata"===$e?()=>r[$].onComplete(null,!1,r[$].currentInputSnapshot):()=>r[$].onComplete(new Error($e),!1,null)))}tu(o,o.transactionQueueTree_);for(let $=0;$<l.length;$++)yr(l[$]);wl(o,o.transactionQueueTree_)}(o,eu(o,i),l),l}function Xl(o,r){let i,l=o.transactionQueueTree_;for(i=ln(r);null!==i&&void 0===ma(l);)l=_l(l,i),i=ln(r=En(r));return l}function eu(o,r){const i=[];return yc(o,r,i),i.sort((l,h)=>l.order-h.order),i}function yc(o,r,i){const l=ma(r);if(l)for(let h=0;h<l.length;h++)i.push(l[h]);Wl(r,h=>{yc(o,h,i)})}function tu(o,r){const i=ma(r);if(i){let l=0;for(let h=0;h<i.length;h++)2!==i[h].status&&(i[l]=i[h],l++);i.length=l,$l(r,i.length>0?i:void 0)}Wl(r,l=>{tu(o,l)})}function Ua(o,r){const i=zl(Xl(o,r)),l=_l(o.transactionQueueTree_,r);return function lh(o,r,i){let l=i?o:o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,h=>{bl(o,h)}),bl(o,l),ka(l,h=>{bl(o,h)}),i}function bl(o,r){const i=ma(r);if(i){const l=[];let h=[],w=-1;for(let R=0;R<i.length;R++)3===i[R].status||(1===i[R].status?((0,P.hu)(w===R-1,"All SENT items should be at beginning of queue."),w=R,i[R].status=3,i[R].abortReason="set"):((0,P.hu)(0===i[R].status,"Unexpected transaction status in abort"),i[R].unwatcher(),h=h.concat(vt(o.serverSyncTree_,i[R].currentWriteId,!0)),i[R].onComplete&&l.push(i[R].onComplete.bind(null,new Error("set"),!1,null))));-1===w?$l(r,void 0):i.length=w+1,ao(o.eventQueue_,zl(r),h);for(let R=0;R<l.length;R++)yr(l[R])}}const nu=function(o,r){const i=ud(o),l=i.namespace;return"firebase.com"===i.domain&&Yn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==i.domain&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&pn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new He(i.host,i.secure,l,"ws"===i.scheme||"wss"===i.scheme,r,"",l!==i.subdomain),path:new Wn(i.pathString)}},ud=function(o){let r="",i="",l="",h="",w="",R=!0,$="https",Q=443;if("string"==typeof o){let oe=o.indexOf("//");oe>=0&&($=o.substring(0,oe-1),o=o.substring(oe+2));let je=o.indexOf("/");-1===je&&(je=o.length);let $e=o.indexOf("?");-1===$e&&($e=o.length),r=o.substring(0,Math.min(je,$e)),je<$e&&(h=function vc(o){let r="";const i=o.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let h=i[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}r+="/"+h}return r}(o.substring(je,$e)));const at=function ku(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const i of o.split("&")){if(0===i.length)continue;const l=i.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):pn(`Invalid query segment '${i}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,$e)));oe=r.indexOf(":"),oe>=0?(R="https"===$||"wss"===$,Q=parseInt(r.substring(oe+1),10)):oe=r.length;const Ot=r.slice(0,oe);if("localhost"===Ot.toLowerCase())i="localhost";else if(Ot.split(".").length<=2)i=Ot;else{const Zt=r.indexOf(".");l=r.substring(0,Zt).toLowerCase(),i=r.substring(Zt+1),w=l}"ns"in at&&(w=at.ns)}return{host:r,port:Q,domain:i,subdomain:l,secure:R,scheme:$,pathString:h,namespace:w}},xu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ec=function(){let o=0;const r=[];return function(i){const l=i===o;let h;o=i;const w=new Array(8);for(h=7;h>=0;h--)w[h]=xu.charAt(i%64),i=Math.floor(i/64);(0,P.hu)(0===i,"Cannot push at time == 0");let R=w.join("");if(l){for(h=11;h>=0&&63===r[h];h--)r[h]=0;r[h]++}else for(h=0;h<12;h++)r[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)R+=xu.charAt(r[h]);return(0,P.hu)(20===R.length,"nextPushId: Length should be 20."),R}}();class _a{constructor(r,i,l,h){this.eventType=r,this.eventRegistration=i,this.snapshot=l,this.prevName=h}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,P.Wl)(this.snapshot.exportVal())}}class Ba{constructor(r,i,l){this.eventRegistration=r,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ru{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,P.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Lu{constructor(r,i){this._repo=r,this._path=i}cancel(){const r=new P.BH;return Dl(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){_s("OnDisconnect.remove",this._path);const r=new P.BH;return Ql(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){_s("OnDisconnect.set",this._path),Po("OnDisconnect.set",r,this._path,!1);const i=new P.BH;return Ql(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}setWithPriority(r,i){_s("OnDisconnect.setWithPriority",this._path),Po("OnDisconnect.setWithPriority",r,this._path,!1),Cu("OnDisconnect.setWithPriority",i,!1);const l=new P.BH;return function od(o,r,i,l,h){const w=fr(i,l);o.server_.onDisconnectPut(r.toString(),w.val(!0),(R,$)=>{"ok"===R&&Ki(o.onDisconnect_,r,w),lo(0,h,R,$)})}(this._repo,this._path,r,i,l.wrapCallback(()=>{})),l.promise}update(r){_s("OnDisconnect.update",this._path),Eo("OnDisconnect.update",r,this._path,!1);const i=new P.BH;return function La(o,r,i,l){if((0,P.xb)(i))return fn("onDisconnect().update() called with empty data.  Don't do anything."),void lo(0,l,"ok",void 0);o.server_.onDisconnectMerge(r.toString(),i,(h,w)=>{"ok"===h&&an(i,(R,$)=>{const Q=fr($);Ki(o.onDisconnect_,In(r,R),Q)}),lo(0,l,h,w)})}(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}}class uo{constructor(r,i,l,h){this._repo=r,this._path=i,this._queryParams=l,this._orderByCalled=h}get key(){return _n(this._path)?null:ds(this._path)}get ref(){return new Ys(this._repo,this._path)}get _queryIdentifier(){const r=zi(this._queryParams),i=Sr(r);return"{}"===i?"default":i}get _queryObject(){return zi(this._queryParams)}isEqual(r){if(!((r=(0,P.m9)(r))instanceof uo))return!1;const i=this._repo===r._repo,l=Ds(this._path,r._path);return i&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Hr(o){let r="";for(let i=o.pieceNum_;i<o.pieces_.length;i++)""!==o.pieces_[i]&&(r+="/"+encodeURIComponent(String(o.pieces_[i])));return r||"/"}(this._path)}}function Ha(o,r){if(!0===o._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function ya(o){let r=null,i=null;if(o.hasStart()&&(r=o.getIndexStartValue()),o.hasEnd()&&(i=o.getIndexEndValue()),o.getIndex()===Mr){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==qn)throw new Error(l);if("string"!=typeof r)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==bn)throw new Error(l);if("string"!=typeof i)throw new Error(h)}}else if(o.getIndex()===Zn){if(null!=r&&!xa(r)||null!=i&&!xa(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,P.hu)(o.getIndex()instanceof As||o.getIndex()===Hs,"unknown index type."),null!=r&&"object"==typeof r||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tl(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ys extends uo{constructor(r,i){super(r,i,new ps,!1)}get parent(){const r=ui(this._path);return null===r?null:new Ys(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class $o{constructor(r,i,l){this._node=r,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new Wn(r),l=Wo(this.ref,r);return new $o(this._node.getChild(i),l,Zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,h)=>r(new $o(h,Wo(this.ref,l),Zn)))}hasChild(r){const i=new Wn(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ll(o,r){return(o=(0,P.m9)(o))._checkNotDeleted("ref"),void 0!==r?Wo(o._root,r):o._root}function iu(o,r){(o=(0,P.m9)(o))._checkNotDeleted("refFromURL");const i=nu(r,o._repo.repoInfo_.nodeAdmin);gc("refFromURL",i);const l=i.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&l.host!==o._repo.repoInfo_.host&&Yn("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+o._repo.repoInfo_.host+")"),ll(o,i.path.toString())}function Wo(o,r){return null===ln((o=(0,P.m9)(o))._path)?((i=r)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),El("child","path",i,!1)):El("child","path",r,!1),new Ys(o._repo,In(o._path,r));var i}function ra(o,r){o=(0,P.m9)(o),_s("set",o._path),Po("set",r,o._path,!1);const i=new P.BH;return ql(o._repo,o._path,r,null,i.wrapCallback(()=>{})),i.promise}function Fu(o,r){Eo("update",r,o._path,!1);const i=new P.BH;return function Mu(o,r,i,l){Fa(o,"update",{path:r.toString(),value:i});let h=!0;const w=sl(o),R={};if(an(i,($,Q)=>{h=!1,R[$]=vo(In(r,$),fr(Q),o.serverSyncTree_,w)}),h)fn("update() called with empty data.  Don't do anything."),lo(0,l,"ok",void 0);else{const $=Oo(o),Q=function Mt(o,r,i,l){!function xi(o,r,i,l){(0,P.hu)(l>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:r,children:i,writeId:l,visible:!0}),o.visibleWrites=Xe(o.visibleWrites,r,i),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l);const h=V.fromObject(i);return jo(o,new $t({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,h))}(o.serverSyncTree_,r,R,$);Kl(o.eventQueue_,Q),o.server_.merge(r.toString(),i,(oe,je)=>{const $e="ok"===oe;$e||pn("update at "+r+" failed: "+oe);const at=vt(o.serverSyncTree_,$,!$e),Ot=at.length>0?al(o,r):r;ao(o.eventQueue_,Ot,at),lo(0,l,oe,je)}),an(i,oe=>{const je=Ua(o,In(r,oe));al(o,je)}),ao(o.eventQueue_,r,[])}}(o._repo,o._path,r,i.wrapCallback(()=>{})),i.promise}function ou(o){o=(0,P.m9)(o);const r=new ru(()=>{}),i=new Rl(r);return function id(o,r,i){const l=function Pa(o,r){const i=r._path;let l=null;o.syncPointTree_.foreachOnPath(i,(oe,je)=>{const $e=Jn(oe,i);l=l||Ks(je,$e)});let h=o.syncPointTree_.get(i);h?l=l||Ks(h,Pn()):(h=new Ra,o.syncPointTree_=o.syncPointTree_.set(i,h));const w=null!=l,R=w?new Pt(l,!0,!1):null;return function Qa(o){return qr(o.viewCache_)}(ta(h,r,jt(o.pendingWriteTree_,r._path),w?R.getNode():Xt.EMPTY_NODE,w))}(o.serverSyncTree_,r);return null!=l?Promise.resolve(l):o.server_.get(r).then(h=>{const w=fr(h).withIndex(r._queryParams.getIndex());let R;if(Vo(o.serverSyncTree_,r,i,!0),r._queryParams.loadsAllData())R=Ln(o.serverSyncTree_,r._path,w);else{const $=W(o.serverSyncTree_,r);R=Xr(o.serverSyncTree_,r._path,w,$)}return ao(o.eventQueue_,r._path,R),ms(o.serverSyncTree_,r,i,null,!0),w},h=>(Fa(o,"get for query "+(0,P.Wl)(r)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,i).then(l=>new $o(l,new Ys(o._repo,o._path),o._queryParams.getIndex()))}class Rl{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const l=i._queryParams.getIndex();return new _a("value",this,new $o(r.snapshotNode,new Ys(i._repo,i._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ba(this,r,i):null}matches(r){return r instanceof Rl&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Ml{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ba(this,r,i):null}createEvent(r,i){(0,P.hu)(null!=r.childName,"Child events should have a childName.");const l=Wo(new Ys(i._repo,i._path),r.childName),h=i._queryParams.getIndex();return new _a(r.type,this,new $o(r.snapshotNode,l,h),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Ml&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Pl(o,r,i,l,h){let w;if("object"==typeof l&&(w=void 0,h=l),"function"==typeof l&&(w=l),h&&h.onlyOnce){const Q=i,oe=(je,$e)=>{Pu(o._repo,o,$),Q(je,$e)};oe.userCallback=i.userCallback,oe.context=i.context,i=oe}const R=new ru(i,w||void 0),$="value"===r?new Rl(R):new Ml(r,R);return function ad(o,r,i){let l;l=".info"===ln(r._path)?Vo(o.infoSyncTree_,r,i):Vo(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}(o._repo,o,$),()=>Pu(o._repo,o,$)}function No(o,r,i,l){return Pl(o,"value",r,i,l)}function au(o,r,i,l){return Pl(o,"child_added",r,i,l)}function Ol(o,r,i,l){return Pl(o,"child_changed",r,i,l)}function lu(o,r,i,l){return Pl(o,"child_moved",r,i,l)}function va(o,r,i,l){return Pl(o,"child_removed",r,i,l)}function Uu(o,r,i){let l=null;const h=i?new ru(i):null;"value"===r?l=new Rl(h):r&&(l=new Ml(r,h)),Pu(o._repo,o,l)}class ei{}class Bu extends ei{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Po("endAt",this._value,r._path,!0);const i=Ws(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uo(r._repo,r._path,i,r._orderByCalled)}}class Vu extends ei{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Po("endBefore",this._value,r._path,!1);const i=function zs(o,r,i){let l;return l=Ws(o,r,o.index_===Mr||i?i:qn),l.endBeforeSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new uo(r._repo,r._path,i,r._orderByCalled)}}class Va extends ei{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Po("startAt",this._value,r._path,!0);const i=$s(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new uo(r._repo,r._path,i,r._orderByCalled)}}class uu extends ei{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Po("startAfter",this._value,r._path,!1);const i=function Uo(o,r,i){let l;return l=$s(o,r,o.index_===Mr||i?i:bn),l.startAfterSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new uo(r._repo,r._path,i,r._orderByCalled)}}class cu extends ei{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new uo(r._repo,r._path,function pi(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="l",i}(r._queryParams,this._limit),r._orderByCalled)}}class ja extends ei{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new uo(r._repo,r._path,function po(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="r",i}(r._queryParams,this._limit),r._orderByCalled)}}class dd extends ei{constructor(r){super(),this._path=r}_apply(r){Ha(r,"orderByChild");const i=new Wn(this._path);if(_n(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new As(i),h=mr(r._queryParams,l);return ya(h),new uo(r._repo,r._path,h,!0)}}class u extends ei{_apply(r){Ha(r,"orderByKey");const i=mr(r._queryParams,Mr);return ya(i),new uo(r._repo,r._path,i,!0)}}class v extends ei{_apply(r){Ha(r,"orderByPriority");const i=mr(r._queryParams,Zn);return ya(i),new uo(r._repo,r._path,i,!0)}}class K extends ei{_apply(r){Ha(r,"orderByValue");const i=mr(r._queryParams,Hs);return ya(i),new uo(r._repo,r._path,i,!0)}}class Je extends ei{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){if(Po("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bu(this._value,this._key)._apply(new Va(this._value,this._key)._apply(r))}}function Tt(o,...r){let i=(0,P.m9)(o);for(const l of r)i=l._apply(i);return i}(function Ma(o){(0,P.hu)(!ha,"__referenceConstructor has already been defined"),ha=o})(Ys),function N(o){(0,P.hu)(!b,"__referenceConstructor has already been defined"),b=o}(Ys);const en={};function kl(o,r,i,l,h){let w=l||o.options.databaseURL;void 0===w&&(o.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fn("Using default host for project ",o.options.projectId),w=`${o.options.projectId}-default-rtdb.firebaseio.com`);let Q,oe,R=nu(w,h),$=R.repoInfo;typeof process<"u"&&process.env&&(oe=process.env.FIREBASE_DATABASE_EMULATOR_HOST),oe?(Q=!0,w=`http://${oe}?ns=${$.namespace}`,R=nu(w,h),$=R.repoInfo):Q=!R.repoInfo.secure;const je=h&&Q?new Tn(Tn.OWNER):new zr(o.name,o.options,r);gc("Invalid Firebase Database URL",R),_n(R.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const $e=function ul(o,r,i,l){let h=en[r.name];h||(h={},en[r.name]=h);let w=h[o.toURLString()];return w&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new Su(o,false,i,l),h[o.toURLString()]=w,w}($,o,je,new Rn(o.name,i));return new cl($e,o)}class cl{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ys(o,r,i){if(o.stats_=ae(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new Gi(o.repoInfo_,(l,h,w,R)=>{Au(o,l,h,w,R)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>Ru(o,!0),0);else{if(typeof i<"u"&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,P.Wl)(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new wr(o.repoInfo_,r,(l,h,w,R)=>{Au(o,l,h,w,R)},l=>{Ru(o,l)},l=>{!function mc(o,r){an(r,(i,l)=>{_c(o,i,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,i),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function ce(o,r){const i=o.toString();return cn[i]||(cn[i]=r()),cn[i]}(o.repoInfo_,()=>new fe(o.stats_,o.server_)),o.infoData_=new ki,o.infoSyncTree_=new Re({startListening:(l,h,w,R)=>{let $=[];const Q=o.infoData_.getNode(l._path);return Q.isEmpty()||($=Ln(o.infoSyncTree_,l._path,Q),setTimeout(()=>{R("ok")},0)),$},stopListening:()=>{}}),_c(o,"connected",!1),o.serverSyncTree_=new Re({startListening:(l,h,w,R)=>(o.server_.listen(l,w,h,($,Q)=>{const oe=R($,Q);ao(o.eventQueue_,l._path,oe)}),[]),stopListening:(l,h)=>{o.server_.unlisten(l,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ys(this._repo,Pn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cc(o,r){const i=en[r];(!i||i[o.key]!==o)&&Yn(`Database ${r}(${o.repoInfo_}) has already been deleted.`),ol(o),delete i[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&Yn("Cannot call "+r+" on a deleted database.")}}function xl(){Gr.IS_TRANSPORT_INITIALIZED&&pn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ju(){xl(),tr.forceDisallow()}function $u(){xl(),Kn.forceDisallow(),tr.forceAllow()}function Wu(o,r){Ut(o,r)}const Sg={".sv":"timestamp"};class Pf{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}wr.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},wr.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function Tg(o){Oe(st.SDK_VERSION),(0,st._registerComponent)(new Ve.wA("database",(r,{instanceIdentifier:i})=>kl(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,st.registerVersion)(_e,"0.14.1",o),(0,st.registerVersion)(_e,"0.14.1","esm2017")}();const fd=new xe.Yd("@firebase/database-compat"),gh=function(o){fd.warn("FIREBASE WARNING: "+o)};class xf{constructor(r){this._delegate=r}cancel(r){(0,P.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,P.Wj)("OnDisconnect.cancel","onComplete",r,!0);const i=this._delegate.cancel();return r&&i.then(()=>r(null),l=>r(l)),i}remove(r){(0,P.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,P.Wj)("OnDisconnect.remove","onComplete",r,!0);const i=this._delegate.remove();return r&&i.then(()=>r(null),l=>r(l)),i}set(r,i){(0,P.Dv)("OnDisconnect.set",1,2,arguments.length),(0,P.Wj)("OnDisconnect.set","onComplete",i,!0);const l=this._delegate.set(r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,P.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,P.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const h=this._delegate.setWithPriority(r,i);return l&&h.then(()=>l(null),w=>l(w)),h}update(r,i){if((0,P.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let w=0;w<r.length;++w)h[""+w]=r[w];r=h,gh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,P.Wj)("OnDisconnect.update","onComplete",i,!0);const l=this._delegate.update(r);return i&&l.then(()=>i(null),h=>i(h)),l}}class mh{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return(0,P.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class $a{constructor(r,i){this._database=r,this._delegate=i}val(){return(0,P.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,P.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,P.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,P.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,P.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),El("DataSnapshot.child","path",r,!1),new $a(this._database,this._delegate.child(r))}hasChild(r){return(0,P.Dv)("DataSnapshot.hasChild",1,1,arguments.length),El("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,P.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,P.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,P.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(i=>r(new $a(this._database,i)))}hasChildren(){return(0,P.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,P.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,P.Dv)("DataSnapshot.ref",0,0,arguments.length),new xo(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ps{constructor(r,i){this.database=r,this._delegate=i}on(r,i,l,h){var w;(0,P.Dv)("Query.on",2,4,arguments.length),(0,P.Wj)("Query.on","callback",i,!1);const R=Ps.getCancelAndContextArgs_("Query.on",l,h),$=(oe,je)=>{i.call(R.context,new $a(this.database,oe),je)};$.userCallback=i,$.context=R.context;const Q=null===(w=R.cancel)||void 0===w?void 0:w.bind(R.context);switch(r){case"value":return No(this._delegate,$,Q),i;case"child_added":return au(this._delegate,$,Q),i;case"child_removed":return va(this._delegate,$,Q),i;case"child_changed":return Ol(this._delegate,$,Q),i;case"child_moved":return lu(this._delegate,$,Q),i;default:throw new Error((0,P.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,i,l){if((0,P.Dv)("Query.off",0,3,arguments.length),function(o,r,i){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,P.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,P.Wj)("Query.off","callback",i,!0),(0,P.lb)("Query.off","context",l,!0),i){const h=()=>{};h.userCallback=i,h.context=l,Uu(this._delegate,r,h)}else Uu(this._delegate,r)}get(){return ou(this._delegate).then(r=>new $a(this.database,r))}once(r,i,l,h){(0,P.Dv)("Query.once",1,4,arguments.length),(0,P.Wj)("Query.once","callback",i,!0);const w=Ps.getCancelAndContextArgs_("Query.once",l,h),R=new P.BH,$=(oe,je)=>{const $e=new $a(this.database,oe);i&&i.call(w.context,$e,je),R.resolve($e)};$.userCallback=i,$.context=w.context;const Q=oe=>{w.cancel&&w.cancel.call(w.context,oe),R.reject(oe)};switch(r){case"value":No(this._delegate,$,Q,{onlyOnce:!0});break;case"child_added":au(this._delegate,$,Q,{onlyOnce:!0});break;case"child_removed":va(this._delegate,$,Q,{onlyOnce:!0});break;case"child_changed":Ol(this._delegate,$,Q,{onlyOnce:!0});break;case"child_moved":lu(this._delegate,$,Q,{onlyOnce:!0});break;default:throw new Error((0,P.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise}limitToFirst(r){return(0,P.Dv)("Query.limitToFirst",1,1,arguments.length),new Ps(this.database,Tt(this._delegate,function wc(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cu(o)}(r)))}limitToLast(r){return(0,P.Dv)("Query.limitToLast",1,1,arguments.length),new Ps(this.database,Tt(this._delegate,function cd(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ja(o)}(r)))}orderByChild(r){return(0,P.Dv)("Query.orderByChild",1,1,arguments.length),new Ps(this.database,Tt(this._delegate,function p(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return El("orderByChild","path",o,!1),new dd(o)}(r)))}orderByKey(){return(0,P.Dv)("Query.orderByKey",0,0,arguments.length),new Ps(this.database,Tt(this._delegate,function d(){return new u}()))}orderByPriority(){return(0,P.Dv)("Query.orderByPriority",0,0,arguments.length),new Ps(this.database,Tt(this._delegate,function L(){return new v}()))}orderByValue(){return(0,P.Dv)("Query.orderByValue",0,0,arguments.length),new Ps(this.database,Tt(this._delegate,function we(){return new K}()))}startAt(r=null,i){return(0,P.Dv)("Query.startAt",0,2,arguments.length),new Ps(this.database,Tt(this._delegate,function Nl(o=null,r){return vl("startAt","key",r,!0),new Va(o,r)}(r,i)))}startAfter(r=null,i){return(0,P.Dv)("Query.startAfter",0,2,arguments.length),new Ps(this.database,Tt(this._delegate,function Dc(o,r){return vl("startAfter","key",r,!0),new uu(o,r)}(r,i)))}endAt(r=null,i){return(0,P.Dv)("Query.endAt",0,2,arguments.length),new Ps(this.database,Tt(this._delegate,function Hu(o,r){return vl("endAt","key",r,!0),new Bu(o,r)}(r,i)))}endBefore(r=null,i){return(0,P.Dv)("Query.endBefore",0,2,arguments.length),new Ps(this.database,Tt(this._delegate,function ia(o,r){return vl("endBefore","key",r,!0),new Vu(o,r)}(r,i)))}equalTo(r,i){return(0,P.Dv)("Query.equalTo",1,2,arguments.length),new Ps(this.database,Tt(this._delegate,function It(o,r){return vl("equalTo","key",r,!0),new Je(o,r)}(r,i)))}toString(){return(0,P.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,P.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,P.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Ps))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,i,l){const h={cancel:void 0,context:void 0};if(i&&l)h.cancel=i,(0,P.Wj)(r,"cancel",h.cancel,!0),h.context=l,(0,P.lb)(r,"context",h.context,!0);else if(i)if("object"==typeof i&&null!==i)h.context=i;else{if("function"!=typeof i)throw new Error((0,P.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=i}return h}get ref(){return new xo(this.database,new Ys(this._delegate._repo,this._delegate._path))}}class xo extends Ps{constructor(r,i){super(r,new uo(i._repo,i._path,new ps,!1)),this.database=r,this._delegate=i}getKey(){return(0,P.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,P.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new xo(this.database,Wo(this._delegate,r))}getParent(){(0,P.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new xo(this.database,r):null}getRoot(){return(0,P.Dv)("Reference.root",0,0,arguments.length),new xo(this.database,this._delegate.root)}set(r,i){(0,P.Dv)("Reference.set",1,2,arguments.length),(0,P.Wj)("Reference.set","onComplete",i,!0);const l=ra(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}update(r,i){if((0,P.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let w=0;w<r.length;++w)h[""+w]=r[w];r=h,gh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_s("Reference.update",this._delegate._path),(0,P.Wj)("Reference.update","onComplete",i,!0);const l=Fu(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,P.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,P.Wj)("Reference.setWithPriority","onComplete",l,!0);const h=function Al(o,r,i){if(_s("setWithPriority",o._path),Po("setWithPriority",r,o._path,!1),Cu("setWithPriority",i,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const l=new P.BH;return ql(o._repo,o._path,r,i,l.wrapCallback(()=>{})),l.promise}(this._delegate,r,i);return l&&h.then(()=>l(null),w=>l(w)),h}remove(r){(0,P.Dv)("Reference.remove",0,1,arguments.length),(0,P.Wj)("Reference.remove","onComplete",r,!0);const i=function Ms(o){return _s("remove",o._path),ra(o,null)}(this._delegate);return r&&i.then(()=>r(null),l=>r(l)),i}transaction(r,i,l){(0,P.Dv)("Reference.transaction",1,3,arguments.length),(0,P.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,P.Wj)("Reference.transaction","onComplete",i,!0),function(o,r,i,l){if(void 0!==i&&"boolean"!=typeof i)throw new Error((0,P.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const h=function Of(o,r,i){var l;if(o=(0,P.m9)(o),_s("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(l=i?.applyLocally)||void 0===l||l,w=new P.BH,$=No(o,()=>{});return function Nu(o,r,i,l,h,w){Fa(o,"transaction on "+r);const R={path:r,update:i,onComplete:l,status:null,order:qt(),applyLocally:w,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},$=Jl(o,r,void 0);R.currentInputSnapshot=$;const Q=R.update($.val());if(void 0===Q)R.unwatcher(),R.currentOutputSnapshotRaw=null,R.currentOutputSnapshotResolved=null,R.onComplete&&R.onComplete(null,!1,R.currentInputSnapshot);else{rl("transaction failed: Data returned ",Q,R.path),R.status=0;const oe=_l(o.transactionQueueTree_,r),je=ma(oe)||[];let $e;je.push(R),$l(oe,je),"object"==typeof Q&&null!==Q&&(0,P.r3)(Q,".priority")?($e=(0,P.DV)(Q,".priority"),(0,P.hu)(xa($e),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):$e=(yo(o.serverSyncTree_,r)||Xt.EMPTY_NODE).getPriority().val();const at=sl(o),Ot=fr(Q,$e),Zt=Mo(Ot,$,at);R.currentOutputSnapshotRaw=Ot,R.currentOutputSnapshotResolved=Zt,R.currentWriteId=Oo(o);const jn=Qe(o.serverSyncTree_,r,Zt,R.currentWriteId,R.applyLocally);ao(o.eventQueue_,r,jn),wl(o,o.transactionQueueTree_)}}(o._repo,o._path,r,(Q,oe,je)=>{let $e=null;Q?w.reject(Q):($e=new $o(je,new Ys(o._repo,o._path),Zn),w.resolve(new Pf(oe,$e)))},$,h),w.promise}(this._delegate,r,{applyLocally:l}).then(w=>new mh(w.committed,new $a(this.database,w.snapshot)));return i&&h.then(w=>i(null,w.committed,w.snapshot),w=>i(w,!1,null)),h}setPriority(r,i){(0,P.Dv)("Reference.setPriority",1,2,arguments.length),(0,P.Wj)("Reference.setPriority","onComplete",i,!0);const l=function su(o,r){o=(0,P.m9)(o),_s("setPriority",o._path),Cu("setPriority",r,!1);const i=new P.BH;return ql(o._repo,In(o._path,".priority"),r,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}push(r,i){(0,P.Dv)("Reference.push",0,2,arguments.length),(0,P.Wj)("Reference.push","onComplete",i,!0);const l=function Ic(o,r){o=(0,P.m9)(o),_s("push",o._path),Po("push",r,o._path,!0);const i=il(o._repo),l=Ec(i),h=Wo(o,l),w=Wo(o,l);let R;return R=null!=r?ra(w,r).then(()=>w):Promise.resolve(w),h.then=R.then.bind(R),h.catch=R.then.bind(R,void 0),h}(this._delegate,r),h=l.then(R=>new xo(this.database,R));i&&h.then(()=>i(null),R=>i(R));const w=new xo(this.database,l);return w.then=h.then.bind(h),w.catch=h.catch.bind(h,void 0),w}onDisconnect(){return _s("Reference.onDisconnect",this._delegate._path),new xf(new Lu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zu{constructor(r,i){this._delegate=r,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ju,forceLongPolling:$u}}useEmulator(r,i,l={}){!function bc(o,r,i,l={}){(o=(0,P.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&Yn("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let w;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new Tn(Tn.OWNER);else if(l.mockUserToken){const R="string"==typeof l.mockUserToken?l.mockUserToken:(0,P.Sg)(l.mockUserToken,o.app.options.projectId);w=new Tn(R)}!function ko(o,r,i,l){o.repoInfo_=new He(`${r}:${i}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),l&&(o.authTokenProvider_=l)}(h,r,i,w)}(this._delegate,r,i,l)}ref(r){if((0,P.Dv)("database.ref",0,1,arguments.length),r instanceof xo){const i=iu(this._delegate,r.toString());return new xo(this,i)}{const i=ll(this._delegate,r);return new xo(this,i)}}refFromURL(r){(0,P.Dv)("database.refFromURL",1,1,arguments.length);const l=iu(this._delegate,r);return new xo(this,l)}goOffline(){return(0,P.Dv)("database.goOffline",0,0,arguments.length),function hh(o){(o=(0,P.m9)(o))._checkNotDeleted("goOffline"),ol(o._repo)}(this._delegate)}goOnline(){return(0,P.Dv)("database.goOnline",0,0,arguments.length),function Ll(o){(o=(0,P.m9)(o))._checkNotDeleted("goOnline"),function Ou(o){o.persistentConnection_&&o.persistentConnection_.resume(Il)}(o._repo)}(this._delegate)}}zu.ServerValue={TIMESTAMP:function fh(){return Sg}(),increment:o=>function Mf(o){return{".sv":{increment:o}}}(o)};var _h=Object.freeze({__proto__:null,initStandalone:function Lf({app:o,url:r,version:i,customAuthImpl:l,namespace:h,nodeAdmin:w=!1}){Oe(i);const R=new Ve.zt("auth-internal",new Ve.H0("database-standalone"));return R.setComponent(new Ve.wA("auth-internal",()=>l,"PRIVATE")),{instance:new zu(kl(o,R,void 0,r,w),o),namespace:h}}});const Rg=zu.ServerValue;!function Mg(o){o.INTERNAL.registerComponent(new Ve.wA("database-compat",(r,{instanceIdentifier:i})=>{const l=r.getProvider("app-compat").getImmediate(),h=r.getProvider("database").getImmediate({identifier:i});return new zu(h,l)},"PUBLIC").setServiceProps({Reference:xo,Query:Ps,Database:zu,DataSnapshot:$a,enableLogging:Wu,INTERNAL:_h,ServerValue:Rg}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.1")}(me.Z);var du=F(7579),Sc=F(8996),Gu=F(5363),yh=F(6063);class vh extends du.x{constructor(r=1/0,i=1/0,l=yh.l){super(),this._bufferSize=r,this._windowTime=i,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,i)}next(r){const{isStopped:i,_buffer:l,_infiniteTimeWindow:h,_timestampProvider:w,_windowTime:R}=this;i||(l.push(r),!h&&l.push(w.now()+R)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(r),{_infiniteTimeWindow:l,_buffer:h}=this,w=h.slice();for(let R=0;R<w.length&&!r.closed;R+=l?1:2)r.next(w[R]);return this._checkFinalizedStatuses(r),i}_trimBuffer(){const{_bufferSize:r,_timestampProvider:i,_buffer:l,_infiniteTimeWindow:h}=this,w=(h?1:2)*r;if(r<1/0&&w<l.length&&l.splice(0,l.length-w),!h){const R=i.now();let $=0;for(let Q=1;Q<l.length&&l[Q]<=R;Q+=2)$=Q;$&&l.splice(0,$+1)}}}function Eh(o,r,i){let l,h=!1;return o&&"object"==typeof o?({bufferSize:l=1/0,windowTime:r=1/0,refCount:h=!1,scheduler:i}=o):l=o??1/0,(0,Se.B)({connector:()=>new vh(l,r,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Ff=F(590),Ih=F(576);function pd(o,r){return(0,Ih.m)(r)?(0,Ee.w)(()=>o,r):(0,Ee.w)(()=>o)}var Ku=F(9468),Pg=F(9300),gd=F(6895);F(259);const Ed=new Map,Th={activated:!1,tokenObservers:[]},jf={initialized:!1,enabled:!1};function as(o){return Ed.get(o)||Object.assign({},Th)}function Yu(){return jf}class gu{constructor(r,i,l,h,w){if(this.operation=r,this.retryPolicy=i,this.getWaitDuration=l,this.lowerBound=h,this.upperBound=w,this.pending=null,this.nextErrorWaitInterval=h,h>w)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var i=this;return(0,it.Z)(function*(){i.stop();try{i.pending=new P.BH,yield function qu(o){return new Promise(r=>{setTimeout(r,o)})}(i.getNextRun(r)),i.pending.resolve(),yield i.pending.promise,i.pending=new P.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(l){i.retryPolicy(l)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const qs=new P.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ah(o){if(!as(o).activated)throw qs.create("use-before-activation",{appName:o.name})}function Rc(o,r){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,it.Z)(function*({url:o,body:r},i){const l={"Content-Type":"application/json"},h=i.getImmediate({optional:!0});if(h){const $e=yield h.getHeartbeatsHeader();$e&&(l["X-Firebase-Client"]=$e)}const w={method:"POST",body:JSON.stringify(r),headers:l};let R,$;try{R=yield fetch(o,w)}catch($e){throw qs.create("fetch-network-error",{originalErrorMessage:$e?.message})}if(200!==R.status)throw qs.create("fetch-status-error",{httpStatus:R.status});try{$=yield R.json()}catch($e){throw qs.create("fetch-parse-error",{originalErrorMessage:$e?.message})}const Q=$.ttl.match(/^([\d.]+)(s)$/);if(!Q||!Q[2]||isNaN(Number(Q[1])))throw qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${$.ttl}`});const oe=1e3*Number(Q[1]),je=Date.now();return{token:$.token,expireTimeMillis:je+oe,issuedAtTimeMillis:je}})).apply(this,arguments)}function Cd(o,r){const{projectId:i,appId:l,apiKey:h}=o.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${i}/apps/${l}:exchangeDebugToken?key=${h}`,body:{debug_token:r}}}const ec="firebase-app-check-store";let Mc=null;function Mh(){return Mc||(Mc=new Promise((o,r)=>{try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=l=>{o(l.target.result)},i.onerror=l=>{var h;r(qs.create("storage-open",{originalErrorMessage:null===(h=l.target.error)||void 0===h?void 0:h.message}))},i.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(ec,{keyPath:"compositeKey"})}}catch(i){r(qs.create("storage-open",{originalErrorMessage:i?.message}))}}),Mc)}function bd(){return(bd=(0,it.Z)(function*(o,r){const l=(yield Mh()).transaction(ec,"readwrite"),w=l.objectStore(ec).put({compositeKey:o,value:r});return new Promise((R,$)=>{w.onsuccess=Q=>{R()},l.onerror=Q=>{var oe;$(qs.create("storage-set",{originalErrorMessage:null===(oe=Q.target.error)||void 0===oe?void 0:oe.message}))}})})).apply(this,arguments)}const Pc=new xe.Yd("@firebase/app-check");function Sd(o,r){return(0,P.hl)()?function qf(o,r){return function Ph(o,r){return bd.apply(this,arguments)}(function Td(o){return`${o.options.appId}-${o.name}`}(o),r)}(o,r).catch(i=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function xh(){return Yu().enabled}function Go(){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,it.Z)(function*(){const o=Yu();if(o.enabled&&o.token)return o.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jf={error:"UNKNOWN_ERROR"};function Xf(o){return P.US.encodeString(JSON.stringify(o),!1)}function Nc(o){return Md.apply(this,arguments)}function Md(){return(Md=(0,it.Z)(function*(o,r=!1){const i=o.app;Ah(i);const l=as(i);let w,h=l.token;if(h&&!Ul(h)&&(l.token=void 0,h=void 0),!h){const Q=yield l.cachedTokenPromise;Q&&(Ul(Q)?h=Q:yield Sd(i,void 0))}if(!r&&h&&Ul(h))return{token:h.token};let $,R=!1;if(xh()){l.exchangeTokenPromise||(l.exchangeTokenPromise=Rc(Cd(i,yield Go()),o.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),R=!0);const Q=yield l.exchangeTokenPromise;return yield Sd(i,Q),l.token=Q,{token:Q.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),R=!0),h=yield as(i).exchangeTokenPromise}catch(Q){"appCheck/throttled"===Q.code?Pc.warn(Q.message):Pc.error(Q),w=Q}return h?w?$=Ul(h)?{token:h.token,internalError:w}:Od(w):($={token:h.token},l.token=h,yield Sd(i,h)):$=Od(w),R&&Nn(i,$),$})).apply(this,arguments)}function Pd(o,r){const i=as(o),l=i.tokenObservers.filter(h=>h.next!==r);0===l.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=l}function Fh(o){const{app:r}=o,i=as(r);let l=i.tokenRefresher;l||(l=function ep(o){const{app:r}=o;return new gu((0,it.Z)(function*(){let l;if(l=as(r).token?yield Nc(o,!0):yield Nc(o),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const i=as(r);if(i.token){let l=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,i.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},3e4,96e4)}(o),i.tokenRefresher=l),!l.isRunning()&&i.isTokenAutoRefreshEnabled&&l.start()}function Nn(o,r){const i=as(o).tokenObservers;for(const l of i)try{"EXTERNAL"===l.type&&null!=r.error?l.error(r.error):l.next(r)}catch{}}function Ul(o){return o.expireTimeMillis-Date.now()>0}function Od(o){return{token:Xf(Jf),error:o}}class Uh{constructor(r,i){this.app=r,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:r}=as(this.app);for(const i of r)Pd(this.app,i.next);return Promise.resolve()}}const Bd="app-check-internal";!function hp(){(0,st._registerComponent)(new Ve.wA("app-check",o=>function tp(o,r){return new Uh(o,r)}(o.getProvider("app").getImmediate(),o.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,r,i)=>{o.getProvider(Bd).initialize()})),(0,st._registerComponent)(new Ve.wA(Bd,o=>function np(o){return{getToken:r=>Nc(o,r),addTokenListener:r=>function kc(o,r,i,l){const{app:h}=o,w=as(h);if(w.tokenObservers=[...w.tokenObservers,{next:i,error:l,type:r}],w.token&&Ul(w.token)){const $=w.token;Promise.resolve().then(()=>{i({token:$.token}),Fh(o)}).catch(()=>{})}w.cachedTokenPromise.then(()=>Fh(o))}(o,"INTERNAL",r),removeTokenListener:r=>Pd(o.app,r)}}(o.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,st.registerVersion)("@firebase/app-check","0.6.1")}();class Vd{constructor(){return(0,Ge.vb)("app-check")}}typeof window<"u"&&window;var mp=F(9260);const Bl=new y.OlP("angularfire2.auth.use-emulator"),Uc=new y.OlP("angularfire2.auth.settings"),_u=new y.OlP("angularfire2.auth.tenant-id"),Bc=new y.OlP("angularfire2.auth.langugage-code"),ic=new y.OlP("angularfire2.auth.use-device-language"),$d=new y.OlP("angularfire.auth.persistence"),Hc=(o,r,i,l,h,w,R,$)=>(0,rt.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const Q=r.runOutsideAngular(()=>o.auth());if(i&&Q.useEmulator(...i),l&&(Q.tenantId=l),Q.languageCode=h,w&&Q.useDeviceLanguage(),R)for(const[oe,je]of Object.entries(R))Q.settings[oe]=je;return $&&Q.setPersistence($),Q},[i,l,h,w,R,$]);let Vc=(()=>{class o{constructor(i,l,h,w,R,$,Q,oe,je,$e,at,Ot){const Zt=new du.x,jn=(0,de.of)(void 0).pipe((0,Gu.Q)(R.outsideAngular),(0,Ee.w)(()=>w.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,750)))),(0,ye.U)(()=>(0,rt.on)(i,w,l)),(0,ye.U)(yi=>Hc(yi,w,$,oe,je,$e,Q,at)),Eh({bufferSize:1,refCount:!1}));if((0,gd.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,de.of)(null);else{jn.pipe((0,Ff.P)()).subscribe();const Os=jn.pipe((0,Ee.w)(Fi=>Fi.getRedirectResult().then(Ea=>Ea,()=>null)),Ge.iC,Eh({bufferSize:1,refCount:!1})),Ko=jn.pipe((0,Ee.w)(Fi=>new j.y(Ea=>({unsubscribe:w.runOutsideAngular(()=>Fi.onAuthStateChanged(hl=>Ea.next(hl),hl=>Ea.error(hl),()=>Ea.complete()))})))),sa=jn.pipe((0,Ee.w)(Fi=>new j.y(Ea=>({unsubscribe:w.runOutsideAngular(()=>Fi.onIdTokenChanged(hl=>Ea.next(hl),hl=>Ea.error(hl),()=>Ea.complete()))}))));this.authState=Os.pipe(pd(Ko),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular)),this.user=Os.pipe(pd(sa),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular)),this.idToken=this.user.pipe((0,Ee.w)(Fi=>Fi?(0,Sc.D)(Fi.getIdToken()):(0,de.of)(null))),this.idTokenResult=this.user.pipe((0,Ee.w)(Fi=>Fi?(0,Sc.D)(Fi.getIdTokenResult()):(0,de.of)(null))),this.credential=(0,pe.T)(Os,Zt,this.authState.pipe((0,Pg.h)(Fi=>!Fi))).pipe((0,ye.U)(Fi=>Fi?.user?Fi:null),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular))}return(0,rt.pX)(this,jn,w,{spy:{apply:(yi,Os,Ko)=>{(yi.startsWith("signIn")||yi.startsWith("createUser"))&&Ko.then(sa=>Zt.next(sa))}}})}}return o.\u0275fac=function(i){return new(i||o)(y.LFG(rt.Dh),y.LFG(rt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ge.HU),y.LFG(Bl,8),y.LFG(Uc,8),y.LFG(_u,8),y.LFG(Bc,8),y.LFG(ic,8),y.LFG($d,8),y.LFG(Vd,8))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();function Kh(o){return null==o}function Zh(o){return"function"==typeof o.set}function zd(o,r){return Zh(r)?r:o.ref(r)}function Yh(o,r){if(function Gh(o){return"string"==typeof o}(o))return r.stringCase();if(Zh(o))return r.firebaseCase();if(function Wd(o){return"function"==typeof o.exportVal}(o))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function yu(o,r,i="on",l=U.z){return new j.y(h=>{let w=null;return w=o[i](r,(R,$)=>{l.schedule(()=>{h.next({snapshot:R,prevKey:$})}),"once"===i&&l.schedule(()=>h.complete())},R=>{l.schedule(()=>h.error(R))}),"on"===i?{unsubscribe(){null!=w&&o.off(r,w)}}:{unsubscribe(){}}}).pipe((0,ye.U)(h=>{const{snapshot:w,prevKey:R}=h;let $=null;return w.exists()&&($=w.key),{type:r,payload:w,prevKey:R,key:$}}),(0,Se.B)())}function Qh(o,r){const i=o.length;for(let l=0;l<i;l++)if(o[l].payload.key===r)return l;return-1}function Lo(o,r){const{payload:i,prevKey:l,key:h}=r,w=Qh(o,h),R=function _p(o,r){if(Kh(r))return 0;{const i=Qh(o,r);return-1===i?o.length:i+1}}(o,l);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let $=null;r.payload.forEach(Q=>{const oe={payload:Q,type:"value",prevKey:$,key:Q.key};return $=Q.key,o=[...o,oe],!1})}return o;case"child_added":if(w>-1){const $=o[w-1];($&&$.key||null)!==l&&(o=o.filter(Q=>Q.payload.key!==i.key)).splice(R,0,r)}else{if(null==l)return[r,...o];(o=o.slice()).splice(R,0,r)}return o;case"child_removed":return o.filter($=>$.payload.key!==i.key);case"child_changed":return o.map($=>$.payload.key===h?r:$);case"child_moved":if(w>-1){const $=o.splice(w,1)[0];return(o=o.slice()).splice(R,0,$),o}return o;default:return o}}function Gd(o){return(Kh(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Jh(o,r,i){return function qh(o,r,i){return yu(o,"value","once",i).pipe((0,Ee.w)(l=>{const h=[(0,de.of)(l)];return r.forEach(w=>h.push(yu(o,w,"on",i))),(0,pe.T)(...h).pipe((0,Ie.R)(Lo,[]))}),(0,re.x)())}(o,r=Gd(r),i)}function yp(o,r,i){const l=(r=Gd(r)).map(h=>yu(o,h,"on",i));return(0,pe.T)(...l)}function ef(o,r){return function(l,h){return Yh(l,{stringCase:()=>o.child(l)[r](h),firebaseCase:()=>l[r](h),snapshotCase:()=>l.ref[r](h)})}}function Ep(o){return function(i){return i?Yh(i,{stringCase:()=>o.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):o.remove()}}function nf(o,r){return function(){return yu(o,"value","on",r)}}const Zd=new y.OlP("angularfire2.realtimeDatabaseURL"),Dp=new y.OlP("angularfire2.database.use-emulator");let rf=(()=>{class o{constructor(i,l,h,w,R,$,Q,oe,je,$e,at,Ot,Zt,jn,yi){this.schedulers=$;const Os=Q,Ko=(0,rt.on)(i,R,l);oe&&Hc(Ko,R,je,at,Ot,Zt,$e,jn),this.database=(0,rt.cc)(`${Ko.name}.database.${h}`,"AngularFireDatabase",Ko.name,()=>{const sa=R.runOutsideAngular(()=>Ko.database(h||void 0));return Os&&sa.useEmulator(...Os),sa},[Os])}list(i,l){const h=this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i));let w=h;return l&&(w=l(h)),function tf(o,r){const i=r.schedulers.outsideAngular,l=r.schedulers.ngZone.run(()=>o.ref);return{query:o,update:ef(l,"update"),set:ef(l,"set"),push:h=>l.push(h),remove:Ep(l),snapshotChanges:h=>Jh(o,h,i).pipe(Ge.iC),stateChanges:h=>yp(o,h,i).pipe(Ge.iC),auditTrail:h=>function Kd(o,r,i){return function vp(o,r,i){return function Xh(o,r){return yu(o,"value","on",r).pipe((0,ye.U)(i=>{let l;return i.payload.forEach(h=>(l=h.key,!1)),{data:i,lastKeyToLoad:l}}))}(o,i).pipe(function Le(...o){const r=(0,_t.jO)(o);return(0,se.e)((i,l)=>{const h=o.length,w=new Array(h);let R=o.map(()=>!1),$=!1;for(let Q=0;Q<h;Q++)(0,tt.Xf)(o[Q]).subscribe((0,ge.x)(l,oe=>{w[Q]=oe,!$&&!R[Q]&&(R[Q]=!0,($=R.every(Ye.y))&&(R=null))},lt.Z));i.subscribe((0,ge.x)(l,Q=>{if($){const oe=[Q,...w];l.next(r?r(...oe):oe)}}))})}(r),(0,ye.U)(([h,w])=>{const R=h.lastKeyToLoad,$=w.map(Q=>Q.key);return{actions:w,lastKeyToLoad:R,loadedKeys:$}}),function Ke(o){return(0,se.e)((r,i)=>{let l=!1,h=0;r.subscribe((0,ge.x)(i,w=>(l||(l=!o(w,h++)))&&i.next(w)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,ye.U)(h=>h.actions))}(o,yp(o,r).pipe((0,Ie.R)((h,w)=>[...h,w],[])),i)}(o,h,i).pipe(Ge.iC),valueChanges:(h,w)=>Jh(o,h,i).pipe((0,ye.U)($=>$.map(Q=>w&&w.idField?Object.assign(Object.assign({},Q.payload.val()),{[w.idField]:Q.key}):Q.payload.val())),Ge.iC)}}(w,this)}object(i){return function Ip(o,r){return{query:o,snapshotChanges:()=>nf(o,r.schedulers.outsideAngular)().pipe(Ge.iC),update:i=>o.ref.update(i),set:i=>o.ref.set(i),remove:()=>o.ref.remove(),valueChanges:()=>nf(o,r.schedulers.outsideAngular)().pipe(Ge.iC,(0,ye.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(i){return new(i||o)(y.LFG(rt.Dh),y.LFG(rt.xv,8),y.LFG(Zd,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(Ge.HU),y.LFG(Dp,8),y.LFG(Vc,8),y.LFG(Bl,8),y.LFG(Uc,8),y.LFG(_u,8),y.LFG(Bc,8),y.LFG(ic,8),y.LFG($d,8),y.LFG(Vd,8))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),wp=(()=>{class o{constructor(){mp.Z.registerVersion("angularfire",Ge.q4.full,"rtdb-compat")}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=y.oAB({type:o}),o.\u0275inj=y.cJS({providers:[rf]}),o})()},2011:(yt,ke,F)=>{F.d(ke,{Dh:()=>Ee,GT:()=>ye,cc:()=>Ye,hO:()=>tt,on:()=>re,pX:()=>pe,xv:()=>Ie});var y=F(4650),U=F(9260),j=F(2122);yt=F.hmd(yt);const de=["ngOnDestroy"],pe=(Ke,Ge,rt,Me={})=>new Proxy(Ke,{get:(me,Ve)=>rt.runOutsideAngular(()=>{var it;if(Ke[Ve])return!(null===(it=Me?.spy)||void 0===it)&&it.get&&Me.spy.get(Ve,Ke[Ve]),Ke[Ve];if(de.indexOf(Ve)>-1)return()=>{};const st=Ge.toPromise().then(P=>{const xe=P&&P[Ve];return"function"==typeof xe?xe.bind(P):xe&&xe.then?xe.then(_e=>rt.run(()=>_e)):rt.run(()=>xe)});return new Proxy(()=>{},{get:(P,xe)=>st[xe],apply:(P,xe,_e)=>st.then(De=>{var Pe;const Oe=De&&De(..._e);return!(null===(Pe=Me?.spy)||void 0===Pe)&&Pe.apply&&Me.spy.apply(Ve,_e,Oe),Oe})})})}),ye=(Ke,Ge)=>{Ge.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Me=>{Object.defineProperty(Ke.prototype,Me,Object.getOwnPropertyDescriptor(rt.prototype||rt,Me))})})};class Se{constructor(Ge){return Ge}}const Ee=new y.OlP("angularfire2.app.options"),Ie=new y.OlP("angularfire2.app.name");function re(Ke,Ge,rt){const me="object"==typeof rt&&rt||{};me.name=me.name||"string"==typeof rt&&rt||"[DEFAULT]";const it=U.Z.apps.filter(st=>st&&st.name===me.name)[0]||Ge.runOutsideAngular(()=>U.Z.initializeApp(Ke,me));try{JSON.stringify(Ke)!==JSON.stringify(it.options)&&se("error",`${it.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Se(it)}const se=(Ke,...Ge)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ke](...Ge)},ge={provide:Se,useFactory:re,deps:[Ee,y.R0b,[new y.FiY,Ie]]};let tt=(()=>{class Ke{constructor(rt){U.Z.registerVersion("angularfire",j.q4.full,"core"),U.Z.registerVersion("angularfire",j.q4.full,"app-compat"),U.Z.registerVersion("angular",y.q4F.full,rt.toString())}static initializeApp(rt,Me){return{ngModule:Ke,providers:[{provide:Ee,useValue:rt},{provide:Ie,useValue:Me}]}}}return Ke.\u0275fac=function(rt){return new(rt||Ke)(y.LFG(y.Lbi))},Ke.\u0275mod=y.oAB({type:Ke}),Ke.\u0275inj=y.cJS({providers:[ge]}),Ke})();function Ye(Ke,Ge,rt,Me,me){const[,Ve,it]=globalThis.\u0275AngularfireInstanceCache.find(st=>st[0]===Ke)||[];if(Ve)return function lt(Ke,Ge){try{return Ke.toString()===Ge.toString()}catch{return Ke===Ge}}(me,it)||(Le("error",`${Ge} was already initialized on the ${rt} Firebase App with different settings.${_t?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:me,was:it})),Ve;{const st=Me();return globalThis.\u0275AngularfireInstanceCache.push([Ke,st,me]),st}}const _t=!!yt.hot,Le=(Ke,...Ge)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ke](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(yt,ke,F)=>{F.d(ke,{q4:()=>Ro,iC:()=>yo,HU:()=>_o,vb:()=>Mt,JM:()=>Qe});var y=F(4650),U=F(259),j=F(5861),de=F(9681),pe=F(2090),ye=F(4859),Se=F(1877),Ee=F(8766);const Ie="@firebase/installations",re="0.6.1",ge=`w:${re}`,tt="FIS_v2",Ge=new pe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(A){return A instanceof pe.ZR&&A.code.includes("request-failed")}function Me({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function me(A){return{token:A.token,requestStatus:2,expiresIn:De(A.expiresIn),creationTime:Date.now()}}function Ve(A,O){return it.apply(this,arguments)}function it(){return(it=(0,j.Z)(function*(A,O){const ie=(yield O.json()).error;return Ge.create("request-failed",{requestName:A,serverCode:ie.code,serverMessage:ie.message,serverStatus:ie.status})})).apply(this,arguments)}function st({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function P(A,{refreshToken:O}){const W=st(A);return W.append("Authorization",function Pe(A){return`${tt} ${A}`}(O)),W}function xe(A){return _e.apply(this,arguments)}function _e(){return(_e=(0,j.Z)(function*(A){const O=yield A();return O.status>=500&&O.status<600?A():O})).apply(this,arguments)}function De(A){return Number(A.replace("s","000"))}function Oe(A,O){return dt.apply(this,arguments)}function dt(){return(dt=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:O},{fid:W}){const ie=Me(A),Ae=st(A),Be=O.getImmediate({optional:!0});if(Be){const Gt=yield Be.getHeartbeatsHeader();Gt&&Ae.append("x-firebase-client",Gt)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({fid:W,authVersion:tt,appId:A.appId,sdkVersion:ge})},Wt=yield xe(()=>fetch(ie,Vt));if(Wt.ok){const Gt=yield Wt.json();return{fid:Gt.fid||W,registrationStatus:2,refreshToken:Gt.refreshToken,authToken:me(Gt.authToken)}}throw yield Ve("Create Installation",Wt)})).apply(this,arguments)}function ct(A){return new Promise(O=>{setTimeout(O,A)})}const vn=/^[cdef][\w-]{21}$/;function Yt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const W=function qt(A){return function kt(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return vn.test(W)?W:""}catch{return""}}function Ft(A){return`${A.appName}!${A.appId}`}const un=new Map;function ur(A,O){const W=Ft(A);fn(W,O),function cr(A,O){const W=function Yn(){return!Ur&&"BroadcastChannel"in self&&(Ur=new BroadcastChannel("[Firebase] FID Change"),Ur.onmessage=A=>{fn(A.data.key,A.data.fid)}),Ur}();W&&W.postMessage({key:A,fid:O}),function pn(){0===un.size&&Ur&&(Ur.close(),Ur=null)}()}(W,O)}function fn(A,O){const W=un.get(A);if(W)for(const ie of W)ie(O)}let Ur=null;const Br="firebase-installations-store";let qn=null;function bn(){return qn||(qn=(0,Ee.X3)("firebase-installations-database",1,{upgrade:(A,O)=>{0===O&&A.createObjectStore(Br)}})),qn}function sn(A,O){return kn.apply(this,arguments)}function kn(){return(kn=(0,j.Z)(function*(A,O){const W=Ft(A),Ae=(yield bn()).transaction(Br,"readwrite"),Be=Ae.objectStore(Br),ut=yield Be.get(W);return yield Be.put(O,W),yield Ae.done,(!ut||ut.fid!==O.fid)&&ur(A,O.fid),O})).apply(this,arguments)}function xt(A){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,j.Z)(function*(A){const O=Ft(A),ie=(yield bn()).transaction(Br,"readwrite");yield ie.objectStore(Br).delete(O),yield ie.done})).apply(this,arguments)}function Or(A,O){return an.apply(this,arguments)}function an(){return(an=(0,j.Z)(function*(A,O){const W=Ft(A),Ae=(yield bn()).transaction(Br,"readwrite"),Be=Ae.objectStore(Br),ut=yield Be.get(W),Vt=O(ut);return void 0===Vt?yield Be.delete(W):yield Be.put(Vt,W),yield Ae.done,Vt&&(!ut||ut.fid!==Vt.fid)&&ur(A,Vt.fid),Vt})).apply(this,arguments)}function sr(A){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,j.Z)(function*(A){let O;const W=yield Or(A.appConfig,ie=>{const Ae=Qt(ie),Be=Lt(A,Ae);return O=Be.registrationPromise,Be.installationEntry});return""===W.fid?{installationEntry:yield O}:{installationEntry:W,registrationPromise:O}})).apply(this,arguments)}function Qt(A){return Gn(A||{fid:Yt(),registrationStatus:0})}function Lt(A,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Ge.create("app-offline"))};const W={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},ie=function Dt(A,O){return or.apply(this,arguments)}(A,W);return{installationEntry:W,registrationPromise:ie}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:St(A)}:{installationEntry:O}}function or(){return(or=(0,j.Z)(function*(A,O){try{const W=yield Oe(A,O);return sn(A.appConfig,W)}catch(W){throw rt(W)&&409===W.customData.serverCode?yield xt(A.appConfig):yield sn(A.appConfig,{fid:O.fid,registrationStatus:0}),W}})).apply(this,arguments)}function St(A){return $n.apply(this,arguments)}function $n(){return($n=(0,j.Z)(function*(A){let O=yield yr(A.appConfig);for(;1===O.registrationStatus;)yield ct(100),O=yield yr(A.appConfig);if(0===O.registrationStatus){const{installationEntry:W,registrationPromise:ie}=yield sr(A);return ie||W}return O})).apply(this,arguments)}function yr(A){return Or(A,O=>{if(!O)throw Ge.create("installation-not-found");return Gn(O)})}function Gn(A){return function ai(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Rn(A,O){return zr.apply(this,arguments)}function zr(){return(zr=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:O},W){const ie=Tn(A,W),Ae=P(A,W),Be=O.getImmediate({optional:!0});if(Be){const Gt=yield Be.getHeartbeatsHeader();Gt&&Ae.append("x-firebase-client",Gt)}const Vt={method:"POST",headers:Ae,body:JSON.stringify({installation:{sdkVersion:ge,appId:A.appId}})},Wt=yield xe(()=>fetch(ie,Vt));if(Wt.ok)return me(yield Wt.json());throw yield Ve("Generate Auth Token",Wt)})).apply(this,arguments)}function Tn(A,{fid:O}){return`${Me(A)}/${O}/authTokens:generate`}function ar(A){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,j.Z)(function*(A,O=!1){let W;const ie=yield Or(A.appConfig,Be=>{if(!ze(Be))throw Ge.create("not-registered");const ut=Be.authToken;if(!O&&Y(ut))return Be;if(1===ut.requestStatus)return W=ft(A,O),Be;{if(!navigator.onLine)throw Ge.create("app-offline");const Vt=he(Be);return W=ee(A,Vt),Vt}});return W?yield W:ie.authToken})).apply(this,arguments)}function ft(A,O){return et.apply(this,arguments)}function et(){return(et=(0,j.Z)(function*(A,O){let W=yield Te(A.appConfig);for(;1===W.authToken.requestStatus;)yield ct(100),W=yield Te(A.appConfig);const ie=W.authToken;return 0===ie.requestStatus?ar(A,O):ie})).apply(this,arguments)}function Te(A){return Or(A,O=>{if(!ze(O))throw Ge.create("not-registered");return function He(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function ee(A,O){return le.apply(this,arguments)}function le(){return(le=(0,j.Z)(function*(A,O){try{const W=yield Rn(A,O),ie=Object.assign(Object.assign({},O),{authToken:W});return yield sn(A.appConfig,ie),W}catch(W){if(!rt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ie=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield sn(A.appConfig,ie)}else yield xt(A.appConfig);throw W}})).apply(this,arguments)}function ze(A){return void 0!==A&&2===A.registrationStatus}function Y(A){return 2===A.requestStatus&&!function X(A){const O=Date.now();return O<A.creationTime||A.creationTime+A.expiresIn<O+36e5}(A)}function he(A){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:O})}function mt(){return(mt=(0,j.Z)(function*(A){const O=A,{installationEntry:W,registrationPromise:ie}=yield sr(O);return ie?ie.catch(console.error):ar(O).catch(console.error),W.fid})).apply(this,arguments)}function nn(){return(nn=(0,j.Z)(function*(A,O=!1){const W=A;return yield cn(W),(yield ar(W,O)).token})).apply(this,arguments)}function cn(A){return ae.apply(this,arguments)}function ae(){return(ae=(0,j.Z)(function*(A){const{registrationPromise:O}=yield sr(A);O&&(yield O)})).apply(this,arguments)}function Ri(A){return Ge.create("missing-app-config-values",{valueName:A})}const Ui="installations",Qn=A=>{const O=A.getProvider("app").getImmediate(),W=function pr(A){if(!A||!A.options)throw Ri("App Configuration");if(!A.name)throw Ri("App Name");const O=["projectId","apiKey","appId"];for(const W of O)if(!A.options[W])throw Ri(W);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(O);return{app:O,appConfig:W,heartbeatServiceProvider:(0,de._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},Do=A=>{const O=A.getProvider("app").getImmediate(),W=(0,de._getProvider)(O,Ui).getImmediate();return{getId:()=>function ve(A){return mt.apply(this,arguments)}(W),getToken:Ae=>function tn(A){return nn.apply(this,arguments)}(W,Ae)}};(function co(){(0,de._registerComponent)(new ye.wA(Ui,Qn,"PUBLIC")),(0,de._registerComponent)(new ye.wA("installations-internal",Do,"PRIVATE"))})(),(0,de.registerVersion)(Ie,re),(0,de.registerVersion)(Ie,re,"esm2017");const Ar="@firebase/remote-config",tr=new pe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(O,W,ie,Ae){this.client=O,this.storage=W,this.storageCache=ie,this.logger=Ae}isCachedDataFresh(O,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ie=Date.now()-W,Ae=ie<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ie}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Ae}.`),Ae}fetch(O){var W=this;return(0,j.Z)(function*(){const[ie,Ae]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Ae&&W.isCachedDataFresh(O.cacheMaxAgeMillis,ie))return Ae;O.eTag=Ae&&Ae.eTag;const Be=yield W.client.fetch(O),ut=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Be.status&&ut.push(W.storage.setLastSuccessfulFetchResponse(Be)),yield Promise.all(ut),Be})()}}function kr(A=navigator){return A.languages&&A.languages[0]||A.language}class Pi{constructor(O,W,ie,Ae,Be,ut){this.firebaseInstallations=O,this.sdkVersion=W,this.namespace=ie,this.projectId=Ae,this.apiKey=Be,this.appId=ut}fetch(O){var W=this;return(0,j.Z)(function*(){const[ie,Ae]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),ut=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Vt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},Wt={sdk_version:W.sdkVersion,app_instance_id:ie,app_instance_id_token:Ae,app_id:W.appId,language_code:kr()},Gt={method:"POST",headers:Vt,body:JSON.stringify(Wt)},On=fetch(ut,Gt),wn=new Promise((oo,vo)=>{O.signal.addEventListener(()=>{const Mo=new Error("The operation was aborted.");Mo.name="AbortError",vo(Mo)})});let os;try{yield Promise.race([On,wn]),os=yield On}catch(oo){let vo="fetch-client-network";throw"AbortError"===oo?.name&&(vo="fetch-timeout"),tr.create(vo,{originalErrorMessage:oo?.message})}let hi=os.status;const Na=os.headers.get("ETag")||void 0;let nl,ga;if(200===os.status){let oo;try{oo=yield os.json()}catch(vo){throw tr.create("fetch-client-parse",{originalErrorMessage:vo?.message})}nl=oo.entries,ga=oo.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?hi=500:"NO_CHANGE"===ga?hi=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(nl={}),304!==hi&&200!==hi)throw tr.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Na,config:nl}})()}}class Oi{constructor(O,W){this.client=O,this.storage=W}fetch(O){var W=this;return(0,j.Z)(function*(){const ie=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(O,ie)})()}attemptFetch(O,{throttleEndTimeMillis:W,backoffCount:ie}){var Ae=this;return(0,j.Z)(function*(){yield function Ii(A,O){return new Promise((W,ie)=>{const Ae=Math.max(O-Date.now(),0),Be=setTimeout(W,Ae);A.addEventListener(()=>{clearTimeout(Be),ie(tr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,W);try{const Be=yield Ae.client.fetch(O);return yield Ae.storage.deleteThrottleMetadata(),Be}catch(Be){if(!function Bn(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const O=Number(A.customData.httpStatus);return 429===O||500===O||503===O||504===O}(Be))throw Be;const ut={throttleEndTimeMillis:Date.now()+(0,pe.$s)(ie),backoffCount:ie+1};return yield Ae.storage.setThrottleMetadata(ut),Ae.attemptFetch(O,ut)}})()}}class Pn{constructor(O,W,ie,Ae,Be){this.app=O,this._client=W,this._storageCache=ie,this._storage=Ae,this._logger=Be,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ln(A,O){const W=A.target.error||void 0;return tr.create(O,{originalErrorMessage:W&&W?.message})}const Er="app_namespace_store";class Tr{constructor(O,W,ie,Ae=function Hr(){return new Promise((A,O)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ie=>{O(ln(ie,"storage-open"))},W.onsuccess=ie=>{A(ie.target.result)},W.onupgradeneeded=ie=>{0===ie.oldVersion&&ie.target.result.createObjectStore(Er,{keyPath:"compositeKey"})}}catch(W){O(tr.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=O,this.appName=W,this.namespace=ie,this.openDbPromise=Ae}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var W=this;return(0,j.Z)(function*(){const ie=yield W.openDbPromise;return new Promise((Ae,Be)=>{const Vt=ie.transaction([Er],"readonly").objectStore(Er),Wt=W.createCompositeKey(O);try{const Gt=Vt.get(Wt);Gt.onerror=On=>{Be(ln(On,"storage-get"))},Gt.onsuccess=On=>{const wn=On.target.result;Ae(wn?wn.value:void 0)}}catch(Gt){Be(tr.create("storage-get",{originalErrorMessage:Gt?.message}))}})})()}set(O,W){var ie=this;return(0,j.Z)(function*(){const Ae=yield ie.openDbPromise;return new Promise((Be,ut)=>{const Wt=Ae.transaction([Er],"readwrite").objectStore(Er),Gt=ie.createCompositeKey(O);try{const On=Wt.put({compositeKey:Gt,value:W});On.onerror=wn=>{ut(ln(wn,"storage-set"))},On.onsuccess=()=>{Be()}}catch(On){ut(tr.create("storage-set",{originalErrorMessage:On?.message}))}})})()}delete(O){var W=this;return(0,j.Z)(function*(){const ie=yield W.openDbPromise;return new Promise((Ae,Be)=>{const Vt=ie.transaction([Er],"readwrite").objectStore(Er),Wt=W.createCompositeKey(O);try{const Gt=Vt.delete(Wt);Gt.onerror=On=>{Be(ln(On,"storage-delete"))},Gt.onsuccess=()=>{Ae()}}catch(Gt){Be(tr.create("storage-delete",{originalErrorMessage:Gt?.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class ui{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,j.Z)(function*(){const W=O.storage.getLastFetchStatus(),ie=O.storage.getLastSuccessfulFetchTimestampMillis(),Ae=O.storage.getActiveConfig(),Be=yield W;Be&&(O.lastFetchStatus=Be);const ut=yield ie;ut&&(O.lastSuccessfulFetchTimestampMillis=ut);const Vt=yield Ae;Vt&&(O.activeConfig=Vt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Is(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,j.Z)(function*(){if(!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}!function In(){(0,de._registerComponent)(new ye.wA("remote-config",function A(O,{instanceIdentifier:W}){const ie=O.getProvider("app").getImmediate(),Ae=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw tr.create("registration-window");if(!(0,pe.hl)())throw tr.create("indexed-db-unavailable");const{projectId:Be,apiKey:ut,appId:Vt}=ie.options;if(!Be)throw tr.create("registration-project-id");if(!ut)throw tr.create("registration-api-key");if(!Vt)throw tr.create("registration-app-id");const Wt=new Tr(Vt,ie.name,W=W||"firebase"),Gt=new ui(Wt),On=new Se.Yd(Ar);On.logLevel=Se.in.ERROR;const wn=new Pi(Ae,de.SDK_VERSION,W,Be,ut,Vt),os=new Oi(wn,Wt),hi=new Es(os,Wt,Gt,On),Na=new Pn(ie,hi,Gt,Wt,On);return function lr(A){const O=(0,pe.m9)(A);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(Ar,"0.4.1"),(0,de.registerVersion)(Ar,"0.4.1","esm2017")}();const ii="/firebase-messaging-sw.js",qi="/firebase-cloud-messaging-push-scope",Hi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ws="google.c.a.c_id",Cs="google.c.a.c_l",Qs="google.c.a.ts",xs="google.c.a.e";var Di=(()=>{return(A=Di||(Di={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Di;var A})();function Vi(A){const O=new Uint8Array(A);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oa(A){const W=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ie=atob(W),Ae=new Uint8Array(ie.length);for(let Be=0;Be<ie.length;++Be)Ae[Be]=ie.charCodeAt(Be);return Ae}const Fs="fcm_token_details_db",wr="fcm_token_object_Store";function yn(A){return Us.apply(this,arguments)}function Us(){return Us=(0,j.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Be=>Be.name).includes(Fs))return null;let O=null;return(yield(0,Ee.X3)(Fs,5,{upgrade:(ie=(0,j.Z)(function*(Ae,Be,ut,Vt){var Wt;if(Be<2||!Ae.objectStoreNames.contains(wr))return;const Gt=Vt.objectStore(wr),On=yield Gt.index("fcmSenderId").get(A);if(yield Gt.clear(),On)if(2===Be){const wn=On;if(!wn.auth||!wn.p256dh||!wn.endpoint)return;O={token:wn.fcmToken,createTime:null!==(Wt=wn.createTime)&&void 0!==Wt?Wt:Date.now(),subscriptionOptions:{auth:wn.auth,p256dh:wn.p256dh,endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:"string"==typeof wn.vapidKey?wn.vapidKey:Vi(wn.vapidKey)}}}else if(3===Be){const wn=On;O={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:Vi(wn.auth),p256dh:Vi(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:Vi(wn.vapidKey)}}}else if(4===Be){const wn=On;O={token:wn.fcmToken,createTime:wn.createTime,subscriptionOptions:{auth:Vi(wn.auth),p256dh:Vi(wn.p256dh),endpoint:wn.endpoint,swScope:wn.swScope,vapidKey:Vi(wn.vapidKey)}}}}),function(Be,ut,Vt,Wt){return ie.apply(this,arguments)})})).close(),yield(0,Ee.Lj)(Fs),yield(0,Ee.Lj)("fcm_vapid_details_db"),yield(0,Ee.Lj)("undefined"),bs(O)?O:null;var ie}),Us.apply(this,arguments)}function bs(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:O}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const wi="firebase-messaging-store";let ci=null;function Ts(){return ci||(ci=(0,Ee.X3)("firebase-messaging-database",1,{upgrade:(A,O)=>{0===O&&A.createObjectStore(wi)}})),ci}function Pr(A){return xr.apply(this,arguments)}function xr(){return(xr=(0,j.Z)(function*(A){const O=Qi(A),ie=yield(yield Ts()).transaction(wi).objectStore(wi).get(O);if(ie)return ie;{const Ae=yield yn(A.appConfig.senderId);if(Ae)return yield ji(A,Ae),Ae}})).apply(this,arguments)}function ji(A,O){return $i.apply(this,arguments)}function $i(){return($i=(0,j.Z)(function*(A,O){const W=Qi(A),Ae=(yield Ts()).transaction(wi,"readwrite");return yield Ae.objectStore(wi).put(O,W),yield Ae.done,O})).apply(this,arguments)}function wo(A){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,j.Z)(function*(A){const O=Qi(A),ie=(yield Ts()).transaction(wi,"readwrite");yield ie.objectStore(wi).delete(O),yield ie.done})).apply(this,arguments)}function Qi({appConfig:A}){return A.appId}const rr=new pe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xs(A,O){return ir.apply(this,arguments)}function ir(){return(ir=(0,j.Z)(function*(A,O){const W=yield fi(A),ie=Ss(O),Ae={method:"POST",headers:W,body:JSON.stringify(ie)};let Be;try{Be=yield(yield fetch(Vr(A.appConfig),Ae)).json()}catch(ut){throw rr.create("token-subscribe-failed",{errorInfo:ut?.toString()})}if(Be.error)throw rr.create("token-subscribe-failed",{errorInfo:Be.error.message});if(!Be.token)throw rr.create("token-subscribe-no-token");return Be.token})).apply(this,arguments)}function si(A,O){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,j.Z)(function*(A,O){const W=yield fi(A),ie=Ss(O.subscriptionOptions),Ae={method:"PATCH",headers:W,body:JSON.stringify(ie)};let Be;try{Be=yield(yield fetch(`${Vr(A.appConfig)}/${O.token}`,Ae)).json()}catch(ut){throw rr.create("token-update-failed",{errorInfo:ut?.toString()})}if(Be.error)throw rr.create("token-update-failed",{errorInfo:Be.error.message});if(!Be.token)throw rr.create("token-update-no-token");return Be.token})).apply(this,arguments)}function hr(A,O){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,j.Z)(function*(A,O){const ie={method:"DELETE",headers:yield fi(A)};try{const Be=yield(yield fetch(`${Vr(A.appConfig)}/${O}`,ie)).json();if(Be.error)throw rr.create("token-unsubscribe-failed",{errorInfo:Be.error.message})}catch(Ae){throw rr.create("token-unsubscribe-failed",{errorInfo:Ae?.toString()})}})).apply(this,arguments)}function Vr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function fi(A){return gr.apply(this,arguments)}function gr(){return(gr=(0,j.Z)(function*({appConfig:A,installations:O}){const W=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Ss({p256dh:A,auth:O,endpoint:W,vapidKey:ie}){const Ae={web:{endpoint:W,auth:O,p256dh:A}};return ie!==Hi&&(Ae.web.applicationPubKey=ie),Ae}const Ci=6048e5;function jr(A){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,j.Z)(function*(A){const O=yield Co(A.swRegistration,A.vapidKey),W={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:O.endpoint,auth:Vi(O.getKey("auth")),p256dh:Vi(O.getKey("p256dh"))},ie=yield Pr(A.firebaseDependencies);if(ie){if(to(ie.subscriptionOptions,W))return Date.now()>=ie.createTime+Ci?zt(A,{token:ie.token,createTime:Date.now(),subscriptionOptions:W}):ie.token;try{yield hr(A.firebaseDependencies,ie.token)}catch(Ae){console.warn(Ae)}return fr(A.firebaseDependencies,W)}return fr(A.firebaseDependencies,W)})).apply(this,arguments)}function Xt(A){return eo.apply(this,arguments)}function eo(){return(eo=(0,j.Z)(function*(A){const O=yield Pr(A.firebaseDependencies);O&&(yield hr(A.firebaseDependencies,O.token),yield wo(A.firebaseDependencies));const W=yield A.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function zt(A,O){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,j.Z)(function*(A,O){try{const W=yield si(A.firebaseDependencies,O),ie=Object.assign(Object.assign({},O),{token:W,createTime:Date.now()});return yield ji(A.firebaseDependencies,ie),W}catch(W){throw yield Xt(A),W}})).apply(this,arguments)}function fr(A,O){return As.apply(this,arguments)}function As(){return(As=(0,j.Z)(function*(A,O){const ie={token:yield Xs(A,O),createTime:Date.now(),subscriptionOptions:O};return yield ji(A,ie),ie.token})).apply(this,arguments)}function Co(A,O){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,j.Z)(function*(A,O){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oa(O)})})).apply(this,arguments)}function to(A,O){return O.vapidKey===A.vapidKey&&O.endpoint===A.endpoint&&O.auth===A.auth&&O.p256dh===A.p256dh}function Vs(A){const O={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function js(A,O){if(!O.notification)return;A.notification={};const W=O.notification.title;W&&(A.notification.title=W);const ie=O.notification.body;ie&&(A.notification.body=ie);const Ae=O.notification.image;Ae&&(A.notification.image=Ae);const Be=O.notification.icon;Be&&(A.notification.icon=Be)}(O,A),function Ze(A,O){O.data&&(A.data=O.data)}(O,A),function An(A,O){var W,ie,Ae,Be,ut;if(!(O.fcmOptions||null!==(W=O.notification)&&void 0!==W&&W.click_action))return;A.fcmOptions={};const Vt=null!==(Ae=null===(ie=O.fcmOptions)||void 0===ie?void 0:ie.link)&&void 0!==Ae?Ae:null===(Be=O.notification)||void 0===Be?void 0:Be.click_action;Vt&&(A.fcmOptions.link=Vt);const Wt=null===(ut=O.fcmOptions)||void 0===ut?void 0:ut.analytics_label;Wt&&(A.fcmOptions.analyticsLabel=Wt)}(O,A),O}function Xi(A){return"object"==typeof A&&!!A&&ws in A}function Ni(A,O){const W=[];for(let ie=0;ie<A.length;ie++)W.push(A.charAt(ie)),ie<O.length&&W.push(O.charAt(ie));return W.join("")}function ps(A){return rr.create("missing-app-config-values",{valueName:A})}Ni("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ni("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fo{constructor(O,W,ie){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ae=function $r(A){if(!A||!A.options)throw ps("App Configuration Object");if(!A.name)throw ps("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:W}=A;for(const ie of O)if(!W[ie])throw ps(ie);return{appName:A.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Ae,installations:W,analyticsProvider:ie}}_delete(){return Promise.resolve()}}function pi(A){return po.apply(this,arguments)}function po(){return(po=(0,j.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ii,{scope:qi}),A.swRegistration.update().catch(()=>{})}catch(O){throw rr.create("failed-service-worker-registration",{browserErrorMessage:O?.message})}})).apply(this,arguments)}function $s(A,O){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,j.Z)(function*(A,O){if(!O&&!A.swRegistration&&(yield pi(A)),O||!A.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw rr.create("invalid-sw-registration");A.swRegistration=O}})).apply(this,arguments)}function Ws(A,O){return zs.apply(this,arguments)}function zs(){return(zs=(0,j.Z)(function*(A,O){O?A.vapidKey=O:A.vapidKey||(A.vapidKey=Hi)})).apply(this,arguments)}function di(){return(di=(0,j.Z)(function*(A,O){if(!navigator)throw rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw rr.create("permission-blocked");return yield Ws(A,O?.vapidKey),yield $s(A,O?.serviceWorkerRegistration),jr(A)})).apply(this,arguments)}function zi(A,O,W){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,j.Z)(function*(A,O,W){const ie=ki(O);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(ie,{message_id:W[ws],message_name:W[Cs],message_time:W[Qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ki(A){switch(A){case Di.NOTIFICATION_CLICKED:return"notification_open";case Di.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ki(){return(Ki=(0,j.Z)(function*(A,O){const W=O.data;if(!W.isFirebaseMessaging)return;A.onMessageHandler&&W.messageType===Di.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler(Vs(W)):A.onMessageHandler.next(Vs(W)));const ie=W.data;Xi(ie)&&"1"===ie[xs]&&(yield zi(A,W.messageType,ie))})).apply(this,arguments)}const ts="@firebase/messaging",B="0.12.1",m=A=>{const O=new fo(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function es(A,O){return Ki.apply(this,arguments)}(O,W)),O},E=A=>{const O=A.getProvider("messaging").getImmediate();return{getToken:ie=>function mr(A,O){return di.apply(this,arguments)}(O,ie)}};function H(){return q.apply(this,arguments)}function q(){return(q=(0,j.Z)(function*(){try{yield(0,pe.eu)()}catch{return!1}return typeof window<"u"&&(0,pe.hl)()&&(0,pe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function M(){(0,de._registerComponent)(new ye.wA("messaging",m,"PUBLIC")),(0,de._registerComponent)(new ye.wA("messaging-internal",E,"PRIVATE")),(0,de.registerVersion)(ts,B),(0,de.registerVersion)(ts,B,"esm2017")}();const $t="analytics",Pt="firebase_id",Xn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wr="https://www.googletagmanager.com/gtag/js",Hn=new Se.Yd("@firebase/analytics");function ns(A){return Promise.all(A.map(O=>O.catch(W=>W)))}function gi(A,O){const W=document.createElement("script");W.src=`${Wr}?l=${A}&id=${O}`,W.async=!0,document.head.appendChild(W)}function qr(A,O,W,ie,Ae,Be){return C.apply(this,arguments)}function C(){return(C=(0,j.Z)(function*(A,O,W,ie,Ae,Be){const ut=ie[Ae];try{if(ut)yield O[ut];else{const Wt=(yield ns(W)).find(Gt=>Gt.measurementId===Ae);Wt&&(yield O[Wt.appId])}}catch(Vt){Hn.error(Vt)}A("config",Ae,Be)})).apply(this,arguments)}function x(A,O,W,ie,Ae){return S.apply(this,arguments)}function S(){return(S=(0,j.Z)(function*(A,O,W,ie,Ae){try{let Be=[];if(Ae&&Ae.send_to){let ut=Ae.send_to;Array.isArray(ut)||(ut=[ut]);const Vt=yield ns(W);for(const Wt of ut){const Gt=Vt.find(wn=>wn.measurementId===Wt),On=Gt&&O[Gt.appId];if(!On){Be=[];break}Be.push(On)}}0===Be.length&&(Be=Object.values(O)),yield Promise.all(Be),A("event",ie,Ae||{})}catch(Be){Hn.error(Be)}})).apply(this,arguments)}function Ue(A){const O=window.document.getElementsByTagName("script");for(const W of Object.values(O))if(W.src&&W.src.includes(Wr)&&W.src.includes(A))return W;return null}const We=new pe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Bt=new class Rt{constructor(O={},W=1e3){this.throttleMetadata=O,this.intervalMillis=W}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,W){this.throttleMetadata[O]=W}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Vn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function on(A){return er.apply(this,arguments)}function er(){return(er=(0,j.Z)(function*(A){var O;const{appId:W,apiKey:ie}=A,Ae={method:"GET",headers:Vn(ie)},Be=Xn.replace("{app-id}",W),ut=yield fetch(Be,Ae);if(200!==ut.status&&304!==ut.status){let Vt="";try{const Wt=yield ut.json();null!==(O=Wt.error)&&void 0!==O&&O.message&&(Vt=Wt.error.message)}catch{}throw We.create("config-fetch-failed",{httpStatus:ut.status,responseMessage:Vt})}return ut.json()})).apply(this,arguments)}function jt(A){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,j.Z)(function*(A,O=Bt,W){const{appId:ie,apiKey:Ae,measurementId:Be}=A.options;if(!ie)throw We.create("no-app-id");if(!Ae){if(Be)return{measurementId:Be,appId:ie};throw We.create("no-api-key")}const ut=O.getThrottleMetadata(ie)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Vt=new rs;return setTimeout((0,j.Z)(function*(){Vt.abort()}),void 0!==W?W:6e4),xi({appId:ie,apiKey:Ae,measurementId:Be},ut,Vt,O)})).apply(this,arguments)}function xi(A,O,W){return zn.apply(this,arguments)}function zn(){return(zn=(0,j.Z)(function*(A,{throttleEndTimeMillis:O,backoffCount:W},ie,Ae=Bt){var Be;const{appId:ut,measurementId:Vt}=A;try{yield Jr(ie,O)}catch(Wt){if(Vt)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Wt?.message}]`),{appId:ut,measurementId:Vt};throw Wt}try{const Wt=yield on(A);return Ae.deleteThrottleMetadata(ut),Wt}catch(Wt){const Gt=Wt;if(!Fr(Gt)){if(Ae.deleteThrottleMetadata(ut),Vt)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Vt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:ut,measurementId:Vt};throw Wt}const On=503===Number(null===(Be=Gt?.customData)||void 0===Be?void 0:Be.httpStatus)?(0,pe.$s)(W,Ae.intervalMillis,30):(0,pe.$s)(W,Ae.intervalMillis),wn={throttleEndTimeMillis:Date.now()+On,backoffCount:W+1};return Ae.setThrottleMetadata(ut,wn),Hn.debug(`Calling attemptFetch again in ${On} millis`),xi(A,wn,ie,Ae)}})).apply(this,arguments)}function Jr(A,O){return new Promise((W,ie)=>{const Ae=Math.max(O-Date.now(),0),Be=setTimeout(W,Ae);A.addEventListener(()=>{clearTimeout(Be),ie(We.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function Fr(A){if(!(A instanceof pe.ZR&&A.customData))return!1;const O=Number(A.customData.httpStatus);return 429===O||500===O||503===O||504===O}class rs{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let no,mo;function ro(){return(ro=(0,j.Z)(function*(A,O,W,ie,Ae){if(Ae&&Ae.global)A("event",W,ie);else{const Be=yield O;A("event",W,Object.assign(Object.assign({},ie),{send_to:Be}))}})).apply(this,arguments)}function So(A){mo=A}function aa(A){no=A}function mi(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,j.Z)(function*(){if(!(0,pe.hl)())return Hn.warn(We.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,pe.eu)()}catch(A){return Hn.warn(We.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function la(){return(la=(0,j.Z)(function*(A,O,W,ie,Ae,Be,ut){var Vt;const Wt=jt(A);Wt.then(hi=>{W[hi.measurementId]=hi.appId,A.options.measurementId&&hi.measurementId!==A.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Hn.error(hi)),O.push(Wt);const Gt=mi().then(hi=>{if(hi)return ie.getId()}),[On,wn]=yield Promise.all([Wt,Gt]);Ue(Be)||gi(Be,On.measurementId),mo&&(Ae("consent","default",mo),So(void 0)),Ae("js",new Date);const os=null!==(Vt=ut?.config)&&void 0!==Vt?Vt:{};return os.origin="firebase",os.update=!0,null!=wn&&(os[Pt]=wn),Ae("config",On.measurementId,os),no&&(Ae("set",no),aa(void 0)),On.measurementId})).apply(this,arguments)}class Za{constructor(O){this.app=O}_delete(){return delete gs[this.app.options.appId],Promise.resolve()}}let gs={},Qo=[];const ua={};let ca,bi,Rs="dataLayer",ss=!1;function Xo(A,O,W){!function io(){const A=[];if((0,pe.ru)()&&A.push("This is a browser extension environment."),(0,pe.zI)()||A.push("Cookies are not available."),A.length>0){const O=A.map((ie,Ae)=>`(${Ae+1}) ${ie}`).join(" "),W=We.create("invalid-analytics-context",{errorInfo:O});Hn.warn(W.message)}}();const ie=A.options.appId;if(!ie)throw We.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw We.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gs[ie])throw We.create("already-exists",{id:ie});if(!ss){!function Yr(A){let O=[];Array.isArray(window[A])?O=window[A]:window[A]=O}(Rs);const{wrappedGtag:Be,gtagCore:ut}=function ne(A,O,W,ie,Ae){let Be=function(...ut){window[ie].push(arguments)};return window[Ae]&&"function"==typeof window[Ae]&&(Be=window[Ae]),window[Ae]=function V(A,O,W,ie){function Be(){return(Be=(0,j.Z)(function*(ut,Vt,Wt){try{"event"===ut?yield x(A,O,W,Vt,Wt):"config"===ut?yield qr(A,O,W,ie,Vt,Wt):"consent"===ut?A("consent","update",Wt):A("set",Vt)}catch(Gt){Hn.error(Gt)}})).apply(this,arguments)}return function Ae(ut,Vt,Wt){return Be.apply(this,arguments)}}(Be,A,O,W),{gtagCore:Be,wrappedGtag:window[Ae]}}(gs,Qo,ua,Rs,"gtag");bi=Be,ca=ut,ss=!0}return gs[ie]=function Gs(A,O,W,ie,Ae,Be,ut){return la.apply(this,arguments)}(A,Qo,ua,O,ca,Rs,W),new Za(A)}function Ya(){return so.apply(this,arguments)}function so(){return(so=(0,j.Z)(function*(){if((0,pe.ru)()||!(0,pe.zI)()||!(0,pe.hl)())return!1;try{return yield(0,pe.eu)()}catch{return!1}})).apply(this,arguments)}const _r="@firebase/analytics";!function da(){(0,de._registerComponent)(new ye.wA($t,(O,{options:W})=>Xo(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,de._registerComponent)(new ye.wA("analytics-internal",function A(O){try{const W=O.getProvider($t).getImmediate();return{logEvent:(ie,Ae,Be)=>function Ja(A,O,W,ie){A=(0,pe.m9)(A),function Zo(A,O,W,ie,Ae){return ro.apply(this,arguments)}(bi,gs[A.app.options.appId],O,W,ie).catch(Ae=>Hn.error(Ae))}(W,ie,Ae,Be)}}catch(W){throw We.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,de.registerVersion)(_r,"0.9.1"),(0,de.registerVersion)(_r,"0.9.1","esm2017")}();var el=F(4408),Ra=F(7565);const tl=new class Ma extends Ra.v{}(class ha extends el.o{constructor(O,W){super(O,W),this.scheduler=O,this.work=W}schedule(O,W=0){return W>0?super.schedule(O,W):(this.delay=W,this.state=O,this.scheduler.flush(this),this)}execute(O,W){return W>0||this.closed?super.execute(O,W):this._execute(O,W)}requestAsyncId(O,W,ie=0){return null!=ie&&ie>0||null==ie&&this.delay>0?super.requestAsyncId(O,W,ie):(O.flush(this),0)}});var pa=F(4986),ta=F(8505),Cr=F(9468),na=F(5363);const Ro=new y.GfV("7.5.0"),Ks="__angularfire_symbol__analyticsIsSupportedValue",Zi="__angularfire_symbol__analyticsIsSupported",_="__angularfire_symbol__remoteConfigIsSupportedValue",I="__angularfire_symbol__remoteConfigIsSupported",f="__angularfire_symbol__messagingIsSupportedValue",b="__angularfire_symbol__messagingIsSupported";function Qe(A,O,W){if(O){if(1===O.length)return O[0];const Be=O.filter(ut=>ut.app===W);if(1===Be.length)return Be[0]}return W.container.getProvider(A).getImmediate({optional:!0})}globalThis[Zi]||(globalThis[Zi]=Ya().then(A=>globalThis[Ks]=A).catch(()=>globalThis[Ks]=!1)),globalThis[b]||(globalThis[b]=H().then(A=>globalThis[f]=A).catch(()=>globalThis[f]=!1)),globalThis[I]||(globalThis[I]=Is().then(A=>globalThis[_]=A).catch(()=>globalThis[_]=!1));const Mt=(A,O)=>{const W=O?[O]:(0,U.C6)(),ie=[];return W.forEach(Ae=>{Ae.container.getProvider(A).instances.forEach(ut=>{ie.includes(ut)||ie.push(ut)})}),ie};function vt(){}class Ln{constructor(O,W=tl){this.zone=O,this.delegate=W}now(){return this.delegate.now()}schedule(O,W,ie){const Ae=this.zone;return this.delegate.schedule(function(ut){Ae.runGuarded(()=>{O.apply(this,[ut])})},W,ie)}}class oi{constructor(O){this.zone=O,this.task=null}call(O,W){const ie=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vt,{},vt,vt)),W.pipe((0,ta.b)({next:ie,complete:ie,error:ie})).subscribe(O).add(ie)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _o=(()=>{class A{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Ln(Zone.current)),this.insideAngular=W.run(()=>new Ln(Zone.current,pa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(W){return new(W||A)(y.LFG(y.R0b))},A.\u0275prov=y.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function _i(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function yo(A){return _i(),function Pa(A){return function(W){return(W=W.lift(new oi(A.ngZone))).pipe((0,Cr.R)(A.outsideAngular),(0,na.Q)(A.insideAngular))}}(_i())(A)}},2090:(yt,ke,F)=>{F.d(ke,{$s:()=>Te,BH:()=>me,DV:()=>Br,Dv:()=>St,GJ:()=>ti,L:()=>Ee,LL:()=>un,Pz:()=>Me,Sg:()=>Ve,UG:()=>P,UI:()=>bn,US:()=>ye,Wj:()=>Gn,Wl:()=>fn,Yr:()=>ct,ZB:()=>se,ZR:()=>Ft,aH:()=>rt,b$:()=>De,cI:()=>Ut,dS:()=>Rn,eu:()=>Un,g5:()=>j,gK:()=>$n,gQ:()=>sr,h$:()=>Se,hl:()=>vn,hu:()=>U,jU:()=>xe,lb:()=>ai,m9:()=>ze,ne:()=>Ai,p$:()=>re,pd:()=>an,r3:()=>dr,ru:()=>_e,tV:()=>Ie,uI:()=>st,ug:()=>zr,vZ:()=>sn,w1:()=>Oe,w9:()=>pn,xO:()=>Sr,xb:()=>qn,z$:()=>it,zI:()=>Yt,zd:()=>Or});const U=function(Y,X){if(!Y)throw j(X)},j=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},de=function(Y){const X=[];let he=0;for(let He=0;He<Y.length;He++){let ve=Y.charCodeAt(He);ve<128?X[he++]=ve:ve<2048?(X[he++]=ve>>6|192,X[he++]=63&ve|128):55296==(64512&ve)&&He+1<Y.length&&56320==(64512&Y.charCodeAt(He+1))?(ve=65536+((1023&ve)<<10)+(1023&Y.charCodeAt(++He)),X[he++]=ve>>18|240,X[he++]=ve>>12&63|128,X[he++]=ve>>6&63|128,X[he++]=63&ve|128):(X[he++]=ve>>12|224,X[he++]=ve>>6&63|128,X[he++]=63&ve|128)}return X},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,X){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const he=X?this.byteToCharMapWebSafe_:this.byteToCharMap_,He=[];for(let ve=0;ve<Y.length;ve+=3){const mt=Y[ve],tn=ve+1<Y.length,nn=tn?Y[ve+1]:0,cn=ve+2<Y.length,ae=cn?Y[ve+2]:0;let be=(15&nn)<<2|ae>>6,qe=63&ae;cn||(qe=64,tn||(be=64)),He.push(he[mt>>2],he[(3&mt)<<4|nn>>4],he[be],he[qe])}return He.join("")},encodeString(Y,X){return this.HAS_NATIVE_SUPPORT&&!X?btoa(Y):this.encodeByteArray(de(Y),X)},decodeString(Y,X){return this.HAS_NATIVE_SUPPORT&&!X?atob(Y):function(Y){const X=[];let he=0,He=0;for(;he<Y.length;){const ve=Y[he++];if(ve<128)X[He++]=String.fromCharCode(ve);else if(ve>191&&ve<224){const mt=Y[he++];X[He++]=String.fromCharCode((31&ve)<<6|63&mt)}else if(ve>239&&ve<365){const cn=((7&ve)<<18|(63&Y[he++])<<12|(63&Y[he++])<<6|63&Y[he++])-65536;X[He++]=String.fromCharCode(55296+(cn>>10)),X[He++]=String.fromCharCode(56320+(1023&cn))}else{const mt=Y[he++],tn=Y[he++];X[He++]=String.fromCharCode((15&ve)<<12|(63&mt)<<6|63&tn)}}return X.join("")}(this.decodeStringToByteArray(Y,X))},decodeStringToByteArray(Y,X){this.init_();const he=X?this.charToByteMapWebSafe_:this.charToByteMap_,He=[];for(let ve=0;ve<Y.length;){const mt=he[Y.charAt(ve++)],nn=ve<Y.length?he[Y.charAt(ve)]:0;++ve;const ae=ve<Y.length?he[Y.charAt(ve)]:64;++ve;const J=ve<Y.length?he[Y.charAt(ve)]:64;if(++ve,null==mt||null==nn||null==ae||null==J)throw Error();He.push(mt<<2|nn>>4),64!==ae&&(He.push(nn<<4&240|ae>>2),64!==J&&He.push(ae<<6&192|J))}return He},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},Se=function(Y){const X=de(Y);return ye.encodeByteArray(X,!0)},Ee=function(Y){return Se(Y).replace(/\./g,"")},Ie=function(Y){try{return ye.decodeString(Y,!0)}catch(X){console.error("base64Decode failed: ",X)}return null};function re(Y){return se(void 0,Y)}function se(Y,X){if(!(X instanceof Object))return X;switch(X.constructor){case Date:return new Date(X.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return X}for(const he in X)!X.hasOwnProperty(he)||!ge(he)||(Y[he]=se(Y[he],X[he]));return Y}function ge(Y){return"__proto__"!==Y}const Le=()=>{try{return function tt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Y=process.env.__FIREBASE_DEFAULTS__;return Y?JSON.parse(Y):void 0})()||(()=>{if(typeof document>"u")return;let Y;try{Y=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const X=Y&&Ie(Y[1]);return X&&JSON.parse(X)})()}catch(Y){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Y}`)}},rt=()=>{var Y;return null===(Y=Le())||void 0===Y?void 0:Y.config},Me=Y=>{var X;return null===(X=Le())||void 0===X?void 0:X[`_${Y}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((X,he)=>{this.resolve=X,this.reject=he})}wrapCallback(X){return(he,He)=>{he?this.reject(he):this.resolve(He),"function"==typeof X&&(this.promise.catch(()=>{}),1===X.length?X(he):X(he,He))}}}function Ve(Y,X){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const He=X||"demo-project",ve=Y.iat||0,mt=Y.sub||Y.user_id;if(!mt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const tn=Object.assign({iss:`https://securetoken.google.com/${He}`,aud:He,iat:ve,exp:ve+3600,auth_time:ve,sub:mt,user_id:mt,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Ee(JSON.stringify({alg:"none",type:"JWT"})),Ee(JSON.stringify(tn)),""].join(".")}function it(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function st(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function P(){var Y;const X=null===(Y=Le())||void 0===Y?void 0:Y.forceEnvironment;if("node"===X)return!0;if("browser"===X)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function xe(){return"object"==typeof self&&self.self===self}function _e(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function De(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const Y=it();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function ct(){return!1}function vn(){try{return"object"==typeof indexedDB}catch{return!1}}function Un(){return new Promise((Y,X)=>{try{let he=!0;const He="validate-browser-context-for-indexeddb-analytics-module",ve=self.indexedDB.open(He);ve.onsuccess=()=>{ve.result.close(),he||self.indexedDB.deleteDatabase(He),Y(!0)},ve.onupgradeneeded=()=>{he=!1},ve.onerror=()=>{var mt;X((null===(mt=ve.error)||void 0===mt?void 0:mt.message)||"")}}catch(he){X(he)}})}function Yt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ft extends Error{constructor(X,he,He){super(he),this.code=X,this.customData=He,this.name="FirebaseError",Object.setPrototypeOf(this,Ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,un.prototype.create)}}class un{constructor(X,he,He){this.service=X,this.serviceName=he,this.errors=He}create(X,...he){const He=he[0]||{},ve=`${this.service}/${X}`,mt=this.errors[X],tn=mt?function ur(Y,X){return Y.replace(Ht,(he,He)=>{const ve=X[He];return null!=ve?String(ve):`<${He}?>`})}(mt,He):"Error";return new Ft(ve,`${this.serviceName}: ${tn} (${ve}).`,He)}}const Ht=/\{\$([^}]+)}/g;function Ut(Y){return JSON.parse(Y)}function fn(Y){return JSON.stringify(Y)}const cr=function(Y){let X={},he={},He={},ve="";try{const mt=Y.split(".");X=Ut(Ie(mt[0])||""),he=Ut(Ie(mt[1])||""),ve=mt[2],He=he.d||{},delete he.d}catch{}return{header:X,claims:he,data:He,signature:ve}},pn=function(Y){const he=cr(Y).claims;return!!he&&"object"==typeof he&&he.hasOwnProperty("iat")},ti=function(Y){const X=cr(Y).claims;return"object"==typeof X&&!0===X.admin};function dr(Y,X){return Object.prototype.hasOwnProperty.call(Y,X)}function Br(Y,X){if(Object.prototype.hasOwnProperty.call(Y,X))return Y[X]}function qn(Y){for(const X in Y)if(Object.prototype.hasOwnProperty.call(Y,X))return!1;return!0}function bn(Y,X,he){const He={};for(const ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&(He[ve]=X.call(he,Y[ve],ve,Y));return He}function sn(Y,X){if(Y===X)return!0;const he=Object.keys(Y),He=Object.keys(X);for(const ve of he){if(!He.includes(ve))return!1;const mt=Y[ve],tn=X[ve];if(kn(mt)&&kn(tn)){if(!sn(mt,tn))return!1}else if(mt!==tn)return!1}for(const ve of He)if(!he.includes(ve))return!1;return!0}function kn(Y){return null!==Y&&"object"==typeof Y}function Sr(Y){const X=[];for(const[he,He]of Object.entries(Y))Array.isArray(He)?He.forEach(ve=>{X.push(encodeURIComponent(he)+"="+encodeURIComponent(ve))}):X.push(encodeURIComponent(he)+"="+encodeURIComponent(He));return X.length?"&"+X.join("&"):""}function Or(Y){const X={};return Y.replace(/^\?/,"").split("&").forEach(He=>{if(He){const[ve,mt]=He.split("=");X[decodeURIComponent(ve)]=decodeURIComponent(mt)}}),X}function an(Y){const X=Y.indexOf("?");if(!X)return"";const he=Y.indexOf("#",X);return Y.substring(X,he>0?he:void 0)}class sr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let X=1;X<this.blockSize;++X)this.pad_[X]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(X,he){he||(he=0);const He=this.W_;if("string"==typeof X)for(let J=0;J<16;J++)He[J]=X.charCodeAt(he)<<24|X.charCodeAt(he+1)<<16|X.charCodeAt(he+2)<<8|X.charCodeAt(he+3),he+=4;else for(let J=0;J<16;J++)He[J]=X[he]<<24|X[he+1]<<16|X[he+2]<<8|X[he+3],he+=4;for(let J=16;J<80;J++){const be=He[J-3]^He[J-8]^He[J-14]^He[J-16];He[J]=4294967295&(be<<1|be>>>31)}let ae,ce,ve=this.chain_[0],mt=this.chain_[1],tn=this.chain_[2],nn=this.chain_[3],cn=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(ae=nn^mt&(tn^nn),ce=1518500249):(ae=mt^tn^nn,ce=1859775393):J<60?(ae=mt&tn|nn&(mt|tn),ce=2400959708):(ae=mt^tn^nn,ce=3395469782);const be=(ve<<5|ve>>>27)+ae+cn+ce+He[J]&4294967295;cn=nn,nn=tn,tn=4294967295&(mt<<30|mt>>>2),mt=ve,ve=be}this.chain_[0]=this.chain_[0]+ve&4294967295,this.chain_[1]=this.chain_[1]+mt&4294967295,this.chain_[2]=this.chain_[2]+tn&4294967295,this.chain_[3]=this.chain_[3]+nn&4294967295,this.chain_[4]=this.chain_[4]+cn&4294967295}update(X,he){if(null==X)return;void 0===he&&(he=X.length);const He=he-this.blockSize;let ve=0;const mt=this.buf_;let tn=this.inbuf_;for(;ve<he;){if(0===tn)for(;ve<=He;)this.compress_(X,ve),ve+=this.blockSize;if("string"==typeof X){for(;ve<he;)if(mt[tn]=X.charCodeAt(ve),++tn,++ve,tn===this.blockSize){this.compress_(mt),tn=0;break}}else for(;ve<he;)if(mt[tn]=X[ve],++tn,++ve,tn===this.blockSize){this.compress_(mt),tn=0;break}}this.inbuf_=tn,this.total_+=he}digest(){const X=[];let he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let ve=this.blockSize-1;ve>=56;ve--)this.buf_[ve]=255&he,he/=256;this.compress_(this.buf_);let He=0;for(let ve=0;ve<5;ve++)for(let mt=24;mt>=0;mt-=8)X[He]=this.chain_[ve]>>mt&255,++He;return X}}function Ai(Y,X){const he=new Qt(Y,X);return he.subscribe.bind(he)}class Qt{constructor(X,he){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(()=>{X(this)}).catch(He=>{this.error(He)})}next(X){this.forEachObserver(he=>{he.next(X)})}error(X){this.forEachObserver(he=>{he.error(X)}),this.close(X)}complete(){this.forEachObserver(X=>{X.complete()}),this.close()}subscribe(X,he,He){let ve;if(void 0===X&&void 0===he&&void 0===He)throw new Error("Missing Observer.");ve=function Dt(Y,X){if("object"!=typeof Y||null===Y)return!1;for(const he of X)if(he in Y&&"function"==typeof Y[he])return!0;return!1}(X,["next","error","complete"])?X:{next:X,error:he,complete:He},void 0===ve.next&&(ve.next=or),void 0===ve.error&&(ve.error=or),void 0===ve.complete&&(ve.complete=or);const mt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ve.error(this.finalError):ve.complete()}catch{}}),this.observers.push(ve),mt}unsubscribeOne(X){void 0===this.observers||void 0===this.observers[X]||(delete this.observers[X],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(X){if(!this.finalized)for(let he=0;he<this.observers.length;he++)this.sendOne(he,X)}sendOne(X,he){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[X])try{he(this.observers[X])}catch(He){typeof console<"u"&&console.error&&console.error(He)}})}close(X){this.finalized||(this.finalized=!0,void 0!==X&&(this.finalError=X),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const St=function(Y,X,he,He){let ve;if(He<X?ve="at least "+X:He>he&&(ve=0===he?"none":"no more than "+he),ve)throw new Error(Y+" failed: Was called with "+He+(1===He?" argument.":" arguments.")+" Expects "+ve+".")};function $n(Y,X){return`${Y} failed: ${X} argument `}function Gn(Y,X,he,He){if((!He||he)&&"function"!=typeof he)throw new Error($n(Y,X)+"must be a valid function.")}function ai(Y,X,he,He){if((!He||he)&&("object"!=typeof he||null===he))throw new Error($n(Y,X)+"must be a valid context object.")}const Rn=function(Y){const X=[];let he=0;for(let He=0;He<Y.length;He++){let ve=Y.charCodeAt(He);if(ve>=55296&&ve<=56319){const mt=ve-55296;He++,U(He<Y.length,"Surrogate pair missing trail surrogate."),ve=65536+(mt<<10)+(Y.charCodeAt(He)-56320)}ve<128?X[he++]=ve:ve<2048?(X[he++]=ve>>6|192,X[he++]=63&ve|128):ve<65536?(X[he++]=ve>>12|224,X[he++]=ve>>6&63|128,X[he++]=63&ve|128):(X[he++]=ve>>18|240,X[he++]=ve>>12&63|128,X[he++]=ve>>6&63|128,X[he++]=63&ve|128)}return X},zr=function(Y){let X=0;for(let he=0;he<Y.length;he++){const He=Y.charCodeAt(he);He<128?X++:He<2048?X+=2:He>=55296&&He<=56319?(X+=4,he++):X+=3}return X};function Te(Y,X=1e3,he=2){const He=X*Math.pow(he,Y),ve=Math.round(.5*He*(Math.random()-.5)*2);return Math.min(144e5,He+ve)}function ze(Y){return Y&&Y._delegate?Y._delegate:Y}},4662:(yt,ke,F)=>{var y=F(1481),U=F(4650),j=F(2011),de=F(3805),pe=F(1779);const ye=[{path:"",loadChildren:()=>Promise.all([F.e(10),F.e(206)]).then(F.bind(F,4206)).then(B=>B.LandingModule)},{path:"admin",loadChildren:()=>Promise.all([F.e(10),F.e(605)]).then(F.bind(F,5605)).then(B=>B.AdminModule)}];class Se{}Se.\u0275fac=function(m){return new(m||Se)},Se.\u0275mod=U.oAB({type:Se}),Se.\u0275inj=U.cJS({imports:[pe.Bz.forRoot(ye),pe.Bz]});class Ee{constructor(){this.title="angular-mobile-app"}}Ee.\u0275fac=function(m){return new(m||Ee)},Ee.\u0275cmp=U.Xpm({type:Ee,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"landing"]],template:function(m,E){1&m&&(U.TgZ(0,"div",0),U._UZ(1,"router-outlet"),U.qZA())},dependencies:[pe.lC],styles:[".landing[_ngcontent-%COMP%]{height:100%}"]});var Ie=F(7340);function se(B){return new U.vHH(3e3,!1)}function pn(){return typeof window<"u"&&typeof window.document<"u"}function ti(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function dr(B){switch(B.length){case 0:return new Ie.ZN;case 1:return B[0];default:return new Ie.ZE(B)}}function Br(B,m,E,M,H=new Map,q=new Map){const fe=[],ue=[];let Ne=-1,nt=null;if(M.forEach(wt=>{const Ct=wt.get("offset"),Dn=Ct==Ne,hn=Dn&&nt||new Map;wt.forEach(($t,Pt)=>{let xn=Pt,rn=$t;if("offset"!==Pt)switch(xn=m.normalizePropertyName(xn,fe),rn){case Ie.k1:rn=H.get(Pt);break;case Ie.l3:rn=q.get(Pt);break;default:rn=m.normalizeStyleValue(Pt,xn,rn,fe)}hn.set(xn,rn)}),Dn||ue.push(hn),nt=hn,Ne=Ct}),fe.length)throw function vn(B){return new U.vHH(3502,!1)}();return ue}function qn(B,m,E,M){switch(m){case"start":B.onStart(()=>M(E&&bn(E,"start",B)));break;case"done":B.onDone(()=>M(E&&bn(E,"done",B)));break;case"destroy":B.onDestroy(()=>M(E&&bn(E,"destroy",B)))}}function bn(B,m,E){const q=sn(B.element,B.triggerName,B.fromState,B.toState,m||B.phaseName,E.totalTime??B.totalTime,!!E.disabled),fe=B._data;return null!=fe&&(q._data=fe),q}function sn(B,m,E,M,H="",q=0,fe){return{element:B,triggerName:m,fromState:E,toState:M,phaseName:H,totalTime:q,disabled:!!fe}}function kn(B,m,E){let M=B.get(m);return M||B.set(m,M=E),M}function xt(B){const m=B.indexOf(":");return[B.substring(1,m),B.slice(m+1)]}let Sr=(B,m)=>!1,Or=(B,m,E)=>[],an=null;function sr(B){const m=B.parentNode||B.host;return m===an?null:m}(ti()||typeof Element<"u")&&(pn()?(an=(()=>document.documentElement)(),Sr=(B,m)=>{for(;m;){if(m===B)return!0;m=sr(m)}return!1}):Sr=(B,m)=>B.contains(m),Or=(B,m,E)=>{if(E)return Array.from(B.querySelectorAll(m));const M=B.querySelector(m);return M?[M]:[]});let Lt=null,Dt=!1;const yr=Sr,Gn=Or;let Rn=(()=>{class B{validateStyleProperty(E){return function or(B){Lt||(Lt=function $n(){return typeof document<"u"?document.body:null}()||{},Dt=!!Lt.style&&"WebkitAppearance"in Lt.style);let m=!0;return Lt.style&&!function Qt(B){return"ebkit"==B.substring(1,6)}(B)&&(m=B in Lt.style,!m&&Dt&&(m="Webkit"+B.charAt(0).toUpperCase()+B.slice(1)in Lt.style)),m}(E)}matchesElement(E,M){return!1}containsElement(E,M){return yr(E,M)}getParentElement(E){return sr(E)}query(E,M,H){return Gn(E,M,H)}computeStyle(E,M,H){return H||""}animate(E,M,H,q,fe,ue=[],Ne){return new Ie.ZN(H,q)}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275prov=U.Yz7({token:B,factory:B.\u0275fac}),B})(),zr=(()=>{class B{}return B.NOOP=new Rn,B})();const ft="ng-enter",et="ng-leave",Te="ng-trigger",ee=".ng-trigger",le="ng-animating",ze=".ng-animating";function Y(B){if("number"==typeof B)return B;const m=B.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:X(parseFloat(m[1]),m[2])}function X(B,m){return"s"===m?1e3*B:B}function he(B,m,E){return B.hasOwnProperty("duration")?B:function He(B,m,E){let H,q=0,fe="";if("string"==typeof B){const ue=B.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===ue)return m.push(se()),{duration:0,delay:0,easing:""};H=X(parseFloat(ue[1]),ue[2]);const Ne=ue[3];null!=Ne&&(q=X(parseFloat(Ne),ue[4]));const nt=ue[5];nt&&(fe=nt)}else H=B;if(!E){let ue=!1,Ne=m.length;H<0&&(m.push(function ge(){return new U.vHH(3100,!1)}()),ue=!0),q<0&&(m.push(function tt(){return new U.vHH(3101,!1)}()),ue=!0),ue&&m.splice(Ne,0,se())}return{duration:H,delay:q,easing:fe}}(B,m,E)}function ve(B,m={}){return Object.keys(B).forEach(E=>{m[E]=B[E]}),m}function mt(B){const m=new Map;return Object.keys(B).forEach(E=>{m.set(E,B[E])}),m}function cn(B,m=new Map,E){if(E)for(let[M,H]of E)m.set(M,H);for(let[M,H]of B)m.set(M,H);return m}function ae(B,m,E){return E?m+":"+E+";":""}function ce(B){let m="";for(let E=0;E<B.style.length;E++){const M=B.style.item(E);m+=ae(0,M,B.style.getPropertyValue(M))}for(const E in B.style)B.style.hasOwnProperty(E)&&!E.startsWith("_")&&(m+=ae(0,Qn(E),B.style[E]));B.setAttribute("style",m)}function J(B,m,E){B.style&&(m.forEach((M,H)=>{const q=us(H);E&&!E.has(H)&&E.set(H,B.style[q]),B.style[q]=M}),ti()&&ce(B))}function be(B,m){B.style&&(m.forEach((E,M)=>{const H=us(M);B.style[H]=""}),ti()&&ce(B))}function qe(B){return Array.isArray(B)?1==B.length?B[0]:(0,Ie.vP)(B):B}const gn=new RegExp("{{\\s*(.+?)\\s*}}","g");function br(B){let m=[];if("string"==typeof B){let E;for(;E=gn.exec(B);)m.push(E[1]);gn.lastIndex=0}return m}function pr(B,m,E){const M=B.toString(),H=M.replace(gn,(q,fe)=>{let ue=m[fe];return null==ue&&(E.push(function lt(B){return new U.vHH(3003,!1)}()),ue=""),ue.toString()});return H==M?B:H}function Ri(B){const m=[];let E=B.next();for(;!E.done;)m.push(E.value),E=B.next();return m}const Ui=/-+([a-z0-9])/g;function us(B){return B.replace(Ui,(...m)=>m[1].toUpperCase())}function Qn(B){return B.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ar(B,m,E){switch(m.type){case 7:return B.visitTrigger(m,E);case 0:return B.visitState(m,E);case 1:return B.visitTransition(m,E);case 2:return B.visitSequence(m,E);case 3:return B.visitGroup(m,E);case 4:return B.visitAnimate(m,E);case 5:return B.visitKeyframes(m,E);case 6:return B.visitStyle(m,E);case 8:return B.visitReference(m,E);case 9:return B.visitAnimateChild(m,E);case 10:return B.visitAnimateRef(m,E);case 11:return B.visitQuery(m,E);case 12:return B.visitStagger(m,E);default:throw function _t(B){return new U.vHH(3004,!1)}()}}function vi(B,m){return window.getComputedStyle(B)[m]}function Kn(B,m){const E=[];return"string"==typeof B?B.split(/\s*,\s*/).forEach(M=>function Gr(B,m,E){if(":"==B[0]){const Ne=function Bi(B,m){switch(B){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,M)=>parseFloat(M)>parseFloat(E);case":decrement":return(E,M)=>parseFloat(M)<parseFloat(E);default:return m.push(function Oe(B){return new U.vHH(3016,!1)}()),"* => *"}}(B,E);if("function"==typeof Ne)return void m.push(Ne);B=Ne}const M=B.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return E.push(function Pe(B){return new U.vHH(3015,!1)}()),m;const H=M[1],q=M[2],fe=M[3];m.push(lr(H,fe));"<"==q[0]&&!("*"==H&&"*"==fe)&&m.push(lr(fe,H))}(M,E,m)):E.push(B),E}const nr=new Set(["true","1"]),vr=new Set(["false","0"]);function lr(B,m){const E=nr.has(B)||vr.has(B),M=nr.has(m)||vr.has(m);return(H,q)=>{let fe="*"==B||B==H,ue="*"==m||m==q;return!fe&&E&&"boolean"==typeof H&&(fe=H?nr.has(B):vr.has(B)),!ue&&M&&"boolean"==typeof q&&(ue=q?nr.has(m):vr.has(m)),fe&&ue}}const Mi=new RegExp("s*:selfs*,?","g");function dn(B,m,E,M){return new cs(B).build(m,E,M)}class cs{constructor(m){this._driver=m}build(m,E,M){const H=new Kr(E);return this._resetContextStyleTimingState(H),Ar(this,qe(m),H)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,E){let M=E.queryCount=0,H=E.depCount=0;const q=[],fe=[];return"@"==m.name.charAt(0)&&E.errors.push(function Ke(){return new U.vHH(3006,!1)}()),m.definitions.forEach(ue=>{if(this._resetContextStyleTimingState(E),0==ue.type){const Ne=ue,nt=Ne.name;nt.toString().split(/\s*,\s*/).forEach(wt=>{Ne.name=wt,q.push(this.visitState(Ne,E))}),Ne.name=nt}else if(1==ue.type){const Ne=this.visitTransition(ue,E);M+=Ne.queryCount,H+=Ne.depCount,fe.push(Ne)}else E.errors.push(function Ge(){return new U.vHH(3007,!1)}())}),{type:7,name:m.name,states:q,transitions:fe,queryCount:M,depCount:H,options:null}}visitState(m,E){const M=this.visitStyle(m.styles,E),H=m.options&&m.options.params||null;if(M.containsDynamicStyles){const q=new Set,fe=H||{};M.styles.forEach(ue=>{ue instanceof Map&&ue.forEach(Ne=>{br(Ne).forEach(nt=>{fe.hasOwnProperty(nt)||q.add(nt)})})}),q.size&&(Ri(q.values()),E.errors.push(function rt(B,m){return new U.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:H?{params:H}:null}}visitTransition(m,E){E.queryCount=0,E.depCount=0;const M=Ar(this,qe(m.animation),E);return{type:1,matchers:Kn(m.expr,E.errors),animation:M,queryCount:E.queryCount,depCount:E.depCount,options:kr(m.options)}}visitSequence(m,E){return{type:2,steps:m.steps.map(M=>Ar(this,M,E)),options:kr(m.options)}}visitGroup(m,E){const M=E.currentTime;let H=0;const q=m.steps.map(fe=>{E.currentTime=M;const ue=Ar(this,fe,E);return H=Math.max(H,E.currentTime),ue});return E.currentTime=H,{type:3,steps:q,options:kr(m.options)}}visitAnimate(m,E){const M=function Es(B,m){if(B.hasOwnProperty("duration"))return B;if("number"==typeof B)return Pi(he(B,m).duration,0,"");const E=B;if(E.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=Pi(0,0,"");return q.dynamic=!0,q.strValue=E,q}const H=he(E,m);return Pi(H.duration,H.delay,H.easing)}(m.timings,E.errors);E.currentAnimateTimings=M;let H,q=m.styles?m.styles:(0,Ie.oB)({});if(5==q.type)H=this.visitKeyframes(q,E);else{let fe=m.styles,ue=!1;if(!fe){ue=!0;const nt={};M.easing&&(nt.easing=M.easing),fe=(0,Ie.oB)(nt)}E.currentTime+=M.duration+M.delay;const Ne=this.visitStyle(fe,E);Ne.isEmptyStep=ue,H=Ne}return E.currentAnimateTimings=null,{type:4,timings:M,style:H,options:null}}visitStyle(m,E){const M=this._makeStyleAst(m,E);return this._validateStyleAst(M,E),M}_makeStyleAst(m,E){const M=[],H=Array.isArray(m.styles)?m.styles:[m.styles];for(let ue of H)"string"==typeof ue?ue===Ie.l3?M.push(ue):E.errors.push(new U.vHH(3002,!1)):M.push(mt(ue));let q=!1,fe=null;return M.forEach(ue=>{if(ue instanceof Map&&(ue.has("easing")&&(fe=ue.get("easing"),ue.delete("easing")),!q))for(let Ne of ue.values())if(Ne.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:M,easing:fe,offset:m.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(m,E){const M=E.currentAnimateTimings;let H=E.currentTime,q=E.currentTime;M&&q>0&&(q-=M.duration+M.delay),m.styles.forEach(fe=>{"string"!=typeof fe&&fe.forEach((ue,Ne)=>{const nt=E.collectedStyles.get(E.currentQuerySelector),wt=nt.get(Ne);let Ct=!0;wt&&(q!=H&&q>=wt.startTime&&H<=wt.endTime&&(E.errors.push(function Ve(B,m,E,M,H){return new U.vHH(3010,!1)}()),Ct=!1),q=wt.startTime),Ct&&nt.set(Ne,{startTime:q,endTime:H}),E.options&&function At(B,m,E){const M=m.params||{},H=br(B);H.length&&H.forEach(q=>{M.hasOwnProperty(q)||E.push(function Ye(B){return new U.vHH(3001,!1)}())})}(ue,E.options,E.errors)})})}visitKeyframes(m,E){const M={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function it(){return new U.vHH(3011,!1)}()),M;let q=0;const fe=[];let ue=!1,Ne=!1,nt=0;const wt=m.steps.map(rn=>{const Xn=this._makeStyleAst(rn,E);let Wr=null!=Xn.offset?Xn.offset:function vs(B){if("string"==typeof B)return null;let m=null;if(Array.isArray(B))B.forEach(E=>{if(E instanceof Map&&E.has("offset")){const M=E;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(B instanceof Map&&B.has("offset")){const E=B;m=parseFloat(E.get("offset")),E.delete("offset")}return m}(Xn.styles),Hn=0;return null!=Wr&&(q++,Hn=Xn.offset=Wr),Ne=Ne||Hn<0||Hn>1,ue=ue||Hn<nt,nt=Hn,fe.push(Hn),Xn});Ne&&E.errors.push(function st(){return new U.vHH(3012,!1)}()),ue&&E.errors.push(function P(){return new U.vHH(3200,!1)}());const Ct=m.steps.length;let Dn=0;q>0&&q<Ct?E.errors.push(function xe(){return new U.vHH(3202,!1)}()):0==q&&(Dn=1/(Ct-1));const hn=Ct-1,$t=E.currentTime,Pt=E.currentAnimateTimings,xn=Pt.duration;return wt.forEach((rn,Xn)=>{const Wr=Dn>0?Xn==hn?1:Dn*Xn:fe[Xn],Hn=Wr*xn;E.currentTime=$t+Pt.delay+Hn,Pt.duration=Hn,this._validateStyleAst(rn,E),rn.offset=Wr,M.styles.push(rn)}),M}visitReference(m,E){return{type:8,animation:Ar(this,qe(m.animation),E),options:kr(m.options)}}visitAnimateChild(m,E){return E.depCount++,{type:9,options:kr(m.options)}}visitAnimateRef(m,E){return{type:10,animation:this.visitReference(m.animation,E),options:kr(m.options)}}visitQuery(m,E){const M=E.currentQuerySelector,H=m.options||{};E.queryCount++,E.currentQuery=m;const[q,fe]=function ho(B){const m=!!B.split(/\s*,\s*/).find(E=>":self"==E);return m&&(B=B.replace(Mi,"")),B=B.replace(/@\*/g,ee).replace(/@\w+/g,E=>ee+"-"+E.slice(1)).replace(/:animating/g,ze),[B,m]}(m.selector);E.currentQuerySelector=M.length?M+" "+q:q,kn(E.collectedStyles,E.currentQuerySelector,new Map);const ue=Ar(this,qe(m.animation),E);return E.currentQuery=null,E.currentQuerySelector=M,{type:11,selector:q,limit:H.limit||0,optional:!!H.optional,includeSelf:fe,animation:ue,originalSelector:m.selector,options:kr(m.options)}}visitStagger(m,E){E.currentQuery||E.errors.push(function _e(){return new U.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:he(m.timings,E.errors,!0);return{type:12,animation:Ar(this,qe(m.animation),E),timings:M,options:null}}}class Kr{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kr(B){return B?(B=ve(B)).params&&(B.params=function Ei(B){return B?ve(B):null}(B.params)):B={},B}function Pi(B,m,E){return{duration:B,delay:m,easing:E}}function Ii(B,m,E,M,H,q,fe=null,ue=!1){return{type:1,element:B,keyframes:m,preStyleProps:E,postStyleProps:M,duration:H,delay:q,totalTime:H+q,easing:fe,subTimeline:ue}}class Bn{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,E){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...E)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const Wn=new RegExp(":enter","g"),ln=new RegExp(":leave","g");function Er(B,m,E,M,H,q=new Map,fe=new Map,ue,Ne,nt=[]){return(new En).buildKeyframes(B,m,E,M,H,q,fe,ue,Ne,nt)}class En{buildKeyframes(m,E,M,H,q,fe,ue,Ne,nt,wt=[]){nt=nt||new Bn;const Ct=new Hr(m,E,nt,H,q,wt,[]);Ct.options=Ne;const Dn=Ne.delay?Y(Ne.delay):0;Ct.currentTimeline.delayNextStep(Dn),Ct.currentTimeline.setStyles([fe],null,Ct.errors,Ne),Ar(this,M,Ct);const hn=Ct.timelines.filter($t=>$t.containsAnimation());if(hn.length&&ue.size){let $t;for(let Pt=hn.length-1;Pt>=0;Pt--){const xn=hn[Pt];if(xn.element===E){$t=xn;break}}$t&&!$t.allowOnlyTimelineStyles()&&$t.setStyles([ue],null,Ct.errors,Ne)}return hn.length?hn.map($t=>$t.buildKeyframes()):[Ii(E,[],[],[],0,Dn,"",!1)]}visitTrigger(m,E){}visitState(m,E){}visitTransition(m,E){}visitAnimateChild(m,E){const M=E.subInstructions.get(E.element);if(M){const H=E.createSubContext(m.options),q=E.currentTimeline.currentTime,fe=this._visitSubInstructions(M,H,H.options);q!=fe&&E.transformIntoNewTimeline(fe)}E.previousNode=m}visitAnimateRef(m,E){const M=E.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],E,M),this.visitReference(m.animation,M),E.transformIntoNewTimeline(M.currentTimeline.currentTime),E.previousNode=m}_applyAnimationRefDelays(m,E,M){for(const H of m){const q=H?.delay;if(q){const fe="number"==typeof q?q:Y(pr(q,H?.params??{},E.errors));M.delayNextStep(fe)}}}_visitSubInstructions(m,E,M){let q=E.currentTimeline.currentTime;const fe=null!=M.duration?Y(M.duration):null,ue=null!=M.delay?Y(M.delay):null;return 0!==fe&&m.forEach(Ne=>{const nt=E.appendInstructionToTimeline(Ne,fe,ue);q=Math.max(q,nt.duration+nt.delay)}),q}visitReference(m,E){E.updateOptions(m.options,!0),Ar(this,m.animation,E),E.previousNode=m}visitSequence(m,E){const M=E.subContextCount;let H=E;const q=m.options;if(q&&(q.params||q.delay)&&(H=E.createSubContext(q),H.transformIntoNewTimeline(),null!=q.delay)){6==H.previousNode.type&&(H.currentTimeline.snapshotCurrentStyles(),H.previousNode=ds);const fe=Y(q.delay);H.delayNextStep(fe)}m.steps.length&&(m.steps.forEach(fe=>Ar(this,fe,H)),H.currentTimeline.applyStylesToKeyframe(),H.subContextCount>M&&H.transformIntoNewTimeline()),E.previousNode=m}visitGroup(m,E){const M=[];let H=E.currentTimeline.currentTime;const q=m.options&&m.options.delay?Y(m.options.delay):0;m.steps.forEach(fe=>{const ue=E.createSubContext(m.options);q&&ue.delayNextStep(q),Ar(this,fe,ue),H=Math.max(H,ue.currentTimeline.currentTime),M.push(ue.currentTimeline)}),M.forEach(fe=>E.currentTimeline.mergeTimelineCollectedStyles(fe)),E.transformIntoNewTimeline(H),E.previousNode=m}_visitTiming(m,E){if(m.dynamic){const M=m.strValue;return he(E.params?pr(M,E.params,E.errors):M,E.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,E){const M=E.currentAnimateTimings=this._visitTiming(m.timings,E),H=E.currentTimeline;M.delay&&(E.incrementTime(M.delay),H.snapshotCurrentStyles());const q=m.style;5==q.type?this.visitKeyframes(q,E):(E.incrementTime(M.duration),this.visitStyle(q,E),H.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=m}visitStyle(m,E){const M=E.currentTimeline,H=E.currentAnimateTimings;!H&&M.hasCurrentStyleProperties()&&M.forwardFrame();const q=H&&H.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(q):M.setStyles(m.styles,q,E.errors,E.options),E.previousNode=m}visitKeyframes(m,E){const M=E.currentAnimateTimings,H=E.currentTimeline.duration,q=M.duration,ue=E.createSubContext().currentTimeline;ue.easing=M.easing,m.styles.forEach(Ne=>{ue.forwardTime((Ne.offset||0)*q),ue.setStyles(Ne.styles,Ne.easing,E.errors,E.options),ue.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(ue),E.transformIntoNewTimeline(H+q),E.previousNode=m}visitQuery(m,E){const M=E.currentTimeline.currentTime,H=m.options||{},q=H.delay?Y(H.delay):0;q&&(6===E.previousNode.type||0==M&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=ds);let fe=M;const ue=E.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!H.optional,E.errors);E.currentQueryTotal=ue.length;let Ne=null;ue.forEach((nt,wt)=>{E.currentQueryIndex=wt;const Ct=E.createSubContext(m.options,nt);q&&Ct.delayNextStep(q),nt===E.element&&(Ne=Ct.currentTimeline),Ar(this,m.animation,Ct),Ct.currentTimeline.applyStylesToKeyframe(),fe=Math.max(fe,Ct.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(fe),Ne&&(E.currentTimeline.mergeTimelineCollectedStyles(Ne),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=m}visitStagger(m,E){const M=E.parentContext,H=E.currentTimeline,q=m.timings,fe=Math.abs(q.duration),ue=fe*(E.currentQueryTotal-1);let Ne=fe*E.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":Ne=ue-Ne;break;case"full":Ne=M.currentStaggerTime}const wt=E.currentTimeline;Ne&&wt.delayNextStep(Ne);const Ct=wt.currentTime;Ar(this,m.animation,E),E.previousNode=m,M.currentStaggerTime=H.currentTime-Ct+(H.startTime-M.currentTimeline.startTime)}}const ds={};class Hr{constructor(m,E,M,H,q,fe,ue,Ne){this._driver=m,this.element=E,this.subInstructions=M,this._enterClassName=H,this._leaveClassName=q,this.errors=fe,this.timelines=ue,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ds,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ne||new Tr(this._driver,E,0),ue.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,E){if(!m)return;const M=m;let H=this.options;null!=M.duration&&(H.duration=Y(M.duration)),null!=M.delay&&(H.delay=Y(M.delay));const q=M.params;if(q){let fe=H.params;fe||(fe=this.options.params={}),Object.keys(q).forEach(ue=>{(!E||!fe.hasOwnProperty(ue))&&(fe[ue]=pr(q[ue],fe,this.errors))})}}_copyOptions(){const m={};if(this.options){const E=this.options.params;if(E){const M=m.params={};Object.keys(E).forEach(H=>{M[H]=E[H]})}}return m}createSubContext(m=null,E,M){const H=E||this.element,q=new Hr(this._driver,H,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(H,M||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(m),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(m){return this.previousNode=ds,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,E,M){const H={duration:E??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},q=new ui(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,H,m.stretchStartingKeyframe);return this.timelines.push(q),H}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,E,M,H,q,fe){let ue=[];if(H&&ue.push(this.element),m.length>0){m=(m=m.replace(Wn,"."+this._enterClassName)).replace(ln,"."+this._leaveClassName);let nt=this._driver.query(this.element,m,1!=M);0!==M&&(nt=M<0?nt.slice(nt.length+M,nt.length):nt.slice(0,M)),ue.push(...nt)}return!q&&0==ue.length&&fe.push(function De(B){return new U.vHH(3014,!1)}()),ue}}class Tr{constructor(m,E,M,H){this._driver=m,this.element=E,this.startTime=M,this._elementTimelineStylesLookup=H,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+m),E&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,E){return this.applyStylesToKeyframe(),new Tr(this._driver,m,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,E){this._localTimelineStyles.set(m,E),this._globalTimelineStyles.set(m,E),this._styleSummary.set(m,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[E,M]of this._globalTimelineStyles)this._backFill.set(E,M||Ie.l3),this._currentKeyframe.set(E,Ie.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,E,M,H){E&&this._previousKeyframe.set("easing",E);const q=H&&H.params||{},fe=function _n(B,m){const E=new Map;let M;return B.forEach(H=>{if("*"===H){M=M||m.keys();for(let q of M)E.set(q,Ie.l3)}else cn(H,E)}),E}(m,this._globalTimelineStyles);for(let[ue,Ne]of fe){const nt=pr(Ne,q,M);this._pendingStyles.set(ue,nt),this._localTimelineStyles.has(ue)||this._backFill.set(ue,this._globalTimelineStyles.get(ue)??Ie.l3),this._updateStyle(ue,nt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,E)=>{this._currentKeyframe.set(E,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,m)}))}snapshotCurrentStyles(){for(let[m,E]of this._localTimelineStyles)this._pendingStyles.set(m,E),this._updateStyle(m,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let E in this._currentKeyframe)m.push(E);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((E,M)=>{const H=this._styleSummary.get(M);(!H||E.time>H.time)&&this._updateStyle(M,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,E=new Set,M=1===this._keyframes.size&&0===this.duration;let H=[];this._keyframes.forEach((ue,Ne)=>{const nt=cn(ue,new Map,this._backFill);nt.forEach((wt,Ct)=>{wt===Ie.k1?m.add(Ct):wt===Ie.l3&&E.add(Ct)}),M||nt.set("offset",Ne/this.duration),H.push(nt)});const q=m.size?Ri(m.values()):[],fe=E.size?Ri(E.values()):[];if(M){const ue=H[0],Ne=new Map(ue);ue.set("offset",0),Ne.set("offset",1),H=[ue,Ne]}return Ii(this.element,H,q,fe,this.duration,this.startTime,this.easing,!1)}}class ui extends Tr{constructor(m,E,M,H,q,fe,ue=!1){super(m,E,fe.delay),this.keyframes=M,this.preStyleProps=H,this.postStyleProps=q,this._stretchStartingKeyframe=ue,this.timings={duration:fe.duration,delay:fe.delay,easing:fe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:E,duration:M,easing:H}=this.timings;if(this._stretchStartingKeyframe&&E){const q=[],fe=M+E,ue=E/fe,Ne=cn(m[0]);Ne.set("offset",0),q.push(Ne);const nt=cn(m[0]);nt.set("offset",In(ue)),q.push(nt);const wt=m.length-1;for(let Ct=1;Ct<=wt;Ct++){let Dn=cn(m[Ct]);const hn=Dn.get("offset");Dn.set("offset",In((E+hn*M)/fe)),q.push(Dn)}M=fe,E=0,H="",m=q}return Ii(this.element,m,this.preStyleProps,this.postStyleProps,M,E,H,!0)}}function In(B,m=3){const E=Math.pow(10,m-1);return Math.round(B*E)/E}class Is{}const ii=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class qi extends Is{normalizePropertyName(m,E){return us(m)}normalizeStyleValue(m,E,M,H){let q="";const fe=M.toString().trim();if(ii.has(E)&&0!==M&&"0"!==M)if("number"==typeof M)q="px";else{const ue=M.match(/^[+-]?[\d\.]+([a-z]*)$/);ue&&0==ue[1].length&&H.push(function Le(B,m){return new U.vHH(3005,!1)}())}return fe+q}}function Hi(B,m,E,M,H,q,fe,ue,Ne,nt,wt,Ct,Dn){return{type:0,element:B,triggerName:m,isRemovalTransition:H,fromState:E,fromStyles:q,toState:M,toStyles:fe,timelines:ue,queriedElements:Ne,preStyleProps:nt,postStyleProps:wt,totalTime:Ct,errors:Dn}}const hs={};class ws{constructor(m,E,M){this._triggerName=m,this.ast=E,this._stateStyles=M}match(m,E,M,H){return function Qs(B,m,E,M,H){return B.some(q=>q(m,E,M,H))}(this.ast.matchers,m,E,M,H)}buildStyles(m,E,M){let H=this._stateStyles.get("*");return void 0!==m&&(H=this._stateStyles.get(m?.toString())||H),H?H.buildStyles(E,M):new Map}build(m,E,M,H,q,fe,ue,Ne,nt,wt){const Ct=[],Dn=this.ast.options&&this.ast.options.params||hs,$t=this.buildStyles(M,ue&&ue.params||hs,Ct),Pt=Ne&&Ne.params||hs,xn=this.buildStyles(H,Pt,Ct),rn=new Set,Xn=new Map,Wr=new Map,Hn="void"===H,ns={params:xs(Pt,Dn),delay:this.ast.options?.delay},gi=wt?[]:Er(m,E,this.ast.animation,q,fe,$t,xn,ns,nt,Ct);let Yr=0;if(gi.forEach(C=>{Yr=Math.max(C.duration+C.delay,Yr)}),Ct.length)return Hi(E,this._triggerName,M,H,Hn,$t,xn,[],[],Xn,Wr,Yr,Ct);gi.forEach(C=>{const x=C.element,S=kn(Xn,x,new Set);C.preStyleProps.forEach(ne=>S.add(ne));const V=kn(Wr,x,new Set);C.postStyleProps.forEach(ne=>V.add(ne)),x!==E&&rn.add(x)});const qr=Ri(rn.values());return Hi(E,this._triggerName,M,H,Hn,$t,xn,gi,qr,Xn,Wr,Yr)}}function xs(B,m){const E=ve(m);for(const M in B)B.hasOwnProperty(M)&&null!=B[M]&&(E[M]=B[M]);return E}class Ls{constructor(m,E,M){this.styles=m,this.defaultParams=E,this.normalizer=M}buildStyles(m,E){const M=new Map,H=ve(this.defaultParams);return Object.keys(m).forEach(q=>{const fe=m[q];null!==fe&&(H[q]=fe)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((fe,ue)=>{fe&&(fe=pr(fe,H,E));const Ne=this.normalizer.normalizePropertyName(ue,E);fe=this.normalizer.normalizeStyleValue(ue,Ne,fe,E),M.set(ue,fe)})}),M}}class Vi{constructor(m,E,M){this.name=m,this.ast=E,this._normalizer=M,this.transitionFactories=[],this.states=new Map,E.states.forEach(H=>{this.states.set(H.name,new Ls(H.style,H.options&&H.options.params||{},M))}),Fs(this.states,"true","1"),Fs(this.states,"false","0"),E.transitions.forEach(H=>{this.transitionFactories.push(new ws(m,H,this.states))}),this.fallbackTransition=function oa(B,m,E){return new ws(B,{type:1,animation:{type:2,steps:[],options:null},matchers:[(fe,ue)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,E,M,H){return this.transitionFactories.find(fe=>fe.match(m,E,M,H))||null}matchStyles(m,E,M){return this.fallbackTransition.buildStyles(m,E,M)}}function Fs(B,m,E){B.has(m)?B.has(E)||B.set(E,B.get(m)):B.has(E)&&B.set(m,B.get(E))}const Js=new Bn;class wr{constructor(m,E,M){this.bodyNode=m,this._driver=E,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,E){const M=[],q=dn(this._driver,E,M,[]);if(M.length)throw function Un(B){return new U.vHH(3503,!1)}();this._animations.set(m,q)}_buildPlayer(m,E,M){const H=m.element,q=Br(0,this._normalizer,0,m.keyframes,E,M);return this._driver.animate(H,q,m.duration,m.delay,m.easing,[],!0)}create(m,E,M={}){const H=[],q=this._animations.get(m);let fe;const ue=new Map;if(q?(fe=Er(this._driver,E,q,ft,et,new Map,new Map,M,Js,H),fe.forEach(wt=>{const Ct=kn(ue,wt.element,new Map);wt.postStyleProps.forEach(Dn=>Ct.set(Dn,null))})):(H.push(function Yt(){return new U.vHH(3300,!1)}()),fe=[]),H.length)throw function qt(B){return new U.vHH(3504,!1)}();ue.forEach((wt,Ct)=>{wt.forEach((Dn,hn)=>{wt.set(hn,this._driver.computeStyle(Ct,hn,Ie.l3))})});const nt=dr(fe.map(wt=>{const Ct=ue.get(wt.element);return this._buildPlayer(wt,new Map,Ct)}));return this._playersById.set(m,nt),nt.onDestroy(()=>this.destroy(m)),this.players.push(nt),nt}destroy(m){const E=this._getPlayer(m);E.destroy(),this._playersById.delete(m);const M=this.players.indexOf(E);M>=0&&this.players.splice(M,1)}_getPlayer(m){const E=this._playersById.get(m);if(!E)throw function Ft(B){return new U.vHH(3301,!1)}();return E}listen(m,E,M,H){const q=sn(E,"","","");return qn(this._getPlayer(m),M,q,H),()=>{}}command(m,E,M,H){if("register"==M)return void this.register(m,H[0]);if("create"==M)return void this.create(m,E,H[0]||{});const q=this._getPlayer(m);switch(M){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(H[0]));break;case"destroy":this.destroy(m)}}}const yn="ng-animate-queued",bs="ng-animate-disabled",ci=[],Ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},xr="__ng_removed";class ji{get params(){return this.options.params}constructor(m,E=""){this.namespaceId=E;const M=m&&m.hasOwnProperty("value");if(this.value=function Xs(B){return B??null}(M?m.value:m),M){const q=ve(m);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const E=m.params;if(E){const M=this.options.params;Object.keys(E).forEach(H=>{null==M[H]&&(M[H]=E[H])})}}}const $i="void",wo=new ji($i);class Bs{constructor(m,E,M){this.id=m,this.hostElement=E,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Vr(E,this._hostClassName)}listen(m,E,M,H){if(!this._triggers.has(E))throw function un(B,m){return new U.vHH(3302,!1)}();if(null==M||0==M.length)throw function ur(B){return new U.vHH(3303,!1)}();if(!function si(B){return"start"==B||"done"==B}(M))throw function Ht(B,m){return new U.vHH(3400,!1)}();const q=kn(this._elementListeners,m,[]),fe={name:E,phase:M,callback:H};q.push(fe);const ue=kn(this._engine.statesByElement,m,new Map);return ue.has(E)||(Vr(m,Te),Vr(m,Te+"-"+E),ue.set(E,wo)),()=>{this._engine.afterFlush(()=>{const Ne=q.indexOf(fe);Ne>=0&&q.splice(Ne,1),this._triggers.has(E)||ue.delete(E)})}}register(m,E){return!this._triggers.has(m)&&(this._triggers.set(m,E),!0)}_getTrigger(m){const E=this._triggers.get(m);if(!E)throw function Ut(B){return new U.vHH(3401,!1)}();return E}trigger(m,E,M,H=!0){const q=this._getTrigger(E),fe=new Zr(this.id,E,m);let ue=this._engine.statesByElement.get(m);ue||(Vr(m,Te),Vr(m,Te+"-"+E),this._engine.statesByElement.set(m,ue=new Map));let Ne=ue.get(E);const nt=new ji(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Ne&&nt.absorbOptions(Ne.options),ue.set(E,nt),Ne||(Ne=wo),nt.value!==$i&&Ne.value===nt.value){if(!function jr(B,m){const E=Object.keys(B),M=Object.keys(m);if(E.length!=M.length)return!1;for(let H=0;H<E.length;H++){const q=E[H];if(!m.hasOwnProperty(q)||B[q]!==m[q])return!1}return!0}(Ne.params,nt.params)){const Pt=[],xn=q.matchStyles(Ne.value,Ne.params,Pt),rn=q.matchStyles(nt.value,nt.params,Pt);Pt.length?this._engine.reportError(Pt):this._engine.afterFlush(()=>{be(m,xn),J(m,rn)})}return}const Dn=kn(this._engine.playersByElement,m,[]);Dn.forEach(Pt=>{Pt.namespaceId==this.id&&Pt.triggerName==E&&Pt.queued&&Pt.destroy()});let hn=q.matchTransition(Ne.value,nt.value,m,nt.params),$t=!1;if(!hn){if(!H)return;hn=q.fallbackTransition,$t=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:E,transition:hn,fromState:Ne,toState:nt,player:fe,isFallbackTransition:$t}),$t||(Vr(m,yn),fe.onStart(()=>{fi(m,yn)})),fe.onDone(()=>{let Pt=this.players.indexOf(fe);Pt>=0&&this.players.splice(Pt,1);const xn=this._engine.playersByElement.get(m);if(xn){let rn=xn.indexOf(fe);rn>=0&&xn.splice(rn,1)}}),this.players.push(fe),Dn.push(fe),fe}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(E=>E.delete(m)),this._elementListeners.forEach((E,M)=>{this._elementListeners.set(M,E.filter(H=>H.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const E=this._engine.playersByElement.get(m);E&&(E.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,E){const M=this._engine.driver.query(m,ee,!0);M.forEach(H=>{if(H[xr])return;const q=this._engine.fetchNamespacesByElement(H);q.size?q.forEach(fe=>fe.triggerLeaveAnimation(H,E,!1,!0)):this.clearElementCache(H)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(H=>this.clearElementCache(H)))}triggerLeaveAnimation(m,E,M,H){const q=this._engine.statesByElement.get(m),fe=new Map;if(q){const ue=[];if(q.forEach((Ne,nt)=>{if(fe.set(nt,Ne.value),this._triggers.has(nt)){const wt=this.trigger(m,nt,$i,H);wt&&ue.push(wt)}}),ue.length)return this._engine.markElementAsRemoved(this.id,m,!0,E,fe),M&&dr(ue).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const E=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(E&&M){const H=new Set;E.forEach(q=>{const fe=q.name;if(H.has(fe))return;H.add(fe);const Ne=this._triggers.get(fe).fallbackTransition,nt=M.get(fe)||wo,wt=new ji($i),Ct=new Zr(this.id,fe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:fe,transition:Ne,fromState:nt,toState:wt,player:Ct,isFallbackTransition:!0})})}}removeNode(m,E){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,E),this.triggerLeaveAnimation(m,E,!0))return;let H=!1;if(M.totalAnimations){const q=M.players.length?M.playersByQueriedElement.get(m):[];if(q&&q.length)H=!0;else{let fe=m;for(;fe=fe.parentNode;)if(M.statesByElement.get(fe)){H=!0;break}}}if(this.prepareLeaveAnimationListeners(m),H)M.markElementAsRemoved(this.id,m,!1,E);else{const q=m[xr];(!q||q===Ts)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,E))}}insertNode(m,E){Vr(m,this._hostClassName)}drainQueuedTransitions(m){const E=[];return this._queue.forEach(M=>{const H=M.player;if(H.destroyed)return;const q=M.element,fe=this._elementListeners.get(q);fe&&fe.forEach(ue=>{if(ue.name==M.triggerName){const Ne=sn(q,M.triggerName,M.fromState.value,M.toState.value);Ne._data=m,qn(M.player,ue.phase,Ne,ue.callback)}}),H.markedForDestroy?this._engine.afterFlush(()=>{H.destroy()}):E.push(M)}),this._queue=[],E.sort((M,H)=>{const q=M.transition.ast.depCount,fe=H.transition.ast.depCount;return 0==q||0==fe?q-fe:this._engine.driver.containsElement(M.element,H.element)?1:-1})}destroy(m){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let E=!1;return this._elementListeners.has(m)&&(E=!0),E=!!this._queue.find(M=>M.element===m)||E,E}}class Qi{_onRemovalComplete(m,E){this.onRemovalComplete(m,E)}constructor(m,E,M){this.bodyNode=m,this.driver=E,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(H,q)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(E=>{E.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,E){const M=new Bs(m,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(M,E):(this.newHostElements.set(E,M),this.collectEnterElement(E)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,E){const M=this._namespaceList,H=this.namespacesByHostElement;if(M.length-1>=0){let fe=!1,ue=this.driver.getParentElement(E);for(;ue;){const Ne=H.get(ue);if(Ne){const nt=M.indexOf(Ne);M.splice(nt+1,0,m),fe=!0;break}ue=this.driver.getParentElement(ue)}fe||M.unshift(m)}else M.push(m);return H.set(E,m),m}register(m,E){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,E)),M}registerTrigger(m,E,M){let H=this._namespaceLookup[m];H&&H.register(E,M)&&this.totalAnimations++}destroy(m,E){if(!m)return;const M=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[m];const H=this._namespaceList.indexOf(M);H>=0&&this._namespaceList.splice(H,1)}),this.afterFlushAnimationsDone(()=>M.destroy(E))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const E=new Set,M=this.statesByElement.get(m);if(M)for(let H of M.values())if(H.namespaceId){const q=this._fetchNamespace(H.namespaceId);q&&E.add(q)}return E}trigger(m,E,M,H){if(ir(E)){const q=this._fetchNamespace(m);if(q)return q.trigger(E,M,H),!0}return!1}insertNode(m,E,M,H){if(!ir(E))return;const q=E[xr];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const fe=this.collectedLeaveElements.indexOf(E);fe>=0&&this.collectedLeaveElements.splice(fe,1)}if(m){const fe=this._fetchNamespace(m);fe&&fe.insertNode(E,M)}H&&this.collectEnterElement(E)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,E){E?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Vr(m,bs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),fi(m,bs))}removeNode(m,E,M,H){if(ir(E)){const q=m?this._fetchNamespace(m):null;if(q?q.removeNode(E,H):this.markElementAsRemoved(m,E,!1,H),M){const fe=this.namespacesByHostElement.get(E);fe&&fe.id!==m&&fe.removeNode(E,H)}}else this._onRemovalComplete(E,H)}markElementAsRemoved(m,E,M,H,q){this.collectedLeaveElements.push(E),E[xr]={namespaceId:m,setForRemoval:H,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:q}}listen(m,E,M,H,q){return ir(E)?this._fetchNamespace(m).listen(E,M,H,q):()=>{}}_buildInstruction(m,E,M,H,q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,H,m.fromState.options,m.toState.options,E,q)}destroyInnerAnimations(m){let E=this.driver.query(m,ee,!0);E.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(m,ze,!0),E.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const E=this.playersByElement.get(m);E&&E.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const E=this.playersByQueriedElement.get(m);E&&E.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return dr(this.players).onDone(()=>m());m()})}processLeaveNode(m){const E=m[xr];if(E&&E.setForRemoval){if(m[xr]=Ts,E.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(E.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,E.setForRemoval)}m.classList?.contains(bs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,H)=>this._balanceNamespaceList(M,H)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Vr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{E=this._flushAnimations(M,m)}finally{for(let H=0;H<M.length;H++)M[H]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],E.length?dr(E).onDone(()=>{M.forEach(H=>H())}):M.forEach(H=>H())}}reportError(m){throw function fn(B){return new U.vHH(3402,!1)}()}_flushAnimations(m,E){const M=new Bn,H=[],q=new Map,fe=[],ue=new Map,Ne=new Map,nt=new Map,wt=new Set;this.disabledNodes.forEach(We=>{wt.add(We);const pt=this.driver.query(We,".ng-animate-queued",!0);for(let gt=0;gt<pt.length;gt++)wt.add(pt[gt])});const Ct=this.bodyNode,Dn=Array.from(this.statesByElement.keys()),hn=Zn(Dn,this.collectedEnterElements),$t=new Map;let Pt=0;hn.forEach((We,pt)=>{const gt=ft+Pt++;$t.set(pt,gt),We.forEach(Rt=>Vr(Rt,gt))});const xn=[],rn=new Set,Xn=new Set;for(let We=0;We<this.collectedLeaveElements.length;We++){const pt=this.collectedLeaveElements[We],gt=pt[xr];gt&&gt.setForRemoval&&(xn.push(pt),rn.add(pt),gt.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(Rt=>rn.add(Rt)):Xn.add(pt))}const Wr=new Map,Hn=Zn(Dn,Array.from(rn));Hn.forEach((We,pt)=>{const gt=et+Pt++;Wr.set(pt,gt),We.forEach(Rt=>Vr(Rt,gt))}),m.push(()=>{hn.forEach((We,pt)=>{const gt=$t.get(pt);We.forEach(Rt=>fi(Rt,gt))}),Hn.forEach((We,pt)=>{const gt=Wr.get(pt);We.forEach(Rt=>fi(Rt,gt))}),xn.forEach(We=>{this.processLeaveNode(We)})});const ns=[],gi=[];for(let We=this._namespaceList.length-1;We>=0;We--)this._namespaceList[We].drainQueuedTransitions(E).forEach(gt=>{const Rt=gt.player,Bt=gt.element;if(ns.push(Rt),this.collectedEnterElements.length){const zn=Bt[xr];if(zn&&zn.setForMove){if(zn.previousTriggersValues&&zn.previousTriggersValues.has(gt.triggerName)){const Jr=zn.previousTriggersValues.get(gt.triggerName),Fr=this.statesByElement.get(gt.element);if(Fr&&Fr.has(gt.triggerName)){const rs=Fr.get(gt.triggerName);rs.value=Jr,Fr.set(gt.triggerName,rs)}}return void Rt.destroy()}}const Vn=!Ct||!this.driver.containsElement(Ct,Bt),on=Wr.get(Bt),er=$t.get(Bt),jt=this._buildInstruction(gt,M,er,on,Vn);if(jt.errors&&jt.errors.length)return void gi.push(jt);if(Vn)return Rt.onStart(()=>be(Bt,jt.fromStyles)),Rt.onDestroy(()=>J(Bt,jt.toStyles)),void H.push(Rt);if(gt.isFallbackTransition)return Rt.onStart(()=>be(Bt,jt.fromStyles)),Rt.onDestroy(()=>J(Bt,jt.toStyles)),void H.push(Rt);const Qr=[];jt.timelines.forEach(zn=>{zn.stretchStartingKeyframe=!0,this.disabledNodes.has(zn.element)||Qr.push(zn)}),jt.timelines=Qr,M.append(Bt,jt.timelines),fe.push({instruction:jt,player:Rt,element:Bt}),jt.queriedElements.forEach(zn=>kn(ue,zn,[]).push(Rt)),jt.preStyleProps.forEach((zn,Jr)=>{if(zn.size){let Fr=Ne.get(Jr);Fr||Ne.set(Jr,Fr=new Set),zn.forEach((rs,no)=>Fr.add(no))}}),jt.postStyleProps.forEach((zn,Jr)=>{let Fr=nt.get(Jr);Fr||nt.set(Jr,Fr=new Set),zn.forEach((rs,no)=>Fr.add(no))})});if(gi.length){const We=[];gi.forEach(pt=>{We.push(function Ur(B,m){return new U.vHH(3505,!1)}())}),ns.forEach(pt=>pt.destroy()),this.reportError(We)}const Yr=new Map,qr=new Map;fe.forEach(We=>{const pt=We.element;M.has(pt)&&(qr.set(pt,pt),this._beforeAnimationBuild(We.player.namespaceId,We.instruction,Yr))}),H.forEach(We=>{const pt=We.element;this._getPreviousPlayers(pt,!1,We.namespaceId,We.triggerName,null).forEach(Rt=>{kn(Yr,pt,[]).push(Rt),Rt.destroy()})});const C=xn.filter(We=>Lr(We,Ne,nt)),x=new Map;hr(x,this.driver,Xn,nt,Ie.l3).forEach(We=>{Lr(We,Ne,nt)&&C.push(We)});const V=new Map;hn.forEach((We,pt)=>{hr(V,this.driver,new Set(We),Ne,Ie.k1)}),C.forEach(We=>{const pt=x.get(We),gt=V.get(We);x.set(We,new Map([...Array.from(pt?.entries()??[]),...Array.from(gt?.entries()??[])]))});const ne=[],Ue=[],Xe={};fe.forEach(We=>{const{element:pt,player:gt,instruction:Rt}=We;if(M.has(pt)){if(wt.has(pt))return gt.onDestroy(()=>J(pt,Rt.toStyles)),gt.disabled=!0,gt.overrideTotalTime(Rt.totalTime),void H.push(gt);let Bt=Xe;if(qr.size>1){let on=pt;const er=[];for(;on=on.parentNode;){const jt=qr.get(on);if(jt){Bt=jt;break}er.push(on)}er.forEach(jt=>qr.set(jt,Bt))}const Vn=this._buildAnimation(gt.namespaceId,Rt,Yr,q,V,x);if(gt.setRealPlayer(Vn),Bt===Xe)ne.push(gt);else{const on=this.playersByElement.get(Bt);on&&on.length&&(gt.parentPlayer=dr(on)),H.push(gt)}}else be(pt,Rt.fromStyles),gt.onDestroy(()=>J(pt,Rt.toStyles)),Ue.push(gt),wt.has(pt)&&H.push(gt)}),Ue.forEach(We=>{const pt=q.get(We.element);if(pt&&pt.length){const gt=dr(pt);We.setRealPlayer(gt)}}),H.forEach(We=>{We.parentPlayer?We.syncPlayerEvents(We.parentPlayer):We.destroy()});for(let We=0;We<xn.length;We++){const pt=xn[We],gt=pt[xr];if(fi(pt,et),gt&&gt.hasAnimation)continue;let Rt=[];if(ue.size){let Vn=ue.get(pt);Vn&&Vn.length&&Rt.push(...Vn);let on=this.driver.query(pt,ze,!0);for(let er=0;er<on.length;er++){let jt=ue.get(on[er]);jt&&jt.length&&Rt.push(...jt)}}const Bt=Rt.filter(Vn=>!Vn.destroyed);Bt.length?gr(this,pt,Bt):this.processLeaveNode(pt)}return xn.length=0,ne.forEach(We=>{this.players.push(We),We.onDone(()=>{We.destroy();const pt=this.players.indexOf(We);this.players.splice(pt,1)}),We.play()}),ne}elementContainsData(m,E){let M=!1;const H=E[xr];return H&&H.setForRemoval&&(M=!0),this.playersByElement.has(E)&&(M=!0),this.playersByQueriedElement.has(E)&&(M=!0),this.statesByElement.has(E)&&(M=!0),this._fetchNamespace(m).elementContainsData(E)||M}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,E,M,H,q){let fe=[];if(E){const ue=this.playersByQueriedElement.get(m);ue&&(fe=ue)}else{const ue=this.playersByElement.get(m);if(ue){const Ne=!q||q==$i;ue.forEach(nt=>{nt.queued||!Ne&&nt.triggerName!=H||fe.push(nt)})}}return(M||H)&&(fe=fe.filter(ue=>!(M&&M!=ue.namespaceId||H&&H!=ue.triggerName))),fe}_beforeAnimationBuild(m,E,M){const q=E.element,fe=E.isRemovalTransition?void 0:m,ue=E.isRemovalTransition?void 0:E.triggerName;for(const Ne of E.timelines){const nt=Ne.element,wt=nt!==q,Ct=kn(M,nt,[]);this._getPreviousPlayers(nt,wt,fe,ue,E.toState).forEach(hn=>{const $t=hn.getRealPlayer();$t.beforeDestroy&&$t.beforeDestroy(),hn.destroy(),Ct.push(hn)})}be(q,E.fromStyles)}_buildAnimation(m,E,M,H,q,fe){const ue=E.triggerName,Ne=E.element,nt=[],wt=new Set,Ct=new Set,Dn=E.timelines.map($t=>{const Pt=$t.element;wt.add(Pt);const xn=Pt[xr];if(xn&&xn.removedBeforeQueried)return new Ie.ZN($t.duration,$t.delay);const rn=Pt!==Ne,Xn=function Ss(B){const m=[];return Ci(B,m),m}((M.get(Pt)||ci).map(Yr=>Yr.getRealPlayer())).filter(Yr=>!!Yr.element&&Yr.element===Pt),Wr=q.get(Pt),Hn=fe.get(Pt),ns=Br(0,this._normalizer,0,$t.keyframes,Wr,Hn),gi=this._buildPlayer($t,ns,Xn);if($t.subTimeline&&H&&Ct.add(Pt),rn){const Yr=new Zr(m,ue,Pt);Yr.setRealPlayer(gi),nt.push(Yr)}return gi});nt.forEach($t=>{kn(this.playersByQueriedElement,$t.element,[]).push($t),$t.onDone(()=>function rr(B,m,E){let M=B.get(m);if(M){if(M.length){const H=M.indexOf(E);M.splice(H,1)}0==M.length&&B.delete(m)}return M}(this.playersByQueriedElement,$t.element,$t))}),wt.forEach($t=>Vr($t,le));const hn=dr(Dn);return hn.onDestroy(()=>{wt.forEach($t=>fi($t,le)),J(Ne,E.toStyles)}),Ct.forEach($t=>{kn(H,$t,[]).push(hn)}),hn}_buildPlayer(m,E,M){return E.length>0?this.driver.animate(m.element,E,m.duration,m.delay,m.easing,M):new Ie.ZN(m.duration,m.delay)}}class Zr{constructor(m,E,M){this.namespaceId=m,this.triggerName=E,this.element=M,this._player=new Ie.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((E,M)=>{E.forEach(H=>qn(m,M,void 0,H))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const E=this._player;E.triggerCallback&&m.onStart(()=>E.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,E){kn(this._queuedCallbacks,m,[]).push(E)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const E=this._player;E.triggerCallback&&E.triggerCallback(m)}}function ir(B){return B&&1===B.nodeType}function Ji(B,m){const E=B.style.display;return B.style.display=m??"none",E}function hr(B,m,E,M,H){const q=[];E.forEach(Ne=>q.push(Ji(Ne)));const fe=[];M.forEach((Ne,nt)=>{const wt=new Map;Ne.forEach(Ct=>{const Dn=m.computeStyle(nt,Ct,H);wt.set(Ct,Dn),(!Dn||0==Dn.length)&&(nt[xr]=Pr,fe.push(nt))}),B.set(nt,wt)});let ue=0;return E.forEach(Ne=>Ji(Ne,q[ue++])),fe}function Zn(B,m){const E=new Map;if(B.forEach(ue=>E.set(ue,[])),0==m.length)return E;const H=new Set(m),q=new Map;function fe(ue){if(!ue)return 1;let Ne=q.get(ue);if(Ne)return Ne;const nt=ue.parentNode;return Ne=E.has(nt)?nt:H.has(nt)?1:fe(nt),q.set(ue,Ne),Ne}return m.forEach(ue=>{const Ne=fe(ue);1!==Ne&&E.get(Ne).push(ue)}),E}function Vr(B,m){B.classList?.add(m)}function fi(B,m){B.classList?.remove(m)}function gr(B,m,E){dr(E).onDone(()=>B.processLeaveNode(m))}function Ci(B,m){for(let E=0;E<B.length;E++){const M=B[E];M instanceof Ie.ZE?Ci(M.players,m):m.push(M)}}function Lr(B,m,E){const M=E.get(B);if(!M)return!1;let H=m.get(B);return H?M.forEach(q=>H.add(q)):m.set(B,M),E.delete(B),!0}class Xt{constructor(m,E,M){this.bodyNode=m,this._driver=E,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(H,q)=>{},this._transitionEngine=new Qi(m,E,M),this._timelineEngine=new wr(m,E,M),this._transitionEngine.onRemovalComplete=(H,q)=>this.onRemovalComplete(H,q)}registerTrigger(m,E,M,H,q){const fe=m+"-"+H;let ue=this._triggerCache[fe];if(!ue){const Ne=[],wt=dn(this._driver,q,Ne,[]);if(Ne.length)throw function kt(B,m){return new U.vHH(3404,!1)}();ue=function Di(B,m,E){return new Vi(B,m,E)}(H,wt,this._normalizer),this._triggerCache[fe]=ue}this._transitionEngine.registerTrigger(E,H,ue)}register(m,E){this._transitionEngine.register(m,E)}destroy(m,E){this._transitionEngine.destroy(m,E)}onInsert(m,E,M,H){this._transitionEngine.insertNode(m,E,M,H)}onRemove(m,E,M,H){this._transitionEngine.removeNode(m,E,H||!1,M)}disableAnimations(m,E){this._transitionEngine.markElementAsDisabled(m,E)}process(m,E,M,H){if("@"==M.charAt(0)){const[q,fe]=xt(M);this._timelineEngine.command(q,E,fe,H)}else this._transitionEngine.trigger(m,E,M,H)}listen(m,E,M,H,q){if("@"==M.charAt(0)){const[fe,ue]=xt(M);return this._timelineEngine.listen(fe,E,ue,q)}return this._transitionEngine.listen(m,E,M,H,q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zt=(()=>{class B{constructor(E,M,H){this._element=E,this._startStyles=M,this._endStyles=H,this._state=0;let q=B.initialStylesByElement.get(E);q||B.initialStylesByElement.set(E,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&J(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(J(this._element,this._initialStyles),this._endStyles&&(J(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(B.initialStylesByElement.delete(this._element),this._startStyles&&(be(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(be(this._element,this._endStyles),this._endStyles=null),J(this._element,this._initialStyles),this._state=3)}}return B.initialStylesByElement=new WeakMap,B})();function Wi(B){let m=null;return B.forEach((E,M)=>{(function fr(B){return"display"===B||"position"===B})(M)&&(m=m||new Map,m.set(M,E))}),m}class As{constructor(m,E,M,H){this.element=m,this.keyframes=E,this.options=M,this._specialStyles=H,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const E=[];return m.forEach(M=>{E.push(Object.fromEntries(M))}),E}_triggerWebAnimation(m,E,M){return m.animate(this._convertKeyframesToObject(E),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,H)=>{"offset"!==H&&m.set(H,this._finished?M:vi(this.element,H))}),this.currentSnapshot=m}triggerCallback(m){const E="start"===m?this._onStartFns:this._onDoneFns;E.forEach(M=>M()),E.length=0}}class Co{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,E){return!1}containsElement(m,E){return yr(m,E)}getParentElement(m){return sr(m)}query(m,E,M){return Gn(m,E,M)}computeStyle(m,E,M){return window.getComputedStyle(m)[E]}animate(m,E,M,H,q,fe=[]){const Ne={duration:M,delay:H,fill:0==H?"both":"forwards"};q&&(Ne.easing=q);const nt=new Map,wt=fe.filter(hn=>hn instanceof As);(function Do(B,m){return 0===B||0===m})(M,H)&&wt.forEach(hn=>{hn.currentSnapshot.forEach(($t,Pt)=>nt.set(Pt,$t))});let Ct=function tn(B){return B.length?B[0]instanceof Map?B:B.map(m=>mt(m)):[]}(E).map(hn=>cn(hn));Ct=function co(B,m,E){if(E.size&&m.length){let M=m[0],H=[];if(E.forEach((q,fe)=>{M.has(fe)||H.push(fe),M.set(fe,q)}),H.length)for(let q=1;q<m.length;q++){let fe=m[q];H.forEach(ue=>fe.set(ue,vi(B,ue)))}}return m}(m,Ct,nt);const Dn=function eo(B,m){let E=null,M=null;return Array.isArray(m)&&m.length?(E=Wi(m[0]),m.length>1&&(M=Wi(m[m.length-1]))):m instanceof Map&&(E=Wi(m)),E||M?new zt(B,E,M):null}(m,Ct);return new As(m,Ct,Ne,Dn)}}var Hs=F(6895);let to=(()=>{class B extends Ie._j{constructor(E,M){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(M.body,{id:"0",encapsulation:U.ifc.None,styles:[],data:{animation:[]}})}build(E){const M=this._nextAnimationId.toString();this._nextAnimationId++;const H=Array.isArray(E)?(0,Ie.vP)(E):E;return Ze(this._renderer,null,M,"register",[H]),new Vs(M,this._renderer)}}return B.\u0275fac=function(E){return new(E||B)(U.LFG(U.FYo),U.LFG(Hs.K0))},B.\u0275prov=U.Yz7({token:B,factory:B.\u0275fac}),B})();class Vs extends Ie.LC{constructor(m,E){super(),this._id=m,this._renderer=E}create(m,E){return new js(this._id,m,E||{},this._renderer)}}class js{constructor(m,E,M,H){this.id=m,this.element=E,this._renderer=H,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,E){return this._renderer.listen(this.element,`@@${this.id}:${m}`,E)}_command(m,...E){return Ze(this._renderer,this.element,this.id,m,E)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Ze(B,m,E,M,H){return B.setProperty(m,`@@${E}:${M}`,H)}const Xi="@.disabled";let Ni=(()=>{class B{constructor(E,M,H){this.delegate=E,this.engine=M,this._zone=H,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(q,fe)=>{const ue=fe?.parentNode(q);ue&&fe.removeChild(ue,q)}}createRenderer(E,M){const q=this.delegate.createRenderer(E,M);if(!(E&&M&&M.data&&M.data.animation)){let wt=this._rendererCache.get(q);return wt||(wt=new $r("",q,this.engine,()=>this._rendererCache.delete(q)),this._rendererCache.set(q,wt)),wt}const fe=M.id,ue=M.id+"-"+this._currentId;this._currentId++,this.engine.register(ue,E);const Ne=wt=>{Array.isArray(wt)?wt.forEach(Ne):this.engine.registerTrigger(fe,ue,E,wt.name,wt)};return M.data.animation.forEach(Ne),new ps(this,ue,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,M,H){E>=0&&E<this._microtaskId?this._zone.run(()=>M(H)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[fe,ue]=q;fe(ue)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,H]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return B.\u0275fac=function(E){return new(E||B)(U.LFG(U.FYo),U.LFG(Xt),U.LFG(U.R0b))},B.\u0275prov=U.Yz7({token:B,factory:B.\u0275fac}),B})();class $r{constructor(m,E,M,H){this.namespaceId=m,this.delegate=E,this.engine=M,this._onDestroy=H,this.destroyNode=this.delegate.destroyNode?q=>E.destroyNode(q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(m,E){return this.delegate.createElement(m,E)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,E){this.delegate.appendChild(m,E),this.engine.onInsert(this.namespaceId,E,m,!1)}insertBefore(m,E,M,H=!0){this.delegate.insertBefore(m,E,M),this.engine.onInsert(this.namespaceId,E,m,H)}removeChild(m,E,M){this.engine.onRemove(this.namespaceId,E,this.delegate,M)}selectRootElement(m,E){return this.delegate.selectRootElement(m,E)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,E,M,H){this.delegate.setAttribute(m,E,M,H)}removeAttribute(m,E,M){this.delegate.removeAttribute(m,E,M)}addClass(m,E){this.delegate.addClass(m,E)}removeClass(m,E){this.delegate.removeClass(m,E)}setStyle(m,E,M,H){this.delegate.setStyle(m,E,M,H)}removeStyle(m,E,M){this.delegate.removeStyle(m,E,M)}setProperty(m,E,M){"@"==E.charAt(0)&&E==Xi?this.disableAnimations(m,!!M):this.delegate.setProperty(m,E,M)}setValue(m,E){this.delegate.setValue(m,E)}listen(m,E,M){return this.delegate.listen(m,E,M)}disableAnimations(m,E){this.engine.disableAnimations(m,E)}}class ps extends $r{constructor(m,E,M,H,q){super(E,M,H,q),this.factory=m,this.namespaceId=E}setProperty(m,E,M){"@"==E.charAt(0)?"."==E.charAt(1)&&E==Xi?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,E.slice(1),M):this.delegate.setProperty(m,E,M)}listen(m,E,M){if("@"==E.charAt(0)){const H=function fo(B){switch(B){case"body":return document.body;case"document":return document;case"window":return window;default:return B}}(m);let q=E.slice(1),fe="";return"@"!=q.charAt(0)&&([q,fe]=function pi(B){const m=B.indexOf(".");return[B.substring(0,m),B.slice(m+1)]}(q)),this.engine.listen(this.namespaceId,H,q,fe,ue=>{this.factory.scheduleListenerCallback(ue._data||-1,M,ue)})}return this.delegate.listen(m,E,M)}}const Ws=[{provide:Ie._j,useClass:to},{provide:Is,useFactory:function $s(){return new qi}},{provide:Xt,useClass:(()=>{class B extends Xt{constructor(E,M,H,q){super(E.body,M,H)}ngOnDestroy(){this.flush()}}return B.\u0275fac=function(E){return new(E||B)(U.LFG(Hs.K0),U.LFG(zr),U.LFG(Is),U.LFG(U.z2F))},B.\u0275prov=U.Yz7({token:B,factory:B.\u0275fac}),B})()},{provide:U.FYo,useFactory:function Uo(B,m,E){return new Ni(B,m,E)},deps:[y.se,Xt,U.R0b]}],zs=[{provide:zr,useFactory:()=>new Co},{provide:U.QbO,useValue:"BrowserAnimations"},...Ws],mr=[{provide:zr,useClass:Rn},{provide:U.QbO,useValue:"NoopAnimations"},...Ws];let di=(()=>{class B{static withConfig(E){return{ngModule:B,providers:E.disableAnimations?mr:zs}}}return B.\u0275fac=function(E){return new(E||B)},B.\u0275mod=U.oAB({type:B}),B.\u0275inj=U.cJS({providers:zs,imports:[y.b2]}),B})();var Ki=F(529);class ts{}ts.\u0275fac=function(m){return new(m||ts)},ts.\u0275mod=U.oAB({type:ts,bootstrap:[Ee]}),ts.\u0275inj=U.cJS({imports:[y.b2,Se,Ki.JF,di,j.hO.initializeApp({projectId:"bikes-andina",appId:"1:721762585909:web:0b940aafca7dc8c82b507c",databaseURL:"https://bikes-andina-default-rtdb.firebaseio.com",storageBucket:"bikes-andina.appspot.com",apiKey:"AIzaSyBh2U3nD7TZpfo8FbKS2zji9-oC-Uwd-70",authDomain:"bikes-andina.firebaseapp.com",messagingSenderId:"721762585909",measurementId:"G-J54PMJLN35"}),de.JS]}),(0,U.G48)(),y.q6().bootstrapModule(ts).catch(B=>console.error(B))},1135:(yt,ke,F)=>{F.d(ke,{X:()=>U});var y=F(7579);class U extends y.x{constructor(de){super(),this._value=de}get value(){return this.getValue()}_subscribe(de){const pe=super._subscribe(de);return!pe.closed&&de.next(this._value),pe}getValue(){const{hasError:de,thrownError:pe,_value:ye}=this;if(de)throw pe;return this._throwIfClosed(),ye}next(de){super.next(this._value=de)}}},9751:(yt,ke,F)=>{F.d(ke,{y:()=>Ee});var y=F(930),U=F(727),j=F(8822),de=F(9635),pe=F(2416),ye=F(576),Se=F(2806);let Ee=(()=>{class ge{constructor(Ye){Ye&&(this._subscribe=Ye)}lift(Ye){const lt=new ge;return lt.source=this,lt.operator=Ye,lt}subscribe(Ye,lt,_t){const Le=function se(ge){return ge&&ge instanceof y.Lv||function re(ge){return ge&&(0,ye.m)(ge.next)&&(0,ye.m)(ge.error)&&(0,ye.m)(ge.complete)}(ge)&&(0,U.Nn)(ge)}(Ye)?Ye:new y.Hp(Ye,lt,_t);return(0,Se.x)(()=>{const{operator:Ke,source:Ge}=this;Le.add(Ke?Ke.call(Le,Ge):Ge?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(Ye){try{return this._subscribe(Ye)}catch(lt){Ye.error(lt)}}forEach(Ye,lt){return new(lt=Ie(lt))((_t,Le)=>{const Ke=new y.Hp({next:Ge=>{try{Ye(Ge)}catch(rt){Le(rt),Ke.unsubscribe()}},error:Le,complete:_t});this.subscribe(Ke)})}_subscribe(Ye){var lt;return null===(lt=this.source)||void 0===lt?void 0:lt.subscribe(Ye)}[j.L](){return this}pipe(...Ye){return(0,de.U)(Ye)(this)}toPromise(Ye){return new(Ye=Ie(Ye))((lt,_t)=>{let Le;this.subscribe(Ke=>Le=Ke,Ke=>_t(Ke),()=>lt(Le))})}}return ge.create=tt=>new ge(tt),ge})();function Ie(ge){var tt;return null!==(tt=ge??pe.v.Promise)&&void 0!==tt?tt:Promise}},7579:(yt,ke,F)=>{F.d(ke,{x:()=>Se});var y=F(9751),U=F(727);const de=(0,F(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pe=F(8737),ye=F(2806);let Se=(()=>{class Ie extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(se){const ge=new Ee(this,this);return ge.operator=se,ge}_throwIfClosed(){if(this.closed)throw new de}next(se){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(se)}})}error(se){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=se;const{observers:ge}=this;for(;ge.length;)ge.shift().error(se)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:se}=this;for(;se.length;)se.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var se;return(null===(se=this.observers)||void 0===se?void 0:se.length)>0}_trySubscribe(se){return this._throwIfClosed(),super._trySubscribe(se)}_subscribe(se){return this._throwIfClosed(),this._checkFinalizedStatuses(se),this._innerSubscribe(se)}_innerSubscribe(se){const{hasError:ge,isStopped:tt,observers:Ye}=this;return ge||tt?U.Lc:(this.currentObservers=null,Ye.push(se),new U.w0(()=>{this.currentObservers=null,(0,pe.P)(Ye,se)}))}_checkFinalizedStatuses(se){const{hasError:ge,thrownError:tt,isStopped:Ye}=this;ge?se.error(tt):Ye&&se.complete()}asObservable(){const se=new y.y;return se.source=this,se}}return Ie.create=(re,se)=>new Ee(re,se),Ie})();class Ee extends Se{constructor(re,se){super(),this.destination=re,this.source=se}next(re){var se,ge;null===(ge=null===(se=this.destination)||void 0===se?void 0:se.next)||void 0===ge||ge.call(se,re)}error(re){var se,ge;null===(ge=null===(se=this.destination)||void 0===se?void 0:se.error)||void 0===ge||ge.call(se,re)}complete(){var re,se;null===(se=null===(re=this.destination)||void 0===re?void 0:re.complete)||void 0===se||se.call(re)}_subscribe(re){var se,ge;return null!==(ge=null===(se=this.source)||void 0===se?void 0:se.subscribe(re))&&void 0!==ge?ge:U.Lc}}},930:(yt,ke,F)=>{F.d(ke,{Hp:()=>_t,Lv:()=>ge});var y=F(576),U=F(727),j=F(2416),de=F(7849),pe=F(5032);const ye=Ie("C",void 0,void 0);function Ie(Me,me,Ve){return{kind:Me,value:me,error:Ve}}var re=F(3410),se=F(2806);class ge extends U.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,U.Nn)(me)&&me.add(this)):this.destination=rt}static create(me,Ve,it){return new _t(me,Ve,it)}next(me){this.isStopped?Ge(function Ee(Me){return Ie("N",Me,void 0)}(me),this):this._next(me)}error(me){this.isStopped?Ge(function Se(Me){return Ie("E",void 0,Me)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?Ge(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const tt=Function.prototype.bind;function Ye(Me,me){return tt.call(Me,me)}class lt{constructor(me){this.partialObserver=me}next(me){const{partialObserver:Ve}=this;if(Ve.next)try{Ve.next(me)}catch(it){Le(it)}}error(me){const{partialObserver:Ve}=this;if(Ve.error)try{Ve.error(me)}catch(it){Le(it)}else Le(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(Ve){Le(Ve)}}}class _t extends ge{constructor(me,Ve,it){let st;if(super(),(0,y.m)(me)||!me)st={next:me??void 0,error:Ve??void 0,complete:it??void 0};else{let P;this&&j.v.useDeprecatedNextContext?(P=Object.create(me),P.unsubscribe=()=>this.unsubscribe(),st={next:me.next&&Ye(me.next,P),error:me.error&&Ye(me.error,P),complete:me.complete&&Ye(me.complete,P)}):st=me}this.destination=new lt(st)}}function Le(Me){j.v.useDeprecatedSynchronousErrorHandling?(0,se.O)(Me):(0,de.h)(Me)}function Ge(Me,me){const{onStoppedNotification:Ve}=j.v;Ve&&re.z.setTimeout(()=>Ve(Me,me))}const rt={closed:!0,next:pe.Z,error:function Ke(Me){throw Me},complete:pe.Z}},727:(yt,ke,F)=>{F.d(ke,{Lc:()=>ye,w0:()=>pe,Nn:()=>Se});var y=F(576);const j=(0,F(3888).d)(Ie=>function(se){Ie(this),this.message=se?`${se.length} errors occurred during unsubscription:\n${se.map((ge,tt)=>`${tt+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=se});var de=F(8737);class pe{constructor(re){this.initialTeardown=re,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let re;if(!this.closed){this.closed=!0;const{_parentage:se}=this;if(se)if(this._parentage=null,Array.isArray(se))for(const Ye of se)Ye.remove(this);else se.remove(this);const{initialTeardown:ge}=this;if((0,y.m)(ge))try{ge()}catch(Ye){re=Ye instanceof j?Ye.errors:[Ye]}const{_finalizers:tt}=this;if(tt){this._finalizers=null;for(const Ye of tt)try{Ee(Ye)}catch(lt){re=re??[],lt instanceof j?re=[...re,...lt.errors]:re.push(lt)}}if(re)throw new j(re)}}add(re){var se;if(re&&re!==this)if(this.closed)Ee(re);else{if(re instanceof pe){if(re.closed||re._hasParent(this))return;re._addParent(this)}(this._finalizers=null!==(se=this._finalizers)&&void 0!==se?se:[]).push(re)}}_hasParent(re){const{_parentage:se}=this;return se===re||Array.isArray(se)&&se.includes(re)}_addParent(re){const{_parentage:se}=this;this._parentage=Array.isArray(se)?(se.push(re),se):se?[se,re]:re}_removeParent(re){const{_parentage:se}=this;se===re?this._parentage=null:Array.isArray(se)&&(0,de.P)(se,re)}remove(re){const{_finalizers:se}=this;se&&(0,de.P)(se,re),re instanceof pe&&re._removeParent(this)}}pe.EMPTY=(()=>{const Ie=new pe;return Ie.closed=!0,Ie})();const ye=pe.EMPTY;function Se(Ie){return Ie instanceof pe||Ie&&"closed"in Ie&&(0,y.m)(Ie.remove)&&(0,y.m)(Ie.add)&&(0,y.m)(Ie.unsubscribe)}function Ee(Ie){(0,y.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(yt,ke,F)=>{F.d(ke,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(yt,ke,F)=>{F.d(ke,{a:()=>re});var y=F(9751),U=F(4742),j=F(8996),de=F(4671),pe=F(3268),ye=F(3269),Se=F(1810),Ee=F(5403),Ie=F(9672);function re(...tt){const Ye=(0,ye.yG)(tt),lt=(0,ye.jO)(tt),{args:_t,keys:Le}=(0,U.D)(tt);if(0===_t.length)return(0,j.D)([],Ye);const Ke=new y.y(function se(tt,Ye,lt=de.y){return _t=>{ge(Ye,()=>{const{length:Le}=tt,Ke=new Array(Le);let Ge=Le,rt=Le;for(let Me=0;Me<Le;Me++)ge(Ye,()=>{const me=(0,j.D)(tt[Me],Ye);let Ve=!1;me.subscribe((0,Ee.x)(_t,it=>{Ke[Me]=it,Ve||(Ve=!0,rt--),rt||_t.next(lt(Ke.slice()))},()=>{--Ge||_t.complete()}))},_t)},_t)}}(_t,Ye,Le?Ge=>(0,Se.n)(Le,Ge):de.y));return lt?Ke.pipe((0,pe.Z)(lt)):Ke}function ge(tt,Ye,lt){tt?(0,Ie.f)(lt,tt,Ye):Ye()}},7272:(yt,ke,F)=>{F.d(ke,{z:()=>pe});var y=F(8189),j=F(3269),de=F(8996);function pe(...ye){return function U(){return(0,y.J)(1)}()((0,de.D)(ye,(0,j.yG)(ye)))}},515:(yt,ke,F)=>{F.d(ke,{E:()=>U});const U=new(F(9751).y)(pe=>pe.complete())},8996:(yt,ke,F)=>{F.d(ke,{D:()=>me});var y=F(8421),U=F(5363),j=F(9468),ye=F(9751),Ee=F(2202),Ie=F(576),re=F(9672);function ge(Ve,it){if(!Ve)throw new Error("Iterable cannot be null");return new ye.y(st=>{(0,re.f)(st,it,()=>{const P=Ve[Symbol.asyncIterator]();(0,re.f)(st,it,()=>{P.next().then(xe=>{xe.done?st.complete():st.next(xe.value)})},0,!0)})})}var tt=F(3670),Ye=F(8239),lt=F(1144),_t=F(6495),Le=F(2206),Ke=F(4532),Ge=F(3260);function me(Ve,it){return it?function Me(Ve,it){if(null!=Ve){if((0,tt.c)(Ve))return function de(Ve,it){return(0,y.Xf)(Ve).pipe((0,j.R)(it),(0,U.Q)(it))}(Ve,it);if((0,lt.z)(Ve))return function Se(Ve,it){return new ye.y(st=>{let P=0;return it.schedule(function(){P===Ve.length?st.complete():(st.next(Ve[P++]),st.closed||this.schedule())})})}(Ve,it);if((0,Ye.t)(Ve))return function pe(Ve,it){return(0,y.Xf)(Ve).pipe((0,j.R)(it),(0,U.Q)(it))}(Ve,it);if((0,Le.D)(Ve))return ge(Ve,it);if((0,_t.T)(Ve))return function se(Ve,it){return new ye.y(st=>{let P;return(0,re.f)(st,it,()=>{P=Ve[Ee.h](),(0,re.f)(st,it,()=>{let xe,_e;try{({value:xe,done:_e}=P.next())}catch(De){return void st.error(De)}_e?st.complete():st.next(xe)},0,!0)}),()=>(0,Ie.m)(P?.return)&&P.return()})}(Ve,it);if((0,Ge.L)(Ve))return function rt(Ve,it){return ge((0,Ge.Q)(Ve),it)}(Ve,it)}throw(0,Ke.z)(Ve)}(Ve,it):(0,y.Xf)(Ve)}},8421:(yt,ke,F)=>{F.d(ke,{Xf:()=>tt});var y=F(655),U=F(1144),j=F(8239),de=F(9751),pe=F(3670),ye=F(2206),Se=F(4532),Ee=F(6495),Ie=F(3260),re=F(576),se=F(7849),ge=F(8822);function tt(Me){if(Me instanceof de.y)return Me;if(null!=Me){if((0,pe.c)(Me))return function Ye(Me){return new de.y(me=>{const Ve=Me[ge.L]();if((0,re.m)(Ve.subscribe))return Ve.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Me);if((0,U.z)(Me))return function lt(Me){return new de.y(me=>{for(let Ve=0;Ve<Me.length&&!me.closed;Ve++)me.next(Me[Ve]);me.complete()})}(Me);if((0,j.t)(Me))return function _t(Me){return new de.y(me=>{Me.then(Ve=>{me.closed||(me.next(Ve),me.complete())},Ve=>me.error(Ve)).then(null,se.h)})}(Me);if((0,ye.D)(Me))return Ke(Me);if((0,Ee.T)(Me))return function Le(Me){return new de.y(me=>{for(const Ve of Me)if(me.next(Ve),me.closed)return;me.complete()})}(Me);if((0,Ie.L)(Me))return function Ge(Me){return Ke((0,Ie.Q)(Me))}(Me)}throw(0,Se.z)(Me)}function Ke(Me){return new de.y(me=>{(function rt(Me,me){var Ve,it,st,P;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Ve=(0,y.KL)(Me);!(it=yield Ve.next()).done;)if(me.next(it.value),me.closed)return}catch(xe){st={error:xe}}finally{try{it&&!it.done&&(P=Ve.return)&&(yield P.call(Ve))}finally{if(st)throw st.error}}me.complete()})})(Me,me).catch(Ve=>me.error(Ve))})}},6451:(yt,ke,F)=>{F.d(ke,{T:()=>ye});var y=F(8189),U=F(8421),j=F(515),de=F(3269),pe=F(8996);function ye(...Se){const Ee=(0,de.yG)(Se),Ie=(0,de._6)(Se,1/0),re=Se;return re.length?1===re.length?(0,U.Xf)(re[0]):(0,y.J)(Ie)((0,pe.D)(re,Ee)):j.E}},9646:(yt,ke,F)=>{F.d(ke,{of:()=>j});var y=F(3269),U=F(8996);function j(...de){const pe=(0,y.yG)(de);return(0,U.D)(de,pe)}},2843:(yt,ke,F)=>{F.d(ke,{_:()=>j});var y=F(9751),U=F(576);function j(de,pe){const ye=(0,U.m)(de)?de:()=>de,Se=Ee=>Ee.error(ye());return new y.y(pe?Ee=>pe.schedule(Se,0,Ee):Se)}},5403:(yt,ke,F)=>{F.d(ke,{x:()=>U});var y=F(930);function U(de,pe,ye,Se,Ee){return new j(de,pe,ye,Se,Ee)}class j extends y.Lv{constructor(pe,ye,Se,Ee,Ie,re){super(pe),this.onFinalize=Ie,this.shouldUnsubscribe=re,this._next=ye?function(se){try{ye(se)}catch(ge){pe.error(ge)}}:super._next,this._error=Ee?function(se){try{Ee(se)}catch(ge){pe.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(se){pe.error(se)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var pe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(pe=this.onFinalize)||void 0===pe||pe.call(this))}}}},262:(yt,ke,F)=>{F.d(ke,{K:()=>de});var y=F(8421),U=F(5403),j=F(4482);function de(pe){return(0,j.e)((ye,Se)=>{let re,Ee=null,Ie=!1;Ee=ye.subscribe((0,U.x)(Se,void 0,void 0,se=>{re=(0,y.Xf)(pe(se,de(pe)(ye))),Ee?(Ee.unsubscribe(),Ee=null,re.subscribe(Se)):Ie=!0})),Ie&&(Ee.unsubscribe(),Ee=null,re.subscribe(Se))})}},4351:(yt,ke,F)=>{F.d(ke,{b:()=>j});var y=F(5577),U=F(576);function j(de,pe){return(0,U.m)(pe)?(0,y.z)(de,pe,1):(0,y.z)(de,1)}},6590:(yt,ke,F)=>{F.d(ke,{d:()=>j});var y=F(4482),U=F(5403);function j(de){return(0,y.e)((pe,ye)=>{let Se=!1;pe.subscribe((0,U.x)(ye,Ee=>{Se=!0,ye.next(Ee)},()=>{Se||ye.next(de),ye.complete()}))})}},1884:(yt,ke,F)=>{F.d(ke,{x:()=>de});var y=F(4671),U=F(4482),j=F(5403);function de(ye,Se=y.y){return ye=ye??pe,(0,U.e)((Ee,Ie)=>{let re,se=!0;Ee.subscribe((0,j.x)(Ie,ge=>{const tt=Se(ge);(se||!ye(re,tt))&&(se=!1,re=tt,Ie.next(ge))}))})}function pe(ye,Se){return ye===Se}},9300:(yt,ke,F)=>{F.d(ke,{h:()=>j});var y=F(4482),U=F(5403);function j(de,pe){return(0,y.e)((ye,Se)=>{let Ee=0;ye.subscribe((0,U.x)(Se,Ie=>de.call(pe,Ie,Ee++)&&Se.next(Ie)))})}},8746:(yt,ke,F)=>{F.d(ke,{x:()=>U});var y=F(4482);function U(j){return(0,y.e)((de,pe)=>{try{de.subscribe(pe)}finally{pe.add(j)}})}},590:(yt,ke,F)=>{F.d(ke,{P:()=>Se});var y=F(6805),U=F(9300),j=F(5698),de=F(6590),pe=F(8068),ye=F(4671);function Se(Ee,Ie){const re=arguments.length>=2;return se=>se.pipe(Ee?(0,U.h)((ge,tt)=>Ee(ge,tt,se)):ye.y,(0,j.q)(1),re?(0,de.d)(Ie):(0,pe.T)(()=>new y.K))}},4004:(yt,ke,F)=>{F.d(ke,{U:()=>j});var y=F(4482),U=F(5403);function j(de,pe){return(0,y.e)((ye,Se)=>{let Ee=0;ye.subscribe((0,U.x)(Se,Ie=>{Se.next(de.call(pe,Ie,Ee++))}))})}},9718:(yt,ke,F)=>{F.d(ke,{h:()=>U});var y=F(4004);function U(j){return(0,y.U)(()=>j)}},8189:(yt,ke,F)=>{F.d(ke,{J:()=>j});var y=F(5577),U=F(4671);function j(de=1/0){return(0,y.z)(U.y,de)}},5577:(yt,ke,F)=>{F.d(ke,{z:()=>Ee});var y=F(4004),U=F(8421),j=F(4482),de=F(9672),pe=F(5403),Se=F(576);function Ee(Ie,re,se=1/0){return(0,Se.m)(re)?Ee((ge,tt)=>(0,y.U)((Ye,lt)=>re(ge,Ye,tt,lt))((0,U.Xf)(Ie(ge,tt))),se):("number"==typeof re&&(se=re),(0,j.e)((ge,tt)=>function ye(Ie,re,se,ge,tt,Ye,lt,_t){const Le=[];let Ke=0,Ge=0,rt=!1;const Me=()=>{rt&&!Le.length&&!Ke&&re.complete()},me=it=>Ke<ge?Ve(it):Le.push(it),Ve=it=>{Ye&&re.next(it),Ke++;let st=!1;(0,U.Xf)(se(it,Ge++)).subscribe((0,pe.x)(re,P=>{tt?.(P),Ye?me(P):re.next(P)},()=>{st=!0},void 0,()=>{if(st)try{for(Ke--;Le.length&&Ke<ge;){const P=Le.shift();lt?(0,de.f)(re,lt,()=>Ve(P)):Ve(P)}Me()}catch(P){re.error(P)}}))};return Ie.subscribe((0,pe.x)(re,me,()=>{rt=!0,Me()})),()=>{_t?.()}}(ge,tt,Ie,se)))}},5363:(yt,ke,F)=>{F.d(ke,{Q:()=>de});var y=F(9672),U=F(4482),j=F(5403);function de(pe,ye=0){return(0,U.e)((Se,Ee)=>{Se.subscribe((0,j.x)(Ee,Ie=>(0,y.f)(Ee,pe,()=>Ee.next(Ie),ye),()=>(0,y.f)(Ee,pe,()=>Ee.complete(),ye),Ie=>(0,y.f)(Ee,pe,()=>Ee.error(Ie),ye)))})}},5026:(yt,ke,F)=>{F.d(ke,{R:()=>de});var y=F(4482),U=F(5403);function j(pe,ye,Se,Ee,Ie){return(re,se)=>{let ge=Se,tt=ye,Ye=0;re.subscribe((0,U.x)(se,lt=>{const _t=Ye++;tt=ge?pe(tt,lt,_t):(ge=!0,lt),Ee&&se.next(tt)},Ie&&(()=>{ge&&se.next(tt),se.complete()})))}}function de(pe,ye){return(0,y.e)(j(pe,ye,arguments.length>=2,!0))}},3099:(yt,ke,F)=>{F.d(ke,{B:()=>pe});var y=F(8421),U=F(7579),j=F(930),de=F(4482);function pe(Se={}){const{connector:Ee=(()=>new U.x),resetOnError:Ie=!0,resetOnComplete:re=!0,resetOnRefCountZero:se=!0}=Se;return ge=>{let tt,Ye,lt,_t=0,Le=!1,Ke=!1;const Ge=()=>{Ye?.unsubscribe(),Ye=void 0},rt=()=>{Ge(),tt=lt=void 0,Le=Ke=!1},Me=()=>{const me=tt;rt(),me?.unsubscribe()};return(0,de.e)((me,Ve)=>{_t++,!Ke&&!Le&&Ge();const it=lt=lt??Ee();Ve.add(()=>{_t--,0===_t&&!Ke&&!Le&&(Ye=ye(Me,se))}),it.subscribe(Ve),!tt&&_t>0&&(tt=new j.Hp({next:st=>it.next(st),error:st=>{Ke=!0,Ge(),Ye=ye(rt,Ie,st),it.error(st)},complete:()=>{Le=!0,Ge(),Ye=ye(rt,re),it.complete()}}),(0,y.Xf)(me).subscribe(tt))})(ge)}}function ye(Se,Ee,...Ie){if(!0===Ee)return void Se();if(!1===Ee)return;const re=new j.Hp({next:()=>{re.unsubscribe(),Se()}});return Ee(...Ie).subscribe(re)}},8675:(yt,ke,F)=>{F.d(ke,{O:()=>de});var y=F(7272),U=F(3269),j=F(4482);function de(...pe){const ye=(0,U.yG)(pe);return(0,j.e)((Se,Ee)=>{(ye?(0,y.z)(pe,Se,ye):(0,y.z)(pe,Se)).subscribe(Ee)})}},9468:(yt,ke,F)=>{F.d(ke,{R:()=>U});var y=F(4482);function U(j,de=0){return(0,y.e)((pe,ye)=>{ye.add(j.schedule(()=>pe.subscribe(ye),de))})}},3900:(yt,ke,F)=>{F.d(ke,{w:()=>de});var y=F(8421),U=F(4482),j=F(5403);function de(pe,ye){return(0,U.e)((Se,Ee)=>{let Ie=null,re=0,se=!1;const ge=()=>se&&!Ie&&Ee.complete();Se.subscribe((0,j.x)(Ee,tt=>{Ie?.unsubscribe();let Ye=0;const lt=re++;(0,y.Xf)(pe(tt,lt)).subscribe(Ie=(0,j.x)(Ee,_t=>Ee.next(ye?ye(tt,_t,lt,Ye++):_t),()=>{Ie=null,ge()}))},()=>{se=!0,ge()}))})}},5698:(yt,ke,F)=>{F.d(ke,{q:()=>de});var y=F(515),U=F(4482),j=F(5403);function de(pe){return pe<=0?()=>y.E:(0,U.e)((ye,Se)=>{let Ee=0;ye.subscribe((0,j.x)(Se,Ie=>{++Ee<=pe&&(Se.next(Ie),pe<=Ee&&Se.complete())}))})}},8505:(yt,ke,F)=>{F.d(ke,{b:()=>pe});var y=F(576),U=F(4482),j=F(5403),de=F(4671);function pe(ye,Se,Ee){const Ie=(0,y.m)(ye)||Se||Ee?{next:ye,error:Se,complete:Ee}:ye;return Ie?(0,U.e)((re,se)=>{var ge;null===(ge=Ie.subscribe)||void 0===ge||ge.call(Ie);let tt=!0;re.subscribe((0,j.x)(se,Ye=>{var lt;null===(lt=Ie.next)||void 0===lt||lt.call(Ie,Ye),se.next(Ye)},()=>{var Ye;tt=!1,null===(Ye=Ie.complete)||void 0===Ye||Ye.call(Ie),se.complete()},Ye=>{var lt;tt=!1,null===(lt=Ie.error)||void 0===lt||lt.call(Ie,Ye),se.error(Ye)},()=>{var Ye,lt;tt&&(null===(Ye=Ie.unsubscribe)||void 0===Ye||Ye.call(Ie)),null===(lt=Ie.finalize)||void 0===lt||lt.call(Ie)}))}):de.y}},8068:(yt,ke,F)=>{F.d(ke,{T:()=>de});var y=F(6805),U=F(4482),j=F(5403);function de(ye=pe){return(0,U.e)((Se,Ee)=>{let Ie=!1;Se.subscribe((0,j.x)(Ee,re=>{Ie=!0,Ee.next(re)},()=>Ie?Ee.complete():Ee.error(ye())))})}function pe(){return new y.K}},4408:(yt,ke,F)=>{F.d(ke,{o:()=>pe});var y=F(727);class U extends y.w0{constructor(Se,Ee){super()}schedule(Se,Ee=0){return this}}const j={setInterval(ye,Se,...Ee){const{delegate:Ie}=j;return Ie?.setInterval?Ie.setInterval(ye,Se,...Ee):setInterval(ye,Se,...Ee)},clearInterval(ye){const{delegate:Se}=j;return(Se?.clearInterval||clearInterval)(ye)},delegate:void 0};var de=F(8737);class pe extends U{constructor(Se,Ee){super(Se,Ee),this.scheduler=Se,this.work=Ee,this.pending=!1}schedule(Se,Ee=0){var Ie;if(this.closed)return this;this.state=Se;const re=this.id,se=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(se,re,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(Ie=this.id)&&void 0!==Ie?Ie:this.requestAsyncId(se,this.id,Ee),this}requestAsyncId(Se,Ee,Ie=0){return j.setInterval(Se.flush.bind(Se,this),Ie)}recycleAsyncId(Se,Ee,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return Ee;null!=Ee&&j.clearInterval(Ee)}execute(Se,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(Se,Ee);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ee){let re,Ie=!1;try{this.work(Se)}catch(se){Ie=!0,re=se||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),re}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Ee}=this,{actions:Ie}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(Ie,this),null!=Se&&(this.id=this.recycleAsyncId(Ee,Se,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,ke,F)=>{F.d(ke,{v:()=>j});var y=F(6063);class U{constructor(pe,ye=U.now){this.schedulerActionCtor=pe,this.now=ye}schedule(pe,ye=0,Se){return new this.schedulerActionCtor(this,pe).schedule(Se,ye)}}U.now=y.l.now;class j extends U{constructor(pe,ye=U.now){super(pe,ye),this.actions=[],this._active=!1}flush(pe){const{actions:ye}=this;if(this._active)return void ye.push(pe);let Se;this._active=!0;do{if(Se=pe.execute(pe.state,pe.delay))break}while(pe=ye.shift());if(this._active=!1,Se){for(;pe=ye.shift();)pe.unsubscribe();throw Se}}}},4986:(yt,ke,F)=>{F.d(ke,{P:()=>de,z:()=>j});var y=F(4408);const j=new(F(7565).v)(y.o),de=j},6063:(yt,ke,F)=>{F.d(ke,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(yt,ke,F)=>{F.d(ke,{z:()=>y});const y={setTimeout(U,j,...de){const{delegate:pe}=y;return pe?.setTimeout?pe.setTimeout(U,j,...de):setTimeout(U,j,...de)},clearTimeout(U){const{delegate:j}=y;return(j?.clearTimeout||clearTimeout)(U)},delegate:void 0}},2202:(yt,ke,F)=>{F.d(ke,{h:()=>U});const U=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,ke,F)=>{F.d(ke,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(yt,ke,F)=>{F.d(ke,{K:()=>U});const U=(0,F(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(yt,ke,F)=>{F.d(ke,{_6:()=>ye,jO:()=>de,yG:()=>pe});var y=F(576),U=F(3532);function j(Se){return Se[Se.length-1]}function de(Se){return(0,y.m)(j(Se))?Se.pop():void 0}function pe(Se){return(0,U.K)(j(Se))?Se.pop():void 0}function ye(Se,Ee){return"number"==typeof j(Se)?Se.pop():Ee}},4742:(yt,ke,F)=>{F.d(ke,{D:()=>pe});const{isArray:y}=Array,{getPrototypeOf:U,prototype:j,keys:de}=Object;function pe(Se){if(1===Se.length){const Ee=Se[0];if(y(Ee))return{args:Ee,keys:null};if(function ye(Se){return Se&&"object"==typeof Se&&U(Se)===j}(Ee)){const Ie=de(Ee);return{args:Ie.map(re=>Ee[re]),keys:Ie}}}return{args:Se,keys:null}}},8737:(yt,ke,F)=>{function y(U,j){if(U){const de=U.indexOf(j);0<=de&&U.splice(de,1)}}F.d(ke,{P:()=>y})},3888:(yt,ke,F)=>{function y(U){const de=U(pe=>{Error.call(pe),pe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}F.d(ke,{d:()=>y})},1810:(yt,ke,F)=>{function y(U,j){return U.reduce((de,pe,ye)=>(de[pe]=j[ye],de),{})}F.d(ke,{n:()=>y})},2806:(yt,ke,F)=>{F.d(ke,{O:()=>de,x:()=>j});var y=F(2416);let U=null;function j(pe){if(y.v.useDeprecatedSynchronousErrorHandling){const ye=!U;if(ye&&(U={errorThrown:!1,error:null}),pe(),ye){const{errorThrown:Se,error:Ee}=U;if(U=null,Se)throw Ee}}else pe()}function de(pe){y.v.useDeprecatedSynchronousErrorHandling&&U&&(U.errorThrown=!0,U.error=pe)}},9672:(yt,ke,F)=>{function y(U,j,de,pe=0,ye=!1){const Se=j.schedule(function(){de(),ye?U.add(this.schedule(null,pe)):this.unsubscribe()},pe);if(U.add(Se),!ye)return Se}F.d(ke,{f:()=>y})},4671:(yt,ke,F)=>{function y(U){return U}F.d(ke,{y:()=>y})},1144:(yt,ke,F)=>{F.d(ke,{z:()=>y});const y=U=>U&&"number"==typeof U.length&&"function"!=typeof U},2206:(yt,ke,F)=>{F.d(ke,{D:()=>U});var y=F(576);function U(j){return Symbol.asyncIterator&&(0,y.m)(j?.[Symbol.asyncIterator])}},576:(yt,ke,F)=>{function y(U){return"function"==typeof U}F.d(ke,{m:()=>y})},3670:(yt,ke,F)=>{F.d(ke,{c:()=>j});var y=F(8822),U=F(576);function j(de){return(0,U.m)(de[y.L])}},6495:(yt,ke,F)=>{F.d(ke,{T:()=>j});var y=F(2202),U=F(576);function j(de){return(0,U.m)(de?.[y.h])}},8239:(yt,ke,F)=>{F.d(ke,{t:()=>U});var y=F(576);function U(j){return(0,y.m)(j?.then)}},3260:(yt,ke,F)=>{F.d(ke,{L:()=>de,Q:()=>j});var y=F(655),U=F(576);function j(pe){return(0,y.FC)(this,arguments,function*(){const Se=pe.getReader();try{for(;;){const{value:Ee,done:Ie}=yield(0,y.qq)(Se.read());if(Ie)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ee)}}finally{Se.releaseLock()}})}function de(pe){return(0,U.m)(pe?.getReader)}},3532:(yt,ke,F)=>{F.d(ke,{K:()=>U});var y=F(576);function U(j){return j&&(0,y.m)(j.schedule)}},4482:(yt,ke,F)=>{F.d(ke,{A:()=>U,e:()=>j});var y=F(576);function U(de){return(0,y.m)(de?.lift)}function j(de){return pe=>{if(U(pe))return pe.lift(function(ye){try{return de(ye,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(yt,ke,F)=>{F.d(ke,{Z:()=>de});var y=F(4004);const{isArray:U}=Array;function de(pe){return(0,y.U)(ye=>function j(pe,ye){return U(ye)?pe(...ye):pe(ye)}(pe,ye))}},5032:(yt,ke,F)=>{function y(){}F.d(ke,{Z:()=>y})},9635:(yt,ke,F)=>{F.d(ke,{U:()=>j,z:()=>U});var y=F(4671);function U(...de){return j(de)}function j(de){return 0===de.length?y.y:1===de.length?de[0]:function(ye){return de.reduce((Se,Ee)=>Ee(Se),ye)}}},7849:(yt,ke,F)=>{F.d(ke,{h:()=>j});var y=F(2416),U=F(3410);function j(de){U.z.setTimeout(()=>{const{onUnhandledError:pe}=y.v;if(!pe)throw de;pe(de)})}},4532:(yt,ke,F)=>{function y(U){return new TypeError(`You provided ${null!==U&&"object"==typeof U?"an invalid object":`'${U}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(ke,{z:()=>y})},655:(yt,ke,F)=>{function de(_e,De){var Pe={};for(var Oe in _e)Object.prototype.hasOwnProperty.call(_e,Oe)&&De.indexOf(Oe)<0&&(Pe[Oe]=_e[Oe]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Oe=Object.getOwnPropertySymbols(_e);dt<Oe.length;dt++)De.indexOf(Oe[dt])<0&&Object.prototype.propertyIsEnumerable.call(_e,Oe[dt])&&(Pe[Oe[dt]]=_e[Oe[dt]])}return Pe}function Ee(_e,De,Pe,Oe){return new(Pe||(Pe=Promise))(function(ct,kt){function vn(qt){try{Yt(Oe.next(qt))}catch(Ft){kt(Ft)}}function Un(qt){try{Yt(Oe.throw(qt))}catch(Ft){kt(Ft)}}function Yt(qt){qt.done?ct(qt.value):function dt(ct){return ct instanceof Pe?ct:new Pe(function(kt){kt(ct)})}(qt.value).then(vn,Un)}Yt((Oe=Oe.apply(_e,De||[])).next())})}function Le(_e){return this instanceof Le?(this.v=_e,this):new Le(_e)}function Ke(_e,De,Pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Oe=Pe.apply(_e,De||[]),ct=[];return dt={},kt("next"),kt("throw"),kt("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function kt(un){Oe[un]&&(dt[un]=function(ur){return new Promise(function(Ht,Ut){ct.push([un,ur,Ht,Ut])>1||vn(un,ur)})})}function vn(un,ur){try{!function Un(un){un.value instanceof Le?Promise.resolve(un.value.v).then(Yt,qt):Ft(ct[0][2],un)}(Oe[un](ur))}catch(Ht){Ft(ct[0][3],Ht)}}function Yt(un){vn("next",un)}function qt(un){vn("throw",un)}function Ft(un,ur){un(ur),ct.shift(),ct.length&&vn(ct[0][0],ct[0][1])}}function rt(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,De=_e[Symbol.asyncIterator];return De?De.call(_e):(_e=function ge(_e){var De="function"==typeof Symbol&&Symbol.iterator,Pe=De&&_e[De],Oe=0;if(Pe)return Pe.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Oe>=_e.length&&(_e=void 0),{value:_e&&_e[Oe++],done:!_e}}};throw new TypeError(De?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),Pe={},Oe("next"),Oe("throw"),Oe("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe);function Oe(ct){Pe[ct]=_e[ct]&&function(kt){return new Promise(function(vn,Un){!function dt(ct,kt,vn,Un){Promise.resolve(Un).then(function(Yt){ct({value:Yt,done:vn})},kt)}(vn,Un,(kt=_e[ct](kt)).done,kt.value)})}}}F.d(ke,{FC:()=>Ke,KL:()=>rt,_T:()=>de,mG:()=>Ee,qq:()=>Le})},7340:(yt,ke,F)=>{F.d(ke,{LC:()=>U,SB:()=>Ie,X$:()=>de,ZE:()=>Ge,ZN:()=>Ke,_j:()=>y,eR:()=>se,jt:()=>pe,k1:()=>rt,l3:()=>j,oB:()=>Ee,vP:()=>Se});class y{}class U{}const j="*";function de(Me,me){return{type:7,name:Me,definitions:me,options:{}}}function pe(Me,me=null){return{type:4,styles:me,timings:Me}}function Se(Me,me=null){return{type:2,steps:Me,options:me}}function Ee(Me){return{type:6,styles:Me,offset:null}}function Ie(Me,me,Ve){return{type:0,name:Me,styles:me,options:Ve}}function se(Me,me,Ve=null){return{type:1,expr:Me,animation:me,options:Ve}}function Le(Me){Promise.resolve().then(Me)}class Ke{constructor(me=0,Ve=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=me+Ve}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}onStart(me){this._originalOnStartFns.push(me),this._onStartFns.push(me)}onDone(me){this._originalOnDoneFns.push(me),this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(me=>me()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(me){this._position=this.totalTime?me*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(me){const Ve="start"==me?this._onStartFns:this._onDoneFns;Ve.forEach(it=>it()),Ve.length=0}}class Ge{constructor(me){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=me;let Ve=0,it=0,st=0;const P=this.players.length;0==P?Le(()=>this._onFinish()):this.players.forEach(xe=>{xe.onDone(()=>{++Ve==P&&this._onFinish()}),xe.onDestroy(()=>{++it==P&&this._onDestroy()}),xe.onStart(()=>{++st==P&&this._onStart()})}),this.totalTime=this.players.reduce((xe,_e)=>Math.max(xe,_e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(me=>me()),this._onDoneFns=[])}init(){this.players.forEach(me=>me.init())}onStart(me){this._onStartFns.push(me)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(me=>me()),this._onStartFns=[])}onDone(me){this._onDoneFns.push(me)}onDestroy(me){this._onDestroyFns.push(me)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(me=>me.play())}pause(){this.players.forEach(me=>me.pause())}restart(){this.players.forEach(me=>me.restart())}finish(){this._onFinish(),this.players.forEach(me=>me.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(me=>me.destroy()),this._onDestroyFns.forEach(me=>me()),this._onDestroyFns=[])}reset(){this.players.forEach(me=>me.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(me){const Ve=me*this.totalTime;this.players.forEach(it=>{const st=it.totalTime?Math.min(1,Ve/it.totalTime):1;it.setPosition(st)})}getPosition(){const me=this.players.reduce((Ve,it)=>null===Ve||it.totalTime>Ve.totalTime?it:Ve,null);return null!=me?me.getPosition():0}beforeDestroy(){this.players.forEach(me=>{me.beforeDestroy&&me.beforeDestroy()})}triggerCallback(me){const Ve="start"==me?this._onStartFns:this._onDoneFns;Ve.forEach(it=>it()),Ve.length=0}}const rt="!"},6895:(yt,ke,F)=>{F.d(ke,{Do:()=>Ge,EM:()=>Ts,HT:()=>de,JF:()=>wo,K0:()=>ye,Mx:()=>Rr,NF:()=>bs,O5:()=>Mi,PM:()=>fs,S$:()=>_t,V_:()=>Ie,Ye:()=>rt,b0:()=>Ke,bD:()=>Js,ez:()=>Fs,q:()=>j,w_:()=>pe});var y=F(4650);let U=null;function j(){return U}function de(C){U||(U=C)}class pe{}const ye=new y.OlP("DocumentToken");let Se=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=y.Yz7({token:C,factory:function(){return function Ee(){return(0,y.LFG)(re)}()},providedIn:"platform"}),C})();const Ie=new y.OlP("Location Initialized");let re=(()=>{class C extends Se{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(S){const V=j().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",S,!1),()=>V.removeEventListener("popstate",S)}onHashChange(S){const V=j().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",S,!1),()=>V.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,V,ne){se()?this._history.pushState(S,V,ne):this._location.hash=ne}replaceState(S,V,ne){se()?this._history.replaceState(S,V,ne):this._location.hash=ne}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(ye))},C.\u0275prov=y.Yz7({token:C,factory:function(){return function ge(){return new re((0,y.LFG)(ye))}()},providedIn:"platform"}),C})();function se(){return!!window.history.pushState}function tt(C,x){if(0==C.length)return x;if(0==x.length)return C;let S=0;return C.endsWith("/")&&S++,x.startsWith("/")&&S++,2==S?C+x.substring(1):1==S?C+x:C+"/"+x}function Ye(C){const x=C.match(/#|\?|$/),S=x&&x.index||C.length;return C.slice(0,S-("/"===C[S-1]?1:0))+C.slice(S)}function lt(C){return C&&"?"!==C[0]?"?"+C:C}let _t=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=y.Yz7({token:C,factory:function(){return(0,y.f3M)(Ke)},providedIn:"root"}),C})();const Le=new y.OlP("appBaseHref");let Ke=(()=>{class C extends _t{constructor(S,V){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return tt(this._baseHref,S)}path(S=!1){const V=this._platformLocation.pathname+lt(this._platformLocation.search),ne=this._platformLocation.hash;return ne&&S?`${V}${ne}`:V}pushState(S,V,ne,Ue){const Xe=this.prepareExternalUrl(ne+lt(Ue));this._platformLocation.pushState(S,V,Xe)}replaceState(S,V,ne,Ue){const Xe=this.prepareExternalUrl(ne+lt(Ue));this._platformLocation.replaceState(S,V,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(Se),y.LFG(Le,8))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),Ge=(()=>{class C extends _t{constructor(S,V){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(S){const V=tt(this._baseHref,S);return V.length>0?"#"+V:V}pushState(S,V,ne,Ue){let Xe=this.prepareExternalUrl(ne+lt(Ue));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.pushState(S,V,Xe)}replaceState(S,V,ne,Ue){let Xe=this.prepareExternalUrl(ne+lt(Ue));0==Xe.length&&(Xe=this._platformLocation.pathname),this._platformLocation.replaceState(S,V,Xe)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(Se),y.LFG(Le,8))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})(),rt=(()=>{class C{constructor(S){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const V=this._locationStrategy.getBaseHref();this._basePath=function it(C){if(new RegExp("^(https?:)?//").test(C)){const[,S]=C.split(/\/\/[^\/]+/);return S}return C}(Ye(Ve(V))),this._locationStrategy.onPopState(ne=>{this._subject.emit({url:this.path(!0),pop:!0,state:ne.state,type:ne.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,V=""){return this.path()==this.normalize(S+lt(V))}normalize(S){return C.stripTrailingSlash(function me(C,x){return C&&new RegExp(`^${C}([/;?#]|$)`).test(x)?x.substring(C.length):x}(this._basePath,Ve(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,V="",ne=null){this._locationStrategy.pushState(ne,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+lt(V)),ne)}replaceState(S,V="",ne=null){this._locationStrategy.replaceState(ne,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+lt(V)),ne)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",V){this._urlChangeListeners.forEach(ne=>ne(S,V))}subscribe(S,V,ne){return this._subject.subscribe({next:S,error:V,complete:ne})}}return C.normalizeQueryParams=lt,C.joinWithSlash=tt,C.stripTrailingSlash=Ye,C.\u0275fac=function(S){return new(S||C)(y.LFG(_t))},C.\u0275prov=y.Yz7({token:C,factory:function(){return function Me(){return new rt((0,y.LFG)(_t))}()},providedIn:"root"}),C})();function Ve(C){return C.replace(/\/index.html$/,"")}function Rr(C,x){x=encodeURIComponent(x);for(const S of C.split(";")){const V=S.indexOf("="),[ne,Ue]=-1==V?[S,""]:[S.slice(0,V),S.slice(V+1)];if(ne.trim()===x)return decodeURIComponent(Ue)}return null}let Mi=(()=>{class C{constructor(S,V){this._viewContainer=S,this._context=new dn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ks("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ks("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,V){return!0}}return C.\u0275fac=function(S){return new(S||C)(y.Y36(y.s_b),y.Y36(y.Rgc))},C.\u0275dir=y.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class dn{constructor(){this.$implicit=null,this.ngIf=null}}function ks(C,x){if(x&&!x.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,y.AaK)(x)}'.`)}let Fs=(()=>{class C{}return C.\u0275fac=function(S){return new(S||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({}),C})();const Js="browser";function bs(C){return C===Js}function fs(C){return"server"===C}let Ts=(()=>{class C{}return C.\u0275prov=(0,y.Yz7)({token:C,providedIn:"root",factory:()=>new Pr((0,y.LFG)(ye),window)}),C})();class Pr{constructor(x,S){this.document=x,this.window=S,this.offset=()=>[0,0]}setOffset(x){this.offset=Array.isArray(x)?()=>x:x}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(x){this.supportsScrolling()&&this.window.scrollTo(x[0],x[1])}scrollToAnchor(x){if(!this.supportsScrolling())return;const S=function ji(C,x){const S=C.getElementById(x)||C.getElementsByName(x)[0];if(S)return S;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const V=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let ne=V.currentNode;for(;ne;){const Ue=ne.shadowRoot;if(Ue){const Xe=Ue.getElementById(x)||Ue.querySelector(`[name="${x}"]`);if(Xe)return Xe}ne=V.nextNode()}}return null}(this.document,x);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(x){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=x)}}scrollToElement(x){const S=x.getBoundingClientRect(),V=S.left+this.window.pageXOffset,ne=S.top+this.window.pageYOffset,Ue=this.offset();this.window.scrollTo(V-Ue[0],ne-Ue[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const x=xr(this.window.history)||xr(Object.getPrototypeOf(this.window.history));return!(!x||!x.writable&&!x.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function xr(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class wo{}},529:(yt,ke,F)=>{F.d(ke,{JF:()=>Nr,eN:()=>ct});var y=F(6895),U=F(4650),j=F(9646),de=F(9751),pe=F(4351),ye=F(9300),Se=F(4004);class Ee{}class Ie{}class re{constructor(ee){this.normalizedNames=new Map,this.lazyUpdate=null,ee?this.lazyInit="string"==typeof ee?()=>{this.headers=new Map,ee.split("\n").forEach(le=>{const ze=le.indexOf(":");if(ze>0){const Y=le.slice(0,ze),X=Y.toLowerCase(),he=le.slice(ze+1).trim();this.maybeSetNormalizedName(Y,X),this.headers.has(X)?this.headers.get(X).push(he):this.headers.set(X,[he])}})}:()=>{this.headers=new Map,Object.keys(ee).forEach(le=>{let ze=ee[le];const Y=le.toLowerCase();"string"==typeof ze&&(ze=[ze]),ze.length>0&&(this.headers.set(Y,ze),this.maybeSetNormalizedName(le,Y))})}:this.headers=new Map}has(ee){return this.init(),this.headers.has(ee.toLowerCase())}get(ee){this.init();const le=this.headers.get(ee.toLowerCase());return le&&le.length>0?le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ee){return this.init(),this.headers.get(ee.toLowerCase())||null}append(ee,le){return this.clone({name:ee,value:le,op:"a"})}set(ee,le){return this.clone({name:ee,value:le,op:"s"})}delete(ee,le){return this.clone({name:ee,value:le,op:"d"})}maybeSetNormalizedName(ee,le){this.normalizedNames.has(le)||this.normalizedNames.set(le,ee)}init(){this.lazyInit&&(this.lazyInit instanceof re?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ee=>this.applyUpdate(ee)),this.lazyUpdate=null))}copyFrom(ee){ee.init(),Array.from(ee.headers.keys()).forEach(le=>{this.headers.set(le,ee.headers.get(le)),this.normalizedNames.set(le,ee.normalizedNames.get(le))})}clone(ee){const le=new re;return le.lazyInit=this.lazyInit&&this.lazyInit instanceof re?this.lazyInit:this,le.lazyUpdate=(this.lazyUpdate||[]).concat([ee]),le}applyUpdate(ee){const le=ee.name.toLowerCase();switch(ee.op){case"a":case"s":let ze=ee.value;if("string"==typeof ze&&(ze=[ze]),0===ze.length)return;this.maybeSetNormalizedName(ee.name,le);const Y=("a"===ee.op?this.headers.get(le):void 0)||[];Y.push(...ze),this.headers.set(le,Y);break;case"d":const X=ee.value;if(X){let he=this.headers.get(le);if(!he)return;he=he.filter(He=>-1===X.indexOf(He)),0===he.length?(this.headers.delete(le),this.normalizedNames.delete(le)):this.headers.set(le,he)}else this.headers.delete(le),this.normalizedNames.delete(le)}}forEach(ee){this.init(),Array.from(this.normalizedNames.keys()).forEach(le=>ee(this.normalizedNames.get(le),this.headers.get(le)))}}class ge{encodeKey(ee){return _t(ee)}encodeValue(ee){return _t(ee)}decodeKey(ee){return decodeURIComponent(ee)}decodeValue(ee){return decodeURIComponent(ee)}}const Ye=/%(\d[a-f0-9])/gi,lt={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _t(Te){return encodeURIComponent(Te).replace(Ye,(ee,le)=>lt[le]??ee)}function Le(Te){return`${Te}`}class Ke{constructor(ee={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ee.encoder||new ge,ee.fromString){if(ee.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tt(Te,ee){const le=new Map;return Te.length>0&&Te.replace(/^\?/,"").split("&").forEach(Y=>{const X=Y.indexOf("="),[he,He]=-1==X?[ee.decodeKey(Y),""]:[ee.decodeKey(Y.slice(0,X)),ee.decodeValue(Y.slice(X+1))],ve=le.get(he)||[];ve.push(He),le.set(he,ve)}),le}(ee.fromString,this.encoder)}else ee.fromObject?(this.map=new Map,Object.keys(ee.fromObject).forEach(le=>{const ze=ee.fromObject[le],Y=Array.isArray(ze)?ze.map(Le):[Le(ze)];this.map.set(le,Y)})):this.map=null}has(ee){return this.init(),this.map.has(ee)}get(ee){this.init();const le=this.map.get(ee);return le?le[0]:null}getAll(ee){return this.init(),this.map.get(ee)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ee,le){return this.clone({param:ee,value:le,op:"a"})}appendAll(ee){const le=[];return Object.keys(ee).forEach(ze=>{const Y=ee[ze];Array.isArray(Y)?Y.forEach(X=>{le.push({param:ze,value:X,op:"a"})}):le.push({param:ze,value:Y,op:"a"})}),this.clone(le)}set(ee,le){return this.clone({param:ee,value:le,op:"s"})}delete(ee,le){return this.clone({param:ee,value:le,op:"d"})}toString(){return this.init(),this.keys().map(ee=>{const le=this.encoder.encodeKey(ee);return this.map.get(ee).map(ze=>le+"="+this.encoder.encodeValue(ze)).join("&")}).filter(ee=>""!==ee).join("&")}clone(ee){const le=new Ke({encoder:this.encoder});return le.cloneFrom=this.cloneFrom||this,le.updates=(this.updates||[]).concat(ee),le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ee=>this.map.set(ee,this.cloneFrom.map.get(ee))),this.updates.forEach(ee=>{switch(ee.op){case"a":case"s":const le=("a"===ee.op?this.map.get(ee.param):void 0)||[];le.push(Le(ee.value)),this.map.set(ee.param,le);break;case"d":if(void 0===ee.value){this.map.delete(ee.param);break}{let ze=this.map.get(ee.param)||[];const Y=ze.indexOf(Le(ee.value));-1!==Y&&ze.splice(Y,1),ze.length>0?this.map.set(ee.param,ze):this.map.delete(ee.param)}}}),this.cloneFrom=this.updates=null)}}class rt{constructor(){this.map=new Map}set(ee,le){return this.map.set(ee,le),this}get(ee){return this.map.has(ee)||this.map.set(ee,ee.defaultValue()),this.map.get(ee)}delete(ee){return this.map.delete(ee),this}has(ee){return this.map.has(ee)}keys(){return this.map.keys()}}function me(Te){return typeof ArrayBuffer<"u"&&Te instanceof ArrayBuffer}function Ve(Te){return typeof Blob<"u"&&Te instanceof Blob}function it(Te){return typeof FormData<"u"&&Te instanceof FormData}class P{constructor(ee,le,ze,Y){let X;if(this.url=le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ee.toUpperCase(),function Me(Te){switch(Te){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Y?(this.body=void 0!==ze?ze:null,X=Y):X=ze,X&&(this.reportProgress=!!X.reportProgress,this.withCredentials=!!X.withCredentials,X.responseType&&(this.responseType=X.responseType),X.headers&&(this.headers=X.headers),X.context&&(this.context=X.context),X.params&&(this.params=X.params)),this.headers||(this.headers=new re),this.context||(this.context=new rt),this.params){const he=this.params.toString();if(0===he.length)this.urlWithParams=le;else{const He=le.indexOf("?");this.urlWithParams=le+(-1===He?"?":He<le.length-1?"&":"")+he}}else this.params=new Ke,this.urlWithParams=le}serializeBody(){return null===this.body?null:me(this.body)||Ve(this.body)||it(this.body)||function st(Te){return typeof URLSearchParams<"u"&&Te instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||it(this.body)?null:Ve(this.body)?this.body.type||null:me(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ee={}){const le=ee.method||this.method,ze=ee.url||this.url,Y=ee.responseType||this.responseType,X=void 0!==ee.body?ee.body:this.body,he=void 0!==ee.withCredentials?ee.withCredentials:this.withCredentials,He=void 0!==ee.reportProgress?ee.reportProgress:this.reportProgress;let ve=ee.headers||this.headers,mt=ee.params||this.params;const tn=ee.context??this.context;return void 0!==ee.setHeaders&&(ve=Object.keys(ee.setHeaders).reduce((nn,cn)=>nn.set(cn,ee.setHeaders[cn]),ve)),ee.setParams&&(mt=Object.keys(ee.setParams).reduce((nn,cn)=>nn.set(cn,ee.setParams[cn]),mt)),new P(le,ze,X,{params:mt,headers:ve,context:tn,reportProgress:He,responseType:Y,withCredentials:he})}}var xe=(()=>((xe=xe||{})[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe))();class _e{constructor(ee,le=200,ze="OK"){this.headers=ee.headers||new re,this.status=void 0!==ee.status?ee.status:le,this.statusText=ee.statusText||ze,this.url=ee.url||null,this.ok=this.status>=200&&this.status<300}}class De extends _e{constructor(ee={}){super(ee),this.type=xe.ResponseHeader}clone(ee={}){return new De({headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class Pe extends _e{constructor(ee={}){super(ee),this.type=xe.Response,this.body=void 0!==ee.body?ee.body:null}clone(ee={}){return new Pe({body:void 0!==ee.body?ee.body:this.body,headers:ee.headers||this.headers,status:void 0!==ee.status?ee.status:this.status,statusText:ee.statusText||this.statusText,url:ee.url||this.url||void 0})}}class Oe extends _e{constructor(ee){super(ee,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ee.url||"(unknown url)"}`:`Http failure response for ${ee.url||"(unknown url)"}: ${ee.status} ${ee.statusText}`,this.error=ee.error||null}}function dt(Te,ee){return{body:ee,headers:Te.headers,context:Te.context,observe:Te.observe,params:Te.params,reportProgress:Te.reportProgress,responseType:Te.responseType,withCredentials:Te.withCredentials}}let ct=(()=>{class Te{constructor(le){this.handler=le}request(le,ze,Y={}){let X;if(le instanceof P)X=le;else{let ve,mt;ve=Y.headers instanceof re?Y.headers:new re(Y.headers),Y.params&&(mt=Y.params instanceof Ke?Y.params:new Ke({fromObject:Y.params})),X=new P(le,ze,void 0!==Y.body?Y.body:null,{headers:ve,context:Y.context,params:mt,reportProgress:Y.reportProgress,responseType:Y.responseType||"json",withCredentials:Y.withCredentials})}const he=(0,j.of)(X).pipe((0,pe.b)(ve=>this.handler.handle(ve)));if(le instanceof P||"events"===Y.observe)return he;const He=he.pipe((0,ye.h)(ve=>ve instanceof Pe));switch(Y.observe||"body"){case"body":switch(X.responseType){case"arraybuffer":return He.pipe((0,Se.U)(ve=>{if(null!==ve.body&&!(ve.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ve.body}));case"blob":return He.pipe((0,Se.U)(ve=>{if(null!==ve.body&&!(ve.body instanceof Blob))throw new Error("Response is not a Blob.");return ve.body}));case"text":return He.pipe((0,Se.U)(ve=>{if(null!==ve.body&&"string"!=typeof ve.body)throw new Error("Response is not a string.");return ve.body}));default:return He.pipe((0,Se.U)(ve=>ve.body))}case"response":return He;default:throw new Error(`Unreachable: unhandled observe type ${Y.observe}}`)}}delete(le,ze={}){return this.request("DELETE",le,ze)}get(le,ze={}){return this.request("GET",le,ze)}head(le,ze={}){return this.request("HEAD",le,ze)}jsonp(le,ze){return this.request("JSONP",le,{params:(new Ke).append(ze,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,ze={}){return this.request("OPTIONS",le,ze)}patch(le,ze,Y={}){return this.request("PATCH",le,dt(Y,ze))}post(le,ze,Y={}){return this.request("POST",le,dt(Y,ze))}put(le,ze,Y={}){return this.request("PUT",le,dt(Y,ze))}}return Te.\u0275fac=function(le){return new(le||Te)(U.LFG(Ee))},Te.\u0275prov=U.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function kt(Te,ee){return ee(Te)}function vn(Te,ee){return(le,ze)=>ee.intercept(le,{handle:Y=>Te(Y,ze)})}const Yt=new U.OlP("HTTP_INTERCEPTORS"),qt=new U.OlP("HTTP_INTERCEPTOR_FNS");function Ft(){let Te=null;return(ee,le)=>(null===Te&&(Te=((0,U.f3M)(Yt,{optional:!0})??[]).reduceRight(vn,kt)),Te(ee,le))}let un=(()=>{class Te extends Ee{constructor(le,ze){super(),this.backend=le,this.injector=ze,this.chain=null}handle(le){if(null===this.chain){const ze=Array.from(new Set(this.injector.get(qt)));this.chain=ze.reduceRight((Y,X)=>function Un(Te,ee,le){return(ze,Y)=>le.runInContext(()=>ee(ze,X=>Te(X,Y)))}(Y,X,this.injector),kt)}return this.chain(le,ze=>this.backend.handle(ze))}}return Te.\u0275fac=function(le){return new(le||Te)(U.LFG(Ie),U.LFG(U.lqb))},Te.\u0275prov=U.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const qn=/^\)\]\}',?\n/;let sn=(()=>{class Te{constructor(le){this.xhrFactory=le}handle(le){if("JSONP"===le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new de.y(ze=>{const Y=this.xhrFactory.build();if(Y.open(le.method,le.urlWithParams),le.withCredentials&&(Y.withCredentials=!0),le.headers.forEach((ae,ce)=>Y.setRequestHeader(ae,ce.join(","))),le.headers.has("Accept")||Y.setRequestHeader("Accept","application/json, text/plain, */*"),!le.headers.has("Content-Type")){const ae=le.detectContentTypeHeader();null!==ae&&Y.setRequestHeader("Content-Type",ae)}if(le.responseType){const ae=le.responseType.toLowerCase();Y.responseType="json"!==ae?ae:"text"}const X=le.serializeBody();let he=null;const He=()=>{if(null!==he)return he;const ae=Y.statusText||"OK",ce=new re(Y.getAllResponseHeaders()),J=function bn(Te){return"responseURL"in Te&&Te.responseURL?Te.responseURL:/^X-Request-URL:/m.test(Te.getAllResponseHeaders())?Te.getResponseHeader("X-Request-URL"):null}(Y)||le.url;return he=new De({headers:ce,status:Y.status,statusText:ae,url:J}),he},ve=()=>{let{headers:ae,status:ce,statusText:J,url:be}=He(),qe=null;204!==ce&&(qe=typeof Y.response>"u"?Y.responseText:Y.response),0===ce&&(ce=qe?200:0);let At=ce>=200&&ce<300;if("json"===le.responseType&&"string"==typeof qe){const gn=qe;qe=qe.replace(qn,"");try{qe=""!==qe?JSON.parse(qe):null}catch(br){qe=gn,At&&(At=!1,qe={error:br,text:qe})}}At?(ze.next(new Pe({body:qe,headers:ae,status:ce,statusText:J,url:be||void 0})),ze.complete()):ze.error(new Oe({error:qe,headers:ae,status:ce,statusText:J,url:be||void 0}))},mt=ae=>{const{url:ce}=He(),J=new Oe({error:ae,status:Y.status||0,statusText:Y.statusText||"Unknown Error",url:ce||void 0});ze.error(J)};let tn=!1;const nn=ae=>{tn||(ze.next(He()),tn=!0);let ce={type:xe.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(ce.total=ae.total),"text"===le.responseType&&Y.responseText&&(ce.partialText=Y.responseText),ze.next(ce)},cn=ae=>{let ce={type:xe.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(ce.total=ae.total),ze.next(ce)};return Y.addEventListener("load",ve),Y.addEventListener("error",mt),Y.addEventListener("timeout",mt),Y.addEventListener("abort",mt),le.reportProgress&&(Y.addEventListener("progress",nn),null!==X&&Y.upload&&Y.upload.addEventListener("progress",cn)),Y.send(X),ze.next({type:xe.Sent}),()=>{Y.removeEventListener("error",mt),Y.removeEventListener("abort",mt),Y.removeEventListener("load",ve),Y.removeEventListener("timeout",mt),le.reportProgress&&(Y.removeEventListener("progress",nn),null!==X&&Y.upload&&Y.upload.removeEventListener("progress",cn)),Y.readyState!==Y.DONE&&Y.abort()}})}}return Te.\u0275fac=function(le){return new(le||Te)(U.LFG(y.JF))},Te.\u0275prov=U.Yz7({token:Te,factory:Te.\u0275fac}),Te})();const kn=new U.OlP("XSRF_ENABLED"),xt="XSRF-TOKEN",Sr=new U.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>xt}),Or="X-XSRF-TOKEN",an=new U.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>Or});class sr{}let Ai=(()=>{class Te{constructor(le,ze,Y){this.doc=le,this.platform=ze,this.cookieName=Y,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const le=this.doc.cookie||"";return le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,y.Mx)(le,this.cookieName),this.lastCookieString=le),this.lastToken}}return Te.\u0275fac=function(le){return new(le||Te)(U.LFG(y.K0),U.LFG(U.Lbi),U.LFG(Sr))},Te.\u0275prov=U.Yz7({token:Te,factory:Te.\u0275fac}),Te})();function Qt(Te,ee){const le=Te.url.toLowerCase();if(!(0,U.f3M)(kn)||"GET"===Te.method||"HEAD"===Te.method||le.startsWith("http://")||le.startsWith("https://"))return ee(Te);const ze=(0,U.f3M)(sr).getToken(),Y=(0,U.f3M)(an);return null!=ze&&!Te.headers.has(Y)&&(Te=Te.clone({headers:Te.headers.set(Y,ze)})),ee(Te)}var Dt=(()=>((Dt=Dt||{})[Dt.Interceptors=0]="Interceptors",Dt[Dt.LegacyInterceptors=1]="LegacyInterceptors",Dt[Dt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Dt[Dt.NoXsrfProtection=3]="NoXsrfProtection",Dt[Dt.JsonpSupport=4]="JsonpSupport",Dt[Dt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Dt))();function or(Te,ee){return{\u0275kind:Te,\u0275providers:ee}}function St(...Te){const ee=[ct,sn,un,{provide:Ee,useExisting:un},{provide:Ie,useExisting:sn},{provide:qt,useValue:Qt,multi:!0},{provide:kn,useValue:!0},{provide:sr,useClass:Ai}];for(const le of Te)ee.push(...le.\u0275providers);return(0,U.MR2)(ee)}const yr=new U.OlP("LEGACY_INTERCEPTOR_FN");function ai({cookieName:Te,headerName:ee}){const le=[];return void 0!==Te&&le.push({provide:Sr,useValue:Te}),void 0!==ee&&le.push({provide:an,useValue:ee}),or(Dt.CustomXsrfConfiguration,le)}let Nr=(()=>{class Te{}return Te.\u0275fac=function(le){return new(le||Te)},Te.\u0275mod=U.oAB({type:Te}),Te.\u0275inj=U.cJS({providers:[St(or(Dt.LegacyInterceptors,[{provide:yr,useFactory:Ft},{provide:qt,useExisting:yr,multi:!0}]),ai({cookieName:xt,headerName:Or}))]}),Te})()},4650:(yt,ke,F)=>{F.d(ke,{$8M:()=>Ya,$WT:()=>tr,$Z:()=>pp,AFp:()=>Cy,AaK:()=>Ee,CHM:()=>Xi,CRH:()=>ty,CZH:()=>Cf,CqO:()=>um,D6c:()=>pD,EJc:()=>RI,EiD:()=>ph,EpF:()=>am,F$t:()=>pm,F4k:()=>lm,FYo:()=>qs,FiY:()=>Oa,G48:()=>qI,Gf:()=>X_,GfV:()=>Qu,Gpc:()=>se,Hsn:()=>gm,JOm:()=>Eo,JVY:()=>we,JZr:()=>_t,KtG:()=>Ni,L6k:()=>Je,LAX:()=>Tt,LFG:()=>ft,Lbi:()=>bI,Lck:()=>y0,MMx:()=>eg,MR2:()=>Eh,NdJ:()=>xp,OlP:()=>_r,P3R:()=>_h,PXZ:()=>WI,Q6J:()=>Rp,QGY:()=>kp,QbO:()=>TI,Qsj:()=>Ac,R0b:()=>Da,RDi:()=>ia,Rgc:()=>oh,SBq:()=>qu,Sil:()=>PI,Suo:()=>ey,TTD:()=>ci,TgZ:()=>df,Udp:()=>Vp,WFA:()=>Lp,X6Q:()=>YI,XFs:()=>xt,Xpm:()=>pr,Xts:()=>Sc,Y36:()=>rc,YKP:()=>N_,YNc:()=>sm,Yjl:()=>vi,Yz7:()=>Ut,Z0I:()=>Yn,ZZ4:()=>Cg,_Bn:()=>O_,_UZ:()=>Pp,_Vd:()=>pu,_c5:()=>hD,_uU:()=>Um,aQg:()=>bg,c2e:()=>SI,cJS:()=>cr,cg1:()=>Gp,d8E:()=>zp,dDg:()=>HI,dqk:()=>Qt,eBb:()=>It,eFA:()=>Fy,ekj:()=>jp,eoX:()=>ky,f3M:()=>Te,g9A:()=>Ty,h0i:()=>ed,hGG:()=>fD,iGM:()=>J_,ifc:()=>nn,ip1:()=>wy,jDz:()=>x_,kL8:()=>i_,lG2:()=>Ar,lqb:()=>fu,lri:()=>Oy,mCW:()=>ul,n5z:()=>io,n_E:()=>vf,oAB:()=>Qn,oxw:()=>fm,pB0:()=>mn,q3G:()=>Li,q4F:()=>Rc,qLn:()=>Xu,qOj:()=>bp,qZA:()=>hf,qzn:()=>L,rWj:()=>Ny,sBO:()=>QI,s_b:()=>If,soG:()=>bf,tb:()=>Sy,tp0:()=>O,uIk:()=>Ap,vHH:()=>Le,vpe:()=>ml,wAp:()=>Cn,xp6:()=>Ul,z2F:()=>Tf,z3N:()=>v,zSh:()=>Ch,zs3:()=>dl});var y=F(7579),U=F(727),j=F(9751),de=F(6451),pe=F(3099);function ye(e){for(let t in e)if(e[t]===ye)return t;throw Error("Could not find renamed property on target object.")}function Se(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Ee(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ee).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ie(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const re=ye({__forward_ref__:ye});function se(e){return e.__forward_ref__=se,e.toString=function(){return Ee(this())},e}function ge(e){return tt(e)?e():e}function tt(e){return"function"==typeof e&&e.hasOwnProperty(re)&&e.__forward_ref__===se}function Ye(e){return e&&!!e.\u0275providers}const _t="https://g.co/ng/security#xss";class Le extends Error{constructor(t,n){super(function Ke(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function Ge(e){return"string"==typeof e?e:null==e?"":String(e)}function it(e,t){throw new Le(-201,!1)}function qt(e,t){null==e&&function Ft(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function Ut(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function cr(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ur(e){return pn(e,qn)||pn(e,sn)}function Yn(e){return null!==Ur(e)}function pn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Br(e){return e&&(e.hasOwnProperty(bn)||e.hasOwnProperty(kn))?e[bn]:null}const qn=ye({\u0275prov:ye}),bn=ye({\u0275inj:ye}),sn=ye({ngInjectableDef:ye}),kn=ye({ngInjectorDef:ye});var xt=(()=>((xt=xt||{})[xt.Default=0]="Default",xt[xt.Host=1]="Host",xt[xt.Self=2]="Self",xt[xt.SkipSelf=4]="SkipSelf",xt[xt.Optional=8]="Optional",xt))();let Sr;function an(e){const t=Sr;return Sr=e,t}function sr(e,t,n){const s=Ur(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&xt.Optional?null:void 0!==t?t:void it(Ee(e))}const Qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),St={},$n="__NG_DI_FLAG__",yr="ngTempTokenPath",ai=/\n/gm,zr="__source";let Tn;function ar(e){const t=Tn;return Tn=e,t}function Nr(e,t=xt.Default){if(void 0===Tn)throw new Le(-203,!1);return null===Tn?sr(e,void 0,t):Tn.get(e,t&xt.Optional?null:void 0,t)}function ft(e,t=xt.Default){return(function Or(){return Sr}()||Nr)(ge(e),t)}function Te(e,t=xt.Default){return ft(e,ee(t))}function ee(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function le(e){const t=[];for(let n=0;n<e.length;n++){const s=ge(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Le(900,!1);let a,c=xt.Default;for(let g=0;g<s.length;g++){const D=s[g],T=Y(D);"number"==typeof T?-1===T?a=D.token:c|=T:a=D}t.push(ft(a,c))}else t.push(ft(s))}return t}function ze(e,t){return e[$n]=t,e.prototype[$n]=t,e}function Y(e){return e[$n]}function He(e){return{toString:e}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),nn=(()=>{return(e=nn||(nn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",nn;var e})();const cn={},ae=[],ce=ye({\u0275cmp:ye}),J=ye({\u0275dir:ye}),be=ye({\u0275pipe:ye}),qe=ye({\u0275mod:ye}),At=ye({\u0275fac:ye}),gn=ye({__NG_ELEMENT_ID__:ye});let br=0;function pr(e){return He(()=>{const n=!0===e.standalone,s={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ae,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||nn.Emulated,id:"c"+br++,styles:e.styles||ae,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},c=e.dependencies,g=e.features;return a.inputs=co(e.inputs,s),a.outputs=co(e.outputs),g&&g.forEach(D=>D(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ui).filter(us):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(Dr).filter(us):null,a})}function Ui(e){return Mn(e)||Ir(e)}function us(e){return null!==e}function Qn(e){return He(()=>({type:e.type,bootstrap:e.bootstrap||ae,declarations:e.declarations||ae,imports:e.imports||ae,exports:e.exports||ae,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function co(e,t){if(null==e)return cn;const n={};for(const s in e)if(e.hasOwnProperty(s)){let a=e[s],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=s,t&&(t[a]=c)}return n}const Ar=pr;function vi(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mn(e){return e[ce]||null}function Ir(e){return e[J]||null}function Dr(e){return e[be]||null}function tr(e){const t=Mn(e)||Ir(e)||Dr(e);return null!==t&&t.standalone}function Rr(e,t){const n=e[qe]||null;if(!n&&!0===t)throw new Error(`Type ${Ee(e)} does not have '\u0275mod' property.`);return n}function Hr(e){return Array.isArray(e)&&"object"==typeof e[1]}function Tr(e){return Array.isArray(e)&&!0===e[1]}function ui(e){return 0!=(4&e.flags)}function In(e){return e.componentOffset>-1}function _n(e){return 1==(1&e.flags)}function Jn(e){return null!==e.template}function Is(e){return 0!=(256&e[2])}function Mr(e,t){return e.hasOwnProperty(At)?e[At]:null}class wi{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function ci(){return Ts}function Ts(e){return e.type.prototype.ngOnChanges&&(e.setInput=xr),Pr}function Pr(){const e=$i(this),t=e?.current;if(t){const n=e.previous;if(n===cn)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function xr(e,t,n,s){const a=this.declaredInputs[n],c=$i(e)||function wo(e,t){return e[ji]=t}(e,{previous:cn,current:null}),g=c.current||(c.current={}),D=c.previous,T=D[a];g[a]=new wi(T&&T.currentValue,t,D===cn),e[s]=t}ci.ngInherit=!0;const ji="__ngSimpleChanges__";function $i(e){return e[ji]||null}function ir(e){for(;Array.isArray(e);)e=e[0];return e}function hr(e,t){return ir(t[e.index])}function Vr(e,t){return e.data[t]}function gr(e,t){const n=t[e];return Hr(n)?n:n[0]}function Ci(e){return 64==(64&e[2])}function Lr(e,t){return null==t?null:e[t]}function Xt(e){e[18]=0}function eo(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const zt={lFrame:nt(null),bindingsEnabled:!0};function to(){return zt.bindingsEnabled}function Ze(){return zt.lFrame.lView}function An(){return zt.lFrame.tView}function Xi(e){return zt.lFrame.contextLView=e,e[8]}function Ni(e){return zt.lFrame.contextLView=null,e}function $r(){let e=ps();for(;null!==e&&64===e.type;)e=e.parent;return e}function ps(){return zt.lFrame.currentTNode}function pi(e,t){const n=zt.lFrame;n.currentTNode=e,n.isParent=t}function po(){return zt.lFrame.isParent}function $s(){zt.lFrame.isParent=!1}function Gi(){return zt.lFrame.bindingIndex++}function ts(e,t){const n=zt.lFrame;n.bindingIndex=n.bindingRootIndex=e,m(t)}function m(e){zt.lFrame.currentDirectiveIndex=e}function E(e){const t=zt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function M(){return zt.lFrame.currentQueryIndex}function H(e){zt.lFrame.currentQueryIndex=e}function q(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function fe(e,t,n){if(n&xt.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&xt.Host||(a=q(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;t=a,e=c}const s=zt.lFrame=Ne();return s.currentTNode=t,s.lView=e,!0}function ue(e){const t=Ne(),n=e[1];zt.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ne(){const e=zt.lFrame,t=null===e?null:e.child;return null===t?nt(e):t}function nt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function wt(){const e=zt.lFrame;return zt.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ct=wt;function Dn(){const e=wt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Pt(){return zt.lFrame.selectedIndex}function xn(e){zt.lFrame.selectedIndex=e}function rn(){const e=zt.lFrame;return Vr(e.tView,e.selectedIndex)}function qr(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:G}=c;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),T&&(e.viewHooks||(e.viewHooks=[])).push(-n,T),k&&((e.viewHooks||(e.viewHooks=[])).push(n,k),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,k)),null!=G&&(e.destroyHooks||(e.destroyHooks=[])).push(n,G)}}function C(e,t,n){V(e,t,3,n)}function x(e,t,n,s){(3&e[2])===n&&V(e,t,n,s)}function S(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function V(e,t,n,s){const c=s??-1,g=t.length-1;let D=0;for(let T=void 0!==s?65535&e[18]:0;T<g;T++)if("number"==typeof t[T+1]){if(D=t[T],null!=s&&D>=s)break}else t[T]<0&&(e[18]+=65536),(D<c||-1==c)&&(ne(e,n,t,T),e[18]=(4294901760&e[18])+T+2),T++}function ne(e,t,n,s){const a=n[s]<0,c=n[s+1],D=e[a?-n[s]:n[s]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(D)}finally{}}}else try{c.call(D)}finally{}}class Xe{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function jt(e,t,n){let s=0;for(;s<n.length;){const a=n[s];if("number"==typeof a){if(0!==a)break;s++;const c=n[s++],g=n[s++],D=n[s++];e.setAttribute(t,g,D,c)}else{const c=a,g=n[++s];xi(c)?e.setProperty(t,c,g):e.setAttribute(t,c,g),s++}}return s}function Qr(e){return 3===e||4===e||6===e}function xi(e){return 64===e.charCodeAt(0)}function zn(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?n=a:0===n||Jr(e,n,a,null,-1===n||2===n?t[++s]:null)}}return e}function Jr(e,t,n,s,a){let c=0,g=e.length;if(-1===t)g=-1;else for(;c<e.length;){const D=e[c++];if("number"==typeof D){if(D===t){g=-1;break}if(D>t){g=c-1;break}}}for(;c<e.length;){const D=e[c];if("number"==typeof D)break;if(D===n){if(null===s)return void(null!==a&&(e[c+1]=a));if(s===e[c+1])return void(e[c+2]=a)}c++,null!==s&&c++,null!==a&&c++}-1!==g&&(e.splice(g,0,t),c=g+1),e.splice(c++,0,n),null!==s&&e.splice(c++,0,s),null!==a&&e.splice(c++,0,a)}function Fr(e){return-1!==e}function rs(e){return 32767&e}function Zo(e,t){let n=function no(e){return e>>16}(e),s=t;for(;n>0;)s=s[15],n--;return s}let ro=!0;function Yo(e){const t=ro;return ro=e,t}let wa=0;const is={};function go(e,t){const n=So(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,mo(s.data,e),mo(t,null),mo(s.blueprint,null));const a=aa(e,t),c=e.injectorIndex;if(Fr(a)){const g=rs(a),D=Zo(a,t),T=D[1].data;for(let k=0;k<8;k++)t[c+k]=D[g+k]|T[g+k]}return t[c+8]=a,c}function mo(e,t){e.push(0,0,0,0,0,0,0,0,t)}function So(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function aa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,a=t;for(;null!==a;){if(s=Sa(a),null===s)return-1;if(n++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function mi(e,t,n){!function To(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(gn)&&(s=n[gn]),null==s&&(s=n[gn]=wa++);const a=255&s;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function Gs(e,t,n){if(n&xt.Optional||void 0!==e)return e;it()}function la(e,t,n,s){if(n&xt.Optional&&void 0===s&&(s=null),!(n&(xt.Self|xt.Host))){const a=e[9],c=an(void 0);try{return a?a.get(t,s,n&xt.Optional):sr(t,s,n&xt.Optional)}finally{an(c)}}return Gs(s,0,n)}function Za(e,t,n,s=xt.Default,a){if(null!==e){if(1024&t[2]){const g=function Ta(e,t,n,s,a){let c=e,g=t;for(;null!==c&&null!==g&&1024&g[2]&&!(256&g[2]);){const D=gs(c,g,n,s|xt.Self,is);if(D!==is)return D;let T=c.parent;if(!T){const k=g[21];if(k){const G=k.get(n,is,s);if(G!==is)return G}T=Sa(g),g=g[15]}c=T}return a}(e,t,n,s,is);if(g!==is)return g}const c=gs(e,t,n,s,is);if(c!==is)return c}return la(t,n,s,a)}function gs(e,t,n,s,a){const c=function Jo(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(gn)?e[gn]:void 0;return"number"==typeof t?t>=0?255&t:ba:t}(n);if("function"==typeof c){if(!fe(t,e,s))return s&xt.Host?Gs(a,0,s):la(t,n,s,a);try{const g=c(s);if(null!=g||s&xt.Optional)return g;it()}finally{Ct()}}else if("number"==typeof c){let g=null,D=So(e,t),T=-1,k=s&xt.Host?t[16][6]:null;for((-1===D||s&xt.SkipSelf)&&(T=-1===D?aa(e,t):t[D+8],-1!==T&&bi(s,!1)?(g=t[1],D=rs(T),t=Zo(T,t)):D=-1);-1!==D;){const G=t[1];if(ca(c,D,G.data)){const te=Qo(D,t,n,g,s,k);if(te!==is)return te}T=t[D+8],-1!==T&&bi(s,t[1].data[D+8]===k)&&ca(c,D,t)?(g=G,D=rs(T),t=Zo(T,t)):D=-1}}return a}function Qo(e,t,n,s,a,c){const g=t[1],D=g.data[e+8],G=ua(D,g,n,null==s?In(D)&&ro:s!=g&&0!=(3&D.type),a&xt.Host&&c===D);return null!==G?Rs(t,g,G,D):is}function ua(e,t,n,s,a){const c=e.providerIndexes,g=t.data,D=1048575&c,T=e.directiveStart,G=c>>20,Ce=a?D+G:e.directiveEnd;for(let Fe=s?D:D+G;Fe<Ce;Fe++){const ot=g[Fe];if(Fe<T&&n===ot||Fe>=T&&ot.type===n)return Fe}if(a){const Fe=g[T];if(Fe&&Jn(Fe)&&Fe.type===n)return T}return null}function Rs(e,t,n,s){let a=e[n];const c=t.data;if(function We(e){return e instanceof Xe}(a)){const g=a;g.resolving&&function Me(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function rt(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ge(e)}(c[n]));const D=Yo(g.canSeeViewProviders);g.resolving=!0;const T=g.injectImpl?an(g.injectImpl):null;fe(e,s,xt.Default);try{a=e[n]=g.factory(void 0,c,e,s),t.firstCreatePass&&n>=s.directiveStart&&function Yr(e,t,n){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(s){const g=Ts(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==T&&an(T),Yo(D),g.resolving=!1,Ct()}}return a}function ca(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function bi(e,t){return!(e&xt.Self||e&xt.Host&&t)}class ss{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return Za(this._tNode,this._lView,t,ee(s),n)}}function ba(){return new ss($r(),Ze())}function io(e){return He(()=>{const t=e.prototype.constructor,n=t[At]||Xo(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const c=a[At]||Xo(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Xo(e){return tt(e)?()=>{const t=Xo(ge(e));return t&&t()}:Mr(e)}function Sa(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function Ya(e){return function Ca(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let a=0;for(;a<s;){const c=n[a];if(Qr(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<s&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}($r(),e)}const Ho="__parameters__";function ea(e,t,n){return He(()=>{const s=function Qa(e){return function(...n){if(e){const s=e(...n);for(const a in s)this[a]=s[a]}}}(t);function a(...c){if(this instanceof a)return s.apply(this,c),this;const g=new a(...c);return D.annotation=g,D;function D(T,k,G){const te=T.hasOwnProperty(Ho)?T[Ho]:Object.defineProperty(T,Ho,{value:[]})[Ho];for(;te.length<=G;)te.push(null);return(te[G]=te[G]||[]).push(g),T}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class _r{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Ut({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _(e,t){e.forEach(n=>Array.isArray(n)?_(n,t):t(n))}function I(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function f(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function b(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}function Qe(e,t,n){let s=vt(e,t);return s>=0?e[1|s]=n:(s=~s,function Z(e,t,n,s){let a=e.length;if(a==t)e.push(n,s);else if(1===a)e.push(s,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function Mt(e,t){const n=vt(e,t);if(n>=0)return e[1|n]}function vt(e,t){return function oi(e,t,n){let s=0,a=e.length>>n;for(;a!==s;){const c=s+(a-s>>1),g=e[c<<n];if(t===g)return c<<n;g>t?a=c:s=c+1}return~(a<<n)}(e,t,1)}const Oa=ze(ea("Optional"),8),O=ze(ea("SkipSelf"),4);var Eo=(()=>((Eo=Eo||{})[Eo.Important=1]="Important",Eo[Eo.DashCase=2]="DashCase",Eo))();const _s=new Map;let gc=0;const Su="__ngContext__";function ys(e,t){Hr(t)?(e[Su]=t[20],function Kl(e){_s.set(e[20],e)}(t)):e[Su]=t}function Ql(e,t){return undefined(e,t)}function La(e){const t=e[3];return Tr(t)?t[3]:t}function ol(e){return Fa(e[13])}function Ou(e){return Fa(e[4])}function Fa(e){for(;null!==e&&!Tr(e);)e=e[4];return e}function lo(e,t,n,s,a){if(null!=s){let c,g=!1;Tr(s)?c=s:Hr(s)&&(g=!0,s=s[0]);const D=ir(s);0===e&&null!==n?null==a?Ba(t,n,D):_a(t,n,D,a||null,!0):1===e&&null!==n?_a(t,n,D,a||null,!0):2===e?function ra(e,t,n){const s=Ha(e,t);s&&function Lu(e,t,n,s){e.removeChild(t,n,s)}(e,s,t,n)}(t,D,g):3===e&&t.destroyNode(D),null!=c&&function Rl(e,t,n,s,a){const c=n[7];c!==ir(n)&&lo(t,e,s,c,a);for(let D=10;D<n.length;D++){const T=n[D];Al(T[1],T,e,t,s,c)}}(t,e,c,n,a)}}function Cl(e,t,n){return e.createElement(t,n)}function Ua(e,t){const n=e[9],s=n.indexOf(t),a=t[3];512&t[2]&&(t[2]&=-513,eo(a,-1)),n.splice(s,1)}function bl(e,t){if(e.length<=10)return;const n=10+t,s=e[n];if(s){const a=s[17];null!==a&&a!==e&&Ua(a,s),t>0&&(e[n-1][4]=s[4]);const c=f(e,10+t);!function al(e,t){Al(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const g=c[19];null!==g&&g.detachView(c[1]),s[3]=null,s[4]=null,s[2]&=-65}return s}function vc(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Al(e,t,n,3,null,null),function eu(e){let t=e[13];if(!t)return ku(e[1],e);for(;t;){let n=null;if(Hr(t))n=t[13];else{const s=t[10];s&&(n=s)}if(!n){for(;t&&!t[4]&&t!==e;)Hr(t)&&ku(t[1],t),t=t[3];null===t&&(t=e),Hr(t)&&ku(t[1],t),n=t&&t[4]}t=n}}(t)}}function ku(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ud(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const a=t[n[s]];if(!(a instanceof Xe)){const c=n[s+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const D=a[c[g]],T=c[g+1];try{T.call(D)}finally{}}else try{c.call(a)}finally{}}}}(e,t),function nu(e,t){const n=e.cleanup,s=t[7];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const g=n[c+3];g>=0?s[a=g]():s[a=-g].unsubscribe(),c+=2}else{const g=s[a=n[c+1]];n[c].call(g)}if(null!==s){for(let c=a+1;c<s.length;c++)(0,s[c])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Tr(t[3])){n!==t[3]&&Ua(n,t);const s=t[19];null!==s&&s.detachView(e)}!function ao(e){_s.delete(e[20])}(t)}}function xu(e,t,n){return function Ec(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[0];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:c}=e.data[s.directiveStart+a];if(c===nn.None||c===nn.Emulated)return null}return hr(s,n)}}(e,t.parent,n)}function _a(e,t,n,s,a){e.insertBefore(t,n,s,a)}function Ba(e,t,n){e.appendChild(t,n)}function ru(e,t,n,s,a){null!==s?_a(e,t,n,s,a):Ba(e,t,n)}function Ha(e,t){return e.parentNode(t)}function Tl(e,t,n){return $o(e,t,n)}let Ol,Vu,Nl,$o=function Ys(e,t,n){return 40&e.type?hr(e,n):null};function Wo(e,t,n,s){const a=xu(e,s,t),c=t[11],D=Tl(s.parent||t[6],s,t);if(null!=a)if(Array.isArray(n))for(let T=0;T<n.length;T++)ru(c,a,n[T],D,!1);else ru(c,a,n,D,!1)}function Sl(e,t){if(null!==t){const n=t.type;if(3&n)return hr(t,e);if(4&n)return Ms(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return Sl(e,s);{const a=e[t.index];return Tr(a)?Ms(-1,a):ir(a)}}if(32&n)return Ql(t,e)()||ir(e[t.index]);{const s=Ic(e,t);return null!==s?Array.isArray(s)?s[0]:Sl(La(e[16]),s):Sl(e,t.next)}}return null}function Ic(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Ms(e,t){const n=10+e+1;if(n<t.length){const s=t[n],a=s[1].firstChild;if(null!==a)return Sl(s,a)}return t[7]}function su(e,t,n,s,a,c,g){for(;null!=n;){const D=s[n.index],T=n.type;if(g&&0===t&&(D&&ys(ir(D),s),n.flags|=2),32!=(32&n.flags))if(8&T)su(e,t,n.child,s,a,c,!1),lo(t,e,a,D,c);else if(32&T){const k=Ql(n,s);let G;for(;G=k();)lo(t,e,a,G,c);lo(t,e,a,D,c)}else 16&T?ou(e,t,s,n,a,c):lo(t,e,a,D,c);n=g?n.projectionNext:n.next}}function Al(e,t,n,s,a,c){su(n,s,e.firstChild,t,a,c,!1)}function ou(e,t,n,s,a,c){const g=n[16],T=g[6].projection[s.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)lo(t,e,a,T[k],c);else su(e,t,T,g[3],a,c,!0)}function No(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function au(e,t,n){const{mergedAttrs:s,classes:a,styles:c}=n;null!==s&&jt(e,t,s),null!==a&&No(e,t,a),null!==c&&function Pl(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function va(e){return function lu(){if(void 0===Ol&&(Ol=null,Qt.trustedTypes))try{Ol=Qt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ol}()?.createHTML(e)||e}function ia(e){Vu=e}function wc(e){return function uu(){if(void 0===Nl&&(Nl=null,Qt.trustedTypes))try{Nl=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Nl}()?.createScriptURL(e)||e}class ja{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_t})`}}class cd extends ja{getTypeName(){return"HTML"}}class dd extends ja{getTypeName(){return"Style"}}class p extends ja{getTypeName(){return"Script"}}class u extends ja{getTypeName(){return"URL"}}class d extends ja{getTypeName(){return"ResourceURL"}}function v(e){return e instanceof ja?e.changingThisBreaksApplicationSecurity:e}function L(e,t){const n=function K(e){return e instanceof ja&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${_t})`)}return n===t}function we(e){return new cd(e)}function Je(e){return new dd(e)}function It(e){return new p(e)}function Tt(e){return new u(e)}function mn(e){return new d(e)}class Ti{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(va(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class ko{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const s=this.inertDocument.createElement("body");n.appendChild(s)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=va(t),n;const s=this.inertDocument.createElement("body");return s.innerHTML=va(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const n=t.attributes;for(let a=n.length-1;0<a;a--){const g=n.item(a).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&t.removeAttribute(g)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Cc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ul(e){return(e=String(e)).match(Cc)?e:"unsafe:"+e}function zo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function cl(...e){const t={};for(const n of e)for(const s in n)n.hasOwnProperty(s)&&(t[s]=!0);return t}const xl=zo("area,br,col,hr,img,wbr"),ju=zo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$u=zo("rp,rt"),Ll=cl(xl,cl(ju,zo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl($u,zo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl($u,ju)),Wu=zo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fh=cl(Wu,zo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mf=zo("script,style,template");class Pf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,s=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=this.checkClobberedElement(n,n.nextSibling);if(a){n=a;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Ll.hasOwnProperty(n))return this.sanitizedSomething=!0,!Mf.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=t.attributes;for(let a=0;a<s.length;a++){const c=s.item(a),g=c.name,D=g.toLowerCase();if(!fh.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=c.value;Wu[D]&&(T=ul(T)),this.buf.push(" ",g,'="',Nf(T),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Ll.hasOwnProperty(n)&&!xl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Nf(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Of=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ag=/([^\#-~ |!])/g;function Nf(e){return e.replace(/&/g,"&amp;").replace(Of,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ag,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function ph(e,t){let n=null;try{Tc=Tc||function en(e){const t=new ko(e);return function kl(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch{return!1}}()?new Ti(t):t}(e);let s=t?String(t):"";n=Tc.getInertBodyElement(s);let a=5,c=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=c,c=n.innerHTML,n=Tc.getInertBodyElement(s)}while(s!==c);return va((new Pf).sanitizeChildren(fd(n)||n))}finally{if(n){const s=fd(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function fd(e){return"content"in e&&function gh(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Li=(()=>((Li=Li||{})[Li.NONE=0]="NONE",Li[Li.HTML=1]="HTML",Li[Li.STYLE=2]="STYLE",Li[Li.SCRIPT=3]="SCRIPT",Li[Li.URL=4]="URL",Li[Li.RESOURCE_URL=5]="RESOURCE_URL",Li))();function mh(e){const t=du();return t?t.sanitize(Li.URL,e)||"":L(e,"URL")?v(e):ul(Ge(e))}function $a(e){const t=du();if(t)return wc(t.sanitize(Li.RESOURCE_URL,e)||"");if(L(e,"ResourceURL"))return wc(v(e));throw new Le(904,!1)}function _h(e,t,n){return function Lf(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?$a:mh}(t,n)(e)}function du(){const e=Ze();return e&&e[12]}const Sc=new _r("ENVIRONMENT_INITIALIZER"),Gu=new _r("INJECTOR",-1),yh=new _r("INJECTOR_DEF_TYPES");class vh{get(t,n=St){if(n===St){const s=new Error(`NullInjectorError: No provider for ${Ee(t)}!`);throw s.name="NullInjectorError",s}return n}}function Eh(e){return{\u0275providers:e}}function Ff(...e){return{\u0275providers:Ih(0,e),\u0275fromNgModule:!0}}function Ih(e,...t){const n=[],s=new Set;let a;return _(t,c=>{const g=c;Ku(g,n,[],s)&&(a||(a=[]),a.push(g))}),void 0!==a&&pd(a,n),n}function pd(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];gd(a,c=>{t.push(c)})}}function Ku(e,t,n,s){if(!(e=ge(e)))return!1;let a=null,c=Br(e);const g=!c&&Mn(e);if(c||g){if(g&&!g.standalone)return!1;a=e}else{const T=e.ngModule;if(c=Br(T),!c)return!1;a=T}const D=s.has(a);if(g){if(D)return!1;if(s.add(a),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of T)Ku(k,t,n,s)}}else{if(!c)return!1;{if(null!=c.imports&&!D){let k;s.add(a);try{_(c.imports,G=>{Ku(G,t,n,s)&&(k||(k=[]),k.push(G))})}finally{}void 0!==k&&pd(k,t)}if(!D){const k=Mr(a)||(()=>new a);t.push({provide:a,useFactory:k,deps:ae},{provide:yh,useValue:a,multi:!0},{provide:Sc,useValue:()=>ft(a),multi:!0})}const T=c.providers;null==T||D||gd(T,G=>{t.push(G)})}}return a!==e&&void 0!==e.providers}function gd(e,t){for(let n of e)Ye(n)&&(n=n.\u0275providers),Array.isArray(n)?gd(n,t):t(n)}const Dh=ye({provide:String,useValue:ye});function hu(e){return null!==e&&"object"==typeof e&&Dh in e}function Fl(e){return"function"==typeof e}const Ch=new _r("Set Injector scope."),_d={},Bf={};let yd;function vd(){return void 0===yd&&(yd=new vh),yd}class fu{}class Hf extends fu{get destroyed(){return this._destroyed}constructor(t,n,s,a){super(),this.parent=n,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,as(t,g=>this.processProvider(g)),this.records.set(Gu,Zu(void 0,this)),a.has("environment")&&this.records.set(fu,Zu(void 0,this));const c=this.records.get(Ch);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(yh.multi,ae,xt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=ar(this),s=an(void 0);try{return t()}finally{ar(n),an(s)}}get(t,n=St,s=xt.Default){this.assertNotDestroyed(),s=ee(s);const a=ar(this),c=an(void 0);try{if(!(s&xt.SkipSelf)){let D=this.records.get(t);if(void 0===D){const T=function jf(e){return"function"==typeof e||"object"==typeof e&&e instanceof _r}(t)&&Ur(t);D=T&&this.injectableDefInScope(T)?Zu(bh(t),_d):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(s&xt.Self?vd():this.parent).get(t,n=s&xt.Optional&&n===St?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[yr]=g[yr]||[]).unshift(Ee(t)),a)throw g;return function X(e,t,n,s){const a=e[yr];throw t[zr]&&a.unshift(t[zr]),e.message=function he(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ee(t);if(Array.isArray(t))a=t.map(Ee).join(" -> ");else if("object"==typeof t){let c=[];for(let g in t)if(t.hasOwnProperty(g)){let D=t[g];c.push(g+":"+("string"==typeof D?JSON.stringify(D):Ee(D)))}a=`{${c.join(", ")}}`}return`${n}${s?"("+s+")":""}[${a}]: ${e.replace(ai,"\n  ")}`}("\n"+e.message,a,n,s),e.ngTokenPath=a,e[yr]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{an(c),ar(a)}}resolveInjectorInitializers(){const t=ar(this),n=an(void 0);try{const s=this.get(Sc.multi,ae,xt.Self);for(const a of s)a()}finally{ar(t),an(n)}}toString(){const t=[],n=this.records;for(const s of n.keys())t.push(Ee(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(t){let n=Fl(t=ge(t))?t:ge(t&&t.provide);const s=function Ng(e){return hu(e)?Zu(void 0,e.useValue):Zu(Vf(e),_d)}(t);if(Fl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Zu(void 0,_d,!0),a.factory=()=>le(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,s)}hydrate(t,n){return n.value===_d&&(n.value=Bf,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Th(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=ge(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function bh(e){const t=Ur(e),n=null!==t?t.factory:Mr(e);if(null!==n)return n;if(e instanceof _r)throw new Le(204,!1);if(e instanceof Function)return function Og(e){const t=e.length;if(t>0)throw b(t,"?"),new Le(204,!1);const n=function ti(e){const t=e&&(e[qn]||e[sn]);if(t){const n=function dr(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function Vf(e,t,n){let s;if(Fl(e)){const a=ge(e);return Mr(a)||bh(a)}if(hu(e))s=()=>ge(e.useValue);else if(function Uf(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...le(e.deps||[]));else if(function wh(e){return!(!e||!e.useExisting)}(e))s=()=>ft(ge(e.useExisting));else{const a=ge(e&&(e.useClass||e.provide));if(!function Ed(e){return!!e.deps}(e))return Mr(a)||bh(a);s=()=>new a(...le(e.deps))}return s}function Zu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function as(e,t){for(const n of e)Array.isArray(n)?as(n,t):n&&Ye(n)?as(n.\u0275providers,t):t(n)}class $f{}class Yu{}class Wf{resolveComponentFactory(t){throw function Id(e){const t=Error(`No component factory found for ${Ee(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let pu=(()=>{class e{}return e.NULL=new Wf,e})();function zf(){return gu($r(),Ze())}function gu(e,t){return new qu(hr(e,t))}let qu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=zf,e})();function Gf(e){return e instanceof qu?e.nativeElement:e}class qs{}let Ac=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Ah(){const e=Ze(),n=gr($r().index,e);return(Hr(n)?n:e)[11]}(),e})(),Dd=(()=>{class e{}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:()=>null}),e})();class Qu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rc=new Qu("15.1.1"),Ju={};function Cd(e){return e.ngOriginalError}class Xu{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Cd(t);for(;n&&Cd(n);)n=Cd(n);return n||null}}function Wa(e){return e instanceof Function?e():e}function Nh(e,t,n){let s=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===s||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Oc="ng-template";function Sd(e,t,n){let s=0;for(;s<e.length;){let a=e[s++];if(n&&"class"===a){if(a=e[s],-1!==Nh(a.toLowerCase(),t,0))return!0}else if(1===a){for(;s<e.length&&"string"==typeof(a=e[s++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function kh(e){return 4===e.type&&e.value!==Oc}function Ad(e,t,n){return t===(4!==e.type||n?e.value:Oc)}function xh(e,t,n){let s=4;const a=e.attrs||[],c=function Xf(e){for(let t=0;t<e.length;t++)if(Qr(e[t]))return t;return e.length}(a);let g=!1;for(let D=0;D<t.length;D++){const T=t[D];if("number"!=typeof T){if(!g)if(4&s){if(s=2|1&s,""!==T&&!Ad(e,T,n)||""===T&&1===t.length){if(Go(s))return!1;g=!0}}else{const k=8&s?T:t[++D];if(8&s&&null!==e.attrs){if(!Sd(e.attrs,k,n)){if(Go(s))return!1;g=!0}continue}const te=Rd(8&s?"class":T,a,kh(e),n);if(-1===te){if(Go(s))return!1;g=!0;continue}if(""!==k){let Ce;Ce=te>c?"":a[te+1].toLowerCase();const Fe=8&s?Ce:null;if(Fe&&-1!==Nh(Fe,k,0)||2&s&&k!==Ce){if(Go(s))return!1;g=!0}}}}else{if(!g&&!Go(s)&&!Go(T))return!1;if(g&&Go(T))continue;g=!1,s=T|1&s}}return Go(s)||g}function Go(e){return 0==(1&e)}function Rd(e,t,n,s){if(null===t)return-1;let a=0;if(s||!n){let c=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)c=!0;else{if(1===g||2===g){let D=t[++a];for(;"string"==typeof D;)D=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=c?1:2}return-1}return function Nc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Lh(e,t,n=!1){for(let s=0;s<t.length;s++)if(xh(e,t[s],n))return!0;return!1}function Md(e,t){e:for(let n=0;n<t.length;n++){const s=t[n];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function kc(e,t){return e?":not("+t.trim()+")":t}function Pd(e){let t=e[0],n=1,s=2,a="",c=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&s){const D=e[++n];a+="["+g+(D.length>0?'="'+D+'"':"")+"]"}else 8&s?a+="."+g:4&s&&(a+=" "+g);else""!==a&&!Go(g)&&(t+=kc(c,a),a=""),s=g,c=c||!Go(s);n++}return""!==a&&(t+=kc(c,a)),t}const Nn={};function Ul(e){Od(An(),Ze(),Pt()+e,!1)}function Od(e,t,n,s){if(!s)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&C(t,c,n)}else{const c=e.preOrderHooks;null!==c&&x(t,c,0,n)}xn(n)}function tc(e,t=null,n=null,s){const a=Nd(e,t,n,s);return a.resolveInjectorInitializers(),a}function Nd(e,t=null,n=null,s,a=new Set){const c=[n||ae,Ff(e)];return s=s||("object"==typeof e?void 0:Ee(e)),new Hf(c,t||vd(),s||null,a)}let dl=(()=>{class e{static create(n,s){if(Array.isArray(n))return tc({name:""},s,n,"");{const a=n.name??"";return tc({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=St,e.NULL=new vh,e.\u0275prov=Ut({token:e,providedIn:"any",factory:()=>ft(Gu)}),e.__NG_ELEMENT_ID__=-1,e})();function rc(e,t=xt.Default){const n=Ze();return null===n?ft(e,t):Za($r(),n,ge(e),t)}function pp(){throw new Error("invalid")}function gp(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const c=n[s+1];if(-1!==c){const g=e.data[c];H(n[s]),g.contentQueries(2,t[c],c)}}}function Fc(e,t,n,s,a,c,g,D,T,k,G){const te=t.blueprint.slice();return te[0]=a,te[2]=76|s,(null!==G||e&&1024&e[2])&&(te[2]|=1024),Xt(te),te[3]=te[15]=e,te[8]=n,te[10]=g||e&&e[10],te[11]=D||e&&e[11],te[12]=T||e&&e[12]||null,te[9]=k||e&&e[9]||null,te[6]=c,te[20]=function bu(){return gc++}(),te[21]=G,te[16]=2==t.type?e[16]:te,te}function Bl(e,t,n,s,a){let c=e.data[t];if(null===c)c=function Uc(e,t,n,s,a){const c=ps(),g=po(),T=e.data[t]=function Yh(e,t,n,s,a,c){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,n,t,s,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(g?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T)),T}(e,t,n,s,a),function es(){return zt.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=s,c.attrs=a;const g=function fo(){const e=zt.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return pi(c,!0),c}function _u(e,t,n,s){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function Bc(e,t,n){ue(t);try{const s=e.viewQuery;null!==s&&Os(1,s,n);const a=e.template;null!==a&&$d(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gp(e,t),e.staticViewQueries&&Os(2,e.viewQuery,n);const c=e.components;null!==c&&function mp(e,t){for(let n=0;n<t.length;n++)$e(e,t[n])}(t,c)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,Dn()}}function ic(e,t,n,s){const a=t[2];if(128!=(128&a)){ue(t);try{Xt(t),function zi(e){return zt.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&$d(e,t,n,2,s);const g=3==(3&a);if(g){const k=e.preOrderCheckHooks;null!==k&&C(t,k,null)}else{const k=e.preOrderHooks;null!==k&&x(t,k,0,null),S(t,0)}if(function Q(e){for(let t=ol(e);null!==t;t=Ou(t)){if(!t[2])continue;const n=t[9];for(let s=0;s<n.length;s++){const a=n[s];512&a[2]||eo(a[3],1),a[2]|=512}}}(t),function $(e){for(let t=ol(e);null!==t;t=Ou(t))for(let n=10;n<t.length;n++){const s=t[n],a=s[1];Ci(s)&&ic(a,s,a.template,s[8])}}(t),null!==e.contentQueries&&gp(e,t),g){const k=e.contentCheckHooks;null!==k&&C(t,k)}else{const k=e.contentHooks;null!==k&&x(t,k,1),S(t,1)}!function jg(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const a=n[s];if(a<0)xn(~a);else{const c=a,g=n[++s],D=n[++s];ts(g,c),D(2,t[c])}}}finally{xn(-1)}}(e,t);const D=e.components;null!==D&&function $g(e,t){for(let n=0;n<t.length;n++)oe(e,t[n])}(t,D);const T=e.viewQuery;if(null!==T&&Os(2,T,s),g){const k=e.viewCheckHooks;null!==k&&C(t,k)}else{const k=e.viewHooks;null!==k&&x(t,k,2),S(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,eo(t[3],-1))}finally{Dn()}}}function $d(e,t,n,s,a){const c=Pt(),g=2&s;try{xn(-1),g&&t.length>22&&Od(e,t,22,!1),n(s,a)}finally{xn(c)}}function Hc(e,t,n){if(ui(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const g=e.data[c];g.contentQueries&&g.contentQueries(1,n[c],c)}}}function Vc(e,t,n){to()&&(function Ep(e,t,n,s){const a=n.directiveStart,c=n.directiveEnd;In(n)&&function r(e,t,n){const s=hr(t,e),a=Gh(n),c=e[10],g=Ot(e,Fc(e,a,null,n.onPush?32:16,s,t,c,c.createRenderer(s,n),null,null,null));e[t.index]=g}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||go(n,t),ys(s,t);const g=n.initialInputs;for(let D=a;D<c;D++){const T=e.data[D],k=Rs(t,e,D,n);ys(k,t),null!==g&&h(0,D-a,k,T,0,g),Jn(T)&&(gr(n.index,t)[8]=Rs(t,e,D,n))}}(e,t,n,hr(n,t)),64==(64&n.flags)&&tf(e,t,n))}function zh(e,t,n=hr){const s=t.localNames;if(null!==s){let a=t.index+1;for(let c=0;c<s.length;c+=2){const g=s[c+1],D=-1===g?n(t,e):e[g];e[a++]=D}}}function Gh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wd(e,t,n,s,a,c,g,D,T,k){const G=22+s,te=G+a,Ce=function Kh(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:Nn);return n}(G,te),Fe="function"==typeof k?k():k;return Ce[1]={type:e,blueprint:Ce,template:n,queries:null,viewQuery:D,declTNode:t,data:Ce.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Fe,incompleteFirstPass:!1}}function zd(e,t,n,s){const a=sa(t);null===n?a.push(s):(a.push(n),e.firstCreatePass&&Fi(e).push(s,a.length-1))}function yu(e,t,n,s){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===s?qh(n,t,a,c):s.hasOwnProperty(a)&&qh(n,t,s[a],c)}return n}function qh(e,t,n,s){e.hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}function Lo(e,t,n,s,a,c,g,D){const T=hr(t,n);let G,k=t.inputs;!D&&null!=k&&(G=k[s])?(Cp(e,n,G,s,a),In(t)&&Gd(n,t.index)):3&t.type&&(s=function _p(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=g?g(a,t.value||"",s):a,c.setProperty(T,s,a))}function Gd(e,t){const n=gr(t,e);16&n[2]||(n[2]|=32)}function Kd(e,t,n,s){let a=!1;if(to()){const c=null===s?null:{"":-1},g=function Ip(e,t){const n=e.directiveRegistry;let s=null,a=null;if(n)for(let c=0;c<n.length;c++){const g=n[c];if(Lh(t,g.selectors,!1))if(s||(s=[]),Jn(g))if(null!==g.findHostDirectiveDefs){const D=[];a=a||new Map,g.findHostDirectiveDefs(g,D,a),s.unshift(...D,g),Zd(e,t,D.length)}else s.unshift(g),Zd(e,t,0);else a=a||new Map,g.findHostDirectiveDefs?.(g,s,a),s.push(g)}return null===s?null:[s,a]}(e,n);let D,T;null===g?D=T=null:[D,T]=g,null!==D&&(a=!0,Xh(e,t,n,D,c,T)),c&&function Dp(e,t,n){if(t){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new Le(-301,!1);s.push(t[a],c)}}}(n,s,c)}return n.mergedAttrs=zn(n.mergedAttrs,n.attrs),a}function Xh(e,t,n,s,a,c){for(let k=0;k<s.length;k++)mi(go(n,t),e,s[k].type);!function wp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,s.length);for(let k=0;k<s.length;k++){const G=s[k];G.providersResolver&&G.providersResolver(G)}let g=!1,D=!1,T=_u(e,t,s.length,null);for(let k=0;k<s.length;k++){const G=s[k];n.mergedAttrs=zn(n.mergedAttrs,G.hostAttrs),o(e,n,t,T,G),rf(T,G,a),null!==G.contentQueries&&(n.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(n.flags|=64);const te=G.type.prototype;!g&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!D&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),D=!0),T++}!function Qh(e,t,n){const a=t.directiveEnd,c=e.data,g=t.attrs,D=[];let T=null,k=null;for(let G=t.directiveStart;G<a;G++){const te=c[G],Ce=n?n.get(te):null,ot=Ce?Ce.outputs:null;T=yu(te.inputs,G,T,Ce?Ce.inputs:null),k=yu(te.outputs,G,k,ot);const Et=null===T||null===g||kh(t)?null:w(T,G,g);D.push(Et)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=D,t.inputs=T,t.outputs=k}(e,n,c)}function tf(e,t,n){const s=n.directiveStart,a=n.directiveEnd,c=n.index,g=function B(){return zt.lFrame.currentDirectiveIndex}();try{xn(c);for(let D=s;D<a;D++){const T=e.data[D],k=t[D];m(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&nf(T,k)}}finally{xn(-1),m(g)}}function nf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zd(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function rf(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;Jn(t)&&(n[""]=e)}}function o(e,t,n,s,a){e.data[s]=a;const c=a.factory||(a.factory=Mr(a.type)),g=new Xe(c,Jn(a),rc);e.blueprint[s]=g,n[s]=g,function vp(e,t,n,s,a){const c=a.hostBindings;if(c){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const D=~t.index;(function ef(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=D&&g.push(D),g.push(n,s,c)}}(e,t,s,_u(e,n,a.hostVars,Nn),a)}function i(e,t,n,s,a,c){const g=hr(e,t);!function l(e,t,n,s,a,c,g){if(null==c)e.removeAttribute(t,a,n);else{const D=null==g?Ge(c):g(c,s||"",a);e.setAttribute(t,a,D,n)}}(t[11],g,c,e.value,n,s,a)}function h(e,t,n,s,a,c){const g=c[t];if(null!==g){const D=s.setInput;for(let T=0;T<g.length;){const k=g[T++],G=g[T++],te=g[T++];null!==D?s.setInput(n,te,k,G):n[G]=te}}}function w(e,t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===s&&(s=[]);const g=e[c];for(let D=0;D<g.length;D+=2)if(g[D]===t){s.push(c,g[D+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function R(e,t,n,s){return[e,!0,!1,t,null,0,s,n,null,null]}function oe(e,t){const n=gr(t,e);if(Ci(n)){const s=n[1];48&n[2]?ic(s,n,s.template,n[8]):n[5]>0&&je(n)}}function je(e){for(let s=ol(e);null!==s;s=Ou(s))for(let a=10;a<s.length;a++){const c=s[a];if(Ci(c))if(512&c[2]){const g=c[1];ic(g,c,g.template,c[8])}else c[5]>0&&je(c)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const a=gr(n[s],e);Ci(a)&&a[5]>0&&je(a)}}function $e(e,t){const n=gr(t,e),s=n[1];(function at(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),Bc(s,n,n[8])}function Ot(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function Zt(e){for(;e;){e[2]|=32;const t=La(e);if(Is(e)&&!t)return e;e=t}return null}function jn(e,t,n,s=!0){const a=t[10];a.begin&&a.begin();try{ic(e,t,e.template,n)}catch(g){throw s&&hl(t,g),g}finally{a.end&&a.end()}}function Os(e,t,n){H(0),t(e,n)}function sa(e){return e[7]||(e[7]=[])}function Fi(e){return e.cleanup||(e.cleanup=[])}function Ea(e,t,n){return(null===e||Jn(e))&&(n=function si(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function hl(e,t){const n=e[9],s=n?n.get(Xu,null):null;s&&s.handleError(t)}function Cp(e,t,n,s,a){for(let c=0;c<n.length;){const g=n[c++],D=n[c++],T=t[g],k=e.data[g];null!==k.setInput?k.setInput(T,a,s,D):T[D]=a}}function sf(e,t,n){let s=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let g=0;g<t.length;g++){const D=t[g];"number"==typeof D?c=D:1==c?a=Ie(a,D):2==c&&(s=Ie(s,D+": "+t[++g]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=a:e.classesWithoutHost=a}function af(e,t,n,s,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&s.push(ir(c)),Tr(c))for(let D=10;D<c.length;D++){const T=c[D],k=T[1].firstChild;null!==k&&af(T[1],T,k,s)}const g=n.type;if(8&g)af(e,t,n.child,s);else if(32&g){const D=Ql(n,t);let T;for(;T=D();)s.push(T)}else if(16&g){const D=Ic(t,n);if(Array.isArray(D))s.push(...D);else{const T=La(t[16]);af(T[1],T,D,s,!0)}}n=a?n.projectionNext:n.next}return s}class Yd{get rootNodes(){const t=this._lView,n=t[1];return af(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Tr(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(bl(t,s),f(n,s))}this._attachedToViewContainer=!1}vc(this._lView[1],this._lView)}onDestroy(t){zd(this._lView[1],this._lView,null,t)}markForCheck(){Zt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){jn(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xl(e,t){Al(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t}}class tv extends Yd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;jn(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Wg extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mn(t);return new qd(n,this.ngModule)}}function zg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class rv{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,s){s=ee(s);const a=this.injector.get(t,Ju,s);return a!==Ju||n===Ju?a:this.parentInjector.get(t,n,s)}}class qd extends Yu{get inputs(){return zg(this.componentDef.inputs)}get outputs(){return zg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Fh(e){return e.map(Pd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,s,a){let c=(a=a||this.ngModule)instanceof fu?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const g=c?new rv(t,c):t,D=g.get(qs,null);if(null===D)throw new Le(407,!1);const T=g.get(Dd,null),k=D.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",te=s?function Zh(e,t,n){return e.selectRootElement(t,n===nn.ShadowDom)}(k,s,this.componentDef.encapsulation):Cl(k,G,function nv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(G)),Ce=this.componentDef.onPush?288:272,Fe=Wd(0,null,null,1,0,null,null,null,null,null),ot=Fc(null,Fe,null,Ce,null,null,D,k,T,g,null);let Et,Nt;ue(ot);try{const Kt=this.componentDef;let Sn,ht=null;Kt.findHostDirectiveDefs?(Sn=[],ht=new Map,Kt.findHostDirectiveDefs(Kt,Sn,ht),Sn.push(Kt)):Sn=[Kt];const Fn=function sv(e,t){const n=e[1];return e[22]=t,Bl(n,22,2,"#host",null)}(ot,te),Si=function ov(e,t,n,s,a,c,g,D){const T=a[1];!function av(e,t,n,s){for(const a of e)t.mergedAttrs=zn(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(sf(t,t.mergedAttrs,!0),null!==n&&au(s,n,t))}(s,e,t,g);const k=c.createRenderer(t,n),G=Fc(a,Gh(n),null,n.onPush?32:16,a[e.index],e,c,k,D||null,null,null);return T.firstCreatePass&&Zd(T,e,s.length-1),Ot(a,G),a[e.index]=G}(Fn,te,Kt,Sn,ot,D,k);Nt=Vr(Fe,22),te&&function uv(e,t,n,s){if(s)jt(e,n,["ng-version",Rc.full]);else{const{attrs:a,classes:c}=function ep(e){const t=[],n=[];let s=1,a=2;for(;s<e.length;){let c=e[s];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++s]):8===a&&n.push(c);else{if(!Go(a))break;a=c}s++}return{attrs:t,classes:n}}(t.selectors[0]);a&&jt(e,n,a),c&&c.length>0&&No(e,n,c.join(" "))}}(k,Kt,te,s),void 0!==n&&function cv(e,t,n){const s=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];s.push(null!=c?Array.from(c):null)}}(Nt,this.ngContentSelectors,n),Et=function lv(e,t,n,s,a,c){const g=$r(),D=a[1],T=hr(g,a);Xh(D,a,g,n,null,s);for(let G=0;G<n.length;G++)ys(Rs(a,D,g.directiveStart+G,g),a);tf(D,a,g),T&&ys(T,a);const k=Rs(a,D,g.directiveStart+g.componentOffset,g);if(e[8]=a[8]=k,null!==c)for(const G of c)G(k,t);return Hc(D,g,e),k}(Si,Kt,Sn,ht,ot,[dv]),Bc(Fe,ot,null)}finally{Dn()}return new iv(this.componentType,Et,gu(Nt,ot),ot,Nt)}}class iv extends $f{constructor(t,n,s,a,c){super(),this.location=s,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new tv(a),this.componentType=t}setInput(t,n){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[t])){const c=this._rootLView;Cp(c[1],c,a,t,n),Gd(c,this._tNode.index)}}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dv(){const e=$r();qr(Ze()[1],e)}function bp(e){let t=function Gg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let a;if(Jn(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);a=t.\u0275dir}if(a){if(n){s.push(a);const g=e;g.inputs=Tp(e.inputs),g.declaredInputs=Tp(e.declaredInputs),g.outputs=Tp(e.outputs);const D=a.hostBindings;D&&gv(e,D);const T=a.viewQuery,k=a.contentQueries;if(T&&fv(e,T),k&&pv(e,k),Se(e.inputs,a.inputs),Se(e.declaredInputs,a.declaredInputs),Se(e.outputs,a.outputs),Jn(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let g=0;g<c.length;g++){const D=c[g];D&&D.ngInherit&&D(e),D===bp&&(n=!1)}}t=Object.getPrototypeOf(t)}!function hv(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=zn(a.hostAttrs,n=zn(n,a.hostAttrs))}}(s)}function Tp(e){return e===cn?{}:e===ae?[]:e}function fv(e,t){const n=e.viewQuery;e.viewQuery=n?(s,a)=>{t(s,a),n(s,a)}:t}function pv(e,t){const n=e.contentQueries;e.contentQueries=n?(s,a,c)=>{t(s,a,c),n(s,a,c)}:t}function gv(e,t){const n=e.hostBindings;e.hostBindings=n?(s,a)=>{t(s,a),n(s,a)}:t}let lf=null;function sc(){if(!lf){const e=Qt.Symbol;if(e&&e.iterator)lf=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const s=t[n];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(lf=s)}}}return lf}function uf(e){return!!Sp(e)&&(Array.isArray(e)||!(e instanceof Map)&&sc()in e)}function Sp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Io(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ap(e,t,n,s){const a=Ze();return Io(a,Gi(),t)&&(An(),i(rn(),a,e,t,n,s)),Ap}function sm(e,t,n,s,a,c,g,D){const T=Ze(),k=An(),G=e+22,te=k.firstCreatePass?function bv(e,t,n,s,a,c,g,D,T){const k=t.consts,G=Bl(t,e,4,g||null,Lr(k,D));Kd(t,n,G,Lr(k,T)),qr(t,G);const te=G.tViews=Wd(2,G,s,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,G),te.queries=t.queries.embeddedTView(G)),G}(G,k,T,t,n,s,a,c,g):k.data[G];pi(te,!1);const Ce=T[11].createComment("");Wo(k,T,Ce,te),ys(Ce,T),Ot(T,T[G]=R(Ce,T,Ce,te)),_n(te)&&Vc(k,T,te),null!=g&&zh(T,te,D)}function Rp(e,t,n){const s=Ze();return Io(s,Gi(),t)&&Lo(An(),rn(),s,e,t,s[11],n,!1),Rp}function Mp(e,t,n,s,a){const g=a?"class":"style";Cp(e,n,t.inputs[g],g,s)}function df(e,t,n,s){const a=Ze(),c=An(),g=22+e,D=a[11],T=a[g]=Cl(D,t,function gi(){return zt.lFrame.currentNamespace}()),k=c.firstCreatePass?function Av(e,t,n,s,a,c,g){const D=t.consts,k=Bl(t,e,2,a,Lr(D,c));return Kd(t,n,k,Lr(D,g)),null!==k.attrs&&sf(k,k.attrs,!1),null!==k.mergedAttrs&&sf(k,k.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,k),k}(g,c,a,0,t,n,s):c.data[g];return pi(k,!0),au(D,T,k),32!=(32&k.flags)&&Wo(c,a,T,k),0===function As(){return zt.lFrame.elementDepthCount}()&&ys(T,a),function Co(){zt.lFrame.elementDepthCount++}(),_n(k)&&(Vc(c,a,k),Hc(c,k,a)),null!==s&&zh(a,k),df}function hf(){let e=$r();po()?$s():(e=e.parent,pi(e,!1));const t=e;!function Hs(){zt.lFrame.elementDepthCount--}();const n=An();return n.firstCreatePass&&(qr(n,e),ui(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function Bt(e){return 0!=(8&e.flags)}(t)&&Mp(n,t,Ze(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Vn(e){return 0!=(16&e.flags)}(t)&&Mp(n,t,Ze(),t.stylesWithoutHost,!1),hf}function Pp(e,t,n,s){return df(e,t,n,s),hf(),Pp}function am(){return Ze()}function kp(e){return!!e&&"function"==typeof e.then}function lm(e){return!!e&&"function"==typeof e.subscribe}const um=lm;function xp(e,t,n,s){const a=Ze(),c=An(),g=$r();return cm(c,a,a[11],g,e,t,s),xp}function Lp(e,t){const n=$r(),s=Ze(),a=An();return cm(a,s,Ea(E(a.data),n,s),n,e,t),Lp}function cm(e,t,n,s,a,c,g){const D=_n(s),k=e.firstCreatePass&&Fi(e),G=t[8],te=sa(t);let Ce=!0;if(3&s.type||g){const Et=hr(s,t),Nt=g?g(Et):Et,Kt=te.length,Sn=g?Fn=>g(ir(Fn[s.index])):s.index;let ht=null;if(!g&&D&&(ht=function Mv(e,t,n,s){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const g=a[c];if(g===n&&a[c+1]===s){const D=t[7],T=a[c+2];return D.length>T?D[T]:null}"string"==typeof g&&(c+=2)}return null}(e,t,a,s.index)),null!==ht)(ht.__ngLastListenerFn__||ht).__ngNextListenerFn__=c,ht.__ngLastListenerFn__=c,Ce=!1;else{c=hm(s,t,G,c,!1);const Fn=n.listen(Nt,a,c);te.push(c,Fn),k&&k.push(a,Sn,Kt,Kt+1)}}else c=hm(s,t,G,c,!1);const Fe=s.outputs;let ot;if(Ce&&null!==Fe&&(ot=Fe[a])){const Et=ot.length;if(Et)for(let Nt=0;Nt<Et;Nt+=2){const Si=t[ot[Nt]][ot[Nt+1]].subscribe(c),ls=te.length;te.push(c,Si),k&&k.push(a,s.index,ls,-(ls+1))}}}function dm(e,t,n,s){try{return!1!==n(s)}catch(a){return hl(e,a),!1}}function hm(e,t,n,s,a){return function c(g){if(g===Function)return s;Zt(e.componentOffset>-1?gr(e.index,t):t);let T=dm(t,0,s,g),k=c.__ngNextListenerFn__;for(;k;)T=dm(t,0,k,g)&&T,k=k.__ngNextListenerFn__;return a&&!1===T&&(g.preventDefault(),g.returnValue=!1),T}}function fm(e=1){return function hn(e){return(zt.lFrame.contextLView=function $t(e,t){for(;e>0;)t=t[15],e--;return t}(e,zt.lFrame.contextLView))[8]}(e)}function Pv(e,t){let n=null;const s=function Jf(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===s?Lh(e,c,!0):Md(s,c))return a}else n=a}return n}function pm(e){const t=Ze()[16][6];if(!t.projection){const s=t.projection=b(e?e.length:1,null),a=s.slice();let c=t.child;for(;null!==c;){const g=e?Pv(c,e):0;null!==g&&(a[g]?a[g].projectionNext=c:s[g]=c,a[g]=c),c=c.next}}}function gm(e,t=0,n){const s=Ze(),a=An(),c=Bl(a,22+e,16,null,n||null);null===c.projection&&(c.projection=t),$s(),32!=(32&c.flags)&&function Fu(e,t,n){ou(t[11],0,t,n,xu(e,n,t),Tl(n.parent||t[6],n,t))}(a,s,c)}function ff(e,t){return e<<17|t<<2}function vu(e){return e>>17&32767}function Up(e){return 2|e}function ac(e){return(131068&e)>>2}function Bp(e,t){return-131069&e|t<<2}function Hp(e){return 1|e}function bm(e,t,n,s,a){const c=e[n+1],g=null===t;let D=s?vu(c):ac(c),T=!1;for(;0!==D&&(!1===T||g);){const G=e[D+1];Fv(e[D],t)&&(T=!0,e[D+1]=s?Hp(G):Up(G)),D=s?vu(G):ac(G)}T&&(e[n+1]=s?Up(c):Hp(c))}function Fv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&vt(e,t)>=0}function Vp(e,t,n){return za(e,t,n,!1),Vp}function jp(e,t){return za(e,t,null,!0),jp}function za(e,t,n,s){const a=Ze(),c=An(),g=function ki(e){const t=zt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);c.firstUpdatePass&&function Nm(e,t,n,s){const a=e.data;if(null===a[n+1]){const c=a[Pt()],g=function Om(e,t){return t>=e.expandoStartIndex}(e,n);(function Fm(e,t){return 0!=(e.flags&(t?8:16))})(c,s)&&null===t&&!g&&(t=!1),t=function Gv(e,t,n,s){const a=E(e);let c=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(n=Jd(n=$p(null,e,t,n,s),t.attrs,s),c=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(n=$p(a,e,t,n,s),null===c){let T=function Kv(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==ac(s))return e[vu(s)]}(e,t,s);void 0!==T&&Array.isArray(T)&&(T=$p(null,e,t,T[1],s),T=Jd(T,t.attrs,s),function Zv(e,t,n,s){e[vu(n?t.classBindings:t.styleBindings)]=s}(e,t,s,T))}else c=function Yv(e,t,n){let s;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)s=Jd(s,e[c].hostAttrs,n);return Jd(s,t.attrs,n)}(e,t,s)}return void 0!==c&&(s?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,s),function xv(e,t,n,s,a,c){let g=c?t.classBindings:t.styleBindings,D=vu(g),T=ac(g);e[s]=n;let G,k=!1;if(Array.isArray(n)?(G=n[1],(null===G||vt(n,G)>0)&&(k=!0)):G=n,a)if(0!==T){const Ce=vu(e[D+1]);e[s+1]=ff(Ce,D),0!==Ce&&(e[Ce+1]=Bp(e[Ce+1],s)),e[D+1]=function Nv(e,t){return 131071&e|t<<17}(e[D+1],s)}else e[s+1]=ff(D,0),0!==D&&(e[D+1]=Bp(e[D+1],s)),D=s;else e[s+1]=ff(T,0),0===D?D=s:e[T+1]=Bp(e[T+1],s),T=s;k&&(e[s+1]=Up(e[s+1])),bm(e,G,s,!0),bm(e,G,s,!1),function Lv(e,t,n,s,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&vt(c,t)>=0&&(n[s+1]=Hp(n[s+1]))}(t,G,e,s,c),g=ff(D,T),c?t.classBindings=g:t.styleBindings=g}(a,c,t,n,g,s)}}(c,e,g,s),t!==Nn&&Io(a,g,t)&&function xm(e,t,n,s,a,c,g,D){if(!(3&t.type))return;const T=e.data,k=T[D+1],G=function kv(e){return 1==(1&e)}(k)?Lm(T,t,n,a,ac(k),g):void 0;pf(G)||(pf(c)||function Ov(e){return 2==(2&e)}(k)&&(c=Lm(T,null,n,a,D,g)),function Ml(e,t,n,s,a){if(t)a?e.addClass(n,s):e.removeClass(n,s);else{let c=-1===s.indexOf("-")?void 0:Eo.DashCase;null==a?e.removeStyle(n,s,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=Eo.Important),e.setStyle(n,s,a,c))}}(s,g,function Ji(e,t){return ir(t[e])}(Pt(),n),a,c))}(c,c.data[Pt()],a,a[11],e,a[g+1]=function Jv(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Ee(v(e)))),e}(t,n),s,g)}function $p(e,t,n,s,a){let c=null;const g=n.directiveEnd;let D=n.directiveStylingLast;for(-1===D?D=n.directiveStart:D++;D<g&&(c=t[D],s=Jd(s,c.hostAttrs,a),c!==e);)D++;return null!==e&&(n.directiveStylingLast=D),s}function Jd(e,t,n){const s=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const g=t[c];"number"==typeof g?a=g:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Qe(e,g,!!n||t[++c]))}return void 0===e?null:e}function Lm(e,t,n,s,a,c){const g=null===t;let D;for(;a>0;){const T=e[a],k=Array.isArray(T),G=k?T[1]:T,te=null===G;let Ce=n[a+1];Ce===Nn&&(Ce=te?ae:void 0);let Fe=te?Mt(Ce,s):G===s?Ce:void 0;if(k&&!pf(Fe)&&(Fe=Mt(T,s)),pf(Fe)&&(D=Fe,g))return D;const ot=e[a+1];a=g?vu(ot):ac(ot)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(D=Mt(T,s))}return D}function pf(e){return void 0!==e}function Um(e,t=""){const n=Ze(),s=An(),a=e+22,c=s.firstCreatePass?Bl(s,a,1,t,null):s.data[a],g=n[a]=function Nu(e,t){return e.createText(t)}(n[11],t);Wo(s,n,g,c),pi(c,!1)}function zp(e,t,n){const s=Ze();if(Io(s,Gi(),t)){const c=An(),g=rn();Lo(c,g,s,e,t,Ea(E(c.data),g,s),n,!0)}return zp}const lc=void 0;var yE=["en",[["a","p"],["AM","PM"],lc],[["AM","PM"],lc,lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lc,"{1} 'at' {0}",lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _E(e){const n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Jc={};function Gp(e){const t=function vE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=s_(t);if(n)return n;const s=t.split("-")[0];if(n=s_(s),n)return n;if("en"===s)return yE;throw new Le(701,!1)}function i_(e){return Gp(e)[Cn.PluralCase]}function s_(e){return e in Jc||(Jc[e]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[e]),Jc[e]}var Cn=(()=>((Cn=Cn||{})[Cn.LocaleId=0]="LocaleId",Cn[Cn.DayPeriodsFormat=1]="DayPeriodsFormat",Cn[Cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Cn[Cn.DaysFormat=3]="DaysFormat",Cn[Cn.DaysStandalone=4]="DaysStandalone",Cn[Cn.MonthsFormat=5]="MonthsFormat",Cn[Cn.MonthsStandalone=6]="MonthsStandalone",Cn[Cn.Eras=7]="Eras",Cn[Cn.FirstDayOfWeek=8]="FirstDayOfWeek",Cn[Cn.WeekendRange=9]="WeekendRange",Cn[Cn.DateFormat=10]="DateFormat",Cn[Cn.TimeFormat=11]="TimeFormat",Cn[Cn.DateTimeFormat=12]="DateTimeFormat",Cn[Cn.NumberSymbols=13]="NumberSymbols",Cn[Cn.NumberFormats=14]="NumberFormats",Cn[Cn.CurrencyCode=15]="CurrencyCode",Cn[Cn.CurrencySymbol=16]="CurrencySymbol",Cn[Cn.CurrencyName=17]="CurrencyName",Cn[Cn.Currencies=18]="Currencies",Cn[Cn.Directionality=19]="Directionality",Cn[Cn.PluralCase=20]="PluralCase",Cn[Cn.ExtraData=21]="ExtraData",Cn))();const Xc="en-US";let o_=Xc;function Yp(e,t,n,s,a){if(e=ge(e),Array.isArray(e))for(let c=0;c<e.length;c++)Yp(e[c],t,n,s,a);else{const c=An(),g=Ze();let D=Fl(e)?e:ge(e.provide),T=Vf(e);const k=$r(),G=1048575&k.providerIndexes,te=k.directiveStart,Ce=k.providerIndexes>>20;if(Fl(e)||!e.multi){const Fe=new Xe(T,a,rc),ot=Qp(D,t,a?G:G+Ce,te);-1===ot?(mi(go(k,g),c,D),qp(c,e,t.length),t.push(D),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Fe),g.push(Fe)):(n[ot]=Fe,g[ot]=Fe)}else{const Fe=Qp(D,t,G+Ce,te),ot=Qp(D,t,G,G+Ce),Nt=ot>=0&&n[ot];if(a&&!Nt||!a&&!(Fe>=0&&n[Fe])){mi(go(k,g),c,D);const Kt=function _0(e,t,n,s,a){const c=new Xe(e,n,rc);return c.multi=[],c.index=t,c.componentProviders=0,P_(c,a,s&&!n),c}(a?m0:g0,n.length,a,s,T);!a&&Nt&&(n[ot].providerFactory=Kt),qp(c,e,t.length,0),t.push(D),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Kt),g.push(Kt)}else qp(c,e,Fe>-1?Fe:ot,P_(n[a?ot:Fe],T,!a&&s));!a&&s&&Nt&&n[ot].componentProviders++}}}function qp(e,t,n,s){const a=Fl(t),c=function md(e){return!!e.useClass}(t);if(a||c){const T=(c?ge(t.useClass):t).prototype.ngOnDestroy;if(T){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=k.indexOf(n);-1===G?k.push(n,[s,T]):k[G+1].push(s,T)}else k.push(n,T)}}}function P_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qp(e,t,n,s){for(let a=n;a<s;a++)if(t[a]===e)return a;return-1}function g0(e,t,n,s){return Jp(this.multi,[])}function m0(e,t,n,s){const a=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,D=Rs(n,n[1],this.providerFactory.index,s);c=D.slice(0,g),Jp(a,c);for(let T=g;T<D.length;T++)c.push(D[T])}else c=[],Jp(a,c);return c}function Jp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function O_(e,t=[]){return n=>{n.providersResolver=(s,a)=>function p0(e,t,n){const s=An();if(s.firstCreatePass){const a=Jn(e);Yp(n,s.data,s.blueprint,a,!0),Yp(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}class ed{}class N_{}function y0(e,t){return new k_(e,t??null)}class k_ extends ed{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wg(this);const s=Rr(t);this._bootstrapComponents=Wa(s.bootstrap),this._r3Injector=Nd(t,n,[{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],Ee(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xp extends N_{constructor(t){super(),this.moduleType=t}create(t){return new k_(this.moduleType,t)}}class v0 extends ed{constructor(t,n,s){super(),this.componentFactoryResolver=new Wg(this),this.instance=null;const a=new Hf([...t,{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],n||vd(),s,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function eg(e,t,n=null){return new v0(e,t,n).injector}let E0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const s=Ih(0,n.type),a=s.length>0?eg([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Ut({token:e,providedIn:"environment",factory:()=>new e(ft(fu))}),e})();function x_(e){e.getStandaloneInjector=t=>t.get(E0).getOrCreateStandaloneInjector(e)}function ng(e){return t=>{setTimeout(e,void 0,t)}}const ml=class G0 extends y.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){let a=t,c=n||(()=>null),g=s;if(t&&"object"==typeof t){const T=t;a=T.next?.bind(T),c=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(c=ng(c),a&&(a=ng(a)),g&&(g=ng(g)));const D=super.subscribe({next:a,error:c,complete:g});return t instanceof U.w0&&t.add(D),D}};function K0(){return this._results[sc()]()}class vf{get changes(){return this._changes||(this._changes=new ml)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sc(),s=vf.prototype;s[n]||(s[n]=K0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const a=function Zi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ks(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],c=t[s];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(s._results,a,n))&&(s._results=a,s.length=a.length,s.last=a[this.length-1],s.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oh=(()=>{class e{}return e.__NG_ELEMENT_ID__=q0,e})();const Z0=oh,Y0=class extends Z0{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t,n){const s=this._declarationTContainer.tViews,a=Fc(this._declarationLView,s,t,16,null,s.declTNode,null,null,null,null,n||null);a[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(a[19]=g.createEmbeddedView(s)),Bc(s,a,t),new Yd(a)}};function q0(){return Ef($r(),Ze())}function Ef(e,t){return 4&e.type?new Y0(t,e,gu(e,t)):null}let If=(()=>{class e{}return e.__NG_ELEMENT_ID__=Q0,e})();function Q0(){return Y_($r(),Ze())}const J0=If,K_=class extends J0{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){const t=aa(this._hostTNode,this._hostLView);if(Fr(t)){const n=Zo(t,this._hostLView),s=rs(t);return new ss(n[1].data[s+8],n)}return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Z_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,s){let a,c;"number"==typeof s?a=s:null!=s&&(a=s.index,c=s.injector);const g=t.createEmbeddedView(n||{},c);return this.insert(g,a),g}createComponent(t,n,s,a,c){const g=t&&!function Ro(e){return"function"==typeof e}(t);let D;if(g)D=n;else{const te=n||{};D=te.index,s=te.injector,a=te.projectableNodes,c=te.environmentInjector||te.ngModuleRef}const T=g?t:new qd(Mn(t)),k=s||this.parentInjector;if(!c&&null==T.ngModule){const Ce=(g?k:this.parentInjector).get(fu,null);Ce&&(c=Ce)}const G=T.create(k,a,void 0,c);return this.insert(G.hostView,D),G}insert(t,n){const s=t._lView,a=s[1];if(function jr(e){return Tr(e[3])}(s)){const G=this.indexOf(t);if(-1!==G)this.detach(G);else{const te=s[3],Ce=new K_(te,te[6],te[3]);Ce.detach(Ce.indexOf(t))}}const c=this._adjustIndex(n),g=this._lContainer;!function yc(e,t,n,s){const a=10+s,c=n.length;s>0&&(n[a-1][4]=t),s<c-10?(t[4]=n[a],I(n,10+s,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function tu(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const D=t[19];null!==D&&D.insertView(e),t[2]|=64}(a,s,g,c);const D=Ms(c,g),T=s[11],k=Ha(T,g[7]);return null!==k&&function ld(e,t,n,s,a,c){s[0]=a,s[6]=t,Al(e,s,n,1,a,c)}(a,g[6],T,s,k,D),t.attachToViewContainerRef(),I(rg(g),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Z_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=bl(this._lContainer,n);s&&(f(rg(this._lContainer),n),vc(s[1],s))}detach(t){const n=this._adjustIndex(t,-1),s=bl(this._lContainer,n);return s&&null!=f(rg(this._lContainer),n)?new Yd(s):null}_adjustIndex(t,n=0){return t??this.length+n}};function Z_(e){return e[8]}function rg(e){return e[8]||(e[8]=[])}function Y_(e,t){let n;const s=t[e.index];if(Tr(s))n=s;else{let a;if(8&e.type)a=ir(s);else{const c=t[11];a=c.createComment("");const g=hr(e,t);_a(c,Ha(c,g),a,function ya(e,t){return e.nextSibling(t)}(c,g),!1)}t[e.index]=n=R(s,t,a,e),Ot(t,n)}return new K_(n,e,t)}class ig{constructor(t){this.queryList=t,this.matches=null}clone(){return new ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<s;c++){const g=n.getByIndex(c);a.push(this.queries[g.indexInDeclarationView].clone())}return new sg(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==iy(t,n).matches&&this.queries[n].setDirty()}}class q_{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class og{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const a=null!==n?n.length:0,c=this.getByIndex(s).embeddedTView(t,a);c&&(c.indexInDeclarationView=s,null!==n?n.push(c):n=[c])}return null!==n?new og(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ag{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ag(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const c=s[a];this.matchTNodeWithReadOption(t,n,X0(n,c)),this.matchTNodeWithReadOption(t,n,ua(n,t,c,!1,!1))}else s===oh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ua(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===qu||a===If||a===oh&&4&n.type)this.addMatch(n.index,-2);else{const c=ua(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function X0(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function tI(e,t,n,s){return-1===n?function eI(e,t){return 11&e.type?gu(e,t):4&e.type?Ef(e,t):null}(t,e):-2===n?function nI(e,t,n){return n===qu?gu(t,e):n===oh?Ef(t,e):n===If?Y_(t,e):void 0}(e,t,s):Rs(e,e[1],n,t)}function Q_(e,t,n,s){const a=t[19].queries[s];if(null===a.matches){const c=e.data,g=n.matches,D=[];for(let T=0;T<g.length;T+=2){const k=g[T];D.push(k<0?null:tI(t,c[k],g[T+1],n.metadata.read))}a.matches=D}return a.matches}function lg(e,t,n,s){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const g=Q_(e,t,a,n);for(let D=0;D<c.length;D+=2){const T=c[D];if(T>0)s.push(g[D/2]);else{const k=c[D+1],G=t[-T];for(let te=10;te<G.length;te++){const Ce=G[te];Ce[17]===Ce[3]&&lg(Ce[1],Ce,k,s)}if(null!==G[9]){const te=G[9];for(let Ce=0;Ce<te.length;Ce++){const Fe=te[Ce];lg(Fe[1],Fe,k,s)}}}}}return s}function J_(e){const t=Ze(),n=An(),s=M();H(s+1);const a=iy(n,s);if(e.dirty&&function Ss(e){return 4==(4&e[2])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?lg(n,t,s,[]):Q_(n,t,a,s);e.reset(c,Gf),e.notifyOnChanges()}return!0}return!1}function X_(e,t,n){const s=An();s.firstCreatePass&&(ry(s,new q_(e,t,n),-1),2==(2&t)&&(s.staticViewQueries=!0)),ny(s,Ze(),t)}function ey(e,t,n,s){const a=An();if(a.firstCreatePass){const c=$r();ry(a,new q_(t,n,s),c.index),function iI(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}ny(a,Ze(),n)}function ty(){return function rI(e,t){return e[19].queries[t].queryList}(Ze(),M())}function ny(e,t,n){const s=new vf(4==(4&n));zd(e,t,s,s.destroy),null===t[19]&&(t[19]=new sg),t[19].queries.push(new ig(s))}function ry(e,t,n){null===e.queries&&(e.queries=new og),e.queries.track(new ag(t,n))}function iy(e,t){return e.queries.getByIndex(t)}function wf(...e){}const wy=new _r("Application Initializer");let Cf=(()=>{class e{constructor(n){this.appInits=n,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(kp(c))n.push(c);else if(um(c)){const g=new Promise((D,T)=>{c.subscribe({complete:D,error:T})});n.push(g)}}Promise.all(n).then(()=>{s()}).catch(a=>{this.reject(a)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ft(wy,8))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Cy=new _r("AppId",{providedIn:"root",factory:function by(){return`${fg()}${fg()}${fg()}`}});function fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ty=new _r("Platform Initializer"),bI=new _r("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sy=new _r("appBootstrapListener"),TI=new _r("AnimationModuleType");let SI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const bf=new _r("LocaleId",{providedIn:"root",factory:()=>Te(bf,xt.Optional|xt.SkipSelf)||function AI(){return typeof $localize<"u"&&$localize.locale||Xc}()}),RI=new _r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class MI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let PI=(()=>{class e{compileModuleSync(n){return new Xp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),c=Wa(Rr(n).declarations).reduce((g,D)=>{const T=Mn(D);return T&&g.push(new qd(T)),g},[]);return new MI(s,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kI=(()=>Promise.resolve(0))();function pg(e){typeof Zone>"u"?kI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Da{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&n,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function xI(){let e=Qt.requestAnimationFrame,t=Qt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function UI(e){const t=()=>{!function FI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Qt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mg(e),e.isCheckStableRunning=!0,gg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,a,c,g,D)=>{try{return My(e),n.invokeTask(a,c,g,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Py(e)}},onInvoke:(n,s,a,c,g,D,T)=>{try{return My(e),n.invoke(a,c,g,D,T)}finally{e.shouldCoalesceRunChangeDetection&&t(),Py(e)}},onHasTask:(n,s,a,c)=>{n.hasTask(a,c),s===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,mg(e),gg(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,s,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Da.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Da.isInAngularZone())throw new Le(909,!1)}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,a){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+a,t,LI,wf,wf);try{return c.runTask(g,n,s)}finally{c.cancelTask(g)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const LI={};function gg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function My(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Py(e){e._nesting--,gg(e)}class BI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,a){return t.apply(n,s)}}const Oy=new _r(""),Ny=new _r("");let _g,HI=(()=>{class e{constructor(n,s,a){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_g||(function VI(e){_g=e}(a),a.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Da.assertNotInAngularZone(),pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,a){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(ft(Da),ft(ky),ft(Ny))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac}),e})(),ky=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return _g?.findTestabilityInTree(this,n,s)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Eu=null;const xy=new _r("AllowMultipleToken"),yg=new _r("PlatformDestroyListeners");class WI{constructor(t,n){this.name=t,this.token=n}}function Fy(e,t,n=[]){const s=`Platform: ${t}`,a=new _r(s);return(c=[])=>{let g=vg();if(!g||g.injector.get(xy,!1)){const D=[...n,...c,{provide:a,useValue:!0}];e?e(D):function zI(e){if(Eu&&!Eu.get(xy,!1))throw new Le(400,!1);Eu=e;const t=e.get(By);(function Ly(e){const t=e.get(Ty,null);t&&t.forEach(n=>n())})(e)}(function Uy(e=[],t){return dl.create({name:t,providers:[{provide:Ch,useValue:"platform"},{provide:yg,useValue:new Set([()=>Eu=null])},...e]})}(D,s))}return function KI(e){const t=vg();if(!t)throw new Le(401,!1);return t}()}}function vg(){return Eu?.get(By)??null}let By=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const a=function Vy(e,t){let n;return n="noop"===e?new BI:("zone.js"===e?void 0:e)||new Da(t),n}(s?.ngZone,function Hy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(s)),c=[{provide:Da,useValue:a}];return a.run(()=>{const g=dl.create({providers:c,parent:this.injector,name:n.moduleType.name}),D=n.create(g),T=D.injector.get(Xu,null);if(!T)throw new Le(402,!1);return a.runOutsideAngular(()=>{const k=a.onError.subscribe({next:G=>{T.handleError(G)}});D.onDestroy(()=>{Sf(this._modules,D),k.unsubscribe()})}),function jy(e,t,n){try{const s=n();return kp(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(T,a,()=>{const k=D.injector.get(Cf);return k.runInitializers(),k.donePromise.then(()=>(function a_(e){qt(e,"Expected localeId to be defined"),"string"==typeof e&&(o_=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(bf,Xc)||Xc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(n,s=[]){const a=$y({},s);return function jI(e,t,n){const s=new Xp(n);return Promise.resolve(s)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const s=n.injector.get(Tf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Le(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(yg,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ft(dl))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function $y(e,t){return Array.isArray(t)?t.reduce($y,e):{...e,...t}}let Tf=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,s,a){this._zone=n,this._injector=s,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new j.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),g=new j.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Da.assertNotInAngularZone(),pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),k.unsubscribe()}});this.isStable=(0,de.T)(c,g.pipe((0,pe.B)()))}bootstrap(n,s){const a=n instanceof Yu;if(!this._injector.get(Cf).done)throw!a&&tr(n),new Le(405,false);let g;g=a?n:this._injector.get(pu).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const D=function $I(e){return e.isBoundToModule}(g)?void 0:this._injector.get(ed),k=g.create(dl.NULL,[],s||g.selector,D),G=k.location.nativeElement,te=k.injector.get(Oy,null);return te?.registerApplication(G),k.onDestroy(()=>{this.detachView(k.hostView),Sf(this.components,k),te?.unregisterApplication(G)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;Sf(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(Sy,[]);s.push(...this._bootstrapListeners),s.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Sf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ft(Da),ft(fu),ft(Xu))},e.\u0275prov=Ut({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Sf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YI(){return!1}function qI(){}let QI=(()=>{class e{}return e.__NG_ELEMENT_ID__=JI,e})();function JI(e){return function XI(e,t,n){if(In(e)&&!n){const s=gr(e.index,t);return new Yd(s,s)}return 47&e.type?new Yd(t[16],t):null}($r(),Ze(),16==(16&e))}class Zy{constructor(){}supports(t){return uf(t)}create(t){return new sD(t)}}const iD=(e,t)=>t;class sD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||iD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,a=0,c=null;for(;n||s;){const g=!s||n&&n.currentIndex<qy(s,a,c)?n:s,D=qy(g,a,c),T=g.currentIndex;if(g===s)a--,s=s._nextRemoved;else if(n=n._next,null==g.previousIndex)a++;else{c||(c=[]);const k=D-a,G=T-a;if(k!=G){for(let Ce=0;Ce<k;Ce++){const Fe=Ce<c.length?c[Ce]:c[Ce]=0,ot=Fe+Ce;G<=ot&&ot<k&&(c[Ce]=Fe+1)}c[g.previousIndex]=G-k}}D!==T&&t(g,D,T)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!uf(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,g,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)c=t[D],g=this._trackByFn(D,c),null!==n&&Object.is(n.trackById,g)?(s&&(n=this._verifyReinsertion(n,c,g,D)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,g,D),s=!0),n=n._next}else a=0,function Dv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[sc()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,D=>{g=this._trackByFn(a,D),null!==n&&Object.is(n.trackById,g)?(s&&(n=this._verifyReinsertion(n,D,g,a)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,g,a),s=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new oD(n,s),c,a),t}_verifyReinsertion(t,n,s,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yy),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class Yy{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new aD,this.map.set(n,s)),s.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qy(e,t,n){const s=e.previousIndex;if(null===s)return s;let a=0;return n&&s<n.length&&(a=n[s]),s+t+a}class Qy{constructor(){}supports(t){return t instanceof Map||Sp(t)}create(){return new lD}}class lD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Sp(t)))throw new Le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,s);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,g=a._next;return c&&(c._next=g),g&&(g._prev=c),a._next=null,a._prev=null,a}const s=new uD(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class uD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jy(){return new Cg([new Zy])}let Cg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Jy()),deps:[[e,new O,new Oa]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(null!=s)return s;throw new Le(901,!1)}}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:Jy}),e})();function Xy(){return new bg([new Qy])}let bg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Xy()),deps:[[e,new O,new Oa]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(s)return s;throw new Le(901,!1)}}return e.\u0275prov=Ut({token:e,providedIn:"root",factory:Xy}),e})();const hD=Fy(null,"core",[]);let fD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ft(Tf))},e.\u0275mod=Qn({type:e}),e.\u0275inj=cr({}),e})();function pD(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(yt,ke,F)=>{F.d(ke,{Dx:()=>sr,H7:()=>mt,b2:()=>kn,q6:()=>Br,se:()=>Pe});var y=F(6895),U=F(4650);class j extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class de extends j{static makeCurrent(){(0,y.HT)(new de)}onAndCancel(ce,J,be){return ce.addEventListener(J,be,!1),()=>{ce.removeEventListener(J,be,!1)}}dispatchEvent(ce,J){ce.dispatchEvent(J)}remove(ce){ce.parentNode&&ce.parentNode.removeChild(ce)}createElement(ce,J){return(J=J||this.getDefaultDocument()).createElement(ce)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ce){return ce.nodeType===Node.ELEMENT_NODE}isShadowRoot(ce){return ce instanceof DocumentFragment}getGlobalEventTarget(ce,J){return"window"===J?window:"document"===J?ce:"body"===J?ce.body:null}getBaseHref(ce){const J=function ye(){return pe=pe||document.querySelector("base"),pe?pe.getAttribute("href"):null}();return null==J?null:function Ee(ae){Se=Se||document.createElement("a"),Se.setAttribute("href",ae);const ce=Se.pathname;return"/"===ce.charAt(0)?ce:`/${ce}`}(J)}resetBaseElement(){pe=null}getUserAgent(){return window.navigator.userAgent}getCookie(ce){return(0,y.Mx)(document.cookie,ce)}}let Se,pe=null;const Ie=new U.OlP("TRANSITION_ID"),se=[{provide:U.ip1,useFactory:function re(ae,ce,J){return()=>{J.get(U.CZH).donePromise.then(()=>{const be=(0,y.q)(),qe=ce.querySelectorAll(`style[ng-transition="${ae}"]`);for(let At=0;At<qe.length;At++)be.remove(qe[At])})}},deps:[Ie,y.K0,U.zs3],multi:!0}];let tt=(()=>{class ae{build(){return new XMLHttpRequest}}return ae.\u0275fac=function(J){return new(J||ae)},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const Ye=new U.OlP("EventManagerPlugins");let lt=(()=>{class ae{constructor(J,be){this._zone=be,this._eventNameToPlugin=new Map,J.forEach(qe=>qe.manager=this),this._plugins=J.slice().reverse()}addEventListener(J,be,qe){return this._findPluginFor(be).addEventListener(J,be,qe)}addGlobalEventListener(J,be,qe){return this._findPluginFor(be).addGlobalEventListener(J,be,qe)}getZone(){return this._zone}_findPluginFor(J){const be=this._eventNameToPlugin.get(J);if(be)return be;const qe=this._plugins;for(let At=0;At<qe.length;At++){const gn=qe[At];if(gn.supports(J))return this._eventNameToPlugin.set(J,gn),gn}throw new Error(`No event manager plugin found for event ${J}`)}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(Ye),U.LFG(U.R0b))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();class _t{constructor(ce){this._doc=ce}addGlobalEventListener(ce,J,be){const qe=(0,y.q)().getGlobalEventTarget(this._doc,ce);if(!qe)throw new Error(`Unsupported event target ${qe} for event ${J}`);return this.addEventListener(qe,J,be)}}let Le=(()=>{class ae{constructor(){this._stylesSet=new Set}addStyles(J){const be=new Set;J.forEach(qe=>{this._stylesSet.has(qe)||(this._stylesSet.add(qe),be.add(qe))}),this.onStylesAdded(be)}onStylesAdded(J){}getAllStyles(){return Array.from(this._stylesSet)}}return ae.\u0275fac=function(J){return new(J||ae)},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})(),Ke=(()=>{class ae extends Le{constructor(J){super(),this._doc=J,this._hostNodes=new Map,this._hostNodes.set(J.head,[])}_addStylesToHost(J,be,qe){J.forEach(At=>{const gn=this._doc.createElement("style");gn.textContent=At,qe.push(be.appendChild(gn))})}addHost(J){const be=[];this._addStylesToHost(this._stylesSet,J,be),this._hostNodes.set(J,be)}removeHost(J){const be=this._hostNodes.get(J);be&&be.forEach(Ge),this._hostNodes.delete(J)}onStylesAdded(J){this._hostNodes.forEach((be,qe)=>{this._addStylesToHost(J,qe,be)})}ngOnDestroy(){this._hostNodes.forEach(J=>J.forEach(Ge))}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(y.K0))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();function Ge(ae){(0,y.q)().remove(ae)}const rt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Me=/%COMP%/g;function _e(ae,ce){return ce.flat(100).map(J=>J.replace(Me,ae))}function De(ae){return ce=>{if("__ngUnwrap__"===ce)return ae;!1===ae(ce)&&(ce.preventDefault(),ce.returnValue=!1)}}let Pe=(()=>{class ae{constructor(J,be,qe){this.eventManager=J,this.sharedStylesHost=be,this.appId=qe,this.rendererByCompId=new Map,this.defaultRenderer=new Oe(J)}createRenderer(J,be){if(!J||!be)return this.defaultRenderer;switch(be.encapsulation){case U.ifc.Emulated:{let qe=this.rendererByCompId.get(be.id);return qe||(qe=new vn(this.eventManager,this.sharedStylesHost,be,this.appId),this.rendererByCompId.set(be.id,qe)),qe.applyToHost(J),qe}case U.ifc.ShadowDom:return new Un(this.eventManager,this.sharedStylesHost,J,be);default:if(!this.rendererByCompId.has(be.id)){const qe=_e(be.id,be.styles);this.sharedStylesHost.addStyles(qe),this.rendererByCompId.set(be.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(lt),U.LFG(Ke),U.LFG(U.AFp))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();class Oe{constructor(ce){this.eventManager=ce,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ce,J){return J?document.createElementNS(rt[J]||J,ce):document.createElement(ce)}createComment(ce){return document.createComment(ce)}createText(ce){return document.createTextNode(ce)}appendChild(ce,J){(kt(ce)?ce.content:ce).appendChild(J)}insertBefore(ce,J,be){ce&&(kt(ce)?ce.content:ce).insertBefore(J,be)}removeChild(ce,J){ce&&ce.removeChild(J)}selectRootElement(ce,J){let be="string"==typeof ce?document.querySelector(ce):ce;if(!be)throw new Error(`The selector "${ce}" did not match any elements`);return J||(be.textContent=""),be}parentNode(ce){return ce.parentNode}nextSibling(ce){return ce.nextSibling}setAttribute(ce,J,be,qe){if(qe){J=qe+":"+J;const At=rt[qe];At?ce.setAttributeNS(At,J,be):ce.setAttribute(J,be)}else ce.setAttribute(J,be)}removeAttribute(ce,J,be){if(be){const qe=rt[be];qe?ce.removeAttributeNS(qe,J):ce.removeAttribute(`${be}:${J}`)}else ce.removeAttribute(J)}addClass(ce,J){ce.classList.add(J)}removeClass(ce,J){ce.classList.remove(J)}setStyle(ce,J,be,qe){qe&(U.JOm.DashCase|U.JOm.Important)?ce.style.setProperty(J,be,qe&U.JOm.Important?"important":""):ce.style[J]=be}removeStyle(ce,J,be){be&U.JOm.DashCase?ce.style.removeProperty(J):ce.style[J]=""}setProperty(ce,J,be){ce[J]=be}setValue(ce,J){ce.nodeValue=J}listen(ce,J,be){return"string"==typeof ce?this.eventManager.addGlobalEventListener(ce,J,De(be)):this.eventManager.addEventListener(ce,J,De(be))}}function kt(ae){return"TEMPLATE"===ae.tagName&&void 0!==ae.content}class vn extends Oe{constructor(ce,J,be,qe){super(ce),this.component=be;const At=_e(qe+"-"+be.id,be.styles);J.addStyles(At),this.contentAttr=function P(ae){return"_ngcontent-%COMP%".replace(Me,ae)}(qe+"-"+be.id),this.hostAttr=function xe(ae){return"_nghost-%COMP%".replace(Me,ae)}(qe+"-"+be.id)}applyToHost(ce){super.setAttribute(ce,this.hostAttr,"")}createElement(ce,J){const be=super.createElement(ce,J);return super.setAttribute(be,this.contentAttr,""),be}}class Un extends Oe{constructor(ce,J,be,qe){super(ce),this.sharedStylesHost=J,this.hostEl=be,this.shadowRoot=be.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const At=_e(qe.id,qe.styles);for(let gn=0;gn<At.length;gn++){const br=document.createElement("style");br.textContent=At[gn],this.shadowRoot.appendChild(br)}}nodeOrShadowRoot(ce){return ce===this.hostEl?this.shadowRoot:ce}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ce,J){return super.appendChild(this.nodeOrShadowRoot(ce),J)}insertBefore(ce,J,be){return super.insertBefore(this.nodeOrShadowRoot(ce),J,be)}removeChild(ce,J){return super.removeChild(this.nodeOrShadowRoot(ce),J)}parentNode(ce){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ce)))}}let Yt=(()=>{class ae extends _t{constructor(J){super(J)}supports(J){return!0}addEventListener(J,be,qe){return J.addEventListener(be,qe,!1),()=>this.removeEventListener(J,be,qe)}removeEventListener(J,be,qe){return J.removeEventListener(be,qe)}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(y.K0))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const qt=["alt","control","meta","shift"],Ft={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},un={alt:ae=>ae.altKey,control:ae=>ae.ctrlKey,meta:ae=>ae.metaKey,shift:ae=>ae.shiftKey};let ur=(()=>{class ae extends _t{constructor(J){super(J)}supports(J){return null!=ae.parseEventName(J)}addEventListener(J,be,qe){const At=ae.parseEventName(be),gn=ae.eventCallback(At.fullKey,qe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(J,At.domEventName,gn))}static parseEventName(J){const be=J.toLowerCase().split("."),qe=be.shift();if(0===be.length||"keydown"!==qe&&"keyup"!==qe)return null;const At=ae._normalizeKey(be.pop());let gn="",br=be.indexOf("code");if(br>-1&&(be.splice(br,1),gn="code."),qt.forEach(Ri=>{const Ui=be.indexOf(Ri);Ui>-1&&(be.splice(Ui,1),gn+=Ri+".")}),gn+=At,0!=be.length||0===At.length)return null;const pr={};return pr.domEventName=qe,pr.fullKey=gn,pr}static matchEventFullKeyCode(J,be){let qe=Ft[J.key]||J.key,At="";return be.indexOf("code.")>-1&&(qe=J.code,At="code."),!(null==qe||!qe)&&(qe=qe.toLowerCase()," "===qe?qe="space":"."===qe&&(qe="dot"),qt.forEach(gn=>{gn!==qe&&(0,un[gn])(J)&&(At+=gn+".")}),At+=qe,At===be)}static eventCallback(J,be,qe){return At=>{ae.matchEventFullKeyCode(At,J)&&qe.runGuarded(()=>be(At))}}static _normalizeKey(J){return"esc"===J?"escape":J}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(y.K0))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac}),ae})();const Br=(0,U.eFA)(U._c5,"browser",[{provide:U.Lbi,useValue:y.bD},{provide:U.g9A,useValue:function Yn(){de.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function ti(){return(0,U.RDi)(document),document},deps:[]}]),qn=new U.OlP(""),bn=[{provide:U.rWj,useClass:class ge{addToWindow(ce){U.dqk.getAngularTestability=(be,qe=!0)=>{const At=ce.findTestabilityInTree(be,qe);if(null==At)throw new Error("Could not find testability for element.");return At},U.dqk.getAllAngularTestabilities=()=>ce.getAllTestabilities(),U.dqk.getAllAngularRootElements=()=>ce.getAllRootElements(),U.dqk.frameworkStabilizers||(U.dqk.frameworkStabilizers=[]),U.dqk.frameworkStabilizers.push(be=>{const qe=U.dqk.getAllAngularTestabilities();let At=qe.length,gn=!1;const br=function(pr){gn=gn||pr,At--,0==At&&be(gn)};qe.forEach(function(pr){pr.whenStable(br)})})}findTestabilityInTree(ce,J,be){return null==J?null:ce.getTestability(J)??(be?(0,y.q)().isShadowRoot(J)?this.findTestabilityInTree(ce,J.host,!0):this.findTestabilityInTree(ce,J.parentElement,!0):null)}},deps:[]},{provide:U.lri,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]},{provide:U.dDg,useClass:U.dDg,deps:[U.R0b,U.eoX,U.rWj]}],sn=[{provide:U.zSh,useValue:"root"},{provide:U.qLn,useFactory:function pn(){return new U.qLn},deps:[]},{provide:Ye,useClass:Yt,multi:!0,deps:[y.K0,U.R0b,U.Lbi]},{provide:Ye,useClass:ur,multi:!0,deps:[y.K0]},{provide:Pe,useClass:Pe,deps:[lt,Ke,U.AFp]},{provide:U.FYo,useExisting:Pe},{provide:Le,useExisting:Ke},{provide:Ke,useClass:Ke,deps:[y.K0]},{provide:lt,useClass:lt,deps:[Ye,U.R0b]},{provide:y.JF,useClass:tt,deps:[]},[]];let kn=(()=>{class ae{constructor(J){}static withServerTransition(J){return{ngModule:ae,providers:[{provide:U.AFp,useValue:J.appId},{provide:Ie,useExisting:U.AFp},se]}}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(qn,12))},ae.\u0275mod=U.oAB({type:ae}),ae.\u0275inj=U.cJS({providers:[...sn,...bn],imports:[y.ez,U.hGG]}),ae})(),sr=(()=>{class ae{constructor(J){this._doc=J}getTitle(){return this._doc.title}setTitle(J){this._doc.title=J||""}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(y.K0))},ae.\u0275prov=U.Yz7({token:ae,factory:function(J){let be=null;return be=J?new J:function an(){return new sr((0,U.LFG)(y.K0))}(),be},providedIn:"root"}),ae})();typeof window<"u"&&window;let mt=(()=>{class ae{}return ae.\u0275fac=function(J){return new(J||ae)},ae.\u0275prov=U.Yz7({token:ae,factory:function(J){let be=null;return be=J?new(J||ae):U.LFG(nn),be},providedIn:"root"}),ae})(),nn=(()=>{class ae extends mt{constructor(J){super(),this._doc=J}sanitize(J,be){if(null==be)return null;switch(J){case U.q3G.NONE:return be;case U.q3G.HTML:return(0,U.qzn)(be,"HTML")?(0,U.z3N)(be):(0,U.EiD)(this._doc,String(be)).toString();case U.q3G.STYLE:return(0,U.qzn)(be,"Style")?(0,U.z3N)(be):be;case U.q3G.SCRIPT:if((0,U.qzn)(be,"Script"))return(0,U.z3N)(be);throw new Error("unsafe value used in a script context");case U.q3G.URL:return(0,U.qzn)(be,"URL")?(0,U.z3N)(be):(0,U.mCW)(String(be));case U.q3G.RESOURCE_URL:if((0,U.qzn)(be,"ResourceURL"))return(0,U.z3N)(be);throw new Error(`unsafe value used in a resource URL context (see ${U.JZr})`);default:throw new Error(`Unexpected SecurityContext ${J} (see ${U.JZr})`)}}bypassSecurityTrustHtml(J){return(0,U.JVY)(J)}bypassSecurityTrustStyle(J){return(0,U.L6k)(J)}bypassSecurityTrustScript(J){return(0,U.eBb)(J)}bypassSecurityTrustUrl(J){return(0,U.LAX)(J)}bypassSecurityTrustResourceUrl(J){return(0,U.pB0)(J)}}return ae.\u0275fac=function(J){return new(J||ae)(U.LFG(y.K0))},ae.\u0275prov=U.Yz7({token:ae,factory:function(J){let be=null;return be=J?new J:function tn(ae){return new nn(ae.get(y.K0))}(U.LFG(U.zs3)),be},providedIn:"root"}),ae})()},1779:(yt,ke,F)=>{F.d(ke,{Bz:()=>tl,lC:()=>wi});var y=F(4650),U=F(8996),j=F(9646),de=F(1135),pe=F(6805),ye=F(9841),Se=F(7272),Ee=F(9751),Ie=F(8421);function re(_){return new Ee.y(I=>{(0,Ie.Xf)(_()).subscribe(I)})}var se=F(9635),ge=F(2843),tt=F(515),Ye=F(727),lt=F(4482),_t=F(5403);function Le(){return(0,lt.e)((_,I)=>{let f=null;_._refCount++;const b=(0,_t.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(f=null);const N=_._connection,z=f;f=null,N&&(!z||N===z)&&N.unsubscribe(),I.unsubscribe()});_.subscribe(b),b.closed||(f=_.connect())})}class Ke extends Ee.y{constructor(I,f){super(),this.source=I,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,lt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Ye.w0;const f=this.getSubject();I.add(this.source.subscribe((0,_t.x)(f,void 0,()=>{this._teardown(),f.complete()},b=>{this._teardown(),f.error(b)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Ye.w0.EMPTY)}return I}refCount(){return Le()(this)}}var Ge=F(7579),rt=F(6895),Me=F(4004),me=F(3900),Ve=F(5698),it=F(8675),st=F(9300),P=F(5577),xe=F(590),_e=F(4351),De=F(8505),Pe=F(262),Oe=F(5026);function dt(_){return _<=0?()=>tt.E:(0,lt.e)((I,f)=>{let b=[];I.subscribe((0,_t.x)(f,N=>{b.push(N),_<b.length&&b.shift()},()=>{for(const N of b)f.next(N);f.complete()},void 0,()=>{b=null}))})}var ct=F(8068),kt=F(6590),vn=F(4671);function Un(_,I){const f=arguments.length>=2;return b=>b.pipe(_?(0,st.h)((N,z)=>_(N,z,b)):vn.y,dt(1),f?(0,kt.d)(I):(0,ct.T)(()=>new pe.K))}var qt=F(9718),Ft=F(8746),un=F(8189),ur=F(1481);const Ht="primary",Ut=Symbol("RouteTitle");class fn{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const f=this.params[I];return Array.isArray(f)?f[0]:f}return null}getAll(I){if(this.has(I)){const f=this.params[I];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function cr(_){return new fn(_)}function Ur(_,I,f){const b=f.path.split("/");if(b.length>_.length||"full"===f.pathMatch&&(I.hasChildren()||b.length<_.length))return null;const N={};for(let z=0;z<b.length;z++){const Z=b[z],Re=_[z];if(Z.startsWith(":"))N[Z.substring(1)]=Re;else if(Z!==Re.path)return null}return{consumed:_.slice(0,b.length),posParams:N}}function pn(_,I){const f=_?Object.keys(_):void 0,b=I?Object.keys(I):void 0;if(!f||!b||f.length!=b.length)return!1;let N;for(let z=0;z<f.length;z++)if(N=f[z],!ti(_[N],I[N]))return!1;return!0}function ti(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const f=[..._].sort(),b=[...I].sort();return f.every((N,z)=>b[z]===N)}return _===I}function dr(_){return Array.prototype.concat.apply([],_)}function Br(_){return _.length>0?_[_.length-1]:null}function bn(_,I){for(const f in _)_.hasOwnProperty(f)&&I(_[f],f)}function sn(_){return(0,y.CqO)(_)?_:(0,y.QGY)(_)?(0,U.D)(Promise.resolve(_)):(0,j.of)(_)}const kn=!1,xt={exact:function sr(_,I,f){if(!Gn(_.segments,I.segments)||!Dt(_.segments,I.segments,f)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const b in I.children)if(!_.children[b]||!sr(_.children[b],I.children[b],f))return!1;return!0},subset:Qt},Sr={exact:function an(_,I){return pn(_,I)},subset:function Ai(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(f=>ti(_[f],I[f]))},ignored:()=>!0};function Or(_,I,f){return xt[f.paths](_.root,I.root,f.matrixParams)&&Sr[f.queryParams](_.queryParams,I.queryParams)&&!("exact"===f.fragment&&_.fragment!==I.fragment)}function Qt(_,I,f){return Lt(_,I,I.segments,f)}function Lt(_,I,f,b){if(_.segments.length>f.length){const N=_.segments.slice(0,f.length);return!(!Gn(N,f)||I.hasChildren()||!Dt(N,f,b))}if(_.segments.length===f.length){if(!Gn(_.segments,f)||!Dt(_.segments,f,b))return!1;for(const N in I.children)if(!_.children[N]||!Qt(_.children[N],I.children[N],b))return!1;return!0}{const N=f.slice(0,_.segments.length),z=f.slice(_.segments.length);return!!(Gn(_.segments,N)&&Dt(_.segments,N,b)&&_.children[Ht])&&Lt(_.children[Ht],I,z,b)}}function Dt(_,I,f){return I.every((b,N)=>Sr[f](_[N].parameters,b.parameters))}class or{constructor(I=new St([],{}),f={},b=null){this.root=I,this.queryParams=f,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return Tn.serialize(this)}}class St{constructor(I,f){this.segments=I,this.children=f,this.parent=null,bn(f,(b,N)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ar(this)}}class $n{constructor(I,f){this.path=I,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=cr(this.parameters)),this._parameterMap}toString(){return Y(this)}}function Gn(_,I){return _.length===I.length&&_.every((f,b)=>f.path===I[b].path)}let Rn=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return new zr},providedIn:"root"}),_})();class zr{parse(I){const f=new ae(I);return new or(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(I){const f=`/${Nr(I.root,!0)}`,b=function he(_){const I=Object.keys(_).map(f=>{const b=_[f];return Array.isArray(b)?b.map(N=>`${et(f)}=${et(N)}`).join("&"):`${et(f)}=${et(b)}`}).filter(f=>!!f);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${f}${b}${"string"==typeof I.fragment?`#${function Te(_){return encodeURI(_)}(I.fragment)}`:""}`}}const Tn=new zr;function ar(_){return _.segments.map(I=>Y(I)).join("/")}function Nr(_,I){if(!_.hasChildren())return ar(_);if(I){const f=_.children[Ht]?Nr(_.children[Ht],!1):"",b=[];return bn(_.children,(N,z)=>{z!==Ht&&b.push(`${z}:${Nr(N,!1)}`)}),b.length>0?`${f}(${b.join("//")})`:f}{const f=function ai(_,I){let f=[];return bn(_.children,(b,N)=>{N===Ht&&(f=f.concat(I(b,N)))}),bn(_.children,(b,N)=>{N!==Ht&&(f=f.concat(I(b,N)))}),f}(_,(b,N)=>N===Ht?[Nr(_.children[Ht],!1)]:[`${N}:${Nr(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[Ht]?`${ar(_)}/${f[0]}`:`${ar(_)}/(${f.join("//")})`}}function ft(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function et(_){return ft(_).replace(/%3B/gi,";")}function ee(_){return ft(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function le(_){return decodeURIComponent(_)}function ze(_){return le(_.replace(/\+/g,"%20"))}function Y(_){return`${ee(_.path)}${function X(_){return Object.keys(_).map(I=>`;${ee(I)}=${ee(_[I])}`).join("")}(_.parameters)}`}const He=/^[^\/()?;=#]+/;function ve(_){const I=_.match(He);return I?I[0]:""}const mt=/^[^=?&#]+/,nn=/^[^&#]+/;class ae{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(I.length>0||Object.keys(f).length>0)&&(b[Ht]=new St(I,f)),b}parseSegment(){const I=ve(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new y.vHH(4009,kn);return this.capture(I),new $n(le(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const f=ve(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const N=ve(this.remaining);N&&(b=N,this.capture(b))}I[le(f)]=le(b)}parseQueryParam(I){const f=function tn(_){const I=_.match(mt);return I?I[0]:""}(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const Z=function cn(_){const I=_.match(nn);return I?I[0]:""}(this.remaining);Z&&(b=Z,this.capture(b))}const N=ze(f),z=ze(b);if(I.hasOwnProperty(N)){let Z=I[N];Array.isArray(Z)||(Z=[Z],I[N]=Z),Z.push(z)}else I[N]=z}parseParens(I){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=ve(this.remaining),N=this.remaining[b.length];if("/"!==N&&")"!==N&&";"!==N)throw new y.vHH(4010,kn);let z;b.indexOf(":")>-1?(z=b.slice(0,b.indexOf(":")),this.capture(z),this.capture(":")):I&&(z=Ht);const Z=this.parseChildren();f[z]=1===Object.keys(Z).length?Z[Ht]:new St([],Z),this.consumeOptional("//")}return f}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new y.vHH(4011,kn)}}function ce(_){return _.segments.length>0?new St([],{[Ht]:_}):_}function J(_){const I={};for(const b of Object.keys(_.children)){const z=J(_.children[b]);(z.segments.length>0||z.hasChildren())&&(I[b]=z)}return function be(_){if(1===_.numberOfChildren&&_.children[Ht]){const I=_.children[Ht];return new St(_.segments.concat(I.segments),I.children)}return _}(new St(_.segments,I))}function qe(_){return _ instanceof or}function Ri(_,I,f,b,N){if(0===f.length)return Qn(I.root,I.root,I.root,b,N);const z=function Ar(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new co(!0,0,_);let I=0,f=!1;const b=_.reduce((N,z,Z)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Re={};return bn(z.outlets,(Qe,Mt)=>{Re[Mt]="string"==typeof Qe?Qe.split("/"):Qe}),[...N,{outlets:Re}]}if(z.segmentPath)return[...N,z.segmentPath]}return"string"!=typeof z?[...N,z]:0===Z?(z.split("/").forEach((Re,Qe)=>{0==Qe&&"."===Re||(0==Qe&&""===Re?f=!0:".."===Re?I++:""!=Re&&N.push(Re))}),N):[...N,z]},[]);return new co(f,I,b)}(f);return z.toRoot()?Qn(I.root,I.root,new St([],{}),b,N):function Z(Qe){const Mt=function Ir(_,I,f,b){if(_.isAbsolute)return new vi(I.root,!0,0);if(-1===b)return new vi(f,f===I.root,0);return function Dr(_,I,f){let b=_,N=I,z=f;for(;z>N;){if(z-=N,b=b.parent,!b)throw new y.vHH(4005,!1);N=b.segments.length}return new vi(b,!1,N-z)}(f,b+(Ui(_.commands[0])?0:1),_.numberOfDoubleDots)}(z,I,_.snapshot?._urlSegment,Qe),vt=Mt.processChildren?ni(Mt.segmentGroup,Mt.index,z.commands):Rr(Mt.segmentGroup,Mt.index,z.commands);return Qn(I.root,Mt.segmentGroup,vt,b,N)}(_.snapshot?._lastPathIndex)}function Ui(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function us(_){return"object"==typeof _&&null!=_&&_.outlets}function Qn(_,I,f,b,N){let Z,z={};b&&bn(b,(Qe,Mt)=>{z[Mt]=Array.isArray(Qe)?Qe.map(vt=>`${vt}`):`${Qe}`}),Z=_===I?f:Do(_,I,f);const Re=ce(J(Z));return new or(Re,z,N)}function Do(_,I,f){const b={};return bn(_.children,(N,z)=>{b[z]=N===I?f:Do(N,I,f)}),new St(_.segments,b)}class co{constructor(I,f,b){if(this.isAbsolute=I,this.numberOfDoubleDots=f,this.commands=b,I&&b.length>0&&Ui(b[0]))throw new y.vHH(4003,!1);const N=b.find(us);if(N&&N!==Br(b))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(I,f,b){this.segmentGroup=I,this.processChildren=f,this.index=b}}function Rr(_,I,f){if(_||(_=new St([],{})),0===_.segments.length&&_.hasChildren())return ni(_,I,f);const b=function bt(_,I,f){let b=0,N=I;const z={match:!1,pathIndex:0,commandIndex:0};for(;N<_.segments.length;){if(b>=f.length)return z;const Z=_.segments[N],Re=f[b];if(us(Re))break;const Qe=`${Re}`,Mt=b<f.length-1?f[b+1]:null;if(N>0&&void 0===Qe)break;if(Qe&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!Bi(Qe,Mt,Z))return z;b+=2}else{if(!Bi(Qe,{},Z))return z;b++}N++}return{match:!0,pathIndex:N,commandIndex:b}}(_,I,f),N=f.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const z=new St(_.segments.slice(0,b.pathIndex),{});return z.children[Ht]=new St(_.segments.slice(b.pathIndex),_.children),ni(z,0,N)}return b.match&&0===N.length?new St(_.segments,{}):b.match&&!_.hasChildren()?Jt(_,I,f):b.match?ni(_,0,N):Jt(_,I,f)}function ni(_,I,f){if(0===f.length)return new St(_.segments,{});{const b=function tr(_){return us(_[0])?_[0].outlets:{[Ht]:_}}(f),N={};return bn(b,(z,Z)=>{"string"==typeof z&&(z=[z]),null!==z&&(N[Z]=Rr(_.children[Z],I,z))}),bn(_.children,(z,Z)=>{void 0===b[Z]&&(N[Z]=z)}),new St(_.segments,N)}}function Jt(_,I,f){const b=_.segments.slice(0,I);let N=0;for(;N<f.length;){const z=f[N];if(us(z)){const Qe=Kn(z.outlets);return new St(b,Qe)}if(0===N&&Ui(f[0])){b.push(new $n(_.segments[I].path,Gr(f[0]))),N++;continue}const Z=us(z)?z.outlets[Ht]:`${z}`,Re=N<f.length-1?f[N+1]:null;Z&&Re&&Ui(Re)?(b.push(new $n(Z,Gr(Re))),N+=2):(b.push(new $n(Z,{})),N++)}return new St(b,{})}function Kn(_){const I={};return bn(_,(f,b)=>{"string"==typeof f&&(f=[f]),null!==f&&(I[b]=Jt(new St([],{}),0,f))}),I}function Gr(_){const I={};return bn(_,(f,b)=>I[b]=`${f}`),I}function Bi(_,I,f){return _==f.path&&pn(I,f.parameters)}const nr="imperative";class vr{constructor(I,f){this.id=I,this.url=f}}class lr extends vr{constructor(I,f,b="imperative",N=null){super(I,f),this.type=0,this.navigationTrigger=b,this.restoredState=N}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends vr{constructor(I,f,b){super(I,f),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Mi extends vr{constructor(I,f,b,N){super(I,f),this.reason=b,this.code=N,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class dn extends vr{constructor(I,f,b,N){super(I,f),this.reason=b,this.code=N,this.type=16}}class ks extends vr{constructor(I,f,b,N){super(I,f),this.error=b,this.target=N,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class cs extends vr{constructor(I,f,b,N){super(I,f),this.urlAfterRedirects=b,this.state=N,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ho extends vr{constructor(I,f,b,N){super(I,f),this.urlAfterRedirects=b,this.state=N,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends vr{constructor(I,f,b,N,z){super(I,f),this.urlAfterRedirects=b,this.state=N,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Kr extends vr{constructor(I,f,b,N){super(I,f),this.urlAfterRedirects=b,this.state=N,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends vr{constructor(I,f,b,N){super(I,f),this.urlAfterRedirects=b,this.state=N,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class kr{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Pi{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ii{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oi{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(I,f,b){this.routerEvent=I,this.position=f,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let ln=(()=>{class _{createUrlTree(f,b,N,z,Z,Re){return Ri(f||b.root,N,z,Z,Re)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})(),En=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(I){return ln.\u0275fac(I)},providedIn:"root"}),_})();class ds{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const f=this.pathFromRoot(I);return f.length>1?f[f.length-2]:null}children(I){const f=Hr(I,this._root);return f?f.children.map(b=>b.value):[]}firstChild(I){const f=Hr(I,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(I){const f=Tr(I,this._root);return f.length<2?[]:f[f.length-2].children.map(N=>N.value).filter(N=>N!==I)}pathFromRoot(I){return Tr(I,this._root).map(f=>f.value)}}function Hr(_,I){if(_===I.value)return I;for(const f of I.children){const b=Hr(_,f);if(b)return b}return null}function Tr(_,I){if(_===I.value)return[I];for(const f of I.children){const b=Tr(_,f);if(b.length)return b.unshift(I),b}return[]}class ui{constructor(I,f){this.value=I,this.children=f}toString(){return`TreeNode(${this.value})`}}function In(_){const I={};return _&&_.children.forEach(f=>I[f.value.outlet]=f),I}class _n extends ds{constructor(I,f){super(I),this.snapshot=f,ws(this,I)}toString(){return this.snapshot.toString()}}function Jn(_,I){const f=function Is(_,I){const Z=new Hi([],{},{},"",{},Ht,I,null,_.root,-1,{});return new hs("",new ui(Z,[]))}(_,I),b=new de.X([new $n("",{})]),N=new de.X({}),z=new de.X({}),Z=new de.X({}),Re=new de.X(""),Qe=new Ds(b,N,Z,Re,z,Ht,I,f.root);return Qe.snapshot=f.root,new _n(new ui(Qe,[]),f)}class Ds{constructor(I,f,b,N,z,Z,Re,Qe){this.url=I,this.params=f,this.queryParams=b,this.fragment=N,this.data=z,this.outlet=Z,this.component=Re,this.title=this.data?.pipe((0,Me.U)(Mt=>Mt[Ut]))??(0,j.of)(void 0),this._futureSnapshot=Qe}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Me.U)(I=>cr(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Me.U)(I=>cr(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ii(_,I="emptyOnly"){const f=_.pathFromRoot;let b=0;if("always"!==I)for(b=f.length-1;b>=1;){const N=f[b],z=f[b-1];if(N.routeConfig&&""===N.routeConfig.path)b--;else{if(z.component)break;b--}}return function qi(_){return _.reduce((I,f)=>({params:{...I.params,...f.params},data:{...I.data,...f.data},resolve:{...f.data,...I.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(b))}class Hi{get title(){return this.data?.[Ut]}constructor(I,f,b,N,z,Z,Re,Qe,Mt,vt,Ln){this.url=I,this.params=f,this.queryParams=b,this.fragment=N,this.data=z,this.outlet=Z,this.component=Re,this.routeConfig=Qe,this._urlSegment=Mt,this._lastPathIndex=vt,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hs extends ds{constructor(I,f){super(f),this.url=I,ws(this,f)}toString(){return Cs(this._root)}}function ws(_,I){I.value._routerState=_,I.children.forEach(f=>ws(_,f))}function Cs(_){const I=_.children.length>0?` { ${_.children.map(Cs).join(", ")} } `:"";return`${_.value}${I}`}function Qs(_){if(_.snapshot){const I=_.snapshot,f=_._futureSnapshot;_.snapshot=f,pn(I.queryParams,f.queryParams)||_.queryParams.next(f.queryParams),I.fragment!==f.fragment&&_.fragment.next(f.fragment),pn(I.params,f.params)||_.params.next(f.params),function Yn(_,I){if(_.length!==I.length)return!1;for(let f=0;f<_.length;++f)if(!pn(_[f],I[f]))return!1;return!0}(I.url,f.url)||_.url.next(f.url),pn(I.data,f.data)||_.data.next(f.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function xs(_,I){const f=pn(_.params,I.params)&&function yr(_,I){return Gn(_,I)&&_.every((f,b)=>pn(f.parameters,I[b].parameters))}(_.url,I.url);return f&&!(!_.parent!=!I.parent)&&(!_.parent||xs(_.parent,I.parent))}function Di(_,I,f){if(f&&_.shouldReuseRoute(I.value,f.value.snapshot)){const b=f.value;b._futureSnapshot=I.value;const N=function Vi(_,I,f){return I.children.map(b=>{for(const N of f.children)if(_.shouldReuseRoute(b.value,N.value.snapshot))return Di(_,b,N);return Di(_,b)})}(_,I,f);return new ui(b,N)}{if(_.shouldAttach(I.value)){const z=_.retrieve(I.value);if(null!==z){const Z=z.route;return Z.value._futureSnapshot=I.value,Z.children=I.children.map(Re=>Di(_,Re)),Z}}const b=function oa(_){return new Ds(new de.X(_.url),new de.X(_.params),new de.X(_.queryParams),new de.X(_.fragment),new de.X(_.data),_.outlet,_.component,_)}(I.value),N=I.children.map(z=>Di(_,z));return new ui(b,N)}}const Fs="ngNavigationCancelingError";function Js(_,I){const{redirectTo:f,navigationBehaviorOptions:b}=qe(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,N=wr(!1,0,I);return N.url=f,N.navigationBehaviorOptions=b,N}function wr(_,I,f){const b=new Error("NavigationCancelingError: "+(_||""));return b[Fs]=!0,b.cancellationCode=I,f&&(b.url=f),b}function yn(_){return Us(_)&&qe(_.url)}function Us(_){return _&&_[Fs]}class bs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new fs,this.attachRef=null}}let fs=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(f,b){const N=this.getOrCreateContext(f);N.outlet=b,this.contexts.set(f,N)}onChildOutletDestroyed(f){const b=this.getContext(f);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let b=this.getContext(f);return b||(b=new bs,this.contexts.set(f,b)),b}getContext(f){return this.contexts.get(f)||null}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Mr=!1;let wi=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ht,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(fs),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(f){if(f.name){const{firstChange:b,previousValue:N}=f.name;if(b)return;this.isTrackedInParentContexts(N)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(N)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Mr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Mr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Mr);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,b){this.activated=f,this._activatedRoute=b,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,b){if(this.isActivated)throw new y.vHH(4013,Mr);this._activatedRoute=f;const N=this.location,Z=f.snapshot.component,Re=this.parentContexts.getOrCreateContext(this.name).children,Qe=new ci(f,Re,N.injector);if(b&&function Ts(_){return!!_.resolveComponentFactory}(b)){const Mt=b.resolveComponentFactory(Z);this.activated=N.createComponent(Mt,N.length,Qe)}else this.activated=N.createComponent(Z,{index:N.length,injector:Qe,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275dir=y.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),_})();class ci{constructor(I,f,b){this.route=I,this.childContexts=f,this.parent=b}get(I,f){return I===Ds?this.route:I===fs?this.childContexts:this.parent.get(I,f)}}let Pr=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275cmp=y.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(f,b){1&f&&y._UZ(0,"router-outlet")},dependencies:[wi],encapsulation:2}),_})();function xr(_,I){return _.providers&&!_._injector&&(_._injector=(0,y.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}function ir(_){const I=_.children&&_.children.map(ir),f=I?{..._,children:I}:{..._};return!f.component&&!f.loadComponent&&(I||f.loadChildren)&&f.outlet&&f.outlet!==Ht&&(f.component=Pr),f}function si(_){return _.outlet||Ht}function Ji(_,I){const f=_.filter(b=>si(b)===I);return f.push(..._.filter(b=>si(b)!==I)),f}function hr(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const f=I.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Vr{constructor(I,f,b,N){this.routeReuseStrategy=I,this.futureState=f,this.currState=b,this.forwardEvent=N}activate(I){const f=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,b,I),Qs(this.futureState.root),this.activateChildRoutes(f,b,I)}deactivateChildRoutes(I,f,b){const N=In(f);I.children.forEach(z=>{const Z=z.value.outlet;this.deactivateRoutes(z,N[Z],b),delete N[Z]}),bn(N,(z,Z)=>{this.deactivateRouteAndItsChildren(z,b)})}deactivateRoutes(I,f,b){const N=I.value,z=f?f.value:null;if(N===z)if(N.component){const Z=b.getContext(N.outlet);Z&&this.deactivateChildRoutes(I,f,Z.children)}else this.deactivateChildRoutes(I,f,b);else z&&this.deactivateRouteAndItsChildren(f,b)}deactivateRouteAndItsChildren(I,f){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,f):this.deactivateRouteAndOutlet(I,f)}detachAndStoreRouteSubtree(I,f){const b=f.getContext(I.value.outlet),N=b&&I.value.component?b.children:f,z=In(I);for(const Z of Object.keys(z))this.deactivateRouteAndItsChildren(z[Z],N);if(b&&b.outlet){const Z=b.outlet.detach(),Re=b.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Z,route:I,contexts:Re})}}deactivateRouteAndOutlet(I,f){const b=f.getContext(I.value.outlet),N=b&&I.value.component?b.children:f,z=In(I);for(const Z of Object.keys(z))this.deactivateRouteAndItsChildren(z[Z],N);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(I,f,b){const N=In(f);I.children.forEach(z=>{this.activateRoutes(z,N[z.value.outlet],b),this.forwardEvent(new Oi(z.value.snapshot))}),I.children.length&&this.forwardEvent(new Ii(I.value.snapshot))}activateRoutes(I,f,b){const N=I.value,z=f?f.value:null;if(Qs(N),N===z)if(N.component){const Z=b.getOrCreateContext(N.outlet);this.activateChildRoutes(I,f,Z.children)}else this.activateChildRoutes(I,f,b);else if(N.component){const Z=b.getOrCreateContext(N.outlet);if(this.routeReuseStrategy.shouldAttach(N.snapshot)){const Re=this.routeReuseStrategy.retrieve(N.snapshot);this.routeReuseStrategy.store(N.snapshot,null),Z.children.onOutletReAttached(Re.contexts),Z.attachRef=Re.componentRef,Z.route=Re.route.value,Z.outlet&&Z.outlet.attach(Re.componentRef,Re.route.value),Qs(Re.route.value),this.activateChildRoutes(I,null,Z.children)}else{const Re=hr(N.snapshot),Qe=Re?.get(y._Vd)??null;Z.attachRef=null,Z.route=N,Z.resolver=Qe,Z.injector=Re,Z.outlet&&Z.outlet.activateWith(N,Z.injector),this.activateChildRoutes(I,null,Z.children)}}else this.activateChildRoutes(I,null,b)}}class fi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class gr{constructor(I,f){this.component=I,this.route=f}}function Ss(_,I,f){const b=_._root;return Lr(b,I?I._root:null,f,[b.value])}function jr(_,I){const f=Symbol(),b=I.get(_,f);return b===f?"function"!=typeof _||(0,y.Z0I)(_)?I.get(_):_:b}function Lr(_,I,f,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=In(I);return _.children.forEach(Z=>{(function Xt(_,I,f,b,N={canDeactivateChecks:[],canActivateChecks:[]}){const z=_.value,Z=I?I.value:null,Re=f?f.getContext(_.value.outlet):null;if(Z&&z.routeConfig===Z.routeConfig){const Qe=function eo(_,I,f){if("function"==typeof f)return f(_,I);switch(f){case"pathParamsChange":return!Gn(_.url,I.url);case"pathParamsOrQueryParamsChange":return!Gn(_.url,I.url)||!pn(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xs(_,I)||!pn(_.queryParams,I.queryParams);default:return!xs(_,I)}}(Z,z,z.routeConfig.runGuardsAndResolvers);Qe?N.canActivateChecks.push(new fi(b)):(z.data=Z.data,z._resolvedData=Z._resolvedData),Lr(_,I,z.component?Re?Re.children:null:f,b,N),Qe&&Re&&Re.outlet&&Re.outlet.isActivated&&N.canDeactivateChecks.push(new gr(Re.outlet.component,Z))}else Z&&zt(I,Re,N),N.canActivateChecks.push(new fi(b)),Lr(_,null,z.component?Re?Re.children:null:f,b,N)})(Z,z[Z.value.outlet],f,b.concat([Z.value]),N),delete z[Z.value.outlet]}),bn(z,(Z,Re)=>zt(Z,f.getContext(Re),N)),N}function zt(_,I,f){const b=In(_),N=_.value;bn(b,(z,Z)=>{zt(z,N.component?I?I.children.getContext(Z):null:I,f)}),f.canDeactivateChecks.push(new gr(N.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,N))}function Wi(_){return"function"==typeof _}function An(_){return _ instanceof pe.K||"EmptyError"===_?.name}const Xi=Symbol("INITIAL_VALUE");function Ni(){return(0,me.w)(_=>(0,ye.a)(_.map(I=>I.pipe((0,Ve.q)(1),(0,it.O)(Xi)))).pipe((0,Me.U)(I=>{for(const f of I)if(!0!==f){if(f===Xi)return Xi;if(!1===f||f instanceof or)return f}return!0}),(0,st.h)(I=>I!==Xi),(0,Ve.q)(1)))}function mr(_){return(0,se.z)((0,De.b)(I=>{if(qe(I))throw Js(0,I)}),(0,Me.U)(I=>!0===I))}const zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gi(_,I,f,b,N){const z=ki(_,I,f);return z.matched?function di(_,I,f,b){const N=I.canMatch;if(!N||0===N.length)return(0,j.of)(!0);const z=N.map(Z=>{const Re=jr(Z,_);return sn(function Vs(_){return _&&Wi(_.canMatch)}(Re)?Re.canMatch(I,f):_.runInContext(()=>Re(I,f)))});return(0,j.of)(z).pipe(Ni(),mr())}(b=xr(I,b),I,f).pipe((0,Me.U)(Z=>!0===Z?z:{...zi})):(0,j.of)(z)}function ki(_,I,f){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||f.length>0)?{...zi}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const N=(I.matcher||Ur)(f,_,I);if(!N)return{...zi};const z={};bn(N.posParams,(Re,Qe)=>{z[Qe]=Re.path});const Z=N.consumed.length>0?{...z,...N.consumed[N.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:N.consumed,remainingSegments:f.slice(N.consumed.length),parameters:Z,positionalParamSegments:N.posParams??{}}}function es(_,I,f,b){if(f.length>0&&function B(_,I,f){return f.some(b=>E(_,I,b)&&si(b)!==Ht)}(_,f,b)){const z=new St(I,function ts(_,I,f,b){const N={};N[Ht]=b,b._sourceSegment=_,b._segmentIndexShift=I.length;for(const z of f)if(""===z.path&&si(z)!==Ht){const Z=new St([],{});Z._sourceSegment=_,Z._segmentIndexShift=I.length,N[si(z)]=Z}return N}(_,I,b,new St(f,_.children)));return z._sourceSegment=_,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:[]}}if(0===f.length&&function m(_,I,f){return f.some(b=>E(_,I,b))}(_,f,b)){const z=new St(_.segments,function Ki(_,I,f,b,N){const z={};for(const Z of b)if(E(_,f,Z)&&!N[si(Z)]){const Re=new St([],{});Re._sourceSegment=_,Re._segmentIndexShift=I.length,z[si(Z)]=Re}return{...N,...z}}(_,I,f,b,_.children));return z._sourceSegment=_,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:f}}const N=new St(_.segments,_.children);return N._sourceSegment=_,N._segmentIndexShift=I.length,{segmentGroup:N,slicedSegments:f}}function E(_,I,f){return(!(_.hasChildren()||I.length>0)||"full"!==f.pathMatch)&&""===f.path}function M(_,I,f,b){return!!(si(_)===b||b!==Ht&&E(I,f,_))&&("**"===_.path||ki(I,_,f).matched)}function H(_,I,f){return 0===I.length&&!_.children[f]}const q=!1;class fe{constructor(I){this.segmentGroup=I||null}}class ue{constructor(I){this.urlTree=I}}function Ne(_){return(0,ge._)(new fe(_))}function nt(_){return(0,ge._)(new ue(_))}class hn{constructor(I,f,b,N,z){this.injector=I,this.configLoader=f,this.urlSerializer=b,this.urlTree=N,this.config=z,this.allowRedirects=!0}apply(){const I=es(this.urlTree.root,[],[],this.config).segmentGroup,f=new St(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,f,Ht).pipe((0,Me.U)(z=>this.createUrlTree(J(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Pe.K)(z=>{if(z instanceof ue)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof fe?this.noMatchError(z):z}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,Ht).pipe((0,Me.U)(N=>this.createUrlTree(J(N),I.queryParams,I.fragment))).pipe((0,Pe.K)(N=>{throw N instanceof fe?this.noMatchError(N):N}))}noMatchError(I){return new y.vHH(4002,q)}createUrlTree(I,f,b){const N=ce(I);return new or(N,f,b)}expandSegmentGroup(I,f,b,N){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(I,f,b).pipe((0,Me.U)(z=>new St([],z))):this.expandSegment(I,b,f,b.segments,N,!0)}expandChildren(I,f,b){const N=[];for(const z of Object.keys(b.children))"primary"===z?N.unshift(z):N.push(z);return(0,U.D)(N).pipe((0,_e.b)(z=>{const Z=b.children[z],Re=Ji(f,z);return this.expandSegmentGroup(I,Re,Z,z).pipe((0,Me.U)(Qe=>({segment:Qe,outlet:z})))}),(0,Oe.R)((z,Z)=>(z[Z.outlet]=Z.segment,z),{}),Un())}expandSegment(I,f,b,N,z,Z){return(0,U.D)(b).pipe((0,_e.b)(Re=>this.expandSegmentAgainstRoute(I,f,b,Re,N,z,Z).pipe((0,Pe.K)(Mt=>{if(Mt instanceof fe)return(0,j.of)(null);throw Mt}))),(0,xe.P)(Re=>!!Re),(0,Pe.K)((Re,Qe)=>{if(An(Re))return H(f,N,z)?(0,j.of)(new St([],{})):Ne(f);throw Re}))}expandSegmentAgainstRoute(I,f,b,N,z,Z,Re){return M(N,f,z,Z)?void 0===N.redirectTo?this.matchSegmentAgainstRoute(I,f,N,z,Z):Re&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,f,b,N,z,Z):Ne(f):Ne(f)}expandSegmentAgainstRouteUsingRedirect(I,f,b,N,z,Z){return"**"===N.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,N,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(I,f,b,N,z,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,f,b,N){const z=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?nt(z):this.lineralizeSegments(b,z).pipe((0,P.z)(Z=>{const Re=new St(Z,{});return this.expandSegment(I,Re,f,Z,N,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,f,b,N,z,Z){const{matched:Re,consumedSegments:Qe,remainingSegments:Mt,positionalParamSegments:vt}=ki(f,N,z);if(!Re)return Ne(f);const Ln=this.applyRedirectCommands(Qe,N.redirectTo,vt);return N.redirectTo.startsWith("/")?nt(Ln):this.lineralizeSegments(N,Ln).pipe((0,P.z)(oi=>this.expandSegment(I,f,b,oi.concat(Mt),Z,!1)))}matchSegmentAgainstRoute(I,f,b,N,z){return"**"===b.path?(I=xr(b,I),b.loadChildren?(b._loadedRoutes?(0,j.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(I,b)).pipe((0,Me.U)(Re=>(b._loadedRoutes=Re.routes,b._loadedInjector=Re.injector,new St(N,{})))):(0,j.of)(new St(N,{}))):Gi(f,b,N,I).pipe((0,me.w)(({matched:Z,consumedSegments:Re,remainingSegments:Qe})=>Z?this.getChildConfig(I=b._injector??I,b,N).pipe((0,P.z)(vt=>{const Ln=vt.injector??I,oi=vt.routes,{segmentGroup:_o,slicedSegments:_i}=es(f,Re,Qe,oi),ms=new St(_o.segments,_o.children);if(0===_i.length&&ms.hasChildren())return this.expandChildren(Ln,oi,ms).pipe((0,Me.U)(yo=>new St(Re,yo)));if(0===oi.length&&0===_i.length)return(0,j.of)(new St(Re,{}));const Xr=si(b)===z;return this.expandSegment(Ln,ms,oi,_i,Xr?Ht:z,!0).pipe((0,Me.U)(Vo=>new St(Re.concat(Vo.segments),Vo.children)))})):Ne(f)))}getChildConfig(I,f,b){return f.children?(0,j.of)({routes:f.children,injector:I}):f.loadChildren?void 0!==f._loadedRoutes?(0,j.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function zs(_,I,f,b){const N=I.canLoad;if(void 0===N||0===N.length)return(0,j.of)(!0);const z=N.map(Z=>{const Re=jr(Z,_);return sn(function As(_){return _&&Wi(_.canLoad)}(Re)?Re.canLoad(I,f):_.runInContext(()=>Re(I,f)))});return(0,j.of)(z).pipe(Ni(),mr())}(I,f,b).pipe((0,P.z)(N=>N?this.configLoader.loadChildren(I,f).pipe((0,De.b)(z=>{f._loadedRoutes=z.routes,f._loadedInjector=z.injector})):function Ct(_){return(0,ge._)(wr(q,3))}())):(0,j.of)({routes:[],injector:I})}lineralizeSegments(I,f){let b=[],N=f.root;for(;;){if(b=b.concat(N.segments),0===N.numberOfChildren)return(0,j.of)(b);if(N.numberOfChildren>1||!N.children[Ht])return(0,ge._)(new y.vHH(4e3,q));N=N.children[Ht]}}applyRedirectCommands(I,f,b){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),I,b)}applyRedirectCreateUrlTree(I,f,b,N){const z=this.createSegmentGroup(I,f.root,b,N);return new or(z,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(I,f){const b={};return bn(I,(N,z)=>{if("string"==typeof N&&N.startsWith(":")){const Re=N.substring(1);b[z]=f[Re]}else b[z]=N}),b}createSegmentGroup(I,f,b,N){const z=this.createSegments(I,f.segments,b,N);let Z={};return bn(f.children,(Re,Qe)=>{Z[Qe]=this.createSegmentGroup(I,Re,b,N)}),new St(z,Z)}createSegments(I,f,b,N){return f.map(z=>z.path.startsWith(":")?this.findPosParam(I,z,N):this.findOrReturn(z,b))}findPosParam(I,f,b){const N=b[f.path.substring(1)];if(!N)throw new y.vHH(4001,q);return N}findOrReturn(I,f){let b=0;for(const N of f){if(N.path===I.path)return f.splice(b),N;b++}return I}}class xn{}class Wr{constructor(I,f,b,N,z,Z,Re){this.injector=I,this.rootComponentType=f,this.config=b,this.urlTree=N,this.url=z,this.paramsInheritanceStrategy=Z,this.urlSerializer=Re}recognize(){const I=es(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,Ht).pipe((0,Me.U)(f=>{if(null===f)return null;const b=new Hi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),N=new ui(b,f),z=new hs(this.url,N);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(I){const f=I.value,b=ii(f,this.paramsInheritanceStrategy);f.params=Object.freeze(b.params),f.data=Object.freeze(b.data),I.children.forEach(N=>this.inheritParamsAndData(N))}processSegmentGroup(I,f,b,N){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,f,b):this.processSegment(I,f,b,b.segments,N)}processChildren(I,f,b){return(0,U.D)(Object.keys(b.children)).pipe((0,_e.b)(N=>{const z=b.children[N],Z=Ji(f,N);return this.processSegmentGroup(I,Z,z,N)}),(0,Oe.R)((N,z)=>N&&z?(N.push(...z),N):null),function Yt(_,I=!1){return(0,lt.e)((f,b)=>{let N=0;f.subscribe((0,_t.x)(b,z=>{const Z=_(z,N++);(Z||I)&&b.next(z),!Z&&b.complete()}))})}(N=>null!==N),(0,kt.d)(null),Un(),(0,Me.U)(N=>{if(null===N)return null;const z=Yr(N);return function Hn(_){_.sort((I,f)=>I.value.outlet===Ht?-1:f.value.outlet===Ht?1:I.value.outlet.localeCompare(f.value.outlet))}(z),z}))}processSegment(I,f,b,N,z){return(0,U.D)(f).pipe((0,_e.b)(Z=>this.processSegmentAgainstRoute(Z._injector??I,Z,b,N,z)),(0,xe.P)(Z=>!!Z),(0,Pe.K)(Z=>{if(An(Z))return H(b,N,z)?(0,j.of)([]):(0,j.of)(null);throw Z}))}processSegmentAgainstRoute(I,f,b,N,z){if(f.redirectTo||!M(f,b,N,z))return(0,j.of)(null);let Z;if("**"===f.path){const Re=N.length>0?Br(N).parameters:{},Qe=x(b)+N.length,Mt=new Hi(N,Re,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(f),si(f),f.component??f._loadedComponent??null,f,C(b),Qe,ne(f));Z=(0,j.of)({snapshot:Mt,consumedSegments:[],remainingSegments:[]})}else Z=Gi(b,f,N,I).pipe((0,Me.U)(({matched:Re,consumedSegments:Qe,remainingSegments:Mt,parameters:vt})=>{if(!Re)return null;const Ln=x(b)+Qe.length;return{snapshot:new Hi(Qe,vt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(f),si(f),f.component??f._loadedComponent??null,f,C(b),Ln,ne(f)),consumedSegments:Qe,remainingSegments:Mt}}));return Z.pipe((0,me.w)(Re=>{if(null===Re)return(0,j.of)(null);const{snapshot:Qe,consumedSegments:Mt,remainingSegments:vt}=Re;I=f._injector??I;const Ln=f._loadedInjector??I,oi=function ns(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(f),{segmentGroup:_o,slicedSegments:_i}=es(b,Mt,vt,oi.filter(Xr=>void 0===Xr.redirectTo));if(0===_i.length&&_o.hasChildren())return this.processChildren(Ln,oi,_o).pipe((0,Me.U)(Xr=>null===Xr?null:[new ui(Qe,Xr)]));if(0===oi.length&&0===_i.length)return(0,j.of)([new ui(Qe,[])]);const ms=si(f)===z;return this.processSegment(Ln,oi,_o,_i,ms?Ht:z).pipe((0,Me.U)(Xr=>null===Xr?null:[new ui(Qe,Xr)]))}))}}function gi(_){const I=_.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Yr(_){const I=[],f=new Set;for(const b of _){if(!gi(b)){I.push(b);continue}const N=I.find(z=>b.value.routeConfig===z.value.routeConfig);void 0!==N?(N.children.push(...b.children),f.add(N)):I.push(b)}for(const b of f){const N=Yr(b.children);I.push(new ui(b.value,N))}return I.filter(b=>!f.has(b))}function C(_){let I=_;for(;I._sourceSegment;)I=I._sourceSegment;return I}function x(_){let I=_,f=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,f+=I._segmentIndexShift??0;return f-1}function V(_){return _.data||{}}function ne(_){return _.resolve||{}}function Bt(_){return"string"==typeof _.title||null===_.title}function Vn(_){return(0,me.w)(I=>{const f=_(I);return f?(0,U.D)(f).pipe((0,Me.U)(()=>I)):(0,j.of)(I)})}const jt=new y.OlP("ROUTES");let Qr=(()=>{class _{constructor(f,b){this.injector=f,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,j.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const b=sn(f.loadComponent()).pipe((0,Me.U)(zn),(0,De.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=z}),(0,Ft.x)(()=>{this.componentLoaders.delete(f)})),N=new Ke(b,()=>new Ge.x).pipe(Le());return this.componentLoaders.set(f,N),N}loadChildren(f,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,j.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const z=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,Me.U)(Re=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Qe,Mt,vt=!1;Array.isArray(Re)?Mt=Re:(Qe=Re.create(f).injector,Mt=dr(Qe.get(jt,[],y.XFs.Self|y.XFs.Optional)));return{routes:Mt.map(ir),injector:Qe}}),(0,Ft.x)(()=>{this.childrenLoaders.delete(b)})),Z=new Ke(z,()=>new Ge.x).pipe(Le());return this.childrenLoaders.set(b,Z),Z}loadModuleFactoryOrRoutes(f){return sn(f()).pipe((0,Me.U)(zn),(0,P.z)(N=>N instanceof y.YKP||Array.isArray(N)?(0,j.of)(N):(0,U.D)(this.compiler.compileModuleAsync(N))))}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(y.zs3),y.LFG(y.Sil))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function zn(_){return function xi(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Fr=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Ge.x,this.configLoader=(0,y.f3M)(Qr),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Rn),this.rootContexts=(0,y.f3M)(fs),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=N=>this.events.next(new kr(N)),this.configLoader.onLoadStartListener=N=>this.events.next(new Es(N))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:b})}setupNavigations(f){return this.transitions=new de.X({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:nr,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,st.h)(b=>0!==b.id),(0,Me.U)(b=>({...b,extractedUrl:f.urlHandlingStrategy.extract(b.rawUrl)})),(0,me.w)(b=>{let N=!1,z=!1;return(0,j.of)(b).pipe((0,De.b)(Z=>{this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,me.w)(Z=>{const Re=f.browserUrlTree.toString(),Qe=!f.navigated||Z.extractedUrl.toString()!==Re||Re!==f.currentUrlTree.toString();if(!Qe&&"reload"!==(Z.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const vt="";return this.events.next(new dn(Z.id,f.serializeUrl(b.rawUrl),vt,0)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),tt.E}if(f.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return rs(Z.source)&&(f.browserUrlTree=Z.extractedUrl),(0,j.of)(Z).pipe((0,me.w)(vt=>{const Ln=this.transitions?.getValue();return this.events.next(new lr(vt.id,this.urlSerializer.serialize(vt.extractedUrl),vt.source,vt.restoredState)),Ln!==this.transitions?.getValue()?tt.E:Promise.resolve(vt)}),function $t(_,I,f,b){return(0,me.w)(N=>function Dn(_,I,f,b,N){return new hn(_,I,f,b,N).apply()}(_,I,f,N.extractedUrl,b).pipe((0,Me.U)(z=>({...N,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,De.b)(vt=>{this.currentNavigation={...this.currentNavigation,finalUrl:vt.urlAfterRedirects},b.urlAfterRedirects=vt.urlAfterRedirects}),function Ue(_,I,f,b,N){return(0,P.z)(z=>function Xn(_,I,f,b,N,z,Z="emptyOnly"){return new Wr(_,I,f,b,N,Z,z).recognize().pipe((0,me.w)(Re=>null===Re?function rn(_){return new Ee.y(I=>I.error(_))}(new xn):(0,j.of)(Re)))}(_,I,f,z.urlAfterRedirects,b.serialize(z.urlAfterRedirects),b,N).pipe((0,Me.U)(Z=>({...z,targetSnapshot:Z}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,De.b)(vt=>{if(b.targetSnapshot=vt.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!vt.extras.skipLocationChange){const oi=f.urlHandlingStrategy.merge(vt.urlAfterRedirects,vt.rawUrl);f.setBrowserUrl(oi,vt)}f.browserUrlTree=vt.urlAfterRedirects}const Ln=new cs(vt.id,this.urlSerializer.serialize(vt.extractedUrl),this.urlSerializer.serialize(vt.urlAfterRedirects),vt.targetSnapshot);this.events.next(Ln)}));if(Qe&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:vt,extractedUrl:Ln,source:oi,restoredState:_o,extras:_i}=Z,ms=new lr(vt,this.urlSerializer.serialize(Ln),oi,_o);this.events.next(ms);const Xr=Jn(Ln,this.rootComponentType).snapshot;return b={...Z,targetSnapshot:Xr,urlAfterRedirects:Ln,extras:{..._i,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(b)}{const vt="";return this.events.next(new dn(Z.id,f.serializeUrl(b.extractedUrl),vt,1)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),tt.E}}),(0,De.b)(Z=>{const Re=new ho(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(Re)}),(0,Me.U)(Z=>b={...Z,guards:Ss(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)}),function $r(_,I){return(0,P.z)(f=>{const{targetSnapshot:b,currentSnapshot:N,guards:{canActivateChecks:z,canDeactivateChecks:Z}}=f;return 0===Z.length&&0===z.length?(0,j.of)({...f,guardsResult:!0}):function ps(_,I,f,b){return(0,U.D)(_).pipe((0,P.z)(N=>function Ws(_,I,f,b,N){const z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,j.of)(!0);const Z=z.map(Re=>{const Qe=hr(I)??N,Mt=jr(Re,Qe);return sn(function to(_){return _&&Wi(_.canDeactivate)}(Mt)?Mt.canDeactivate(_,I,f,b):Qe.runInContext(()=>Mt(_,I,f,b))).pipe((0,xe.P)())});return(0,j.of)(Z).pipe(Ni())}(N.component,N.route,f,I,b)),(0,xe.P)(N=>!0!==N,!0))}(Z,b,N,_).pipe((0,P.z)(Re=>Re&&function fr(_){return"boolean"==typeof _}(Re)?function fo(_,I,f,b){return(0,U.D)(I).pipe((0,_e.b)(N=>(0,Se.z)(function po(_,I){return null!==_&&I&&I(new Pi(_)),(0,j.of)(!0)}(N.route.parent,b),function pi(_,I){return null!==_&&I&&I(new Bn(_)),(0,j.of)(!0)}(N.route,b),function Uo(_,I,f){const b=I[I.length-1],z=I.slice(0,I.length-1).reverse().map(Z=>function Ci(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(Z)).filter(Z=>null!==Z).map(Z=>re(()=>{const Re=Z.guards.map(Qe=>{const Mt=hr(Z.node)??f,vt=jr(Qe,Mt);return sn(function Hs(_){return _&&Wi(_.canActivateChild)}(vt)?vt.canActivateChild(b,_):Mt.runInContext(()=>vt(b,_))).pipe((0,xe.P)())});return(0,j.of)(Re).pipe(Ni())}));return(0,j.of)(z).pipe(Ni())}(_,N.path,f),function $s(_,I,f){const b=I.routeConfig?I.routeConfig.canActivate:null;if(!b||0===b.length)return(0,j.of)(!0);const N=b.map(z=>re(()=>{const Z=hr(I)??f,Re=jr(z,Z);return sn(function Co(_){return _&&Wi(_.canActivate)}(Re)?Re.canActivate(I,_):Z.runInContext(()=>Re(I,_))).pipe((0,xe.P)())}));return(0,j.of)(N).pipe(Ni())}(_,N.route,f))),(0,xe.P)(N=>!0!==N,!0))}(b,z,_,I):(0,j.of)(Re)),(0,Me.U)(Re=>({...f,guardsResult:Re})))})}(this.environmentInjector,Z=>this.events.next(Z)),(0,De.b)(Z=>{if(b.guardsResult=Z.guardsResult,qe(Z.guardsResult))throw Js(0,Z.guardsResult);const Re=new Ei(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.events.next(Re)}),(0,st.h)(Z=>!!Z.guardsResult||(f.restoreHistory(Z),this.cancelNavigationTransition(Z,"",3),!1)),Vn(Z=>{if(Z.guards.canActivateChecks.length)return(0,j.of)(Z).pipe((0,De.b)(Re=>{const Qe=new Kr(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Qe)}),(0,me.w)(Re=>{let Qe=!1;return(0,j.of)(Re).pipe(function Xe(_,I){return(0,P.z)(f=>{const{targetSnapshot:b,guards:{canActivateChecks:N}}=f;if(!N.length)return(0,j.of)(f);let z=0;return(0,U.D)(N).pipe((0,_e.b)(Z=>function We(_,I,f,b){const N=_.routeConfig,z=_._resolve;return void 0!==N?.title&&!Bt(N)&&(z[Ut]=N.title),function pt(_,I,f,b){const N=function gt(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===N.length)return(0,j.of)({});const z={};return(0,U.D)(N).pipe((0,P.z)(Z=>function Rt(_,I,f,b){const N=hr(I)??b,z=jr(_,N);return sn(z.resolve?z.resolve(I,f):N.runInContext(()=>z(I,f)))}(_[Z],I,f,b).pipe((0,xe.P)(),(0,De.b)(Re=>{z[Z]=Re}))),dt(1),(0,qt.h)(z),(0,Pe.K)(Z=>An(Z)?tt.E:(0,ge._)(Z)))}(z,_,I,b).pipe((0,Me.U)(Z=>(_._resolvedData=Z,_.data=ii(_,f).resolve,N&&Bt(N)&&(_.data[Ut]=N.title),null)))}(Z.route,b,_,I)),(0,De.b)(()=>z++),dt(1),(0,P.z)(Z=>z===N.length?(0,j.of)(f):tt.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,De.b)({next:()=>Qe=!0,complete:()=>{Qe||(f.restoreHistory(Re),this.cancelNavigationTransition(Re,"",2))}}))}),(0,De.b)(Re=>{const Qe=new vs(Re.id,this.urlSerializer.serialize(Re.extractedUrl),this.urlSerializer.serialize(Re.urlAfterRedirects),Re.targetSnapshot);this.events.next(Qe)}))}),Vn(Z=>{const Re=Qe=>{const Mt=[];Qe.routeConfig?.loadComponent&&!Qe.routeConfig._loadedComponent&&Mt.push(this.configLoader.loadComponent(Qe.routeConfig).pipe((0,De.b)(vt=>{Qe.component=vt}),(0,Me.U)(()=>{})));for(const vt of Qe.children)Mt.push(...Re(vt));return Mt};return(0,ye.a)(Re(Z.targetSnapshot.root)).pipe((0,kt.d)(),(0,Ve.q)(1))}),Vn(()=>this.afterPreactivation()),(0,Me.U)(Z=>{const Re=function Ls(_,I,f){const b=Di(_,I._root,f?f._root:void 0);return new _n(b,I)}(f.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return b={...Z,targetRouterState:Re}}),(0,De.b)(Z=>{f.currentUrlTree=Z.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),f.routerState=Z.targetRouterState,"deferred"===f.urlUpdateStrategy&&(Z.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,Z),f.browserUrlTree=Z.urlAfterRedirects)}),((_,I,f)=>(0,Me.U)(b=>(new Vr(I,b.targetRouterState,b.currentRouterState,f).activate(_),b)))(this.rootContexts,f.routeReuseStrategy,Z=>this.events.next(Z)),(0,De.b)({next:Z=>{N=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new ri(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(Z.targetRouterState.snapshot),Z.resolve(!0)},complete:()=>{N=!0}}),(0,Ft.x)(()=>{N||z||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,Pe.K)(Z=>{if(z=!0,Us(Z)){yn(Z)||(f.navigated=!0,f.restoreHistory(b,!0));const Re=new Mi(b.id,this.urlSerializer.serialize(b.extractedUrl),Z.message,Z.cancellationCode);if(this.events.next(Re),yn(Z)){const Qe=f.urlHandlingStrategy.merge(Z.url,f.rawUrlTree),Mt={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||rs(b.source)};f.scheduleNavigation(Qe,nr,null,Mt,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{f.restoreHistory(b,!0);const Re=new ks(b.id,this.urlSerializer.serialize(b.extractedUrl),Z,b.targetSnapshot??void 0);this.events.next(Re);try{b.resolve(f.errorHandler(Z))}catch(Qe){b.reject(Qe)}}return tt.E}))}))}cancelNavigationTransition(f,b,N){const z=new Mi(f.id,this.urlSerializer.serialize(f.extractedUrl),b,N);this.events.next(z),f.resolve(!1)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function rs(_){return _!==nr}let no=(()=>{class _{buildTitle(f){let b,N=f.root;for(;void 0!==N;)b=this.getResolvedTitleForRoute(N)??b,N=N.children.find(z=>z.outlet===Ht);return b}getResolvedTitleForRoute(f){return f.data[Ut]}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Zo)},providedIn:"root"}),_})(),Zo=(()=>{class _ extends no{constructor(f){super(),this.title=f}updateTitle(f){const b=this.buildTitle(f);void 0!==b&&this.title.setTitle(b)}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(ur.Dx))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),ro=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Bo)},providedIn:"root"}),_})();class Yo{shouldDetach(I){return!1}store(I,f){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,f){return I.routeConfig===f.routeConfig}}let Bo=(()=>{class _ extends Yo{}return _.\u0275fac=function(){let I;return function(b){return(I||(I=y.n5z(_)))(b||_)}}(),_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const bo=new y.OlP("",{providedIn:"root",factory:()=>({})});let wa=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(is)},providedIn:"root"}),_})(),is=(()=>{class _{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,b){return f}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function go(_){throw _}function mo(_,I,f){return I.parse("/")}const So={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(bo,{optional:!0})||{},this.errorHandler=this.options.errorHandler||go,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||mo,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(wa),this.routeReuseStrategy=(0,y.f3M)(ro),this.urlCreationStrategy=(0,y.f3M)(En),this.titleStrategy=(0,y.f3M)(no),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dr((0,y.f3M)(jt,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(Fr),this.urlSerializer=(0,y.f3M)(Rn),this.location=(0,y.f3M)(rt.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Jn(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),nr,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const b="popstate"===f.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,b,f.state)},0)}))}navigateToSyncWithBrowser(f,b,N){const z={replaceUrl:!0},Z=N?.navigationId?N:null;if(N){const Qe={...N};delete Qe.navigationId,delete Qe.\u0275routerPageId,0!==Object.keys(Qe).length&&(z.state=Qe)}const Re=this.parseUrl(f);this.scheduleNavigation(Re,b,Z,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(ir),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,b={}){const{relativeTo:N,queryParams:z,fragment:Z,queryParamsHandling:Re,preserveFragment:Qe}=b,Mt=Qe?this.currentUrlTree.fragment:Z;let vt=null;switch(Re){case"merge":vt={...this.currentUrlTree.queryParams,...z};break;case"preserve":vt=this.currentUrlTree.queryParams;break;default:vt=z||null}return null!==vt&&(vt=this.removeEmptyProps(vt)),this.urlCreationStrategy.createUrlTree(N,this.routerState,this.currentUrlTree,f,vt,Mt??null)}navigateByUrl(f,b={skipLocationChange:!1}){const N=qe(f)?f:this.parseUrl(f),z=this.urlHandlingStrategy.merge(N,this.rawUrlTree);return this.scheduleNavigation(z,nr,null,b)}navigate(f,b={skipLocationChange:!1}){return function Ca(_){for(let I=0;I<_.length;I++){if(null==_[I])throw new y.vHH(4008,!1)}}(f),this.navigateByUrl(this.createUrlTree(f,b),b)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let b;try{b=this.urlSerializer.parse(f)}catch(N){b=this.malformedUriErrorHandler(N,this.urlSerializer,f)}return b}isActive(f,b){let N;if(N=!0===b?{...So}:!1===b?{...aa}:b,qe(f))return Or(this.currentUrlTree,f,N);const z=this.parseUrl(f);return Or(this.currentUrlTree,z,N)}removeEmptyProps(f){return Object.keys(f).reduce((b,N)=>{const z=f[N];return null!=z&&(b[N]=z),b},{})}scheduleNavigation(f,b,N,z,Z){if(this.disposed)return Promise.resolve(!1);let Re,Qe,Mt,vt;return Z?(Re=Z.resolve,Qe=Z.reject,Mt=Z.promise):Mt=new Promise((Ln,oi)=>{Re=Ln,Qe=oi}),vt="computed"===this.canceledNavigationResolution?N&&N.\u0275routerPageId?N.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:vt,source:b,restoredState:N,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:z,resolve:Re,reject:Qe,promise:Mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mt.catch(Ln=>Promise.reject(Ln))}setBrowserUrl(f,b){const N=this.urlSerializer.serialize(f),z={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.isCurrentPathEqualTo(N)||b.extras.replaceUrl?this.location.replaceState(N,"",z):this.location.go(N,"",z)}restoreHistory(f,b=!1){if("computed"===this.canceledNavigationResolution){const N=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===N?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===N&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(N)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,b){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:b}:{navigationId:f}}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class gs{}let Rs=(()=>{class _{constructor(f,b,N,z,Z){this.router=f,this.injector=N,this.preloadingStrategy=z,this.loader=Z}setUpPreloading(){this.subscription=this.router.events.pipe((0,st.h)(f=>f instanceof ri),(0,_e.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,b){const N=[];for(const z of b){z.providers&&!z._injector&&(z._injector=(0,y.MMx)(z.providers,f,`Route: ${z.path}`));const Z=z._injector??f,Re=z._loadedInjector??Z;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?N.push(this.preloadConfig(Z,z)):(z.children||z._loadedRoutes)&&N.push(this.processRoutes(Re,z.children??z._loadedRoutes))}return(0,U.D)(N).pipe((0,un.J)())}preloadConfig(f,b){return this.preloadingStrategy.preload(b,()=>{let N;N=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(f,b):(0,j.of)(null);const z=N.pipe((0,P.z)(Z=>null===Z?(0,j.of)(void 0):(b._loadedRoutes=Z.routes,b._loadedInjector=Z.injector,this.processRoutes(Z.injector??f,Z.routes))));if(b.loadComponent&&!b._loadedComponent){const Z=this.loader.loadComponent(b);return(0,U.D)([z,Z]).pipe((0,un.J)())}return z})}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(mi),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(gs),y.LFG(Qr))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Jo=new y.OlP("");let ca=(()=>{class _{constructor(f,b,N,z,Z={}){this.urlSerializer=f,this.transitions=b,this.viewportScroller=N,this.zone=z,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof lr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof ri&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof li&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new li(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(f){y.$Z()},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})();function io(_,I){return{\u0275kind:_,\u0275providers:I}}function so(){const _=(0,y.f3M)(y.zs3);return I=>{const f=_.get(y.z2F);if(I!==f.components[0])return;const b=_.get(mi),N=_.get(Ho);1===_.get(Ao)&&b.initialNavigation(),_.get(Ja,null,y.XFs.Optional)?.setUpPreloading(),_.get(Jo,null,y.XFs.Optional)?.init(),b.resetRootComponentType(f.componentTypes[0]),N.closed||(N.next(),N.unsubscribe())}}const Ho=new y.OlP("",{factory:()=>new Ge.x}),Ao=new y.OlP("",{providedIn:"root",factory:()=>1});const Ja=new y.OlP("");function Xa(_){return io(0,[{provide:Ja,useExisting:Rs},{provide:gs,useExisting:_}])}const ha=new y.OlP("ROUTER_FORROOT_GUARD"),Ra=[rt.Ye,{provide:Rn,useClass:zr},mi,fs,{provide:Ds,useFactory:function ba(_){return _.routerState.root},deps:[mi]},Qr,[]];function Ma(){return new y.PXZ("Router",mi)}let tl=(()=>{class _{constructor(f){}static forRoot(f,b){return{ngModule:_,providers:[Ra,[],{provide:jt,multi:!0,useValue:f},{provide:ha,useFactory:Cr,deps:[[mi,new y.FiY,new y.tp0]]},{provide:bo,useValue:b||{}},b?.useHash?{provide:rt.S$,useClass:rt.Do}:{provide:rt.S$,useClass:rt.b0},{provide:Jo,useFactory:()=>{const _=(0,y.f3M)(rt.EM),I=(0,y.f3M)(y.R0b),f=(0,y.f3M)(bo),b=(0,y.f3M)(Fr),N=(0,y.f3M)(Rn);return f.scrollOffset&&_.setOffset(f.scrollOffset),new ca(N,b,_,I,f)}},b?.preloadingStrategy?Xa(b.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ma},b?.initialNavigation?na(b):[],[{provide:Ro,useFactory:so},{provide:y.tb,multi:!0,useExisting:Ro}]]}}static forChild(f){return{ngModule:_,providers:[{provide:jt,multi:!0,useValue:f}]}}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(ha,8))},_.\u0275mod=y.oAB({type:_}),_.\u0275inj=y.cJS({imports:[Pr]}),_})();function Cr(_){return"guarded"}function na(_){return["disabled"===_.initialNavigation?io(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const I=(0,y.f3M)(mi);return()=>{I.setUpLocationChangeListener()}}},{provide:Ao,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?io(2,[{provide:Ao,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:I=>{const f=I.get(rt.V_,Promise.resolve());return()=>f.then(()=>new Promise(N=>{const z=I.get(mi),Z=I.get(Ho);(function b(N){I.get(mi).events.pipe((0,st.h)(Z=>Z instanceof ri||Z instanceof Mi||Z instanceof ks),(0,Me.U)(Z=>Z instanceof ri||Z instanceof Mi&&(0===Z.code||1===Z.code)&&null),(0,st.h)(Z=>null!==Z),(0,Ve.q)(1)).subscribe(()=>{N()})})(()=>{N(!0)}),I.get(Fr).afterPreactivation=()=>(N(!0),Z.closed?(0,j.of)(void 0):Z),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ro=new y.OlP("")},3942:(yt,ke,F)=>{F.d(ke,{Z:()=>lt});var y=F(2090),U=F(4859),j=F(9681),de=F(1877);class pe{constructor(Le,Ke){this._delegate=Le,this.firebase=Ke,(0,j._addComponent)(Le,new U.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Le,Ke=j._DEFAULT_ENTRY_NAME){var Ge;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Le);return!rt.isInitialized()&&"EXPLICIT"===(null===(Ge=rt.getComponent())||void 0===Ge?void 0:Ge.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Ke})}_removeServiceInstance(Le,Ke=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ke)}_addComponent(Le){(0,j._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,j._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),re=function Ie(){const _t=function Ee(_t){const Le={},Ke={__esModule:!0,initializeApp:function Me(st,P={}){const xe=j.initializeApp(st,P);if((0,y.r3)(Le,xe.name))return Le[xe.name];const _e=new _t(xe,Ke);return Le[xe.name]=_e,_e},app:rt,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Ve(st){const P=st.name,xe=P.replace("-compat","");if(j._registerComponent(st)&&"PUBLIC"===st.type){const _e=(De=rt())=>{if("function"!=typeof De[xe])throw Se.create("invalid-app-argument",{appName:P});return De[xe]()};void 0!==st.serviceProps&&(0,y.ZB)(_e,st.serviceProps),Ke[xe]=_e,_t.prototype[xe]=function(...De){return this._getService.bind(this,P).apply(this,st.multipleInstances?De:[])}}return"PUBLIC"===st.type?Ke[xe]:null},removeApp:function Ge(st){delete Le[st]},useAsService:function it(st,P){return"serverAuth"===P?null:P},modularAPIs:j}};function rt(st){if(!(0,y.r3)(Le,st=st||j._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:st});return Le[st]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function me(){return Object.keys(Le).map(st=>Le[st])}}),rt.App=_t,Ke}(pe);return _t.INTERNAL=Object.assign(Object.assign({},_t.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function Le(Ke){(0,y.ZB)(_t,Ke)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),_t}(),se=new de.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){se.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const _t=self.firebase.SDK_VERSION;_t&&_t.indexOf("LITE")>=0&&se.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const lt=re;!function Ye(_t){(0,j.registerVersion)("@firebase/app-compat","0.2.1",_t)}()},9681:(yt,ke,F)=>{F.r(ke),F.d(ke,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>ti,_DEFAULT_ENTRY_NAME:()=>Un,_addComponent:()=>un,_addOrOverwriteComponent:()=>ur,_apps:()=>qt,_clearComponents:()=>cr,_components:()=>Ft,_getProvider:()=>Ut,_registerComponent:()=>Ht,_removeServiceInstance:()=>fn,deleteApp:()=>bn,getApp:()=>Br,getApps:()=>qn,initializeApp:()=>dr,onLog:()=>xt,registerVersion:()=>kn,setLogLevel:()=>Sr});var y=F(5861),U=F(4859),j=F(1877),de=F(2090),pe=F(8766);class ye{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Te=>{if(function Se(ft){return"VERSION"===ft.getComponent()?.type}(Te)){const ee=Te.getImmediate();return`${ee.library}/${ee.version}`}return null}).filter(Te=>Te).join(" ")}}const Ee="@firebase/app",re=new j.Yd("@firebase/app"),Un="[DEFAULT]",Yt={[Ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},qt=new Map,Ft=new Map;function un(ft,et){try{ft.container.addComponent(et)}catch(Te){re.debug(`Component ${et.name} failed to register with FirebaseApp ${ft.name}`,Te)}}function ur(ft,et){ft.container.addOrOverwriteComponent(et)}function Ht(ft){const et=ft.name;if(Ft.has(et))return re.debug(`There were multiple attempts to register component ${et}.`),!1;Ft.set(et,ft);for(const Te of qt.values())un(Te,ft);return!0}function Ut(ft,et){const Te=ft.container.getProvider("heartbeat").getImmediate({optional:!0});return Te&&Te.triggerHeartbeat(),ft.container.getProvider(et)}function fn(ft,et,Te=Un){Ut(ft,et).clearInstance(Te)}function cr(){Ft.clear()}const Yn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class pn{constructor(et,Te,ee){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Te),this._name=Te.name,this._automaticDataCollectionEnabled=Te.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new U.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw Yn.create("app-deleted",{appName:this._name})}}const ti="9.16.0";function dr(ft,et={}){let Te=ft;"object"!=typeof et&&(et={name:et});const ee=Object.assign({name:Un,automaticDataCollectionEnabled:!1},et),le=ee.name;if("string"!=typeof le||!le)throw Yn.create("bad-app-name",{appName:String(le)});if(Te||(Te=(0,de.aH)()),!Te)throw Yn.create("no-options");const ze=qt.get(le);if(ze){if((0,de.vZ)(Te,ze.options)&&(0,de.vZ)(ee,ze.config))return ze;throw Yn.create("duplicate-app",{appName:le})}const Y=new U.H0(le);for(const he of Ft.values())Y.addComponent(he);const X=new pn(Te,ee,Y);return qt.set(le,X),X}function Br(ft=Un){const et=qt.get(ft);if(!et&&ft===Un)return dr();if(!et)throw Yn.create("no-app",{appName:ft});return et}function qn(){return Array.from(qt.values())}function bn(ft){return sn.apply(this,arguments)}function sn(){return(sn=(0,y.Z)(function*(ft){const et=ft.name;qt.has(et)&&(qt.delete(et),yield Promise.all(ft.container.getProviders().map(Te=>Te.delete())),ft.isDeleted=!0)})).apply(this,arguments)}function kn(ft,et,Te){var ee;let le=null!==(ee=Yt[ft])&&void 0!==ee?ee:ft;Te&&(le+=`-${Te}`);const ze=le.match(/\s|\//),Y=et.match(/\s|\//);if(ze||Y){const X=[`Unable to register library "${le}" with version "${et}":`];return ze&&X.push(`library name "${le}" contains illegal characters (whitespace or "/")`),ze&&Y&&X.push("and"),Y&&X.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void re.warn(X.join(" "))}Ht(new U.wA(`${le}-version`,()=>({library:le,version:et}),"VERSION"))}function xt(ft,et){if(null!==ft&&"function"!=typeof ft)throw Yn.create("invalid-log-argument");(0,j.Am)(ft,et)}function Sr(ft){(0,j.Ub)(ft)}const sr="firebase-heartbeat-store";let Ai=null;function Qt(){return Ai||(Ai=(0,pe.X3)("firebase-heartbeat-database",1,{upgrade:(ft,et)=>{0===et&&ft.createObjectStore(sr)}}).catch(ft=>{throw Yn.create("idb-open",{originalErrorMessage:ft.message})})),Ai}function Dt(){return(Dt=(0,y.Z)(function*(ft){try{return(yield Qt()).transaction(sr).objectStore(sr).get($n(ft))}catch(et){if(et instanceof de.ZR)re.warn(et.message);else{const Te=Yn.create("idb-get",{originalErrorMessage:et?.message});re.warn(Te.message)}}})).apply(this,arguments)}function or(ft,et){return St.apply(this,arguments)}function St(){return(St=(0,y.Z)(function*(ft,et){try{const ee=(yield Qt()).transaction(sr,"readwrite");return yield ee.objectStore(sr).put(et,$n(ft)),ee.done}catch(Te){if(Te instanceof de.ZR)re.warn(Te.message);else{const ee=Yn.create("idb-set",{originalErrorMessage:Te?.message});re.warn(ee.message)}}})).apply(this,arguments)}function $n(ft){return`${ft.name}!${ft.options.appId}`}class ai{constructor(et){this.container=et,this._heartbeatsCache=null;const Te=this.container.getProvider("app").getImmediate();this._storage=new Tn(Te),this._heartbeatsCachePromise=this._storage.read().then(ee=>(this._heartbeatsCache=ee,ee))}triggerHeartbeat(){var et=this;return(0,y.Z)(function*(){const ee=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),le=Rn();if(null===et._heartbeatsCache&&(et._heartbeatsCache=yield et._heartbeatsCachePromise),et._heartbeatsCache.lastSentHeartbeatDate!==le&&!et._heartbeatsCache.heartbeats.some(ze=>ze.date===le))return et._heartbeatsCache.heartbeats.push({date:le,agent:ee}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(ze=>{const Y=new Date(ze.date).valueOf();return Date.now()-Y<=2592e6}),et._storage.overwrite(et._heartbeatsCache)})()}getHeartbeatsHeader(){var et=this;return(0,y.Z)(function*(){if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null===et._heartbeatsCache||0===et._heartbeatsCache.heartbeats.length)return"";const Te=Rn(),{heartbeatsToSend:ee,unsentEntries:le}=function zr(ft,et=1024){const Te=[];let ee=ft.slice();for(const le of ft){const ze=Te.find(Y=>Y.agent===le.agent);if(ze){if(ze.dates.push(le.date),ar(Te)>et){ze.dates.pop();break}}else if(Te.push({agent:le.agent,dates:[le.date]}),ar(Te)>et){Te.pop();break}ee=ee.slice(1)}return{heartbeatsToSend:Te,unsentEntries:ee}}(et._heartbeatsCache.heartbeats),ze=(0,de.L)(JSON.stringify({version:2,heartbeats:ee}));return et._heartbeatsCache.lastSentHeartbeatDate=Te,le.length>0?(et._heartbeatsCache.heartbeats=le,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),ze})()}}function Rn(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,y.Z)(function*(){return(yield et._canUseIndexedDBPromise)&&(yield function Lt(ft){return Dt.apply(this,arguments)}(et.app))||{heartbeats:[]}})()}overwrite(et){var Te=this;return(0,y.Z)(function*(){var ee;if(yield Te._canUseIndexedDBPromise){const ze=yield Te.read();return or(Te.app,{lastSentHeartbeatDate:null!==(ee=et.lastSentHeartbeatDate)&&void 0!==ee?ee:ze.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var Te=this;return(0,y.Z)(function*(){var ee;if(yield Te._canUseIndexedDBPromise){const ze=yield Te.read();return or(Te.app,{lastSentHeartbeatDate:null!==(ee=et.lastSentHeartbeatDate)&&void 0!==ee?ee:ze.lastSentHeartbeatDate,heartbeats:[...ze.heartbeats,...et.heartbeats]})}})()}}function ar(ft){return(0,de.L)(JSON.stringify({version:2,heartbeats:ft})).length}!function Nr(ft){Ht(new U.wA("platform-logger",et=>new ye(et),"PRIVATE")),Ht(new U.wA("heartbeat",et=>new ai(et),"PRIVATE")),kn(Ee,"0.9.1",ft),kn(Ee,"0.9.1","esm2017"),kn("fire-js","")}("")},4859:(yt,ke,F)=>{F.d(ke,{H0:()=>Ee,wA:()=>j,zt:()=>pe});var y=F(5861),U=F(2090);class j{constructor(re,se,ge){this.name=re,this.instanceFactory=se,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(re){return this.instantiationMode=re,this}setMultipleInstances(re){return this.multipleInstances=re,this}setServiceProps(re){return this.serviceProps=re,this}setInstanceCreatedCallback(re){return this.onInstanceCreated=re,this}}const de="[DEFAULT]";class pe{constructor(re,se){this.name=re,this.container=se,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(re){const se=this.normalizeInstanceIdentifier(re);if(!this.instancesDeferred.has(se)){const ge=new U.BH;if(this.instancesDeferred.set(se,ge),this.isInitialized(se)||this.shouldAutoInitialize())try{const tt=this.getOrInitializeService({instanceIdentifier:se});tt&&ge.resolve(tt)}catch{}}return this.instancesDeferred.get(se).promise}getImmediate(re){var se;const ge=this.normalizeInstanceIdentifier(re?.identifier),tt=null!==(se=re?.optional)&&void 0!==se&&se;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(tt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Ye){if(tt)return null;throw Ye}}getComponent(){return this.component}setComponent(re){if(re.name!==this.name)throw Error(`Mismatching Component ${re.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=re,this.shouldAutoInitialize()){if(function Se(Ie){return"EAGER"===Ie.instantiationMode}(re))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[se,ge]of this.instancesDeferred.entries()){const tt=this.normalizeInstanceIdentifier(se);try{const Ye=this.getOrInitializeService({instanceIdentifier:tt});ge.resolve(Ye)}catch{}}}}clearInstance(re=de){this.instancesDeferred.delete(re),this.instancesOptions.delete(re),this.instances.delete(re)}delete(){var re=this;return(0,y.Z)(function*(){const se=Array.from(re.instances.values());yield Promise.all([...se.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...se.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(re=de){return this.instances.has(re)}getOptions(re=de){return this.instancesOptions.get(re)||{}}initialize(re={}){const{options:se={}}=re,ge=this.normalizeInstanceIdentifier(re.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const tt=this.getOrInitializeService({instanceIdentifier:ge,options:se});for(const[Ye,lt]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Ye)&&lt.resolve(tt);return tt}onInit(re,se){var ge;const tt=this.normalizeInstanceIdentifier(se),Ye=null!==(ge=this.onInitCallbacks.get(tt))&&void 0!==ge?ge:new Set;Ye.add(re),this.onInitCallbacks.set(tt,Ye);const lt=this.instances.get(tt);return lt&&re(lt,tt),()=>{Ye.delete(re)}}invokeOnInitCallbacks(re,se){const ge=this.onInitCallbacks.get(se);if(ge)for(const tt of ge)try{tt(re,se)}catch{}}getOrInitializeService({instanceIdentifier:re,options:se={}}){let ge=this.instances.get(re);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=re,Ie===de?void 0:Ie),options:se}),this.instances.set(re,ge),this.instancesOptions.set(re,se),this.invokeOnInitCallbacks(ge,re),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,re,ge)}catch{}var Ie;return ge||null}normalizeInstanceIdentifier(re=de){return this.component?this.component.multipleInstances?re:de:re}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(re){this.name=re,this.providers=new Map}addComponent(re){const se=this.getProvider(re.name);if(se.isComponentSet())throw new Error(`Component ${re.name} has already been registered with ${this.name}`);se.setComponent(re)}addOrOverwriteComponent(re){this.getProvider(re.name).isComponentSet()&&this.providers.delete(re.name),this.addComponent(re)}getProvider(re){if(this.providers.has(re))return this.providers.get(re);const se=new pe(re,this);return this.providers.set(re,se),se}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,ke,F)=>{F.d(ke,{Am:()=>Ie,Ub:()=>Ee,Yd:()=>Se,in:()=>U});const y=[];var U=(()=>{return(re=U||(U={}))[re.DEBUG=0]="DEBUG",re[re.VERBOSE=1]="VERBOSE",re[re.INFO=2]="INFO",re[re.WARN=3]="WARN",re[re.ERROR=4]="ERROR",re[re.SILENT=5]="SILENT",U;var re})();const j={debug:U.DEBUG,verbose:U.VERBOSE,info:U.INFO,warn:U.WARN,error:U.ERROR,silent:U.SILENT},de=U.INFO,pe={[U.DEBUG]:"log",[U.VERBOSE]:"log",[U.INFO]:"info",[U.WARN]:"warn",[U.ERROR]:"error"},ye=(re,se,...ge)=>{if(se<re.logLevel)return;const tt=(new Date).toISOString(),Ye=pe[se];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${se})`);console[Ye](`[${tt}]  ${re.name}:`,...ge)};class Se{constructor(se){this.name=se,this._logLevel=de,this._logHandler=ye,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(se){if(!(se in U))throw new TypeError(`Invalid value "${se}" assigned to \`logLevel\``);this._logLevel=se}setLogLevel(se){this._logLevel="string"==typeof se?j[se]:se}get logHandler(){return this._logHandler}set logHandler(se){if("function"!=typeof se)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=se}get userLogHandler(){return this._userLogHandler}set userLogHandler(se){this._userLogHandler=se}debug(...se){this._userLogHandler&&this._userLogHandler(this,U.DEBUG,...se),this._logHandler(this,U.DEBUG,...se)}log(...se){this._userLogHandler&&this._userLogHandler(this,U.VERBOSE,...se),this._logHandler(this,U.VERBOSE,...se)}info(...se){this._userLogHandler&&this._userLogHandler(this,U.INFO,...se),this._logHandler(this,U.INFO,...se)}warn(...se){this._userLogHandler&&this._userLogHandler(this,U.WARN,...se),this._logHandler(this,U.WARN,...se)}error(...se){this._userLogHandler&&this._userLogHandler(this,U.ERROR,...se),this._logHandler(this,U.ERROR,...se)}}function Ee(re){y.forEach(se=>{se.setLogLevel(re)})}function Ie(re,se){for(const ge of y){let tt=null;se&&se.level&&(tt=j[se.level]),ge.userLogHandler=null===re?null:(Ye,lt,..._t)=>{const Le=_t.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");lt>=(tt??Ye.logLevel)&&re({level:U[lt].toLowerCase(),message:Le,args:_t,type:Ye.name})}}}},259:(yt,ke,F)=>{F.d(ke,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=F(9681);(0,y.registerVersion)("firebase","9.16.0","app")},9260:(yt,ke,F)=>{F.d(ke,{Z:()=>y.Z});var y=F(3942);y.Z.registerVersion("firebase","9.16.0","app-compat")},750:(yt,ke,F)=>{F.r(ke);var y=F(5861),U=F(3942),j=F(2090),de=F(9681),pe=F(1877),ye=F(655),Se=F(4859);const lt=function tt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},_t=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ge=new pe.Yd("@firebase/auth");function rt(p,...u){Ge.logLevel<=pe.in.ERROR&&Ge.error(`Auth (${de.SDK_VERSION}): ${p}`,...u)}function Me(p,...u){throw st(p,...u)}function me(p,...u){return st(p,...u)}function Ve(p,u,d){const v=Object.assign(Object.assign({},_t()),{[u]:d});return new j.LL("auth","Firebase",v).create(u,{appName:p.name})}function it(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Me(p,"argument-error"),Ve(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function st(p,...u){if("string"!=typeof p){const d=u[0],v=[...u.slice(1)];return v[0]&&(v[0].appName=p.name),p._errorFactory.create(d,...v)}return Le.create(p,...u)}function P(p,u,...d){if(!p)throw st(u,...d)}function xe(p){const u="INTERNAL ASSERTION FAILED: "+p;throw rt(u),new Error(u)}function _e(p,u){p||xe(u)}const De=new Map;function Pe(p){_e(p instanceof Function,"Expected a class definition");let u=De.get(p);return u?(_e(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,De.set(p,u),u)}function ct(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function kt(){return"http:"===vn()||"https:"===vn()}function vn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class qt{constructor(u,d){this.shortDelay=u,this.longDelay=d,_e(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Un(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(kt()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(p,u){_e(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class un{static initialize(u,d,v){this.fetchImpl=u,d&&(this.headersImpl=d),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new qt(3e4,6e4);function Ut(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function fn(p,u,d,v){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(p,u,d,v,L={}){return Ur(p,L,(0,y.Z)(function*(){let K={},we={};v&&("GET"===u?we=v:K={body:JSON.stringify(v)});const Je=(0,j.xO)(Object.assign({key:p.config.apiKey},we)).slice(1),It=yield p._getAdditionalHeaders();return It["Content-Type"]="application/json",p.languageCode&&(It["X-Firebase-Locale"]=p.languageCode),un.fetch()(dr(p,p.config.apiHost,d,Je),Object.assign({method:u,headers:It,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function Ur(p,u,d){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,y.Z)(function*(p,u,d){p._canInitEmulator=!1;const v=Object.assign(Object.assign({},ur),u);try{const L=new Br(p),K=yield Promise.race([d(),L.promise]);L.clearNetworkTimeout();const we=yield K.json();if("needConfirmation"in we)throw qn(p,"account-exists-with-different-credential",we);if(K.ok&&!("errorMessage"in we))return we;{const Je=K.ok?we.errorMessage:we.error.message,[It,Tt]=Je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw qn(p,"credential-already-in-use",we);if("EMAIL_EXISTS"===It)throw qn(p,"email-already-in-use",we);if("USER_DISABLED"===It)throw qn(p,"user-disabled",we);const mn=v[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Ve(p,mn,Tt);Me(p,mn)}}catch(L){if(L instanceof j.ZR)throw L;Me(p,"network-request-failed")}})).apply(this,arguments)}function pn(p,u,d,v){return ti.apply(this,arguments)}function ti(){return(ti=(0,y.Z)(function*(p,u,d,v,L={}){const K=yield fn(p,u,d,v,L);return"mfaPendingCredential"in K&&Me(p,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function dr(p,u,d,v){const L=`${u}${d}?${v}`;return p.config.emulator?Ft(p.config,L):`${p.config.apiScheme}://${L}`}class Br{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,v)=>{this.timer=setTimeout(()=>v(me(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(p,u,d){const v={appName:p.name};d.email&&(v.email=d.email),d.phoneNumber&&(v.phoneNumber=d.phoneNumber);const L=me(p,u,v);return L.customData._tokenResponse=d,L}function sn(){return(sn=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function kn(p,u){return xt.apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Sr(p,u){return Or.apply(this,arguments)}function Or(){return(Or=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function an(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Qt(){return(Qt=(0,y.Z)(function*(p,u=!1){const d=(0,j.m9)(p),v=yield d.getIdToken(u),L=Dt(v);P(L&&L.exp&&L.auth_time&&L.iat,d.auth,"internal-error");const K="object"==typeof L.firebase?L.firebase:void 0,we=K?.sign_in_provider;return{claims:L,token:v,authTime:an(Lt(L.auth_time)),issuedAtTime:an(Lt(L.iat)),expirationTime:an(Lt(L.exp)),signInProvider:we||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Lt(p){return 1e3*Number(p)}function Dt(p){const[u,d,v]=p.split(".");if(void 0===u||void 0===d||void 0===v)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,j.tV)(d);return L?JSON.parse(L):(rt("Failed to decode base64 JWT payload"),null)}catch(L){return rt("Caught error parsing JWT payload as JSON",L?.toString()),null}}function St(p,u){return $n.apply(this,arguments)}function $n(){return($n=(0,y.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(v){throw v instanceof j.ZR&&yr(v)&&p.auth.currentUser===p&&(yield p.auth.signOut()),v}})).apply(this,arguments)}function yr({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Gn{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const L=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,L)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const v=this.getInterval(u);this.timerId=setTimeout((0,y.Z)(function*(){yield d.iteration()}),v)}iteration(){var u=this;return(0,y.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class ai{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=an(this.lastLoginAt),this.creationTime=an(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rn(p){return zr.apply(this,arguments)}function zr(){return(zr=(0,y.Z)(function*(p){var u;const d=p.auth,v=yield p.getIdToken(),L=yield St(p,Sr(d,{idToken:v}));P(L?.users.length,d,"internal-error");const K=L.users[0];p._notifyReloadListener(K);const we=null!==(u=K.providerUserInfo)&&void 0!==u&&u.length?ft(K.providerUserInfo):[],Je=Nr(p.providerData,we),mn=!!p.isAnonymous&&!(p.email&&K.passwordHash||Je?.length),en={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Je,metadata:new ai(K.createdAt,K.lastLoginAt),isAnonymous:mn};Object.assign(p,en)})).apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(p){const u=(0,j.m9)(p);yield Rn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Nr(p,u){return[...p.filter(v=>!u.some(L=>L.providerId===v.providerId)),...u]}function ft(p){return p.map(u=>{var{providerId:d}=u,v=(0,ye._T)(u,["providerId"]);return{providerId:d,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Te(){return(Te=(0,y.Z)(function*(p,u){const d=yield Ur(p,{},(0,y.Z)(function*(){const v=(0,j.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:L,apiKey:K}=p.config,we=dr(p,L,"/v1/token",`key=${K}`),Je=yield p._getAdditionalHeaders();return Je["Content-Type"]="application/x-www-form-urlencoded",un.fetch()(we,{method:"POST",headers:Je,body:v})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){P(u.idToken,"internal-error"),P(typeof u.idToken<"u","internal-error"),P(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function or(p){const u=Dt(p);return P(u,"internal-error"),P(typeof u.exp<"u","internal-error"),P(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var v=this;return(0,y.Z)(function*(){return P(!v.accessToken||v.refreshToken,u,"user-token-expired"),d||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(u,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var v=this;return(0,y.Z)(function*(){const{accessToken:L,refreshToken:K,expiresIn:we}=yield function et(p,u){return Te.apply(this,arguments)}(u,d);v.updateTokensAndExpiration(L,K,Number(we))})()}updateTokensAndExpiration(u,d,v){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(u,d){const{refreshToken:v,accessToken:L,expirationTime:K}=d,we=new ee;return v&&(P("string"==typeof v,"internal-error",{appName:u}),we.refreshToken=v),L&&(P("string"==typeof L,"internal-error",{appName:u}),we.accessToken=L),K&&(P("number"==typeof K,"internal-error",{appName:u}),we.expirationTime=K),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return xe("not implemented")}}function le(p,u){P("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class ze{constructor(u){var{uid:d,auth:v,stsTokenManager:L}=u,K=(0,ye._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=v,this.stsTokenManager=L,this.accessToken=L.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new ai(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,y.Z)(function*(){const v=yield St(d,d.stsTokenManager.getToken(d.auth,u));return P(v,d.auth,"internal-error"),d.accessToken!==v&&(d.accessToken=v,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),v})()}getIdTokenResult(u){return function Ai(p){return Qt.apply(this,arguments)}(this,u)}reload(){return function Tn(p){return ar.apply(this,arguments)}(this)}_assign(u){this!==u&&(P(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new ze(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){P(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var v=this;return(0,y.Z)(function*(){let L=!1;u.idToken&&u.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(u),L=!0),d&&(yield Rn(v)),yield v.auth._persistUserIfCurrent(v),L&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var u=this;return(0,y.Z)(function*(){const d=yield u.getIdToken();return yield St(u,function bn(p,u){return sn.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var v,L,K,we,Je,It,Tt,mn;const en=null!==(v=d.displayName)&&void 0!==v?v:void 0,Ti=null!==(L=d.email)&&void 0!==L?L:void 0,ko=null!==(K=d.phoneNumber)&&void 0!==K?K:void 0,kl=null!==(we=d.photoURL)&&void 0!==we?we:void 0,Cc=null!==(Je=d.tenantId)&&void 0!==Je?Je:void 0,ul=null!==(It=d._redirectEventId)&&void 0!==It?It:void 0,zo=null!==(Tt=d.createdAt)&&void 0!==Tt?Tt:void 0,cl=null!==(mn=d.lastLoginAt)&&void 0!==mn?mn:void 0,{uid:xl,emailVerified:ju,isAnonymous:$u,providerData:hd,stsTokenManager:bc}=d;P(xl&&bc,u,"internal-error");const hh=ee.fromJSON(this.name,bc);P("string"==typeof xl,u,"internal-error"),le(en,u.name),le(Ti,u.name),P("boolean"==typeof ju,u,"internal-error"),P("boolean"==typeof $u,u,"internal-error"),le(ko,u.name),le(kl,u.name),le(Cc,u.name),le(ul,u.name),le(zo,u.name),le(cl,u.name);const Ll=new ze({uid:xl,auth:u,email:Ti,emailVerified:ju,displayName:en,isAnonymous:$u,photoURL:kl,phoneNumber:ko,tenantId:Cc,stsTokenManager:hh,createdAt:zo,lastLoginAt:cl});return hd&&Array.isArray(hd)&&(Ll.providerData=hd.map(Wu=>Object.assign({},Wu))),ul&&(Ll._redirectEventId=ul),Ll}static _fromIdTokenResponse(u,d,v=!1){return(0,y.Z)(function*(){const L=new ee;L.updateFromServerResponse(d);const K=new ze({uid:d.localId,auth:u,stsTokenManager:L,isAnonymous:v});return yield Rn(K),K})()}}const X=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(d,v){var L=this;return(0,y.Z)(function*(){L.storage[d]=v})()}_get(d){var v=this;return(0,y.Z)(function*(){const L=v.storage[d];return void 0===L?null:L})()}_remove(d){var v=this;return(0,y.Z)(function*(){delete v.storage[d]})()}_addListener(d,v){}_removeListener(d,v){}}return p.type="NONE",p})();function he(p,u,d){return`firebase:${p}:${u}:${d}`}class He{constructor(u,d,v){this.persistence=u,this.auth=d,this.userKey=v;const{config:L,name:K}=this.auth;this.fullUserKey=he(this.userKey,L.apiKey,K),this.fullPersistenceKey=he("persistence",L.apiKey,K),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,y.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?ze._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,y.Z)(function*(){if(d.persistence===u)return;const v=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,v?d.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,v="authUser"){return(0,y.Z)(function*(){if(!d.length)return new He(Pe(X),u,v);const L=(yield Promise.all(d.map(function(){var Tt=(0,y.Z)(function*(mn){if(yield mn._isAvailable())return mn});return function(mn){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let K=L[0]||Pe(X);const we=he(v,u.config.apiKey,u.name);let Je=null;for(const Tt of d)try{const mn=yield Tt._get(we);if(mn){const en=ze._fromJSON(u,mn);Tt!==K&&(Je=en),K=Tt;break}}catch{}const It=L.filter(Tt=>Tt._shouldAllowMigration);return K._shouldAllowMigration&&It.length?(K=It[0],Je&&(yield K._set(we,Je.toJSON())),yield Promise.all(d.map(function(){var Tt=(0,y.Z)(function*(mn){if(mn!==K)try{yield mn._remove(we)}catch{}});return function(mn){return Tt.apply(this,arguments)}}())),new He(K,u,v)):new He(K,u,v)})()}}function ve(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(cn(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(mt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(ce(u))return"Blackberry";if(J(u))return"Webos";if(tn(u))return"Safari";if((u.includes("chrome/")||nn(u))&&!u.includes("edge/"))return"Chrome";if(ae(u))return"Android";{const v=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function mt(p=(0,j.z$)()){return/firefox\//i.test(p)}function tn(p=(0,j.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function nn(p=(0,j.z$)()){return/crios\//i.test(p)}function cn(p=(0,j.z$)()){return/iemobile/i.test(p)}function ae(p=(0,j.z$)()){return/android/i.test(p)}function ce(p=(0,j.z$)()){return/blackberry/i.test(p)}function J(p=(0,j.z$)()){return/webos/i.test(p)}function be(p=(0,j.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function br(p=(0,j.z$)()){return be(p)||ae(p)||J(p)||ce(p)||/windows phone/i.test(p)||cn(p)}function Ri(p,u=[]){let d;switch(p){case"Browser":d=ve((0,j.z$)());break;case"Worker":d=`${ve((0,j.z$)())}-${p}`;break;default:d=p}const v=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${de.SDK_VERSION}/${v}`}class Ui{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const v=K=>new Promise((we,Je)=>{try{we(u(K))}catch(It){Je(It)}});v.onAbort=d,this.queue.push(v);const L=this.queue.length-1;return()=>{this.queue[L]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,y.Z)(function*(){if(d.auth.currentUser===u)return;const v=[];try{for(const L of d.queue)yield L(u),L.onAbort&&v.push(L.onAbort)}catch(L){v.reverse();for(const K of v)try{K()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:L?.message})}})()}}class us{constructor(u,d,v){this.app=u,this.heartbeatServiceProvider=d,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Do(this),this.idTokenSubscription=new Do(this),this.beforeStateQueue=new Ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(u,d){var v=this;return d&&(this._popupRedirectResolver=Pe(d)),this._initializationPromise=this.queue((0,y.Z)(function*(){var L,K;if(!v._deleted&&(v.persistenceManager=yield He.create(v,u),!v._deleted)){if(null!==(L=v._popupRedirectResolver)&&void 0!==L&&L._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(d),v.lastNotifiedUid=(null===(K=v.currentUser)||void 0===K?void 0:K.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,y.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,y.Z)(function*(){var v;const L=yield d.assertedPersistence.getCurrentUser();let K=L,we=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Je=null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId,It=K?._redirectEventId,Tt=yield d.tryRedirectSignIn(u);(!Je||Je===It)&&Tt?.user&&(K=Tt.user,we=!0)}if(!K)return d.directlySetCurrentUser(null);if(!K._redirectEventId){if(we)try{yield d.beforeStateQueue.runMiddleware(K)}catch(Je){K=L,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Je))}return K?d.reloadAndSetCurrentUserOrClear(K):d.directlySetCurrentUser(null)}return P(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===K._redirectEventId?d.directlySetCurrentUser(K):d.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(u){var d=this;return(0,y.Z)(function*(){let v=null;try{v=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,y.Z)(function*(){try{yield Rn(u)}catch(v){if("auth/network-request-failed"!==v?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Yt(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,y.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,y.Z)(function*(){const v=u?(0,j.m9)(u):null;return v&&P(v.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(v&&v._clone(d))})()}_updateCurrentUser(u,d=!1){var v=this;return(0,y.Z)(function*(){if(!v._deleted)return u&&P(v.tenantId===u.tenantId,v,"tenant-id-mismatch"),d||(yield v.beforeStateQueue.runMiddleware(u)),v.queue((0,y.Z)(function*(){yield v.directlySetCurrentUser(u),v.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,y.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,y.Z)(function*(){yield d.assertedPersistence.setPersistence(Pe(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new j.LL("auth","Firebase",u())}onAuthStateChanged(u,d,v){return this.registerStateListener(this.authStateSubscription,u,d,v)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,v){return this.registerStateListener(this.idTokenSubscription,u,d,v)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var v=this;return(0,y.Z)(function*(){const L=yield v.getOrInitRedirectPersistenceManager(d);return null===u?L.removeCurrentUser():L.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,y.Z)(function*(){if(!d.redirectPersistenceManager){const v=u&&Pe(u)||d._popupRedirectResolver;P(v,d,"argument-error"),d.redirectPersistenceManager=yield He.create(d,[Pe(v._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,y.Z)(function*(){var v,L;return d._isInitialized&&(yield d.queue((0,y.Z)(function*(){}))),(null===(v=d._currentUser)||void 0===v?void 0:v._redirectEventId)===u?d._currentUser:(null===(L=d.redirectUser)||void 0===L?void 0:L._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,y.Z)(function*(){if(u===d.currentUser)return d.queue((0,y.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,v,L){if(this._deleted)return()=>{};const K="function"==typeof d?d:d.next.bind(d),we=this._isInitialized?Promise.resolve():this._initializationPromise;return P(we,this,"internal-error"),we.then(()=>K(this.currentUser)),"function"==typeof d?u.addObserver(d,v,L):u.addObserver(d)}directlySetCurrentUser(u){var d=this;return(0,y.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return P(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,y.Z)(function*(){var d;const v={"X-Client-Version":u.clientVersion};u.app.options.appId&&(v["X-Firebase-gmpid"]=u.app.options.appId);const L=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return L&&(v["X-Firebase-Client"]=L),v})()}}function Qn(p){return(0,j.m9)(p)}class Do{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,j.ne)(d=>this.observer=d)}get next(){return P(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ar(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function Mn(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Dr{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return xe("not implemented")}_getIdTokenResponse(u){return xe("not implemented")}_linkToIdToken(u,d){return xe("not implemented")}_getReauthenticationResolver(u){return xe("not implemented")}}function tr(p,u){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:resetPassword",Ut(p,u))})).apply(this,arguments)}function ni(p,u){return bt.apply(this,arguments)}function bt(){return(bt=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Jt(p,u){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:update",Ut(p,u))})).apply(this,arguments)}function Bi(){return(Bi=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithPassword",Ut(p,u))})).apply(this,arguments)}function nr(p,u){return vr.apply(this,arguments)}function vr(){return(vr=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:sendOobCode",Ut(p,u))})).apply(this,arguments)}function lr(p,u){return ri.apply(this,arguments)}function ri(){return(ri=(0,y.Z)(function*(p,u){return nr(p,u)})).apply(this,arguments)}function Mi(p,u){return dn.apply(this,arguments)}function dn(){return(dn=(0,y.Z)(function*(p,u){return nr(p,u)})).apply(this,arguments)}function ks(p,u){return cs.apply(this,arguments)}function cs(){return(cs=(0,y.Z)(function*(p,u){return nr(p,u)})).apply(this,arguments)}function ho(p,u){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,y.Z)(function*(p,u){return nr(p,u)})).apply(this,arguments)}function vs(){return(vs=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithEmailLink",Ut(p,u))})).apply(this,arguments)}function kr(){return(kr=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithEmailLink",Ut(p,u))})).apply(this,arguments)}class Pi extends Dr{constructor(u,d,v,L=null){super("password",v),this._email=u,this._password=d,this._tenantId=L}static _fromEmailAndPassword(u,d){return new Pi(u,d,"password")}static _fromEmailAndCode(u,d,v=null){return new Pi(u,d,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,y.Z)(function*(){switch(d.signInMethod){case"password":return function Gr(p,u){return Bi.apply(this,arguments)}(u,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function Kr(p,u){return vs.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Me(u,"internal-error")}})()}_linkToIdToken(u,d){var v=this;return(0,y.Z)(function*(){switch(v.signInMethod){case"password":return ni(u,{idToken:d,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Es(p,u){return kr.apply(this,arguments)}(u,{idToken:d,email:v._email,oobCode:v._password});default:Me(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function Ii(p,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithIdp",Ut(p,u))})).apply(this,arguments)}class li extends Dr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new li(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Me("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:L}=d,K=(0,ye._T)(d,["providerId","signInMethod"]);if(!v||!L)return null;const we=new li(v,L);return we.idToken=K.idToken||void 0,we.accessToken=K.accessToken||void 0,we.secret=K.secret,we.nonce=K.nonce,we.pendingToken=K.pendingToken||null,we}_getIdTokenResponse(u){return Ii(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,Ii(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ii(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,j.xO)(d)}return u}}function Wn(p,u){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:sendVerificationCode",Ut(p,u))})).apply(this,arguments)}function Er(){return(Er=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithPhoneNumber",Ut(p,u))})).apply(this,arguments)}function ds(){return(ds=(0,y.Z)(function*(p,u){const d=yield pn(p,"POST","/v1/accounts:signInWithPhoneNumber",Ut(p,u));if(d.temporaryProof)throw qn(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Hr={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithPhoneNumber",Ut(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Hr)})).apply(this,arguments)}class In extends Dr{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new In({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new In({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function ln(p,u){return Er.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function En(p,u){return ds.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Tr(p,u){return ui.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:v,verificationCode:L}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:v,code:L}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:v,phoneNumber:L,temporaryProof:K}=u;return v||d||L||K?new In({verificationId:d,verificationCode:v,phoneNumber:L,temporaryProof:K}):null}}class Is{constructor(u){var d,v,L,K,we,Je;const It=(0,j.zd)((0,j.pd)(u)),Tt=null!==(d=It.apiKey)&&void 0!==d?d:null,mn=null!==(v=It.oobCode)&&void 0!==v?v:null,en=function _n(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(L=It.mode)&&void 0!==L?L:null);P(Tt&&mn&&en,"argument-error"),this.apiKey=Tt,this.operation=en,this.code=mn,this.continueUrl=null!==(K=It.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(we=It.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(Je=It.tenantId)&&void 0!==Je?Je:null}static parseLink(u){const d=function Jn(p){const u=(0,j.zd)((0,j.pd)(p)).link,d=u?(0,j.zd)((0,j.pd)(u)).deep_link_id:null,v=(0,j.zd)((0,j.pd)(p)).deep_link_id;return(v?(0,j.zd)((0,j.pd)(v)).link:null)||v||d||u||p}(u);try{return new Is(d)}catch{return null}}}let ii=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,v){return Pi._fromEmailAndPassword(d,v)}static credentialWithLink(d,v){const L=Is.parseLink(v);return P(L,"argument-error"),Pi._fromEmailAndCode(d,L.code,L.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class qi{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Hi extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class hs extends Hi{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return P("providerId"in d&&"signInMethod"in d,"argument-error"),li._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return P(u.idToken||u.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return hs.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return hs.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:v,oauthTokenSecret:L,pendingToken:K,nonce:we,providerId:Je}=u;if(!v&&!L&&!d&&!K||!Je)return null;try{return new hs(Je)._credential({idToken:d,accessToken:v,nonce:we,pendingToken:K})}catch{return null}}}let ws=(()=>{class p extends Hi{constructor(){super("facebook.com")}static credential(d){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Cs=(()=>{class p extends Hi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,v){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:v})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:v,oauthAccessToken:L}=d;if(!v&&!L)return null;try{return p.credential(v,L)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Qs=(()=>{class p extends Hi{constructor(){super("github.com")}static credential(d){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ls extends Dr{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return Ii(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,Ii(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,Ii(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:L,pendingToken:K}=d;return v&&L&&K&&v===L?new Ls(v,K):null}static _create(u,d){return new Ls(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vi extends qi{constructor(u){P(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return Vi.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return Vi.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Ls.fromJSON(u);return P(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:v}=u;if(!d||!v)return null;try{return Ls._create(v,d)}catch{return null}}}let oa=(()=>{class p extends Hi{constructor(){super("twitter.com")}static credential(d,v){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:v})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:v,oauthTokenSecret:L}=d;if(!v||!L)return null;try{return p.credential(v,L)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Fs(p,u){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signUp",Ut(p,u))})).apply(this,arguments)}class wr{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,v,L=!1){return(0,y.Z)(function*(){const K=yield ze._fromIdTokenResponse(u,v,L),we=yn(v);return new wr({user:K,providerId:we,_tokenResponse:v,operationType:d})})()}static _forOperation(u,d,v){return(0,y.Z)(function*(){yield u._updateTokensIfNecessary(v,!0);const L=yn(v);return new wr({user:u,providerId:L,_tokenResponse:v,operationType:d})})()}}function yn(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function bs(){return(bs=(0,y.Z)(function*(p){var u;const d=Qn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new wr({user:d.currentUser,providerId:null,operationType:"signIn"});const v=yield Fs(d,{returnSecureToken:!0}),L=yield wr._fromIdTokenResponse(d,"signIn",v,!0);return yield d._updateCurrentUser(L.user),L})).apply(this,arguments)}class fs extends j.ZR{constructor(u,d,v,L){var K;super(d.code,d.message),this.operationType=v,this.user=L,Object.setPrototypeOf(this,fs.prototype),this.customData={appName:u.name,tenantId:null!==(K=u.tenantId)&&void 0!==K?K:void 0,_serverResponse:d.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(u,d,v,L){return new fs(u,d,v,L)}}function Mr(p,u,d,v){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?fs._fromErrorAndOperation(p,K,u,v):K})}function wi(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Ts(){return(Ts=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p);yield ji(!0,d,u);const{providerUserInfo:v}=yield kn(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),L=wi(v||[]);return d.providerData=d.providerData.filter(K=>L.has(K.providerId)),L.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function Pr(p,u){return xr.apply(this,arguments)}function xr(){return(xr=(0,y.Z)(function*(p,u,d=!1){const v=yield St(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return wr._forOperation(p,"link",v)})).apply(this,arguments)}function ji(p,u,d){return $i.apply(this,arguments)}function $i(){return($i=(0,y.Z)(function*(p,u,d){yield Rn(u);const L=!1===p?"provider-already-linked":"no-such-provider";P(wi(u.providerData).has(d)===p,u.auth,L)})).apply(this,arguments)}function wo(p,u){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,y.Z)(function*(p,u,d=!1){const{auth:v}=p,L="reauthenticate";try{const K=yield St(p,Mr(v,L,u,p),d);P(K.idToken,v,"internal-error");const we=Dt(K.idToken);P(we,v,"internal-error");const{sub:Je}=we;return P(p.uid===Je,v,"user-mismatch"),wr._forOperation(p,L,K)}catch(K){throw"auth/user-not-found"===K?.code&&Me(v,"user-mismatch"),K}})).apply(this,arguments)}function Qi(p,u){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,y.Z)(function*(p,u,d=!1){const v="signIn",L=yield Mr(p,v,u),K=yield wr._fromIdTokenResponse(p,v,L);return d||(yield p._updateCurrentUser(K.user)),K})).apply(this,arguments)}function rr(p,u){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,y.Z)(function*(p,u){return Qi(Qn(p),u)})).apply(this,arguments)}function ir(p,u){return si.apply(this,arguments)}function si(){return(si=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p);return yield ji(!1,d,u.providerId),Pr(d,u)})).apply(this,arguments)}function Ji(p,u){return hr.apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(p,u){return wo((0,j.m9)(p),u)})).apply(this,arguments)}function Zn(p,u){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(p,u){return pn(p,"POST","/v1/accounts:signInWithCustomToken",Ut(p,u))})).apply(this,arguments)}function gr(){return(gr=(0,y.Z)(function*(p,u){const d=Qn(p),v=yield Zn(d,{token:u,returnSecureToken:!0}),L=yield wr._fromIdTokenResponse(d,"signIn",v);return yield d._updateCurrentUser(L.user),L})).apply(this,arguments)}class Ss{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Ci._fromServerResponse(u,d):Me(u,"internal-error")}}class Ci extends Ss{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Ci(d)}}function jr(p,u,d){var v;P((null===(v=d.url)||void 0===v?void 0:v.length)>0,p,"invalid-continue-uri"),P(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(P(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(P(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Xt(){return(Xt=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),L={requestType:"PASSWORD_RESET",email:u};d&&jr(v,L,d),yield Mi(v,L)})).apply(this,arguments)}function zt(){return(zt=(0,y.Z)(function*(p,u,d){yield tr((0,j.m9)(p),{oobCode:u,newPassword:d})})).apply(this,arguments)}function fr(){return(fr=(0,y.Z)(function*(p,u){yield Jt((0,j.m9)(p),{oobCode:u})})).apply(this,arguments)}function As(p,u){return Co.apply(this,arguments)}function Co(){return(Co=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p),v=yield tr(d,{oobCode:u}),L=v.requestType;switch(P(L,d,"internal-error"),L){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":P(v.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":P(v.mfaInfo,d,"internal-error");default:P(v.email,d,"internal-error")}let K=null;return v.mfaInfo&&(K=Ss._fromServerResponse(Qn(d),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:K},operation:L}})).apply(this,arguments)}function to(){return(to=(0,y.Z)(function*(p,u){const{data:d}=yield As((0,j.m9)(p),u);return d.email})).apply(this,arguments)}function js(){return(js=(0,y.Z)(function*(p,u,d){const v=Qn(p),L=yield Fs(v,{returnSecureToken:!0,email:u,password:d}),K=yield wr._fromIdTokenResponse(v,"signIn",L);return yield v._updateCurrentUser(K.user),K})).apply(this,arguments)}function Xi(){return(Xi=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),L={requestType:"EMAIL_SIGNIN",email:u};P(d.handleCodeInApp,v,"argument-error"),d&&jr(v,L,d),yield ks(v,L)})).apply(this,arguments)}function ps(){return(ps=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),L=ii.credentialWithLink(u,d||ct());return P(L._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),rr(v,L)})).apply(this,arguments)}function fo(p,u){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:createAuthUri",Ut(p,u))})).apply(this,arguments)}function $s(){return($s=(0,y.Z)(function*(p,u){const v={identifier:u,continueUri:kt()?ct():"http://localhost"},{signinMethods:L}=yield fo((0,j.m9)(p),v);return L||[]})).apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p),L={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&jr(d.auth,L,u);const{email:K}=yield lr(d.auth,L);K!==p.email&&(yield p.reload())})).apply(this,arguments)}function mr(){return(mr=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&jr(v.auth,K,d);const{email:we}=yield ho(v.auth,K);we!==p.email&&(yield p.reload())})).apply(this,arguments)}function di(p,u){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(p,u){return fn(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function ki(){return(ki=(0,y.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const v=(0,j.m9)(p),K={idToken:yield v.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},we=yield St(v,di(v.auth,K));v.displayName=we.displayName||null,v.photoURL=we.photoUrl||null;const Je=v.providerData.find(({providerId:It})=>"password"===It);Je&&(Je.displayName=v.displayName,Je.photoURL=v.photoURL),yield v._updateTokensIfNecessary(we)})).apply(this,arguments)}function ts(p,u,d){return B.apply(this,arguments)}function B(){return(B=(0,y.Z)(function*(p,u,d){const{auth:v}=p,K={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(K.email=u),d&&(K.password=d);const we=yield St(p,ni(v,K));yield p._updateTokensIfNecessary(we,!0)})).apply(this,arguments)}class E{constructor(u,d,v={}){this.isNewUser=u,this.providerId=d,this.profile=v}}class M extends E{constructor(u,d,v,L){super(u,d,v),this.username=L}}class H extends E{constructor(u,d){super(u,"facebook.com",d)}}class q extends M{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class fe extends E{constructor(u,d){super(u,"google.com",d)}}class ue extends M{constructor(u,d,v){super(u,"twitter.com",d,v)}}function Ne(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function m(p){var u,d;if(!p)return null;const{providerId:v}=p,L=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},K=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!v&&p?.idToken){const we=null===(d=null===(u=Dt(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(we)return new E(K,"anonymous"!==we&&"custom"!==we?we:null)}if(!v)return null;switch(v){case"facebook.com":return new H(K,L);case"github.com":return new q(K,L);case"google.com":return new fe(K,L);case"twitter.com":return new ue(K,L,p.screenName||null);case"custom":case"anonymous":return new E(K,null);default:return new E(K,v,L)}}(d)}class Xn{constructor(u,d,v){this.type=u,this.credential=d,this.auth=v}static _fromIdtoken(u,d){return new Xn("enroll",u,d)}static _fromMfaPendingCredential(u){return new Xn("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,v;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Xn._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(v=u.multiFactorSession)&&void 0!==v&&v.idToken)return Xn._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Wr{constructor(u,d,v){this.session=u,this.hints=d,this.signInResolver=v}static _fromError(u,d){const v=Qn(u),L=d.customData._serverResponse,K=(L.mfaInfo||[]).map(Je=>Ss._fromServerResponse(v,Je));P(L.mfaPendingCredential,v,"internal-error");const we=Xn._fromMfaPendingCredential(L.mfaPendingCredential);return new Wr(we,K,function(){var Je=(0,y.Z)(function*(It){const Tt=yield It._process(v,we);delete L.mfaInfo,delete L.mfaPendingCredential;const mn=Object.assign(Object.assign({},L),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(d.operationType){case"signIn":const en=yield wr._fromIdTokenResponse(v,d.operationType,mn);return yield v._updateCurrentUser(en.user),en;case"reauthenticate":return P(d.user,v,"internal-error"),wr._forOperation(d.user,d.operationType,mn);default:Me(v,"internal-error")}});return function(It){return Je.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,y.Z)(function*(){return d.signInResolver(u)})()}}function ns(p,u){return fn(p,"POST","/v2/accounts/mfaEnrollment:start",Ut(p,u))}class qr{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(v=>Ss._fromServerResponse(u.auth,v)))})}static _fromUser(u){return new qr(u)}getSession(){var u=this;return(0,y.Z)(function*(){return Xn._fromIdtoken(yield u.user.getIdToken(),u.user.auth)})()}enroll(u,d){var v=this;return(0,y.Z)(function*(){const L=u,K=yield v.getSession(),we=yield St(v.user,L._process(v.user.auth,K,d));return yield v.user._updateTokensIfNecessary(we),v.user.reload()})()}unenroll(u){var d=this;return(0,y.Z)(function*(){const v="string"==typeof u?u:u.uid,L=yield d.user.getIdToken(),K=yield St(d.user,function Yr(p,u){return fn(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(p,u))}(d.user.auth,{idToken:L,mfaEnrollmentId:v}));d.enrolledFactors=d.enrolledFactors.filter(({uid:we})=>we!==v),yield d.user._updateTokensIfNecessary(K);try{yield d.user.reload()}catch(we){if("auth/user-token-expired"!==we?.code)throw we}})()}}const C=new WeakMap,S="__sak";class V{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(S,"1"),this.storage.removeItem(S),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const pt=(()=>{class p extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,v)=>this.onStorageEvent(d,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ne(){const p=(0,j.z$)();return tn(p)||be(p)}()&&function pr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=br(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const v of Object.keys(this.listeners)){const L=this.storage.getItem(v),K=this.localCache[v];L!==K&&d(v,K,L)}}onStorageEvent(d,v=!1){if(!d.key)return void this.forAllChangedKeys((Je,It,Tt)=>{this.notifyListeners(Je,Tt)});const L=d.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Je=this.storage.getItem(L);if(d.newValue!==Je)null!==d.newValue?this.storage.setItem(L,d.newValue):this.storage.removeItem(L);else if(this.localCache[L]===d.newValue&&!v)return}const K=()=>{const Je=this.storage.getItem(L);!v&&this.localCache[L]===Je||this.notifyListeners(L,Je)},we=this.storage.getItem(L);!function gn(){return(0,j.w1)()&&10===document.documentMode}()||we===d.newValue||d.newValue===d.oldValue?K():setTimeout(K,10)}notifyListeners(d,v){this.localCache[d]=v;const L=this.listeners[d];if(L)for(const K of Array.from(L))K(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,v,L)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:v,newValue:L}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,v){var L=()=>super._set,K=this;return(0,y.Z)(function*(){yield L().call(K,d,v),K.localCache[d]=JSON.stringify(v)})()}_get(d){var v=()=>super._get,L=this;return(0,y.Z)(function*(){const K=yield v().call(L,d);return L.localCache[d]=JSON.stringify(K),K})()}_remove(d){var v=()=>super._remove,L=this;return(0,y.Z)(function*(){yield v().call(L,d),delete L.localCache[d]})()}}return p.type="LOCAL",p})(),Rt=(()=>{class p extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,v){}_removeListener(d,v){}}return p.type="SESSION",p})();let Vn=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const v=this.receivers.find(K=>K.isListeningto(d));if(v)return v;const L=new p(d);return this.receivers.push(L),L}isListeningto(d){return this.eventTarget===d}handleEvent(d){var v=this;return(0,y.Z)(function*(){const L=d,{eventId:K,eventType:we,data:Je}=L.data,It=v.handlersMap[we];if(!It?.size)return;L.ports[0].postMessage({status:"ack",eventId:K,eventType:we});const Tt=Array.from(It).map(function(){var en=(0,y.Z)(function*(Ti){return Ti(L.origin,Je)});return function(Ti){return en.apply(this,arguments)}}()),mn=yield function Bt(p){return Promise.all(p.map(function(){var u=(0,y.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(v){return{fulfilled:!1,reason:v}}});return function(d){return u.apply(this,arguments)}}()))}(Tt);L.ports[0].postMessage({status:"done",eventId:K,eventType:we,response:mn})})()}_subscribe(d,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(v)}_unsubscribe(d,v){this.handlersMap[d]&&v&&this.handlersMap[d].delete(v),(!v||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function on(p="",u=10){let d="";for(let v=0;v<u;v++)d+=Math.floor(10*Math.random());return p+d}class er{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,v=50){var L=this;return(0,y.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let we,Je;return new Promise((It,Tt)=>{const mn=on("",20);K.port1.start();const en=setTimeout(()=>{Tt(new Error("unsupported_event"))},v);Je={messageChannel:K,onMessage(Ti){const ko=Ti;if(ko.data.eventId===mn)switch(ko.data.status){case"ack":clearTimeout(en),we=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),It(ko.data.response);break;default:clearTimeout(en),clearTimeout(we),Tt(new Error("invalid_response"))}}},L.handlers.add(Je),K.port1.addEventListener("message",Je.onMessage),L.target.postMessage({eventType:u,eventId:mn,data:d},[K.port2])}).finally(()=>{Je&&L.removeMessageHandler(Je)})})()}}function jt(){return window}function xi(){return typeof jt().WorkerGlobalScope<"u"&&"function"==typeof jt().importScripts}function Jr(){return(Jr=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const no="firebaseLocalStorageDb",ro="firebaseLocalStorage",Yo="fbase_key";class Bo{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function qo(p,u){return p.transaction([ro],u?"readwrite":"readonly").objectStore(ro)}function wa(){const p=indexedDB.open(no,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const v=p.result;try{v.createObjectStore(ro,{keyPath:Yo})}catch(L){d(L)}}),p.addEventListener("success",(0,y.Z)(function*(){const v=p.result;v.objectStoreNames.contains(ro)?u(v):(v.close(),yield function bo(){const p=indexedDB.deleteDatabase(no);return new Bo(p).toPromise()}(),u(yield wa()))}))})}function is(p,u,d){return To.apply(this,arguments)}function To(){return(To=(0,y.Z)(function*(p,u,d){const v=qo(p,!0).put({[Yo]:u,value:d});return new Bo(v).toPromise()})).apply(this,arguments)}function mo(){return(mo=(0,y.Z)(function*(p,u){const d=qo(p,!1).get(u),v=yield new Bo(d).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function So(p,u){const d=qo(p,!0).delete(u);return new Bo(d).toPromise()}const Gs=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.Z)(function*(){return d.db||(d.db=yield wa()),d.db})()}_withRetries(d){var v=this;return(0,y.Z)(function*(){let L=0;for(;;)try{const K=yield v._openDb();return yield d(K)}catch(K){if(L++>3)throw K;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.Z)(function*(){return xi()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.Z)(function*(){d.receiver=Vn._getInstance(function rs(){return xi()?self:null}()),d.receiver._subscribe("keyChanged",function(){var v=(0,y.Z)(function*(L,K){return{keyProcessed:(yield d._poll()).includes(K.key)}});return function(L,K){return v.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var v=(0,y.Z)(function*(L,K){return["keyChanged"]});return function(L,K){return v.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.Z)(function*(){var v,L;if(d.activeServiceWorker=yield function zn(){return Jr.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new er(d.activeServiceWorker);const K=yield d.sender._send("ping",{},800);K&&null!==(v=K[0])&&void 0!==v&&v.fulfilled&&null!==(L=K[0])&&void 0!==L&&L.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var v=this;return(0,y.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Fr(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:d},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const d=yield wa();return yield is(d,S,"1"),yield So(d,S),!0}catch{}return!1})()}_withPendingWrite(d){var v=this;return(0,y.Z)(function*(){v.pendingWrites++;try{yield d()}finally{v.pendingWrites--}})()}_set(d,v){var L=this;return(0,y.Z)(function*(){return L._withPendingWrite((0,y.Z)(function*(){return yield L._withRetries(K=>is(K,d,v)),L.localCache[d]=v,L.notifyServiceWorker(d)}))})()}_get(d){var v=this;return(0,y.Z)(function*(){const L=yield v._withRetries(K=>function go(p,u){return mo.apply(this,arguments)}(K,d));return v.localCache[d]=L,L})()}_remove(d){var v=this;return(0,y.Z)(function*(){return v._withPendingWrite((0,y.Z)(function*(){return yield v._withRetries(L=>So(L,d)),delete v.localCache[d],v.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.Z)(function*(){const v=yield d._withRetries(we=>{const Je=qo(we,!1).getAll();return new Bo(Je).toPromise()});if(!v)return[];if(0!==d.pendingWrites)return[];const L=[],K=new Set;for(const{fbase_key:we,value:Je}of v)K.add(we),JSON.stringify(d.localCache[we])!==JSON.stringify(Je)&&(d.notifyListeners(we,Je),L.push(we));for(const we of Object.keys(d.localCache))d.localCache[we]&&!K.has(we)&&(d.notifyListeners(we,null),L.push(we));return L})()}notifyListeners(d,v){this.localCache[d]=v;const L=this.listeners[d];if(L)for(const K of Array.from(L))K(v)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function la(p,u){return fn(p,"POST","/v2/accounts/mfaSignIn:start",Ut(p,u))}function Qo(){return(Qo=(0,y.Z)(function*(p){return(yield fn(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Rs(p){return new Promise((u,d)=>{const v=document.createElement("script");v.setAttribute("src",p),v.onload=u,v.onerror=L=>{const K=me("internal-error");K.customData=L,d(K)},v.type="text/javascript",v.charset="UTF-8",function ua(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(v)})}function Jo(p){return`__${p}${Math.floor(1e6*Math.random())}`}const ss=1e12;class ba{constructor(u){this.auth=u,this.counter=ss,this._widgets=new Map}render(u,d){const v=this.counter;return this._widgets.set(v,new io(u,this.auth.name,d||{})),this.counter++,v}reset(u){var d;const v=u||ss;null===(d=this._widgets.get(v))||void 0===d||d.delete(),this._widgets.delete(v)}getResponse(u){var d;return(null===(d=this._widgets.get(u||ss))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,y.Z)(function*(){var v;return null===(v=d._widgets.get(u||ss))||void 0===v||v.execute(),""})()}}class io{constructor(u,d,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const L="string"==typeof u?document.getElementById(u):u;P(L,"argument-error",{appName:d}),this.container=L,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xo(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<p;v++)u.push(d.charAt(Math.floor(Math.random()*d.length)));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=Jo("rcb"),Sa=new qt(3e4,6e4);class so{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=jt().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return P(function Ho(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(jt().grecaptcha):new Promise((v,L)=>{const K=jt().setTimeout(()=>{L(me(u,"network-request-failed"))},Sa.get());jt()[Ta]=()=>{jt().clearTimeout(K),delete jt()[Ta];const Je=jt().grecaptcha;if(!Je)return void L(me(u,"internal-error"));const It=Je.render;Je.render=(Tt,mn)=>{const en=It(Tt,mn);return this.counter++,en},this.hostLanguage=d,v(Je)},Rs(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ta,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(K),L(me(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=jt().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ao{load(u){return(0,y.Z)(function*(){return new ba(u)})()}clearedOneInstance(){}}const qa="recaptcha",Qa={theme:"light",type:"image"};class ea{constructor(u,d=Object.assign({},Qa),v){this.parameters=d,this.type=qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qn(v),this.isInvisible="invisible"===this.parameters.size,P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const L="string"==typeof u?document.getElementById(u):u;P(L,this.auth,"argument-error"),this.container=L,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ao:new so,this.validateStartingState()}verify(){var u=this;return(0,y.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),v=u.getAssertedRecaptcha();return v.getResponse(d)||new Promise(K=>{const we=Je=>{Je&&(u.tokenChangeListeners.delete(we),K(Je))};u.tokenChangeListeners.add(we),u.isInvisible&&v.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){P(!this.parameters.sitekey,this.auth,"argument-error"),P(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),P(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(v=>v(d)),"function"==typeof u)u(d);else if("string"==typeof u){const v=jt()[u];"function"==typeof v&&v(d)}}}assertNotDestroyed(){P(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,y.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const v=document.createElement("div");d.appendChild(v),d=v}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,y.Z)(function*(){P(kt()&&!xi(),u.auth,"internal-error"),yield function Ja(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function gs(p){return Qo.apply(this,arguments)}(u.auth);P(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return P(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xa{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=In._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Aa(){return(Aa=(0,y.Z)(function*(p,u,d){const v=Qn(p),L=yield Ma(v,u,(0,j.m9)(d));return new Xa(L,K=>rr(v,K))})).apply(this,arguments)}function el(){return(el=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);yield ji(!1,v,"phone");const L=yield Ma(v.auth,u,(0,j.m9)(d));return new Xa(L,K=>ir(v,K))})).apply(this,arguments)}function Ra(){return(Ra=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),L=yield Ma(v.auth,u,(0,j.m9)(d));return new Xa(L,K=>Ji(v,K))})).apply(this,arguments)}function Ma(p,u,d){return tl.apply(this,arguments)}function tl(){return(tl=(0,y.Z)(function*(p,u,d){var v;const L=yield d.verify();try{let K;if(P("string"==typeof L,p,"argument-error"),P(d.type===qa,p,"argument-error"),K="string"==typeof u?{phoneNumber:u}:u,"session"in K){const we=K.session;if("phoneNumber"in K)return P("enroll"===we.type,p,"internal-error"),(yield ns(p,{idToken:we.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:L}})).phoneSessionInfo.sessionInfo;{P("signin"===we.type,p,"internal-error");const Je=(null===(v=K.multiFactorHint)||void 0===v?void 0:v.uid)||K.multiFactorUid;return P(Je,p,"missing-multi-factor-info"),(yield la(p,{mfaPendingCredential:we.credential,mfaEnrollmentId:Je,phoneSignInInfo:{recaptchaToken:L}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:we}=yield Wn(p,{phoneNumber:K.phoneNumber,recaptchaToken:L});return we}}finally{d._reset()}})).apply(this,arguments)}function pa(){return(pa=(0,y.Z)(function*(p,u){yield Pr((0,j.m9)(p),u)})).apply(this,arguments)}let ta=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Qn(d)}verifyPhoneNumber(d,v){return Ma(this.auth,d,(0,j.m9)(v))}static credential(d,v){return In._fromVerification(d,v)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:v,temporaryProof:L}=d;return v&&L?In._fromTokenResponse(v,L):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function Cr(p,u){return u?Pe(u):(P(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class na extends Dr{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return Ii(u,this._buildIdpRequest())}_linkToIdToken(u,d){return Ii(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return Ii(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Ro(p){return Qi(p.auth,new na(p),p.bypassAuthState)}function Ks(p){const{auth:u,user:d}=p;return P(d,u,"internal-error"),wo(d,new na(p),p.bypassAuthState)}function Zi(p){return _.apply(this,arguments)}function _(){return(_=(0,y.Z)(function*(p){const{auth:u,user:d}=p;return P(d,u,"internal-error"),Pr(d,new na(p),p.bypassAuthState)})).apply(this,arguments)}class I{constructor(u,d,v,L,K=!1){this.auth=u,this.resolver=v,this.user=L,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,y.Z)(function*(v,L){u.pendingPromise={resolve:v,reject:L};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(K){u.reject(K)}});return function(v,L){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,y.Z)(function*(){const{urlResponse:v,sessionId:L,postBody:K,tenantId:we,error:Je,type:It}=u;if(Je)return void d.reject(Je);const Tt={auth:d.auth,requestUri:v,sessionId:L,tenantId:we||void 0,postBody:K||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(It)(Tt))}catch(mn){d.reject(mn)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Ro;case"linkViaPopup":case"linkViaRedirect":return Zi;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:Me(this.auth,"internal-error")}}resolve(u){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){_e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f=new qt(2e3,1e4);function N(){return(N=(0,y.Z)(function*(p,u,d){const v=Qn(p);it(p,u,qi);const L=Cr(v,d);return new Mt(v,"signInViaPopup",u,L).executeNotNull()})).apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);it(v.auth,u,qi);const L=Cr(v.auth,d);return new Mt(v.auth,"reauthViaPopup",u,L,v).executeNotNull()})).apply(this,arguments)}function Qe(){return(Qe=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);it(v.auth,u,qi);const L=Cr(v.auth,d);return new Mt(v.auth,"linkViaPopup",u,L,v).executeNotNull()})).apply(this,arguments)}let Mt=(()=>{class p extends I{constructor(d,v,L,K,we){super(d,v,K,we),this.provider=L,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.Z)(function*(){const v=yield d.execute();return P(v,d.auth,"internal-error"),v})()}onExecution(){var d=this;return(0,y.Z)(function*(){_e(1===d.filter.length,"Popup operations only handle one event");const v=on();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],v),d.authWindow.associatedEvent=v,d.resolver._originValidation(d.auth).catch(L=>{d.reject(L)}),d.resolver._isIframeWebStorageSupported(d.auth,L=>{L||d.reject(me(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var v,L;this.pollId=null!==(L=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==L&&L.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,f.get())};d()}}return p.currentPopupAction=null,p})();const Ln=new Map;class oi extends I{constructor(u,d,v=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,v),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,y.Z)(function*(){let v=Ln.get(d.auth._key());if(!v){try{const K=(yield function _o(p,u){return _i.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;v=()=>Promise.resolve(K)}catch(L){v=()=>Promise.reject(L)}Ln.set(d.auth._key(),v)}return d.bypassAuthState||Ln.set(d.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,v=this;return(0,y.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(v,u);if("unknown"!==u.type){if(u.eventId){const L=yield v.auth._redirectUserForId(u.eventId);if(L)return v.user=L,d().call(v,u);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function _i(){return(_i=(0,y.Z)(function*(p,u){const d=Pa(u),v=yo(p);if(!(yield v._isAvailable()))return!1;const L="true"===(yield v._get(d));return yield v._remove(d),L})).apply(this,arguments)}function ms(p,u){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(p,u){return yo(p)._set(Pa(u),"true")})).apply(this,arguments)}function Vo(p,u){Ln.set(p._key(),u)}function yo(p){return Pe(p._redirectPersistence)}function Pa(p){return he("pendingRedirect",p.config.apiKey,p.name)}function A(){return(A=(0,y.Z)(function*(p,u,d){const v=Qn(p);it(p,u,qi),yield v._initializationPromise;const L=Cr(v,d);return yield ms(L,v),L._openRedirect(v,u,"signInViaRedirect")})).apply(this,arguments)}function ie(){return(ie=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);it(v.auth,u,qi),yield v.auth._initializationPromise;const L=Cr(v.auth,d);yield ms(L,v.auth);const K=yield wn(v);return L._openRedirect(v.auth,u,"reauthViaRedirect",K)})).apply(this,arguments)}function ut(){return(ut=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);it(v.auth,u,qi),yield v.auth._initializationPromise;const L=Cr(v.auth,d);yield ji(!1,v,u.providerId),yield ms(L,v.auth);const K=yield wn(v);return L._openRedirect(v.auth,u,"linkViaRedirect",K)})).apply(this,arguments)}function Wt(){return(Wt=(0,y.Z)(function*(p,u){return yield Qn(p)._initializationPromise,Gt(p,u,!1)})).apply(this,arguments)}function Gt(p,u){return On.apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(p,u,d=!1){const v=Qn(p),L=Cr(v,u),we=yield new oi(v,L,d).execute();return we&&!d&&(delete we.user._redirectEventId,yield v._persistUserIfCurrent(we.user),yield v._setRedirectUser(null,u)),we})).apply(this,arguments)}function wn(p){return os.apply(this,arguments)}function os(){return(os=(0,y.Z)(function*(p){const u=on(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class Na{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(u,v)&&(d=!0,this.sendToConsumer(u,v),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function oo(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var v;if(u.error&&!ga(u)){const L=(null===(v=u.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";d.onError(me(this.auth,L))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const v=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&v}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(u))}saveEventToCache(u){this.cachedEventUids.add(nl(u)),this.lastProcessedEventTime=Date.now()}}function nl(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function ga({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function vo(p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(p,u={}){return fn(p,"GET","/v1/projects",u)})).apply(this,arguments)}const jl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function ma(){return(ma=(0,y.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield vo(p);for(const d of u)try{if($l(d))return}catch{}Me(p,"unauthorized-domain")})).apply(this,arguments)}function $l(p){const u=ct(),{protocol:d,hostname:v}=new URL(u);if(p.startsWith("chrome-extension://")){const we=new URL(p);return""===we.hostname&&""===v?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&we.hostname===v}if(!Du.test(d))return!1;if(jl.test(p))return v===p;const L=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+L+"|"+L+")$","i").test(v)}const rd=new qt(3e4,6e4);function cc(){const p=jt().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let ka=null;function lh(p){return ka=ka||function Wl(p){return new Promise((u,d)=>{var v,L,K;function we(){cc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{cc(),d(me(p,"network-request-failed"))},timeout:rd.get()})}if(null!==(L=null===(v=jt().gapi)||void 0===v?void 0:v.iframes)&&void 0!==L&&L.Iframe)u(gapi.iframes.getContext());else{if(null===(K=jt().gapi)||void 0===K||!K.load){const Je=Jo("iframefcb");return jt()[Je]=()=>{gapi.load?we():d(me(p,"network-request-failed"))},Rs(`https://apis.google.com/js/api.js?onload=${Je}`).catch(It=>d(It))}we()}}).catch(u=>{throw ka=null,u})}(p),ka}const zl=new qt(5e3,15e3),ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(p){const u=p.config;P(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?Ft(u,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,v={apiKey:u.apiKey,appName:p.name,v:de.SDK_VERSION},L=dh.get(p.config.apiHost);L&&(v.eid=L);const K=p._getFrameworks();return K.length&&(v.fw=K.join(",")),`${d}?${(0,j.xO)(v).slice(1)}`}function Gl(){return Gl=(0,y.Z)(function*(p){const u=yield lh(p),d=jt().gapi;return P(d,p,"internal-error"),u.open({where:document.body,url:dc(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ch,dontclear:!0},v=>new Promise(function(){var L=(0,y.Z)(function*(K,we){yield v.restyle({setHideOnLeave:!1});const Je=me(p,"network-request-failed"),It=jt().setTimeout(()=>{we(Je)},zl.get());function Tt(){jt().clearTimeout(It),K(v)}v.ping(Tt).then(Tt,()=>{we(Je)})});return function(K,we){return L.apply(this,arguments)}}()))}),Gl.apply(this,arguments)}const hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eo{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _s(p,u,d,v,L,K){P(p.config.authDomain,p,"auth-domain-config-required"),P(p.config.apiKey,p,"invalid-api-key");const we={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:v,v:de.SDK_VERSION,eventId:L};if(u instanceof qi){u.setDefaultLanguage(p.languageCode),we.providerId=u.providerId||"",(0,j.xb)(u.getCustomParameters())||(we.customParameters=JSON.stringify(u.getCustomParameters()));for(const[It,Tt]of Object.entries(K||{}))we[It]=Tt}if(u instanceof Hi){const It=u.getScopes().filter(Tt=>""!==Tt);It.length>0&&(we.scopes=It.join(","))}p.tenantId&&(we.tid=p.tenantId);const Je=we;for(const It of Object.keys(Je))void 0===Je[It]&&delete Je[It];return`${function gc({config:p}){return p.emulator?Ft(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}(p)}?${(0,j.xO)(Je).slice(1)}`}const bu="webStorageSupport",Zl=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rt,this._completeRedirectFn=Gt,this._overrideRedirectResult=Vo}_openPopup(u,d,v,L){var K=this;return(0,y.Z)(function*(){var we;_e(null===(we=K.eventManagers[u._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const Je=_s(u,d,v,ct(),L);return function Cu(p,u,d,v=500,L=600){const K=Math.max((window.screen.availHeight-L)/2,0).toString(),we=Math.max((window.screen.availWidth-v)/2,0).toString();let Je="";const It=Object.assign(Object.assign({},hc),{width:v.toString(),height:L.toString(),top:K,left:we}),Tt=(0,j.z$)().toLowerCase();d&&(Je=nn(Tt)?"_blank":d),mt(Tt)&&(u=u||"http://localhost",It.scrollbars="yes");const mn=Object.entries(It).reduce((Ti,[ko,kl])=>`${Ti}${ko}=${kl},`,"");if(function At(p=(0,j.z$)()){var u;return be(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(Tt)&&"_self"!==Je)return function vl(p,u){const d=document.createElement("a");d.href=p,d.target=u;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(v)}(u||"",Je),new Eo(null);const en=window.open(u||"",Je,mn);P(en,p,"popup-blocked");try{en.focus()}catch{}return new Eo(en)}(u,Je,on())})()}_openRedirect(u,d,v,L){var K=this;return(0,y.Z)(function*(){return yield K._originValidation(u),function Qr(p){jt().location.href=p}(_s(u,d,v,ct(),L)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:L,promise:K}=this.eventManagers[d];return L?Promise.resolve(L):(_e(K,"If manager is not set, promise should be"),K)}const v=this.initAndGetManager(u);return this.eventManagers[d]={promise:v},v.catch(()=>{delete this.eventManagers[d]}),v}initAndGetManager(u){var d=this;return(0,y.Z)(function*(){const v=yield function wu(p){return Gl.apply(this,arguments)}(u),L=new Na(u);return v.register("authEvent",K=>(P(K?.authEvent,u,"invalid-auth-event"),{status:L.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:L},d.iframes[u._key()]=v,L})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(bu,{type:bu},L=>{var K;const we=null===(K=L?.[0])||void 0===K?void 0:K[bu];void 0!==we&&d(!!we),Me(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function _l(p){return ma.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return br()||tn()||be()}};class ao{constructor(u){this.factorId=u}_process(u,d,v){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,v);case"signin":return this._finalizeSignIn(u,d.credential);default:return xe("unexpected MultiFactorSessionType")}}}class Yl extends ao{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Yl(u)}_finalizeEnroll(u,d,v){return function gi(p,u){return fn(p,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(p,u))}(u,{idToken:d,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Za(p,u){return fn(p,"POST","/v2/accounts/mfaSignIn:finalize",Ut(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zs=(()=>{class p{constructor(){}static assertion(d){return Yl._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Il="@firebase/auth";class Su{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,y.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(v=>{u(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){P(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Oo(){return window}function Mu(){return(Mu=(0,y.Z)(function*(p,u,d){var v;const{BuildInfo:L}=Oo();_e(u.sessionId,"AuthEvent did not contain a session ID");const K=yield Pu(u.sessionId),we={};return be()?we.ibi=L.packageName:ae()?we.apn=L.packageName:Me(p,"operation-not-supported-in-this-environment"),L.displayName&&(we.appDisplayName=L.displayName),we.sessionId=K,_s(p,d,u.type,void 0,null!==(v=u.eventId)&&void 0!==v?v:void 0,we)})).apply(this,arguments)}function Dl(){return(Dl=(0,y.Z)(function*(p){const{BuildInfo:u}=Oo(),d={};be()?d.iosBundleId=u.packageName:ae()?d.androidPackageName=u.packageName:Me(p,"operation-not-supported-in-this-environment"),yield vo(p,d)})).apply(this,arguments)}function La(){return(La=(0,y.Z)(function*(p,u,d){const{cordova:v}=Oo();let L=()=>{};try{yield new Promise((K,we)=>{let Je=null;function It(){var en;K();const Ti=null===(en=v.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof Ti&&Ti(),"function"==typeof d?.close&&d.close()}function Tt(){Je||(Je=window.setTimeout(()=>{we(me(p,"redirect-cancelled-by-user"))},2e3))}function mn(){"visible"===document?.visibilityState&&Tt()}u.addPassiveListener(It),document.addEventListener("resume",Tt,!1),ae()&&document.addEventListener("visibilitychange",mn,!1),L=()=>{u.removePassiveListener(It),document.removeEventListener("resume",Tt,!1),document.removeEventListener("visibilitychange",mn,!1),Je&&window.clearTimeout(Je)}})}finally{L()}})).apply(this,arguments)}function Pu(p){return ol.apply(this,arguments)}function ol(){return(ol=(0,y.Z)(function*(p){const u=Ou(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(L=>L.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ou(p){if(_e(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let v=0;v<p.length;v++)d[v]=p.charCodeAt(v);return d}(0,j.Pz)("authIdTokenMaxAge"),function il(p){(0,de._registerComponent)(new Se.wA("auth",(u,{options:d})=>{const v=u.getProvider("app").getImmediate(),L=u.getProvider("heartbeat"),{apiKey:K,authDomain:we}=v.options;return((Je,It)=>{P(K&&!K.includes(":"),"invalid-api-key",{appName:Je.name}),P(!we?.includes(":"),"argument-error",{appName:Je.name});const Tt={apiKey:K,authDomain:we,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ri(p)},mn=new us(Je,It,Tt);return function dt(p,u){const d=u?.persistence||[],v=(Array.isArray(d)?d:[d]).map(Pe);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(v,u?.popupRedirectResolver)}(mn,d),mn})(v,L)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,v)=>{u.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new Se.wA("auth-internal",u=>{const d=Qn(u.getProvider("auth").getImmediate());return new Su(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)(Il,"0.21.1",function ys(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,de.registerVersion)(Il,"0.21.1","esm2017")}("Browser");class lo extends Na{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,y.Z)(function*(){yield u.initPromise})()}}function wl(p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,y.Z)(function*(p){const u=yield Xl()._get(eu(p));return u&&(yield Xl()._remove(eu(p))),u})).apply(this,arguments)}function ld(){const p=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const v=Math.floor(Math.random()*u.length);p.push(u.charAt(v))}return p.join("")}function Xl(){return Pe(pt)}function eu(p){return he("authEvent",p.config.apiKey,p.name)}function Ua(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,j.zd)(d.join("?"))}const ku=class vc{constructor(){this._redirectPersistence=Rt,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Gt,this._overrideRedirectResult=Vo}_initialize(u){var d=this;return(0,y.Z)(function*(){const v=u._key();let L=d.eventManagers.get(v);return L||(L=new lo(u),d.eventManagers.set(v,L),d.attachCallbackListeners(u,L)),L})()}_openPopup(u){Me(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,v,L){var K=this;return(0,y.Z)(function*(){!function ad(p){var u,d,v,L,K,we,Je,It,Tt,mn;const en=Oo();P("function"==typeof(null===(u=en?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),P(typeof(null===(d=en?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),P("function"==typeof(null===(K=null===(L=null===(v=en?.cordova)||void 0===v?void 0:v.plugins)||void 0===L?void 0:L.browsertab)||void 0===K?void 0:K.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(It=null===(Je=null===(we=en?.cordova)||void 0===we?void 0:we.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===It?void 0:It.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),P("function"==typeof(null===(mn=null===(Tt=en?.cordova)||void 0===Tt?void 0:Tt.InAppBrowser)||void 0===mn?void 0:mn.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const we=yield K._initialize(u);yield we.initialized(),we.resetRedirect(),function Iu(){Ln.clear()}(),yield K._originValidation(u);const Je=function Nu(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:ld(),postBody:null,tenantId:p.tenantId,error:me(p,"no-auth-event")}}(u,v,L);yield function Jl(p,u){return Xl()._set(eu(p),u)}(u,Je);const It=yield function ql(p,u,d){return Mu.apply(this,arguments)}(u,Je,d),Tt=yield function Ql(p){const{cordova:u}=Oo();return new Promise(d=>{u.plugins.browsertab.isAvailable(v=>{let L=null;v?u.plugins.browsertab.openUrl(p):L=u.InAppBrowser.open(p,function qe(p=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(L)})})}(It);return function od(p,u,d){return La.apply(this,arguments)}(u,we,Tt)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function sd(p){return Dl.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:v,handleOpenURL:L,BuildInfo:K}=Oo(),we=setTimeout((0,y.Z)(function*(){yield wl(u),d.onEvent(nu())}),500),Je=function(){var mn=(0,y.Z)(function*(en){clearTimeout(we);const Ti=yield wl(u);let ko=null;Ti&&en?.url&&(ko=function al(p,u){var d,v;const L=function tu(p){const u=Ua(p),d=u.link?decodeURIComponent(u.link):void 0,v=Ua(d).link,L=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ua(L).link||L||v||d||p}(u);if(L.includes("/__/auth/callback")){const K=Ua(L),we=K.firebaseError?function yc(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(K.firebaseError)):null,Je=null===(v=null===(d=we?.code)||void 0===d?void 0:d.split("auth/"))||void 0===v?void 0:v[1],It=Je?me(Je):null;return It?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:It,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:L,postBody:null}}return null}(Ti,en.url)),d.onEvent(ko||nu())});return function(Ti){return mn.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Je);const It=L,Tt=`${K.packageName.toLowerCase()}://`;Oo().handleOpenURL=function(){var mn=(0,y.Z)(function*(en){if(en.toLowerCase().startsWith(Tt)&&Je({url:en}),"function"==typeof It)try{It(en)}catch(Ti){console.error(Ti)}});return function(en){return mn.apply(this,arguments)}}()}};function nu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function Ba(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Lu(p=(0,j.z$)()){return!("file:"!==Ba()&&"ionic:"!==Ba()&&"capacitor:"!==Ba()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ys(){try{const p=self.localStorage,u=on();if(p)return p.setItem(u,"1"),p.removeItem(u),!function Tl(p=(0,j.z$)()){return function Ha(){return(0,j.w1)()&&11===document?.documentMode}()||function ya(p=(0,j.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,j.hl)()}catch{return $o()&&(0,j.hl)()}return!1}function $o(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ll(){return(function ru(){return"http:"===Ba()||"https:"===Ba()}()||(0,j.ru)()||Lu())&&!function uo(){return(0,j.b$)()||(0,j.UG)()}()&&Ys()&&!$o()}function iu(){return Lu()&&typeof document<"u"}function Sl(){return(Sl=(0,y.Z)(function*(){return!!iu()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const Ms={LOCAL:"local",NONE:"none",SESSION:"session"},ra=P,su="persistence";function Fu(p){return ou.apply(this,arguments)}function ou(){return(ou=(0,y.Z)(function*(p){yield p._initializationPromise;const u=Ml(),d=he(su,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function Ml(){var p;try{return(null===(p=function Ic(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Pl=P;class No{constructor(){this.browserResolver=Pe(Zl),this.cordovaResolver=Pe(ku),this.underlyingResolver=null,this._redirectPersistence=Rt,this._completeRedirectFn=Gt,this._overrideRedirectResult=Vo}_initialize(u){var d=this;return(0,y.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,v,L){var K=this;return(0,y.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(u,d,v,L)})()}_openRedirect(u,d,v,L){var K=this;return(0,y.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(u,d,v,L)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,y.Z)(function*(){if(u.underlyingResolver)return;const d=yield function Wo(){return Sl.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function au(p){return p.unwrap()}function lu(p){return Uu(p)}function Uu(p){const{_tokenResponse:u}=p instanceof j.ZR?p.customData:p;if(!u)return null;if(!(p instanceof j.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return ta.credentialFromResult(p);const d=u.providerId;if(!d||"password"===d)return null;let v;switch(d){case"google.com":v=Cs;break;case"facebook.com":v=ws;break;case"github.com":v=Qs;break;case"twitter.com":v=oa;break;default:const{oauthIdToken:L,oauthAccessToken:K,oauthTokenSecret:we,pendingToken:Je,nonce:It}=u;return K||we||L||Je?Je?d.startsWith("saml.")?Ls._create(d,Je):li._fromParams({providerId:d,signInMethod:d,pendingToken:Je,idToken:L,accessToken:K}):new hs(d).credential({idToken:L,accessToken:K,rawNonce:It}):null}return p instanceof j.ZR?v.credentialFromError(p):v.credentialFromResult(p)}function ei(p,u){return u.catch(d=>{throw d instanceof j.ZR&&function va(p,u){var d;const v=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Vu(p,function Hn(p,u){var d;const v=(0,j.m9)(p),L=u;return P(u.customData.operationType,v,"argument-error"),P(null===(d=L.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,v,"argument-error"),Wr._fromError(v,L)}(p,u));else if(v){const L=Uu(u),K=u;L&&(K.credential=L,K.tenantId=v.tenantId||void 0,K.email=v.email||void 0,K.phoneNumber=v.phoneNumber||void 0)}}(p,d),d}).then(d=>{const L=d.user;return{operationType:d.operationType,credential:lu(d),additionalUserInfo:Ne(d),user:ia.getOrCreate(L)}})}function Bu(p,u){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,y.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:v=>ei(p,d.confirm(v))}})).apply(this,arguments)}class Vu{constructor(u,d){this.resolver=d,this.auth=function Ol(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return ei(au(this.auth),this.resolver.resolveSignIn(u))}}class ia{constructor(u){this._delegate=u,this.multiFactor=function x(p){const u=(0,j.m9)(p);return C.has(u)||C.set(u,qr._fromUser(u)),C.get(u)}(u)}static getOrCreate(u){return ia.USER_MAP.has(u)||ia.USER_MAP.set(u,new ia(u)),ia.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,y.Z)(function*(){return ei(d.auth,ir(d._delegate,u))})()}linkWithPhoneNumber(u,d){var v=this;return(0,y.Z)(function*(){return Bu(v.auth,function da(p,u,d){return el.apply(this,arguments)}(v._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,y.Z)(function*(){return ei(d.auth,function Re(p,u,d){return Qe.apply(this,arguments)}(d._delegate,u,No))})()}linkWithRedirect(u){var d=this;return(0,y.Z)(function*(){return yield Fu(Qn(d.auth)),function Ae(p,u,d){return function Be(p,u,d){return ut.apply(this,arguments)}(p,u,d)}(d._delegate,u,No)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,y.Z)(function*(){return ei(d.auth,Ji(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Bu(this.auth,function ha(p,u,d){return Ra.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return ei(this.auth,function z(p,u,d){return Z.apply(this,arguments)}(this._delegate,u,No))}reauthenticateWithRedirect(u){var d=this;return(0,y.Z)(function*(){return yield Fu(Qn(d.auth)),function O(p,u,d){return function W(p,u,d){return ie.apply(this,arguments)}(p,u,d)}(d._delegate,u,No)})()}sendEmailVerification(u){return function Uo(p,u){return Ws.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,y.Z)(function*(){return yield function ci(p,u){return Ts.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function es(p,u){return ts((0,j.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function Ki(p,u){return ts((0,j.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function fa(p,u){return pa.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Gi(p,u){return ki.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function zs(p,u,d){return mr.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ia.USER_MAP=new WeakMap;const Va=P;let Nl=(()=>{class p{constructor(d,v){if(this.app=d,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:L}=d.options;Va(L,"invalid-api-key",{appName:d.name}),Va(L,"invalid-api-key",{appName:d.name});const K=typeof window<"u"?No:void 0;this._delegate=v.initialize({options:{persistence:Dc(L,d.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(lt),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,v){!function co(p,u,d){const v=Qn(p);P(v._canInitEmulator,v,"emulator-config-failed"),P(/^https?:\/\//.test(u),v,"invalid-emulator-scheme");const L=!!d?.disableWarnings,K=Ar(u),{host:we,port:Je}=function vi(p){const u=Ar(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const v=d[2].split("@").pop()||"",L=/^(\[[^\]]+\])(:|$)/.exec(v);if(L){const K=L[1];return{host:K,port:Mn(v.substr(K.length+1))}}{const[K,we]=v.split(":");return{host:K,port:Mn(we)}}}(u);v.config.emulator={url:`${K}//${we}${null===Je?"":`:${Je}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:we,port:Je,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:L})}),L||function Ir(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,v)}applyActionCode(d){return function Wi(p,u){return fr.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return As(this._delegate,d)}confirmPasswordReset(d,v){return function eo(p,u,d){return zt.apply(this,arguments)}(this._delegate,d,v)}createUserWithEmailAndPassword(d,v){var L=this;return(0,y.Z)(function*(){return ei(L._delegate,function Vs(p,u,d){return js.apply(this,arguments)}(L._delegate,d,v))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function po(p,u){return $s.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function Ni(p,u){return"EMAIL_SIGNIN"===Is.parseLink(u)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,y.Z)(function*(){Va(ll(),d._delegate,"operation-not-supported-in-this-environment");const v=yield function Vt(p,u){return Wt.apply(this,arguments)}(d._delegate,No);return v?ei(d._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function ud(p,u){Qn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,v,L){const{next:K,error:we,complete:Je}=uu(d,v,L);return this._delegate.onAuthStateChanged(K,we,Je)}onIdTokenChanged(d,v,L){const{next:K,error:we,complete:Je}=uu(d,v,L);return this._delegate.onIdTokenChanged(K,we,Je)}sendSignInLinkToEmail(d,v){return function An(p,u,d){return Xi.apply(this,arguments)}(this._delegate,d,v)}sendPasswordResetEmail(d,v){return function Lr(p,u,d){return Xt.apply(this,arguments)}(this._delegate,d,v||void 0)}setPersistence(d){var v=this;return(0,y.Z)(function*(){let L;switch(function Al(p,u){ra(Object.values(Ms).includes(u),p,"invalid-persistence-type"),(0,j.b$)()?ra(u!==Ms.SESSION,p,"unsupported-persistence-type"):(0,j.UG)()?ra(u===Ms.NONE,p,"unsupported-persistence-type"):$o()?ra(u===Ms.NONE||u===Ms.LOCAL&&(0,j.hl)(),p,"unsupported-persistence-type"):ra(u===Ms.NONE||Ys(),p,"unsupported-persistence-type")}(v._delegate,d),d){case Ms.SESSION:L=Rt;break;case Ms.LOCAL:L=(yield Pe(Gs)._isAvailable())?Gs:pt;break;case Ms.NONE:L=X;break;default:return Me("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(L)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return ei(this._delegate,function Us(p){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return ei(this._delegate,rr(this._delegate,d))}signInWithCustomToken(d){return ei(this._delegate,function fi(p,u){return gr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,v){return ei(this._delegate,function Ze(p,u,d){return rr((0,j.m9)(p),ii.credential(u,d))}(this._delegate,d,v))}signInWithEmailLink(d,v){return ei(this._delegate,function $r(p,u,d){return ps.apply(this,arguments)}(this._delegate,d,v))}signInWithPhoneNumber(d,v){return Bu(this._delegate,function _r(p,u,d){return Aa.apply(this,arguments)}(this._delegate,d,v))}signInWithPopup(d){var v=this;return(0,y.Z)(function*(){return Va(ll(),v._delegate,"operation-not-supported-in-this-environment"),ei(v._delegate,function b(p,u,d){return N.apply(this,arguments)}(v._delegate,d,No))})()}signInWithRedirect(d){var v=this;return(0,y.Z)(function*(){return Va(ll(),v._delegate,"operation-not-supported-in-this-environment"),yield Fu(v._delegate),function jo(p,u,d){return function Oa(p,u,d){return A.apply(this,arguments)}(p,u,d)}(v._delegate,d,No)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Hs(p,u){return to.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Ms,p})();function uu(p,u,d){let v=p;"function"!=typeof p&&({next:v,error:u,complete:d}=p);const L=v;return{next:we=>L(we&&ia.getOrCreate(we)),error:u,complete:d}}function Dc(p,u){const d=function Rl(p,u){const d=Ml();if(!d)return[];const v=he(su,p,u);switch(d.getItem(v)){case Ms.NONE:return[X];case Ms.LOCAL:return[Gs,Rt];case Ms.SESSION:return[Rt];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Gs)&&d.push(Gs),typeof window<"u")for(const v of[pt,Rt])d.includes(v)||d.push(v);return d.includes(X)||d.push(X),d}class cu{constructor(){this.providerId="phone",this._delegate=new ta(au(U.Z.auth()))}static credential(u,d){return ta.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=ta.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=ta.PROVIDER_ID;const wc=P;class ja{constructor(u,d,v=U.Z.app()){var L;wc(null===(L=v.options)||void 0===L?void 0:L.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ea(u,d,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dd(p){p.INTERNAL.registerComponent(new Se.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),v=u.getProvider("auth");return new Nl(d,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ii,FacebookAuthProvider:ws,GithubAuthProvider:Qs,GoogleAuthProvider:Cs,OAuthProvider:hs,SAMLAuthProvider:Vi,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:Zs,RecaptchaVerifier:ja,TwitterAuthProvider:oa,Auth:Nl,AuthCredential:Dr,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.3.1")}(U.Z)},8766:(yt,ke,F)=>{F.d(ke,{Lj:()=>Me,X3:()=>rt});var y=F(5861);let j,de;const Se=new WeakMap,Ee=new WeakMap,Ie=new WeakMap,re=new WeakMap,se=new WeakMap;let Ye={get(P,xe,_e){if(P instanceof IDBTransaction){if("done"===xe)return Ee.get(P);if("objectStoreNames"===xe)return P.objectStoreNames||Ie.get(P);if("store"===xe)return _e.objectStoreNames[1]?void 0:_e.objectStore(_e.objectStoreNames[0])}return Ke(P[xe])},set:(P,xe,_e)=>(P[xe]=_e,!0),has:(P,xe)=>P instanceof IDBTransaction&&("done"===xe||"store"===xe)||xe in P};function Le(P){return"function"==typeof P?function _t(P){return P!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(P)?function(...xe){return P.apply(Ge(this),xe),Ke(Se.get(this))}:function(...xe){return Ke(P.apply(Ge(this),xe))}:function(xe,..._e){const De=P.call(Ge(this),xe,..._e);return Ie.set(De,xe.sort?xe.sort():[xe]),Ke(De)}}(P):(P instanceof IDBTransaction&&function tt(P){if(Ee.has(P))return;const xe=new Promise((_e,De)=>{const Pe=()=>{P.removeEventListener("complete",Oe),P.removeEventListener("error",dt),P.removeEventListener("abort",dt)},Oe=()=>{_e(),Pe()},dt=()=>{De(P.error||new DOMException("AbortError","AbortError")),Pe()};P.addEventListener("complete",Oe),P.addEventListener("error",dt),P.addEventListener("abort",dt)});Ee.set(P,xe)}(P),((P,xe)=>xe.some(_e=>P instanceof _e))(P,function pe(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(P,Ye):P)}function Ke(P){if(P instanceof IDBRequest)return function ge(P){const xe=new Promise((_e,De)=>{const Pe=()=>{P.removeEventListener("success",Oe),P.removeEventListener("error",dt)},Oe=()=>{_e(Ke(P.result)),Pe()},dt=()=>{De(P.error),Pe()};P.addEventListener("success",Oe),P.addEventListener("error",dt)});return xe.then(_e=>{_e instanceof IDBCursor&&Se.set(_e,P)}).catch(()=>{}),se.set(xe,P),xe}(P);if(re.has(P))return re.get(P);const xe=Le(P);return xe!==P&&(re.set(P,xe),se.set(xe,P)),xe}const Ge=P=>se.get(P);function rt(P,xe,{blocked:_e,upgrade:De,blocking:Pe,terminated:Oe}={}){const dt=indexedDB.open(P,xe),ct=Ke(dt);return De&&dt.addEventListener("upgradeneeded",kt=>{De(Ke(dt.result),kt.oldVersion,kt.newVersion,Ke(dt.transaction))}),_e&&dt.addEventListener("blocked",()=>_e()),ct.then(kt=>{Oe&&kt.addEventListener("close",()=>Oe()),Pe&&kt.addEventListener("versionchange",()=>Pe())}).catch(()=>{}),ct}function Me(P,{blocked:xe}={}){const _e=indexedDB.deleteDatabase(P);return xe&&_e.addEventListener("blocked",()=>xe()),Ke(_e).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],Ve=["put","add","delete","clear"],it=new Map;function st(P,xe){if(!(P instanceof IDBDatabase)||xe in P||"string"!=typeof xe)return;if(it.get(xe))return it.get(xe);const _e=xe.replace(/FromIndex$/,""),De=xe!==_e,Pe=Ve.includes(_e);if(!(_e in(De?IDBIndex:IDBObjectStore).prototype)||!Pe&&!me.includes(_e))return;const Oe=function(){var dt=(0,y.Z)(function*(ct,...kt){const vn=this.transaction(ct,Pe?"readwrite":"readonly");let Un=vn.store;return De&&(Un=Un.index(kt.shift())),(yield Promise.all([Un[_e](...kt),Pe&&vn.done]))[0]});return function(kt){return dt.apply(this,arguments)}}();return it.set(xe,Oe),Oe}!function lt(P){Ye=P(Ye)}(P=>({...P,get:(xe,_e,De)=>st(xe,_e)||P.get(xe,_e,De),has:(xe,_e)=>!!st(xe,_e)||P.has(xe,_e)}))},5861:(yt,ke,F)=>{function y(j,de,pe,ye,Se,Ee,Ie){try{var re=j[Ee](Ie),se=re.value}catch(ge){return void pe(ge)}re.done?de(se):Promise.resolve(se).then(ye,Se)}function U(j){return function(){var de=this,pe=arguments;return new Promise(function(ye,Se){var Ee=j.apply(de,pe);function Ie(se){y(Ee,ye,Se,Ie,re,"next",se)}function re(se){y(Ee,ye,Se,Ie,re,"throw",se)}Ie(void 0)})}}F.d(ke,{Z:()=>U})}},yt=>{yt(yt.s=4662)}]);