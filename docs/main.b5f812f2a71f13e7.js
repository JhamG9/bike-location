"use strict";(self.webpackChunkangular_mobile_app=self.webpackChunkangular_mobile_app||[]).push([[179],{3805:(ft,Pe,F)=>{F.d(Pe,{KQ:()=>nf,JS:()=>wp});var y=F(4650),$=F(4986),j=F(9751),ae=F(9646),ue=F(6451),ge=F(4004),Ce=F(3099),_e=F(3900),ye=F(5026),ne=F(1884),re=F(4482),de=F(5403),Qe=F(8421),We=F(4671),st=F(5032),pt=F(3269),$e=F(2122),Je=F(2011),fe=(F(750),F(3942)),Fe=F(4859),et=F(5861),nt=F(9681),N=F(2090),Be=F(1877);const pe="@firebase/database";let Re="";function Oe(o){Re=o}class at{constructor(r){this.domStorage_=r,this.prefix_="firebase:"}set(r,i){null==i?this.domStorage_.removeItem(this.prefixedName_(r)):this.domStorage_.setItem(this.prefixedName_(r),(0,N.Wl)(i))}get(r){const i=this.domStorage_.getItem(this.prefixedName_(r));return null==i?null:(0,N.cI)(i)}remove(r){this.domStorage_.removeItem(this.prefixedName_(r))}prefixedName_(r){return this.prefix_+r}toString(){return this.domStorage_.toString()}}class ot{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(r,i){null==i?delete this.cache_[r]:this.cache_[r]=i}get(r){return(0,N.r3)(this.cache_,r)?this.cache_[r]:null}remove(r){delete this.cache_[r]}}const At=function(o){try{if(typeof window<"u"&&typeof window[o]<"u"){const r=window[o];return r.setItem("firebase:sentinel","cache"),r.removeItem("firebase:sentinel"),new at(r)}}catch{}return new ot},Cn=At("localStorage"),jn=At("sessionStorage"),Qt=new Be.Yd("@firebase/database"),tn=function(){let o=1;return function(){return o++}}(),Ot=function(o){const r=(0,N.dS)(o),i=new N.gQ;i.update(r);const l=i.digest();return N.US.encodeByteArray(l)},pn=function(...o){let r="";for(let i=0;i<o.length;i++){const l=o[i];Array.isArray(l)||l&&"object"==typeof l&&"number"==typeof l.length?r+=pn.apply(null,l):r+="object"==typeof l?(0,N.Wl)(l):l,r+=" "}return r};let ur=null,kt=!0;const Rt=function(o,r){(0,N.hu)(!r||!0===o||!1===o,"Can't turn on custom loggers persistently."),!0===o?(Qt.logLevel=Be.in.VERBOSE,ur=Qt.log.bind(Qt),r&&jn.set("logging_enabled",!0)):"function"==typeof o?ur=o:(ur=null,jn.remove("logging_enabled"))},ln=function(...o){if(!0===kt&&(kt=!1,null===ur&&!0===jn.get("logging_enabled")&&Rt(!0)),ur){const r=pn.apply(null,o);ur(r)}},cr=function(o){return function(...r){ln(o,...r)}},jr=function(...o){const r="FIREBASE INTERNAL ERROR: "+pn(...o);Qt.error(r)},nr=function(...o){const r=`FIREBASE FATAL ERROR: ${pn(...o)}`;throw Qt.error(r),new Error(r)},gn=function(...o){const r="FIREBASE WARNING: "+pn(...o);Qt.warn(r)},gr=function(o){return"number"==typeof o&&(o!=o||o===Number.POSITIVE_INFINITY||o===Number.NEGATIVE_INFINITY)},rr="[MIN_NAME]",An="[MAX_NAME]",rn=function(o,r){if(o===r)return 0;if(o===rr||r===An)return-1;if(r===rr||o===An)return 1;{const i=zn(o),l=zn(r);return null!==i?null!==l?i-l==0?o.length-r.length:i-l:-1:null!==l?1:o<r?-1:1}},Wn=function(o,r){return o===r?0:o<r?-1:1},Pt=function(o,r){if(r&&o in r)return r[o];throw new Error("Missing required key ("+o+") in object: "+(0,N.Wl)(r))},zr=function(o){if("object"!=typeof o||null===o)return(0,N.Wl)(o);const r=[];for(const l in o)r.push(l);r.sort();let i="{";for(let l=0;l<r.length;l++)0!==l&&(i+=","),i+=(0,N.Wl)(r[l]),i+=":",i+=zr(o[r[l]]);return i+="}",i},Xr=function(o,r){const i=o.length;if(i<=r)return[o];const l=[];for(let h=0;h<i;h+=r)l.push(o.substring(h,h+r>i?i:h+r));return l};function un(o,r){for(const i in o)o.hasOwnProperty(i)&&r(i,o[i])}const mr=function(o){(0,N.hu)(!gr(o),"Invalid JSON number");const l=1023;let h,w,R,H,Y;0===o?(w=0,R=0,h=1/o==-1/0?1:0):(h=o<0,(o=Math.abs(o))>=Math.pow(2,1-l)?(H=Math.min(Math.floor(Math.log(o)/Math.LN2),l),w=H+l,R=Math.round(o*Math.pow(2,52-H)-Math.pow(2,52))):(w=0,R=Math.round(o/Math.pow(2,-1074))));const ie=[];for(Y=52;Y;Y-=1)ie.push(R%2?1:0),R=Math.floor(R/2);for(Y=11;Y;Y-=1)ie.push(w%2?1:0),w=Math.floor(w/2);ie.push(h?1:0),ie.reverse();const Ue=ie.join("");let Ve="";for(Y=0;Y<64;Y+=8){let rt=parseInt(Ue.substr(Y,8),2).toString(16);1===rt.length&&(rt="0"+rt),Ve+=rt}return Ve.toLowerCase()},Ft=new RegExp("^-?(0*)\\d{1,10}$"),zn=function(o){if(Ft.test(o)){const r=Number(o);if(r>=-2147483648&&r<=2147483647)return r}return null},Sr=function(o){try{o()}catch(r){setTimeout(()=>{throw gn("Exception was thrown by user callback.",r.stack||""),r},Math.floor(0))}},Ei=function(o,r){const i=setTimeout(o,r);return"number"==typeof i&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):"object"==typeof i&&i.unref&&i.unref(),i};class Nn{constructor(r,i){this.appName_=r,this.appCheckProvider=i,this.appCheck=i?.getImmediate({optional:!0}),this.appCheck||i?.get().then(l=>this.appCheck=l)}getToken(r){return this.appCheck?this.appCheck.getToken(r):new Promise((i,l)=>{setTimeout(()=>{this.appCheck?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){var i;null===(i=this.appCheckProvider)||void 0===i||i.get().then(l=>l.addTokenListener(r))}notifyForInvalidToken(){gn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class ei{constructor(r,i,l){this.appName_=r,this.firebaseOptions_=i,this.authProvider_=l,this.auth_=null,this.auth_=l.getImmediate({optional:!0}),this.auth_||l.onInit(h=>this.auth_=h)}getToken(r){return this.auth_?this.auth_.getToken(r).catch(i=>i&&"auth/token-not-initialized"===i.code?(ln("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,l)=>{setTimeout(()=>{this.auth_?this.getToken(r).then(i,l):i(null)},0)})}addTokenChangeListener(r){this.auth_?this.auth_.addAuthTokenListener(r):this.authProvider_.get().then(i=>i.addAuthTokenListener(r))}removeTokenChangeListener(r){this.authProvider_.get().then(i=>i.removeAuthTokenListener(r))}notifyForInvalidToken(){let r='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';r+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gn(r)}}let Tn=(()=>{class o{constructor(i){this.accessToken=i}getToken(i){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(i){i(this.accessToken)}removeTokenChangeListener(i){}notifyForInvalidToken(){}}return o.OWNER="owner",o})();const Lt=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,te="websocket",me="long_polling";class je{constructor(r,i,l,h,w=!1,R="",H=!1){this.secure=i,this.namespace=l,this.webSocketOnly=h,this.nodeAdmin=w,this.persistenceKey=R,this.includeNamespaceInQueryParams=H,this._host=r.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Cn.get("host:"+r)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(r){r!==this.internalHost&&(this.internalHost=r,this.isCacheableHost()&&Cn.set("host:"+this._host,this.internalHost))}toString(){let r=this.toURLString();return this.persistenceKey&&(r+="<"+this.persistenceKey+">"),r}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function wt(o,r,i){let l;if((0,N.hu)("string"==typeof r,"typeof type must == string"),(0,N.hu)("object"==typeof i,"typeof params must == object"),r===te)l=(o.secure?"wss://":"ws://")+o.internalHost+"/.ws?";else{if(r!==me)throw new Error("Unknown connection type: "+r);l=(o.secure?"https://":"http://")+o.internalHost+"/.lp?"}(function Me(o){return o.host!==o.internalHost||o.isCustomHost()||o.includeNamespaceInQueryParams})(o)&&(i.ns=o.namespace);const h=[];return un(i,(w,R)=>{h.push(w+"="+R)}),l+h.join("&")}class sn{constructor(){this.counters_={}}incrementCounter(r,i=1){(0,N.r3)(this.counters_,r)||(this.counters_[r]=0),this.counters_[r]+=i}get(){return(0,N.p$)(this.counters_)}}const mn={},Un={};function ce(o){const r=o.toString();return mn[r]||(mn[r]=new sn),mn[r]}class Q{constructor(r){this.onMessage_=r,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(r,i){this.closeAfterResponse=r,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(r,i){for(this.pendingResponses[r]=i;this.pendingResponses[this.currentResponseNum];){const l=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let h=0;h<l.length;++h)l[h]&&Sr(()=>{this.onMessage_(l[h])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qn{constructor(r,i,l,h,w,R,H){this.connId=r,this.repoInfo=i,this.applicationId=l,this.appCheckToken=h,this.authToken=w,this.transportSessionId=R,this.lastSessionId=H,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cr(r),this.stats_=ce(i),this.urlFn=Y=>(this.appCheckToken&&(Y.ac=this.appCheckToken),wt(i,me,Y))}open(r,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new Q(r),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(o){if((0,N.Yr)()||"complete"===document.readyState)o();else{let r=!1;const i=function(){document.body?r||(r=!0,o()):setTimeout(i,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&i()}),window.attachEvent("onload",i))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mr((...w)=>{const[R,H,Y,ie,Ue]=w;if(this.incrementIncomingBytes_(w),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===R)this.id=H,this.password=Y;else{if("close"!==R)throw new Error("Unrecognized command received: "+R);H?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(H,()=>{this.onClosed_()})):this.onClosed_()}},(...w)=>{const[R,H]=w;this.incrementIncomingBytes_(w),this.myPacketOrderer.handleResponse(R,H)},()=>{this.onClosed_()},this.urlFn);const l={start:"t"};l.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(l.cb=this.scriptTagHolder.uniqueCallbackIdentifier),l.v="5",this.transportSessionId&&(l.s=this.transportSessionId),this.lastSessionId&&(l.ls=this.lastSessionId),this.applicationId&&(l.p=this.applicationId),this.appCheckToken&&(l.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Lt.test(location.hostname)&&(l.r="f");const h=this.urlFn(l);this.log_("Connecting via long-poll to "+h),this.scriptTagHolder.addTag(h,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qn.forceAllow_=!0}static forceDisallow(){Qn.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!Qn.forceAllow_&&(Qn.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(r){const i=(0,N.Wl)(r);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const l=(0,N.h$)(i),h=Xr(l,1840);for(let w=0;w<h.length;w++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,h.length,h[w]),this.curSegmentNum++}addDisconnectPingFrame(r,i){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const l={dframe:"t"};l.id=r,l.pw=i,this.myDisconnFrame.src=this.urlFn(l),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(r){const i=(0,N.Wl)(r).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Mr{constructor(r,i,l,h){if(this.onDisconnect=l,this.urlFn=h,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=r,this.onMessageCB=i;else{this.uniqueCallbackIdentifier=tn(),window["pLPCommand"+this.uniqueCallbackIdentifier]=r,window["pRTLPCB"+this.uniqueCallbackIdentifier]=i,this.myIFrame=Mr.createIFrame_();let w="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(w='<script>document.domain="'+document.domain+'";<\/script>');const R="<html><body>"+w+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(R),this.myIFrame.doc.close()}catch(H){ln("frame writing exception"),H.stack&&ln(H.stack),ln(H)}}}static createIFrame_(){const r=document.createElement("iframe");if(r.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(r);try{r.contentWindow.document||ln("No IE domain setting required")}catch{const l=document.domain;r.src="javascript:void((function(){document.open();document.domain='"+l+"';document.close();})())"}return r.contentDocument?r.doc=r.contentDocument:r.contentWindow?r.doc=r.contentWindow.document:r.document&&(r.doc=r.document),r}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const r=this.onDisconnect;r&&(this.onDisconnect=null,r())}startLongPoll(r,i){for(this.myID=r,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const r={};r.id=this.myID,r.pw=this.myPW,r.ser=this.currentSerial;let i=this.urlFn(r),l="",h=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+l.length<=1870;){const R=this.pendingSegs.shift();l=l+"&seg"+h+"="+R.seg+"&ts"+h+"="+R.ts+"&d"+h+"="+R.d,h++}return i+=l,this.addLongPollTag_(i,this.currentSerial),!0}return!1}enqueueSegment(r,i,l){this.pendingSegs.push({seg:r,ts:i,d:l}),this.alive&&this.newRequest_()}addLongPollTag_(r,i){this.outstandingRequests.add(i);const l=()=>{this.outstandingRequests.delete(i),this.newRequest_()},h=setTimeout(l,Math.floor(25e3));this.addTag(r,()=>{clearTimeout(h),l()})}addTag(r,i){(0,N.Yr)()?this.doNodeLongPoll(r,i):setTimeout(()=>{try{if(!this.sendNewPolls)return;const l=this.myIFrame.doc.createElement("script");l.type="text/javascript",l.async=!0,l.src=r,l.onload=l.onreadystatechange=function(){const h=l.readyState;(!h||"loaded"===h||"complete"===h)&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),i())},l.onerror=()=>{ln("Long-poll script failed to load: "+r),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(l)}catch{}},Math.floor(1))}}let Kt=null;typeof MozWebSocket<"u"?Kt=MozWebSocket:typeof WebSocket<"u"&&(Kt=WebSocket);let Gn=(()=>{class o{constructor(i,l,h,w,R,H,Y){this.connId=i,this.applicationId=h,this.appCheckToken=w,this.authToken=R,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cr(this.connId),this.stats_=ce(l),this.connURL=o.connectionURL_(l,H,Y,w,h),this.nodeAdmin=l.nodeAdmin}static connectionURL_(i,l,h,w,R){const H={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&Lt.test(location.hostname)&&(H.r="f"),l&&(H.s=l),h&&(H.ls=h),w&&(H.ac=w),R&&(H.p=R),wt(i,te,H)}open(i,l){this.onDisconnect=l,this.onMessage=i,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Cn.set("previous_websocket_failure",!0);try{let h;if((0,N.Yr)()){h={headers:{"User-Agent":`Firebase/5/${Re}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(h.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(h.headers["X-Firebase-AppCheck"]=this.appCheckToken);const R=process.env,H=0===this.connURL.indexOf("wss://")?R.HTTPS_PROXY||R.https_proxy:R.HTTP_PROXY||R.http_proxy;H&&(h.proxy={origin:H})}this.mySock=new Kt(this.connURL,[],h)}catch(h){this.log_("Error instantiating WebSocket.");const w=h.message||h.data;return w&&this.log_(w),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=h=>{this.handleIncomingFrame(h)},this.mySock.onerror=h=>{this.log_("WebSocket error.  Closing connection.");const w=h.message||h.data;w&&this.log_(w),this.onClosed_()}}start(){}static forceDisallow(){o.forceDisallow_=!0}static isAvailable(){let i=!1;if(typeof navigator<"u"&&navigator.userAgent){const h=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);h&&h.length>1&&parseFloat(h[1])<4.4&&(i=!0)}return!i&&null!==Kt&&!o.forceDisallow_}static previouslyFailed(){return Cn.isInMemoryStorage||!0===Cn.get("previous_websocket_failure")}markConnectionHealthy(){Cn.remove("previous_websocket_failure")}appendFrame_(i){if(this.frames.push(i),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const h=(0,N.cI)(l);this.onMessage(h)}}handleNewFrameCount_(i){this.totalFrames=i,this.frames=[]}extractFrameCount_(i){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),i.length<=6){const l=Number(i);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),i}handleIncomingFrame(i){if(null===this.mySock)return;const l=i.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(l);else{const h=this.extractFrameCount_(l);null!==h&&this.appendFrame_(h)}}send(i){this.resetKeepAlive();const l=(0,N.Wl)(i);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const h=Xr(l,16384);h.length>1&&this.sendString_(String(h.length));for(let w=0;w<h.length;w++)this.sendString_(h[w])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(i){try{this.mySock.send(i)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return o.responsesRequiredToBeHealthy=2,o.healthyTimeout=3e4,o})(),Kr=(()=>{class o{constructor(i){this.initTransports_(i)}static get ALL_TRANSPORTS(){return[Qn,Gn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(i){const l=Gn&&Gn.isAvailable();let h=l&&!Gn.previouslyFailed();if(i.webSocketOnly&&(l||gn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),h=!0),h)this.transports_=[Gn];else{const w=this.transports_=[];for(const R of o.ALL_TRANSPORTS)R&&R.isAvailable()&&w.push(R);o.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return o.globalTransportInitialized_=!1,o})();class xr{constructor(r,i,l,h,w,R,H,Y,ie,Ue){this.id=r,this.repoInfo_=i,this.applicationId_=l,this.appCheckToken_=h,this.authToken_=w,this.onMessage_=R,this.onReady_=H,this.onDisconnect_=Y,this.onKill_=ie,this.lastSessionId=Ue,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cr("c:"+this.id+":"),this.transportManager_=new Kr(i),this.log_("Connection created"),this.start_()}start_(){const r=this.transportManager_.initialTransport();this.conn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),l=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,l)},Math.floor(0));const h=r.healthyTimeout||0;h>0&&(this.healthyTimeout_=Ei(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(h)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(r){return i=>{r===this.conn_?this.onConnectionLost_(i):r===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(r){return i=>{2!==this.state_&&(r===this.rx_?this.onPrimaryMessageReceived_(i):r===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(r){this.sendData_({t:"d",d:r})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(r){if("t"in r){const i=r.t;"a"===i?this.upgradeIfSecondaryHealthy_():"r"===i?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===i&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(r){const i=Pt("t",r),l=Pt("d",r);if("c"===i)this.onSecondaryControl_(l);else{if("d"!==i)throw new Error("Unknown protocol layer: "+i);this.pendingDataMessages.push(l)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(r){const i=Pt("t",r),l=Pt("d",r);"c"===i?this.onControl_(l):"d"===i&&this.onDataMessage_(l)}onDataMessage_(r){this.onPrimaryResponse_(),this.onMessage_(r)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(r){const i=Pt("t",r);if("d"in r){const l=r.d;if("h"===i)this.onHandshake_(l);else if("n"===i){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let h=0;h<this.pendingDataMessages.length;++h)this.onDataMessage_(this.pendingDataMessages[h]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===i?this.onConnectionShutdown_(l):"r"===i?this.onReset_(l):"e"===i?jr("Server Error: "+l):"o"===i?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jr("Unknown control packet command: "+i)}}onHandshake_(r){const i=r.ts,l=r.v,h=r.h;this.sessionId=r.s,this.repoInfo_.host=h,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),"5"!==l&&gn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const r=this.transportManager_.upgradeTransport();r&&this.startUpgrade_(r)}startUpgrade_(r){this.secondaryConn_=new r(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=r.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),l=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,l),Ei(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(r){this.log_("Reset packet received.  New host: "+r),this.repoInfo_.host=r,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(r,i){this.log_("Realtime connection established."),this.conn_=r,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ei(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const r=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===r||this.rx_===r)&&this.close()}onConnectionLost_(r){this.conn_=null,r||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Cn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(r){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(r),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(r){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(r)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Oi{put(r,i,l,h){}merge(r,i,l,h){}refreshAuthToken(r){}refreshAppCheckToken(r){}onDisconnectPut(r,i,l){}onDisconnectMerge(r,i,l){}onDisconnectCancel(r,i){}reportStats(r){}}class wi{constructor(r){this.allowedEvents_=r,this.listeners_={},(0,N.hu)(Array.isArray(r)&&r.length>0,"Requires a non-empty array")}trigger(r,...i){if(Array.isArray(this.listeners_[r])){const l=[...this.listeners_[r]];for(let h=0;h<l.length;h++)l[h].callback.apply(l[h].context,i)}}on(r,i,l){this.validateEventType_(r),this.listeners_[r]=this.listeners_[r]||[],this.listeners_[r].push({callback:i,context:l});const h=this.getInitialEvent(r);h&&i.apply(l,h)}off(r,i,l){this.validateEventType_(r);const h=this.listeners_[r]||[];for(let w=0;w<h.length;w++)if(h[w].callback===i&&(!l||l===h[w].context))return void h.splice(w,1)}validateEventType_(r){(0,N.hu)(this.allowedEvents_.find(i=>i===r),"Unknown event: "+r)}}class Bn extends wi{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bn}getInitialEvent(r){return(0,N.hu)("online"===r,"Unknown event type: "+r),[this.online_]}currentlyOnline(){return this.online_}}class $n{constructor(r,i){if(void 0===i){this.pieces_=r.split("/");let l=0;for(let h=0;h<this.pieces_.length;h++)this.pieces_[h].length>0&&(this.pieces_[l]=this.pieces_[h],l++);this.pieces_.length=l,this.pieceNum_=0}else this.pieces_=r,this.pieceNum_=i}toString(){let r="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)""!==this.pieces_[i]&&(r+="/"+this.pieces_[i]);return r||"/"}}function Rn(){return new $n("")}function en(o){return o.pieceNum_>=o.pieces_.length?null:o.pieces_[o.pieceNum_]}function yr(o){return o.pieces_.length-o.pieceNum_}function yn(o){let r=o.pieceNum_;return r<o.pieces_.length&&r++,new $n(o.pieces_,r)}function cs(o){return o.pieceNum_<o.pieces_.length?o.pieces_[o.pieces_.length-1]:null}function Tr(o,r=0){return o.pieces_.slice(o.pieceNum_+r)}function ui(o){if(o.pieceNum_>=o.pieces_.length)return null;const r=[];for(let i=o.pieceNum_;i<o.pieces_.length-1;i++)r.push(o.pieces_[i]);return new $n(r,0)}function In(o,r){const i=[];for(let l=o.pieceNum_;l<o.pieces_.length;l++)i.push(o.pieces_[l]);if(r instanceof $n)for(let l=r.pieceNum_;l<r.pieces_.length;l++)i.push(r.pieces_[l]);else{const l=r.split("/");for(let h=0;h<l.length;h++)l[h].length>0&&i.push(l[h])}return new $n(i,0)}function cn(o){return o.pieceNum_>=o.pieces_.length}function qn(o,r){const i=en(o),l=en(r);if(null===i)return r;if(i===l)return qn(yn(o),yn(r));throw new Error("INTERNAL ERROR: innerPath ("+r+") is not within outerPath ("+o+")")}function Is(o,r){const i=Tr(o,0),l=Tr(r,0);for(let h=0;h<i.length&&h<l.length;h++){const w=rn(i[h],l[h]);if(0!==w)return w}return i.length===l.length?0:i.length<l.length?-1:1}function Ds(o,r){if(yr(o)!==yr(r))return!1;for(let i=o.pieceNum_,l=r.pieceNum_;i<=o.pieces_.length;i++,l++)if(o.pieces_[i]!==r.pieces_[l])return!1;return!0}function ri(o,r){let i=o.pieceNum_,l=r.pieceNum_;if(yr(o)>yr(r))return!1;for(;i<o.pieces_.length;){if(o.pieces_[i]!==r.pieces_[l])return!1;++i,++l}return!0}class Ji{constructor(r,i){this.errorPrefix_=i,this.parts_=Tr(r,0),this.byteLength_=Math.max(1,this.parts_.length);for(let l=0;l<this.parts_.length;l++)this.byteLength_+=(0,N.ug)(this.parts_[l]);ws(this)}}function ws(o){if(o.byteLength_>768)throw new Error(o.errorPrefix_+"has a key path longer than 768 bytes ("+o.byteLength_+").");if(o.parts_.length>32)throw new Error(o.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Cs(o))}function Cs(o){return 0===o.parts_.length?"":"in property '"+o.parts_.join(".")+"'"}class Qs extends wi{constructor(){let r,i;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",r="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",r="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",r="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",r="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const l=!document[r];l!==this.visible_&&(this.visible_=l,this.trigger("visible",l))},!1)}static getInstance(){return new Qs}getInitialEvent(r){return(0,N.hu)("visible"===r,"Unknown event type: "+r),[this.visible_]}}const xs=1e3;let bs,Ir=(()=>{class o extends Oi{constructor(i,l,h,w,R,H,Y,ie){if(super(),this.repoInfo_=i,this.applicationId_=l,this.onDataUpdate_=h,this.onConnectStatus_=w,this.onServerInfoUpdate_=R,this.authTokenProvider_=H,this.appCheckTokenProvider_=Y,this.authOverride_=ie,this.id=o.nextPersistentConnectionId_++,this.log_=cr("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xs,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,ie&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Qs.getInstance().on("visible",this.onVisible_,this),-1===i.host.indexOf("fblocal")&&Bn.getInstance().on("online",this.onOnline_,this)}sendRequest(i,l,h){const w=++this.requestNumber_,R={r:w,a:i,b:l};this.log_((0,N.Wl)(R)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(R),h&&(this.requestCBHash_[w]=h)}get(i){this.initConnection_();const l=new N.BH,w={action:"g",request:{p:i._path.toString(),q:i._queryObject},onComplete:H=>{const Y=H.d;"ok"===H.s?l.resolve(Y):l.reject(Y)}};return this.outstandingGets_.push(w),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),l.promise}listen(i,l,h,w){this.initConnection_();const R=i._queryIdentifier,H=i._path.toString();this.log_("Listen called for "+H+" "+R),this.listens.has(H)||this.listens.set(H,new Map),(0,N.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(H).has(R),"listen() called twice for same path/queryId.");const Y={onComplete:w,hashFn:l,query:i,tag:h};this.listens.get(H).set(R,Y),this.connected_&&this.sendListen_(Y)}sendGet_(i){const l=this.outstandingGets_[i];this.sendRequest("g",l.request,h=>{delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(h)})}sendListen_(i){const l=i.query,h=l._path.toString(),w=l._queryIdentifier;this.log_("Listen on "+h+" for "+w);const R={p:h};i.tag&&(R.q=l._queryObject,R.t=i.tag),R.h=i.hashFn(),this.sendRequest("q",R,Y=>{const ie=Y.d,Ue=Y.s;o.warnOnListenWarnings_(ie,l),(this.listens.get(h)&&this.listens.get(h).get(w))===i&&(this.log_("listen response",Y),"ok"!==Ue&&this.removeListen_(h,w),i.onComplete&&i.onComplete(Ue,ie))})}static warnOnListenWarnings_(i,l){if(i&&"object"==typeof i&&(0,N.r3)(i,"w")){const h=(0,N.DV)(i,"w");if(Array.isArray(h)&&~h.indexOf("no_index")){const w='".indexOn": "'+l._queryParams.getIndex().toString()+'"',R=l._path.toString();gn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${w} at ${R} to your security rules for better performance.`)}}}refreshAuthToken(i){this.authToken_=i,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(i)}reduceReconnectDelayIfAdminCredential_(i){(i&&40===i.length||(0,N.GJ)(i))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(i){this.appCheckToken_=i,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const i=this.authToken_,l=(0,N.w9)(i)?"auth":"gauth",h={cred:i};null===this.authOverride_?h.noauth=!0:"object"==typeof this.authOverride_&&(h.authvar=this.authOverride_),this.sendRequest(l,h,w=>{const R=w.s,H=w.d||"error";this.authToken_===i&&("ok"===R?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(R,H))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},i=>{const l=i.s,h=i.d||"error";"ok"===l?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,h)})}unlisten(i,l){const h=i._path.toString(),w=i._queryIdentifier;this.log_("Unlisten called for "+h+" "+w),(0,N.hu)(i._queryParams.isDefault()||!i._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(h,w)&&this.connected_&&this.sendUnlisten_(h,w,i._queryObject,l)}sendUnlisten_(i,l,h,w){this.log_("Unlisten on "+i+" for "+l);const R={p:i};w&&(R.q=h,R.t=w),this.sendRequest("n",R)}onDisconnectPut(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"o",data:l,onComplete:h})}onDisconnectMerge(i,l,h){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",i,l,h):this.onDisconnectRequestQueue_.push({pathString:i,action:"om",data:l,onComplete:h})}onDisconnectCancel(i,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",i,null,l):this.onDisconnectRequestQueue_.push({pathString:i,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(i,l,h,w){const R={p:l,d:h};this.log_("onDisconnect "+i,R),this.sendRequest(i,R,H=>{w&&setTimeout(()=>{w(H.s,H.d)},Math.floor(0))})}put(i,l,h,w){this.putInternal("p",i,l,h,w)}merge(i,l,h,w){this.putInternal("m",i,l,h,w)}putInternal(i,l,h,w,R){this.initConnection_();const H={p:l,d:h};void 0!==R&&(H.h=R),this.outstandingPuts_.push({action:i,request:H,onComplete:w}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+l)}sendPut_(i){const l=this.outstandingPuts_[i].action,h=this.outstandingPuts_[i].request,w=this.outstandingPuts_[i].onComplete;this.outstandingPuts_[i].queued=this.connected_,this.sendRequest(l,h,R=>{this.log_(l+" response",R),delete this.outstandingPuts_[i],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),w&&w(R.s,R.d)})}reportStats(i){if(this.connected_){const l={c:i};this.log_("reportStats",l),this.sendRequest("s",l,h=>{"ok"!==h.s&&this.log_("reportStats","Error sending stats: "+h.d)})}}onDataMessage_(i){if("r"in i){this.log_("from server: "+(0,N.Wl)(i));const l=i.r,h=this.requestCBHash_[l];h&&(delete this.requestCBHash_[l],h(i.b))}else{if("error"in i)throw"A server-side error has occurred: "+i.error;"a"in i&&this.onDataPush_(i.a,i.b)}}onDataPush_(i,l){this.log_("handleServerMessage",i,l),"d"===i?this.onDataUpdate_(l.p,l.d,!1,l.t):"m"===i?this.onDataUpdate_(l.p,l.d,!0,l.t):"c"===i?this.onListenRevoked_(l.p,l.q):"ac"===i?this.onAuthRevoked_(l.s,l.d):"apc"===i?this.onAppCheckRevoked_(l.s,l.d):"sd"===i?this.onSecurityDebugPacket_(l):jr("Unrecognized action received from server: "+(0,N.Wl)(i)+"\nAre you using the latest client?")}onReady_(i,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(i),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(i){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(i))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(i){i&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)),this.visible_=i}onOnline_(i){i?(this.log_("Browser went online."),this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=xs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const i=(new Date).getTime()-this.lastConnectionAttemptTime_;let l=Math.max(0,this.reconnectDelay_-i);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var i=this;return(0,et.Z)(function*(){if(i.shouldReconnect_()){i.log_("Making a connection attempt"),i.lastConnectionAttemptTime_=(new Date).getTime(),i.lastConnectionEstablishedTime_=null;const l=i.onDataMessage_.bind(i),h=i.onReady_.bind(i),w=i.onRealtimeDisconnect_.bind(i),R=i.id+":"+o.nextConnectionId_++,H=i.lastSessionId;let Y=!1,ie=null;const Ue=function(){ie?ie.close():(Y=!0,w())};i.realtime_={close:Ue,sendRequest:function(bt){(0,N.hu)(ie,"sendRequest call when we're not connected not allowed."),ie.sendRequest(bt)}};const rt=i.forceTokenRefresh_;i.forceTokenRefresh_=!1;try{const[bt,zt]=yield Promise.all([i.authTokenProvider_.getToken(rt),i.appCheckTokenProvider_.getToken(rt)]);Y?ln("getToken() completed but was canceled"):(ln("getToken() completed. Creating connection."),i.authToken_=bt&&bt.accessToken,i.appCheckToken_=zt&&zt.token,ie=new xr(R,i.repoInfo_,i.applicationId_,i.appCheckToken_,i.authToken_,l,h,w,Vn=>{gn(Vn+" ("+i.repoInfo_.toString()+")"),i.interrupt("server_kill")},H))}catch(bt){i.log_("Failed to get token: "+bt),Y||(i.repoInfo_.nodeAdmin&&gn(bt),Ue())}}})()}interrupt(i){ln("Interrupting connection for reason: "+i),this.interruptReasons_[i]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(i){ln("Resuming connection for reason: "+i),delete this.interruptReasons_[i],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=xs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(i){const l=i-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let i=0;i<this.outstandingPuts_.length;i++){const l=this.outstandingPuts_[i];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[i],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(i,l){let h;h=l?l.map(R=>zr(R)).join("$"):"default";const w=this.removeListen_(i,h);w&&w.onComplete&&w.onComplete("permission_denied")}removeListen_(i,l){const h=new $n(i).toString();let w;if(this.listens.has(h)){const R=this.listens.get(h);w=R.get(l),R.delete(l),0===R.size&&this.listens.delete(h)}else w=void 0;return w}onAuthRevoked_(i,l){ln("Auth token revoked: "+i+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===i||"permission_denied"===i)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(i,l){ln("App check token revoked: "+i+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===i||"permission_denied"===i)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(i){this.securityDebugCallback_?this.securityDebugCallback_(i):"msg"in i&&console.log("FIREBASE: "+i.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const i of this.listens.values())for(const l of i.values())this.sendListen_(l);for(let i=0;i<this.outstandingPuts_.length;i++)this.outstandingPuts_[i]&&this.sendPut_(i);for(;this.onDisconnectRequestQueue_.length;){const i=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(i.action,i.pathString,i.data,i.onComplete)}for(let i=0;i<this.outstandingGets_.length;i++)this.outstandingGets_[i]&&this.sendGet_(i)}sendConnectStats_(){const i={};let l="js";(0,N.Yr)()&&(l=this.repoInfo_.nodeAdmin?"admin_node":"node"),i["sdk."+l+"."+Re.replace(/\./g,"-")]=1,(0,N.uI)()?i["framework.cordova"]=1:(0,N.b$)()&&(i["framework.reactnative"]=1),this.reportStats(i)}shouldReconnect_(){const i=Bn.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&i}}return o.nextPersistentConnectionId_=0,o.nextConnectionId_=0,o})();class dn{constructor(r,i){this.name=r,this.node=i}static Wrap(r,i){return new dn(r,i)}}class Us{getCompare(){return this.compare.bind(this)}indexedValueChanged(r,i){const l=new dn(rr,r),h=new dn(rr,i);return 0!==this.compare(l,h)}minPost(){return dn.MIN}}class hs extends Us{static get __EMPTY_NODE(){return bs}static set __EMPTY_NODE(r){bs=r}compare(r,i){return rn(r.name,i.name)}isDefinedOn(r){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(r,i){return!1}minPost(){return dn.MIN}maxPost(){return new dn(An,bs)}makePost(r,i){return(0,N.hu)("string"==typeof r,"KeyIndex indexValue must always be a string."),new dn(r,bs)}toString(){return".key"}}const Rr=new hs;class bi{constructor(r,i,l,h,w=null){this.isReverse_=h,this.resultGenerator_=w,this.nodeStack_=[];let R=1;for(;!r.isEmpty();)if(R=i?l(r.key,i):1,h&&(R*=-1),R<0)r=this.isReverse_?r.left:r.right;else{if(0===R){this.nodeStack_.push(r);break}this.nodeStack_.push(r),r=this.isReverse_?r.right:r.left}}getNext(){if(0===this.nodeStack_.length)return null;let i,r=this.nodeStack_.pop();if(i=this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value},this.isReverse_)for(r=r.left;!r.isEmpty();)this.nodeStack_.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack_.push(r),r=r.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const r=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(r.key,r.value):{key:r.key,value:r.value}}}let ji,ci=(()=>{class o{constructor(i,l,h,w,R){this.key=i,this.value=l,this.color=h??o.RED,this.left=w??Pr.EMPTY_NODE,this.right=R??Pr.EMPTY_NODE}copy(i,l,h,w,R){return new o(i??this.key,l??this.value,h??this.color,w??this.left,R??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||!!i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,l,h){let w=this;const R=h(i,w.key);return w=R<0?w.copy(null,null,null,w.left.insert(i,l,h),null):0===R?w.copy(null,l,null,null,null):w.copy(null,null,null,null,w.right.insert(i,l,h)),w.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let i=this;return!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.removeMin_(),null),i.fixUp_()}remove(i,l){let h,w;if(h=this,l(i,h.key)<0)!h.left.isEmpty()&&!h.left.isRed_()&&!h.left.left.isRed_()&&(h=h.moveRedLeft_()),h=h.copy(null,null,null,h.left.remove(i,l),null);else{if(h.left.isRed_()&&(h=h.rotateRight_()),!h.right.isEmpty()&&!h.right.isRed_()&&!h.right.left.isRed_()&&(h=h.moveRedRight_()),0===l(i,h.key)){if(h.right.isEmpty())return Pr.EMPTY_NODE;w=h.right.min_(),h=h.copy(w.key,w.value,null,null,h.right.removeMin_())}h=h.copy(null,null,null,null,h.right.remove(i,l))}return h.fixUp_()}isRed_(){return this.color}fixUp_(){let i=this;return i.right.isRed_()&&!i.left.isRed_()&&(i=i.rotateLeft_()),i.left.isRed_()&&i.left.left.isRed_()&&(i=i.rotateRight_()),i.left.isRed_()&&i.right.isRed_()&&(i=i.colorFlip_()),i}moveRedLeft_(){let i=this.colorFlip_();return i.right.left.isRed_()&&(i=i.copy(null,null,null,null,i.right.rotateRight_()),i=i.rotateLeft_(),i=i.colorFlip_()),i}moveRedRight_(){let i=this.colorFlip_();return i.left.left.isRed_()&&(i=i.rotateRight_(),i=i.colorFlip_()),i}rotateLeft_(){const i=this.copy(null,null,o.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight_(){const i=this.copy(null,null,o.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip_(){const i=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,l)}checkMaxDepth_(){const i=this.check_();return Math.pow(2,i)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const i=this.left.check_();if(i!==this.right.check_())throw new Error("Black depths differ");return i+(this.isRed_()?0:1)}}return o.RED=!0,o.BLACK=!1,o})();class Pr{constructor(r,i=Pr.EMPTY_NODE){this.comparator_=r,this.root_=i}insert(r,i){return new Pr(this.comparator_,this.root_.insert(r,i,this.comparator_).copy(null,null,ci.BLACK,null,null))}remove(r){return new Pr(this.comparator_,this.root_.remove(r,this.comparator_).copy(null,null,ci.BLACK,null,null))}get(r){let i,l=this.root_;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i)return l.value;i<0?l=l.left:i>0&&(l=l.right)}return null}getPredecessorKey(r){let i,l=this.root_,h=null;for(;!l.isEmpty();){if(i=this.comparator_(r,l.key),0===i){if(l.left.isEmpty())return h?h.key:null;for(l=l.left;!l.right.isEmpty();)l=l.right;return l.key}i<0?l=l.left:i>0&&(h=l,l=l.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(r){return this.root_.inorderTraversal(r)}reverseTraversal(r){return this.root_.reverseTraversal(r)}getIterator(r){return new bi(this.root_,null,this.comparator_,!1,r)}getIteratorFrom(r,i){return new bi(this.root_,r,this.comparator_,!1,i)}getReverseIteratorFrom(r,i){return new bi(this.root_,r,this.comparator_,!0,i)}getReverseIterator(r){return new bi(this.root_,null,this.comparator_,!0,r)}}function Lr(o,r){return rn(o.name,r.name)}function Hi(o,r){return rn(o,r)}Pr.EMPTY_NODE=new class Ts{copy(r,i,l,h,w){return this}insert(r,i,l){return new ci(r,i,null)}remove(r,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Bs=function(o){return"number"==typeof o?"number:"+mr(o):"string:"+o},Xi=function(o){if(o.isLeafNode()){const r=o.val();(0,N.hu)("string"==typeof r||"number"==typeof r||"object"==typeof r&&(0,N.r3)(r,".sv"),"Priority must be a string or number.")}else(0,N.hu)(o===ji||o.isEmpty(),"priority of unexpected type.");(0,N.hu)(o===ji||o.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Yr,Xs,er,Xn=(()=>{class o{constructor(i,l=o.__childrenNodeConstructor.EMPTY_NODE){this.value_=i,this.priorityNode_=l,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Xi(this.priorityNode_)}static set __childrenNodeConstructor(i){Yr=i}static get __childrenNodeConstructor(){return Yr}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(i){return new o(this.value_,i)}getImmediateChild(i){return".priority"===i?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}getChild(i){return cn(i)?this:".priority"===en(i)?this.priorityNode_:o.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(i,l){return null}updateImmediateChild(i,l){return".priority"===i?this.updatePriority(l):l.isEmpty()&&".priority"!==i?this:o.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(i,l).updatePriority(this.priorityNode_)}updateChild(i,l){const h=en(i);return null===h?l:l.isEmpty()&&".priority"!==h?this:((0,N.hu)(".priority"!==h||1===yr(i),".priority must be the last token in a path"),this.updateImmediateChild(h,o.__childrenNodeConstructor.EMPTY_NODE.updateChild(yn(i),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(i,l){return!1}val(i){return i&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let i="";this.priorityNode_.isEmpty()||(i+="priority:"+Bs(this.priorityNode_.val())+":");const l=typeof this.value_;i+=l+":",i+="number"===l?mr(this.value_):this.value_,this.lazyHash_=Ot(i)}return this.lazyHash_}getValue(){return this.value_}compareTo(i){return i===o.__childrenNodeConstructor.EMPTY_NODE?1:i instanceof o.__childrenNodeConstructor?-1:((0,N.hu)(i.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(i))}compareToLeafNode_(i){const l=typeof i.value_,h=typeof this.value_,w=o.VALUE_TYPE_ORDER.indexOf(l),R=o.VALUE_TYPE_ORDER.indexOf(h);return(0,N.hu)(w>=0,"Unknown leaf type: "+l),(0,N.hu)(R>=0,"Unknown leaf type: "+h),w===R?"object"===h?0:this.value_<i.value_?-1:this.value_===i.value_?0:1:R-w}withIndex(){return this}isIndexed(){return!0}equals(i){return i===this||!!i.isLeafNode()&&(this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_))}}return o.VALUE_TYPE_ORDER=["object","boolean","number","string"],o})();const Kn=new class or extends Us{compare(r,i){const l=r.node.getPriority(),h=i.node.getPriority(),w=l.compareTo(h);return 0===w?rn(r.name,i.name):w}isDefinedOn(r){return!r.getPriority().isEmpty()}indexedValueChanged(r,i){return!r.getPriority().equals(i.getPriority())}minPost(){return dn.MIN}maxPost(){return new dn(An,new Xn("[PRIORITY-POST]",er))}makePost(r,i){const l=Xs(r);return new dn(i,new Xn("[PRIORITY-POST]",l))}toString(){return".priority"}},Vr=Math.log(2);class fi{constructor(r){this.count=parseInt(Math.log(r+1)/Vr,10),this.current_=this.count-1;const h=(w=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=r+1&h}nextBitIsOne(){const r=!(this.bits_&1<<this.current_);return this.current_--,r}}const hr=function(o,r,i,l){o.sort(r);const h=function(Y,ie){const Ue=ie-Y;let Ve,rt;if(0===Ue)return null;if(1===Ue)return Ve=o[Y],rt=i?i(Ve):Ve,new ci(rt,Ve.node,ci.BLACK,null,null);{const bt=parseInt(Ue/2,10)+Y,zt=h(Y,bt),Vn=h(bt+1,ie);return Ve=o[bt],rt=i?i(Ve):Ve,new ci(rt,Ve.node,ci.BLACK,zt,Vn)}},H=function(Y){let ie=null,Ue=null,Ve=o.length;const rt=function(zt,Vn){const yi=Ve-zt,Os=Ve;Ve-=zt;const Go=h(yi+1,Os),sa=o[yi],Fi=i?i(sa):sa;bt(new ci(Fi,sa.node,Vn,null,Go))},bt=function(zt){ie?(ie.left=zt,ie=zt):(Ue=zt,ie=zt)};for(let zt=0;zt<Y.count;++zt){const Vn=Y.nextBitIsOne(),yi=Math.pow(2,Y.count-(zt+1));Vn?rt(yi,ci.BLACK):(rt(yi,ci.BLACK),rt(yi,ci.RED))}return Ue}(new fi(o.length));return new Pr(l||r,H)};let Ss;const Ti={};class $r{constructor(r,i){this.indexes_=r,this.indexSet_=i}static get Default(){return(0,N.hu)(Ti&&Kn,"ChildrenNode.ts has not been loaded"),Ss=Ss||new $r({".priority":Ti},{".priority":Kn}),Ss}get(r){const i=(0,N.DV)(this.indexes_,r);if(!i)throw new Error("No index defined for "+r);return i instanceof Pr?i:null}hasIndex(r){return(0,N.r3)(this.indexSet_,r.toString())}addIndex(r,i){(0,N.hu)(r!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const l=[];let h=!1;const w=i.getIterator(dn.Wrap);let H,R=w.getNext();for(;R;)h=h||r.isDefinedOn(R.node),l.push(R),R=w.getNext();H=h?hr(l,r.getCompare()):Ti;const Y=r.toString(),ie=Object.assign({},this.indexSet_);ie[Y]=r;const Ue=Object.assign({},this.indexes_);return Ue[Y]=H,new $r(Ue,ie)}addToIndexes(r,i){const l=(0,N.UI)(this.indexes_,(h,w)=>{const R=(0,N.DV)(this.indexSet_,w);if((0,N.hu)(R,"Missing index implementation for "+w),h===Ti){if(R.isDefinedOn(r.node)){const H=[],Y=i.getIterator(dn.Wrap);let ie=Y.getNext();for(;ie;)ie.name!==r.name&&H.push(ie),ie=Y.getNext();return H.push(r),hr(H,R.getCompare())}return Ti}{const H=i.get(r.name);let Y=h;return H&&(Y=Y.remove(new dn(r.name,H))),Y.insert(r,r.node)}});return new $r(l,this.indexSet_)}removeFromIndexes(r,i){const l=(0,N.UI)(this.indexes_,h=>{if(h===Ti)return h;{const w=i.get(r.name);return w?h.remove(new dn(r.name,w)):h}});return new $r(l,this.indexSet_)}}let Fr,Zt=(()=>{class o{constructor(i,l,h){this.children_=i,this.priorityNode_=l,this.indexMap_=h,this.lazyHash_=null,this.priorityNode_&&Xi(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fr||(Fr=new o(new Pr(Hi),null,$r.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fr}updatePriority(i){return this.children_.isEmpty()?this:new o(this.children_,i,this.indexMap_)}getImmediateChild(i){if(".priority"===i)return this.getPriority();{const l=this.children_.get(i);return null===l?Fr:l}}getChild(i){const l=en(i);return null===l?this:this.getImmediateChild(l).getChild(yn(i))}hasChild(i){return null!==this.children_.get(i)}updateImmediateChild(i,l){if((0,N.hu)(l,"We should always be passing snapshot nodes"),".priority"===i)return this.updatePriority(l);{const h=new dn(i,l);let w,R;l.isEmpty()?(w=this.children_.remove(i),R=this.indexMap_.removeFromIndexes(h,this.children_)):(w=this.children_.insert(i,l),R=this.indexMap_.addToIndexes(h,this.children_));const H=w.isEmpty()?Fr:this.priorityNode_;return new o(w,H,R)}}updateChild(i,l){const h=en(i);if(null===h)return l;{(0,N.hu)(".priority"!==en(i)||1===yr(i),".priority must be the last token in a path");const w=this.getImmediateChild(h).updateChild(yn(i),l);return this.updateImmediateChild(h,w)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(i){if(this.isEmpty())return null;const l={};let h=0,w=0,R=!0;if(this.forEachChild(Kn,(H,Y)=>{l[H]=Y.val(i),h++,R&&o.INTEGER_REGEXP_.test(H)?w=Math.max(w,Number(H)):R=!1}),!i&&R&&w<2*h){const H=[];for(const Y in l)H[Y]=l[Y];return H}return i&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(null===this.lazyHash_){let i="";this.getPriority().isEmpty()||(i+="priority:"+Bs(this.getPriority().val())+":"),this.forEachChild(Kn,(l,h)=>{const w=h.hash();""!==w&&(i+=":"+l+":"+w)}),this.lazyHash_=""===i?"":Ot(i)}return this.lazyHash_}getPredecessorChildName(i,l,h){const w=this.resolveIndex_(h);if(w){const R=w.getPredecessorKey(new dn(i,l));return R?R.name:null}return this.children_.getPredecessorKey(i)}getFirstChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.minKey();return h&&h.name}return this.children_.minKey()}getFirstChild(i){const l=this.getFirstChildName(i);return l?new dn(l,this.children_.get(l)):null}getLastChildName(i){const l=this.resolveIndex_(i);if(l){const h=l.maxKey();return h&&h.name}return this.children_.maxKey()}getLastChild(i){const l=this.getLastChildName(i);return l?new dn(l,this.children_.get(l)):null}forEachChild(i,l){const h=this.resolveIndex_(i);return h?h.inorderTraversal(w=>l(w.name,w.node)):this.children_.inorderTraversal(l)}getIterator(i){return this.getIteratorFrom(i.minPost(),i)}getIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getIteratorFrom(i,w=>w);{const w=this.children_.getIteratorFrom(i.name,dn.Wrap);let R=w.peek();for(;null!=R&&l.compare(R,i)<0;)w.getNext(),R=w.peek();return w}}getReverseIterator(i){return this.getReverseIteratorFrom(i.maxPost(),i)}getReverseIteratorFrom(i,l){const h=this.resolveIndex_(l);if(h)return h.getReverseIteratorFrom(i,w=>w);{const w=this.children_.getReverseIteratorFrom(i.name,dn.Wrap);let R=w.peek();for(;null!=R&&l.compare(R,i)>0;)w.getNext(),R=w.peek();return w}}compareTo(i){return this.isEmpty()?i.isEmpty()?0:-1:i.isLeafNode()||i.isEmpty()?1:i===Ut?-1:0}withIndex(i){if(i===Rr||this.indexMap_.hasIndex(i))return this;{const l=this.indexMap_.addIndex(i,this.children_);return new o(this.children_,this.priorityNode_,l)}}isIndexed(i){return i===Rr||this.indexMap_.hasIndex(i)}equals(i){if(i===this)return!0;if(i.isLeafNode())return!1;{const l=i;if(this.getPriority().equals(l.getPriority())){if(this.children_.count()===l.children_.count()){const h=this.getIterator(Kn),w=l.getIterator(Kn);let R=h.getNext(),H=w.getNext();for(;R&&H;){if(R.name!==H.name||!R.node.equals(H.node))return!1;R=h.getNext(),H=w.getNext()}return null===R&&null===H}return!1}return!1}}resolveIndex_(i){return i===Rr?null:this.indexMap_.get(i.toString())}}return o.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,o})();const Ut=new class eo extends Zt{constructor(){super(new Pr(Hi),Zt.EMPTY_NODE,$r.Default)}compareTo(r){return r===this?0:1}equals(r){return r===this}getPriority(){return this}getImmediateChild(r){return Zt.EMPTY_NODE}isEmpty(){return!1}};function ar(o,r=null){if(null===o)return Zt.EMPTY_NODE;if("object"==typeof o&&".priority"in o&&(r=o[".priority"]),(0,N.hu)(null===r||"string"==typeof r||"number"==typeof r||"object"==typeof r&&".sv"in r,"Invalid priority type found: "+typeof r),"object"==typeof o&&".value"in o&&null!==o[".value"]&&(o=o[".value"]),"object"!=typeof o||".sv"in o)return new Xn(o,ar(r));if(o instanceof Array){let i=Zt.EMPTY_NODE;return un(o,(l,h)=>{if((0,N.r3)(o,l)&&"."!==l.substring(0,1)){const w=ar(h);(w.isLeafNode()||!w.isEmpty())&&(i=i.updateImmediateChild(l,w))}}),i.updatePriority(ar(r))}{const i=[];let l=!1;if(un(o,(R,H)=>{if("."!==R.substring(0,1)){const Y=ar(H);Y.isEmpty()||(l=l||!Y.getPriority().isEmpty(),i.push(new dn(R,Y)))}}),0===i.length)return Zt.EMPTY_NODE;const w=hr(i,Lr,R=>R.name,Hi);if(l){const R=hr(i,Kn.getCompare());return new Zt(w,ar(r),new $r({".priority":R},{".priority":Kn}))}return new Zt(w,ar(r),$r.Default)}}Object.defineProperties(dn,{MIN:{value:new dn(rr,Zt.EMPTY_NODE)},MAX:{value:new dn(An,Ut)}}),hs.__EMPTY_NODE=Zt.EMPTY_NODE,Xn.__childrenNodeConstructor=Zt,function Do(o){ji=o}(Ut),function es(o){er=o}(Ut),function ii(o){Xs=o}(ar);class As extends Us{constructor(r){super(),this.indexPath_=r,(0,N.hu)(!cn(r)&&".priority"!==en(r),"Can't create PathIndex with empty path or .priority key")}extractChild(r){return r.getChild(this.indexPath_)}isDefinedOn(r){return!r.getChild(this.indexPath_).isEmpty()}compare(r,i){const l=this.extractChild(r.node),h=this.extractChild(i.node),w=l.compareTo(h);return 0===w?rn(r.name,i.name):w}makePost(r,i){const l=ar(r),h=Zt.EMPTY_NODE.updateChild(this.indexPath_,l);return new dn(i,h)}maxPost(){const r=Zt.EMPTY_NODE.updateChild(this.indexPath_,Ut);return new dn(An,r)}toString(){return Tr(this.indexPath_,0).join("/")}}const Vs=new class wo extends Us{compare(r,i){const l=r.node.compareTo(i.node);return 0===l?rn(r.name,i.name):l}isDefinedOn(r){return!0}indexedValueChanged(r,i){return!r.equals(i)}minPost(){return dn.MIN}maxPost(){return dn.MAX}makePost(r,i){const l=ar(r);return new dn(i,l)}toString(){return".value"}};function to(o){return{type:"value",snapshotNode:o}}function $s(o,r){return{type:"child_added",snapshotNode:r,childName:o}}function Hs(o,r){return{type:"child_removed",snapshotNode:r,childName:o}}function He(o,r,i){return{type:"child_changed",snapshotNode:r,childName:o,oldSnap:i}}class ts{constructor(r){this.index_=r}updateChild(r,i,l,h,w,R){(0,N.hu)(r.isIndexed(this.index_),"A node must be indexed if only a child is updated");const H=r.getImmediateChild(i);return H.getChild(h).equals(l.getChild(h))&&H.isEmpty()===l.isEmpty()||(null!=R&&(l.isEmpty()?r.hasChild(i)?R.trackChildChange(Hs(i,H)):(0,N.hu)(r.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):H.isEmpty()?R.trackChildChange($s(i,l)):R.trackChildChange(He(i,l,H))),r.isLeafNode()&&l.isEmpty())?r:r.updateImmediateChild(i,l).withIndex(this.index_)}updateFullNode(r,i,l){return null!=l&&(r.isLeafNode()||r.forEachChild(Kn,(h,w)=>{i.hasChild(h)||l.trackChildChange(Hs(h,w))}),i.isLeafNode()||i.forEachChild(Kn,(h,w)=>{if(r.hasChild(h)){const R=r.getImmediateChild(h);R.equals(w)||l.trackChildChange(He(h,w,R))}else l.trackChildChange($s(h,w))})),i.withIndex(this.index_)}updatePriority(r,i){return r.isEmpty()?Zt.EMPTY_NODE:r.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ki{constructor(r){this.indexedFilter_=new ts(r.getIndex()),this.index_=r.getIndex(),this.startPost_=ki.getStartPost_(r),this.endPost_=ki.getEndPost_(r),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(r){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),r)<=0:this.index_.compare(this.getStartPost(),r)<0,l=this.endIsInclusive_?this.index_.compare(r,this.getEndPost())<=0:this.index_.compare(r,this.getEndPost())<0;return i&&l}updateChild(r,i,l,h,w,R){return this.matches(new dn(i,l))||(l=Zt.EMPTY_NODE),this.indexedFilter_.updateChild(r,i,l,h,w,R)}updateFullNode(r,i,l){i.isLeafNode()&&(i=Zt.EMPTY_NODE);let h=i.withIndex(this.index_);h=h.updatePriority(Zt.EMPTY_NODE);const w=this;return i.forEachChild(Kn,(R,H)=>{w.matches(new dn(R,H))||(h=h.updateImmediateChild(R,Zt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(r){if(r.hasStart()){const i=r.getIndexStartName();return r.getIndex().makePost(r.getIndexStartValue(),i)}return r.getIndex().minPost()}static getEndPost_(r){if(r.hasEnd()){const i=r.getIndexEndName();return r.getIndex().makePost(r.getIndexEndValue(),i)}return r.getIndex().maxPost()}}class Hr{constructor(r){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const l=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?l<=0:l<0},this.withinEndPost=i=>{const l=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?l<=0:l<0},this.rangedFilter_=new ki(r),this.index_=r.getIndex(),this.limit_=r.getLimit(),this.reverse_=!r.isViewFromLeft(),this.startIsInclusive_=!r.startAfterSet_,this.endIsInclusive_=!r.endBeforeSet_}updateChild(r,i,l,h,w,R){return this.rangedFilter_.matches(new dn(i,l))||(l=Zt.EMPTY_NODE),r.getImmediateChild(i).equals(l)?r:r.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(r,i,l,h,w,R):this.fullLimitUpdateChild_(r,i,l,w,R)}updateFullNode(r,i,l){let h;if(i.isLeafNode()||i.isEmpty())h=Zt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<i.numChildren()&&i.isIndexed(this.index_)){let w;h=Zt.EMPTY_NODE.withIndex(this.index_),w=this.reverse_?i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let R=0;for(;w.hasNext()&&R<this.limit_;){const H=w.getNext();if(this.withinDirectionalStart(H)){if(!this.withinDirectionalEnd(H))break;h=h.updateImmediateChild(H.name,H.node),R++}}}else{let w;h=i.withIndex(this.index_),h=h.updatePriority(Zt.EMPTY_NODE),w=this.reverse_?h.getReverseIterator(this.index_):h.getIterator(this.index_);let R=0;for(;w.hasNext();){const H=w.getNext();R<this.limit_&&this.withinDirectionalStart(H)&&this.withinDirectionalEnd(H)?R++:h=h.updateImmediateChild(H.name,Zt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(r,h,l)}updatePriority(r,i){return r}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(r,i,l,h,w){let R;if(this.reverse_){const Ve=this.index_.getCompare();R=(rt,bt)=>Ve(bt,rt)}else R=this.index_.getCompare();const H=r;(0,N.hu)(H.numChildren()===this.limit_,"");const Y=new dn(i,l),ie=this.reverse_?H.getFirstChild(this.index_):H.getLastChild(this.index_),Ue=this.rangedFilter_.matches(Y);if(H.hasChild(i)){const Ve=H.getImmediateChild(i);let rt=h.getChildAfterChild(this.index_,ie,this.reverse_);for(;null!=rt&&(rt.name===i||H.hasChild(rt.name));)rt=h.getChildAfterChild(this.index_,rt,this.reverse_);const bt=null==rt?1:R(rt,Y);if(Ue&&!l.isEmpty()&&bt>=0)return w?.trackChildChange(He(i,l,Ve)),H.updateImmediateChild(i,l);{w?.trackChildChange(Hs(i,Ve));const Vn=H.updateImmediateChild(i,Zt.EMPTY_NODE);return null!=rt&&this.rangedFilter_.matches(rt)?(w?.trackChildChange($s(rt.name,rt.node)),Vn.updateImmediateChild(rt.name,rt.node)):Vn}}return l.isEmpty()?r:Ue&&R(ie,Y)>=0?(null!=w&&(w.trackChildChange(Hs(ie.name,ie.node)),w.trackChildChange($s(i,l))),H.updateImmediateChild(i,l).updateImmediateChild(ie.name,Zt.EMPTY_NODE)):r}}class fs{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:rr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:An}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kn}copy(){const r=new fs;return r.limitSet_=this.limitSet_,r.limit_=this.limit_,r.startSet_=this.startSet_,r.startAfterSet_=this.startAfterSet_,r.indexStartValue_=this.indexStartValue_,r.startNameSet_=this.startNameSet_,r.indexStartName_=this.indexStartName_,r.endSet_=this.endSet_,r.endBeforeSet_=this.endBeforeSet_,r.indexEndValue_=this.indexEndValue_,r.endNameSet_=this.endNameSet_,r.indexEndName_=this.indexEndName_,r.index_=this.index_,r.viewFrom_=this.viewFrom_,r}}function js(o,r,i){const l=o.copy();return l.startSet_=!0,void 0===r&&(r=null),l.indexStartValue_=r,null!=i?(l.startNameSet_=!0,l.indexStartName_=i):(l.startNameSet_=!1,l.indexStartName_=""),l}function Ws(o,r,i){const l=o.copy();return l.endSet_=!0,void 0===r&&(r=null),l.indexEndValue_=r,void 0!==i?(l.endNameSet_=!0,l.indexEndName_=i):(l.endNameSet_=!1,l.indexEndName_=""),l}function fr(o,r){const i=o.copy();return i.index_=r,i}function di(o){const r={};if(o.isDefault())return r;let i;if(o.index_===Kn?i="$priority":o.index_===Vs?i="$value":o.index_===Rr?i="$key":((0,N.hu)(o.index_ instanceof As,"Unrecognized index type!"),i=o.index_.toString()),r.orderBy=(0,N.Wl)(i),o.startSet_){const l=o.startAfterSet_?"startAfter":"startAt";r[l]=(0,N.Wl)(o.indexStartValue_),o.startNameSet_&&(r[l]+=","+(0,N.Wl)(o.indexStartName_))}if(o.endSet_){const l=o.endBeforeSet_?"endBefore":"endAt";r[l]=(0,N.Wl)(o.indexEndValue_),o.endNameSet_&&(r[l]+=","+(0,N.Wl)(o.indexEndName_))}return o.limitSet_&&(o.isViewFromLeft()?r.limitToFirst=o.limit_:r.limitToLast=o.limit_),r}function zi(o){const r={};if(o.startSet_&&(r.sp=o.indexStartValue_,o.startNameSet_&&(r.sn=o.indexStartName_),r.sin=!o.startAfterSet_),o.endSet_&&(r.ep=o.indexEndValue_,o.endNameSet_&&(r.en=o.indexEndName_),r.ein=!o.endBeforeSet_),o.limitSet_){r.l=o.limit_;let i=o.viewFrom_;""===i&&(i=o.isViewFromLeft()?"l":"r"),r.vf=i}return o.index_!==Kn&&(r.i=o.index_.toString()),r}class Gi extends Oi{constructor(r,i,l,h){super(),this.repoInfo_=r,this.onDataUpdate_=i,this.authTokenProvider_=l,this.appCheckTokenProvider_=h,this.log_=cr("p:rest:"),this.listens_={}}reportStats(r){throw new Error("Method not implemented.")}static getListenId_(r,i){return void 0!==i?"tag$"+i:((0,N.hu)(r._queryParams.isDefault(),"should have a tag if it's not a default query."),r._path.toString())}listen(r,i,l,h){const w=r._path.toString();this.log_("Listen called for "+w+" "+r._queryIdentifier);const R=Gi.getListenId_(r,l),H={};this.listens_[R]=H;const Y=di(r._queryParams);this.restRequest_(w+".json",Y,(ie,Ue)=>{let Ve=Ue;if(404===ie&&(Ve=null,ie=null),null===ie&&this.onDataUpdate_(w,Ve,!1,l),(0,N.DV)(this.listens_,R)===H){let rt;rt=ie?401===ie?"permission_denied":"rest_error:"+ie:"ok",h(rt,null)}})}unlisten(r,i){const l=Gi.getListenId_(r,i);delete this.listens_[l]}get(r){const i=di(r._queryParams),l=r._path.toString(),h=new N.BH;return this.restRequest_(l+".json",i,(w,R)=>{let H=R;404===w&&(H=null,w=null),null===w?(this.onDataUpdate_(l,H,!1,null),h.resolve(H)):h.reject(new Error(H))}),h.promise}refreshAuthToken(r){}restRequest_(r,i={},l){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([h,w])=>{h&&h.accessToken&&(i.auth=h.accessToken),w&&w.token&&(i.ac=w.token);const R=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+r+"?ns="+this.repoInfo_.namespace+(0,N.xO)(i);this.log_("Sending REST request for "+R);const H=new XMLHttpRequest;H.onreadystatechange=()=>{if(l&&4===H.readyState){this.log_("REST Response for "+R+" received. status:",H.status,"response:",H.responseText);let Y=null;if(H.status>=200&&H.status<300){try{Y=(0,N.cI)(H.responseText)}catch{gn("Failed to parse JSON response for "+R+": "+H.responseText)}l(null,Y)}else 401!==H.status&&404!==H.status&&gn("Got unsuccessful REST response for "+R+" Status: "+H.status),l(H.status);l=null}},H.open("GET",R,!0),H.send()})}}class xi{constructor(){this.rootNode_=Zt.EMPTY_NODE}getNode(r){return this.rootNode_.getChild(r)}updateSnapshot(r,i){this.rootNode_=this.rootNode_.updateChild(r,i)}}function ns(){return{value:null,children:new Map}}function si(o,r,i){if(cn(r))o.value=i,o.children.clear();else if(null!==o.value)o.value=o.value.updateChild(r,i);else{const l=en(r);o.children.has(l)||o.children.set(l,ns()),si(o.children.get(l),r=yn(r),i)}}function U(o,r){if(cn(r))return o.value=null,o.children.clear(),!0;if(null!==o.value){if(o.value.isLeafNode())return!1;{const i=o.value;return o.value=null,i.forEachChild(Kn,(l,h)=>{si(o,new $n(l),h)}),U(o,r)}}if(o.children.size>0){const i=en(r);return r=yn(r),o.children.has(i)&&U(o.children.get(i),r)&&o.children.delete(i),0===o.children.size}return!0}function m(o,r,i){null!==o.value?i(r,o.value):function E(o,r){o.children.forEach((i,l)=>{r(l,i)})}(o,(l,h)=>{m(h,new $n(r.toString()+"/"+l),i)})}class M{constructor(r){this.collection_=r,this.last_=null}get(){const r=this.collection_.get(),i=Object.assign({},r);return this.last_&&un(this.last_,(l,h)=>{i[l]=i[l]-h}),this.last_=r,i}}class le{constructor(r,i){this.server_=i,this.statsToReport_={},this.statsListener_=new M(r);const l=1e4+2e4*Math.random();Ei(this.reportStats_.bind(this),Math.floor(l))}reportStats_(){const r=this.statsListener_.get(),i={};let l=!1;un(r,(h,w)=>{w>0&&(0,N.r3)(this.statsToReport_,h)&&(i[h]=w,l=!0)}),l&&this.server_.reportStats(i),Ei(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ae=(()=>{return(o=Ae||(Ae={}))[o.OVERWRITE=0]="OVERWRITE",o[o.MERGE=1]="MERGE",o[o.ACK_USER_WRITE=2]="ACK_USER_WRITE",o[o.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ae;var o})();function It(o){return{fromUser:!1,fromServer:!0,queryId:o,tagged:!0}}class hn{constructor(r,i,l){this.path=r,this.affectedTree=i,this.revert=l,this.type=Ae.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(r){if(cn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new $n(r));return new hn(Rn(),i,this.revert)}}return(0,N.hu)(en(this.path)===r,"operationForChild called for unrelated child."),new hn(yn(this.path),this.affectedTree,this.revert)}}class on{constructor(r,i){this.source=r,this.path=i,this.type=Ae.LISTEN_COMPLETE}operationForChild(r){return cn(this.path)?new on(this.source,Rn()):new on(this.source,yn(this.path))}}class Bt{constructor(r,i,l){this.source=r,this.path=i,this.snap=l,this.type=Ae.OVERWRITE}operationForChild(r){return cn(this.path)?new Bt(this.source,Rn(),this.snap.getImmediateChild(r)):new Bt(this.source,yn(this.path),this.snap)}}class Gt{constructor(r,i,l){this.source=r,this.path=i,this.children=l,this.type=Ae.MERGE}operationForChild(r){if(cn(this.path)){const i=this.children.subtree(new $n(r));return i.isEmpty()?null:i.value?new Bt(this.source,Rn(),i.value):new Gt(this.source,Rn(),i)}return(0,N.hu)(en(this.path)===r,"Can't get a merge for a child not on the path of the operation"),new Gt(this.source,yn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yt{constructor(r,i,l){this.node_=r,this.fullyInitialized_=i,this.filtered_=l}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(r){if(cn(r))return this.isFullyInitialized()&&!this.filtered_;const i=en(r);return this.isCompleteForChild(i)}isCompleteForChild(r){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(r)}getNode(){return this.node_}}class Hn{constructor(r){this.query_=r,this.index_=this.query_._queryParams.getIndex()}}function lr(o,r,i,l,h,w){const R=l.filter(H=>H.type===i);R.sort((H,Y)=>function Dr(o,r,i){if(null==r.childName||null==i.childName)throw(0,N.g5)("Should only compare child_ events.");const l=new dn(r.childName,r.snapshotNode),h=new dn(i.childName,i.snapshotNode);return o.index_.compare(l,h)}(o,H,Y)),R.forEach(H=>{const Y=function Or(o,r,i){return"value"===r.type||"child_removed"===r.type||(r.prevName=i.getPredecessorChildName(r.childName,r.snapshotNode,o.index_)),r}(o,H,w);h.forEach(ie=>{ie.respondsTo(H.type)&&r.push(ie.createEvent(Y,o.query_))})})}function gi(o,r){return{eventCache:o,serverCache:r}}function Ur(o,r,i,l){return gi(new Yt(r,i,l),o.serverCache)}function Ki(o,r,i,l){return gi(o.eventCache,new Yt(r,i,l))}function qr(o){return o.eventCache.isFullyInitialized()?o.eventCache.getNode():null}function C(o){return o.serverCache.isFullyInitialized()?o.serverCache.getNode():null}let L;class V{constructor(r,i=(()=>(L||(L=new Pr(Wn)),L))()){this.value=r,this.children=i}static fromObject(r){let i=new V(null);return un(r,(l,h)=>{i=i.set(new $n(l),h)}),i}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(r,i){if(null!=this.value&&i(this.value))return{path:Rn(),value:this.value};if(cn(r))return null;{const l=en(r),h=this.children.get(l);if(null!==h){const w=h.findRootMostMatchingPathAndValue(yn(r),i);return null!=w?{path:In(new $n(l),w.path),value:w.value}:null}return null}}findRootMostValueAndPath(r){return this.findRootMostMatchingPathAndValue(r,()=>!0)}subtree(r){if(cn(r))return this;{const i=en(r),l=this.children.get(i);return null!==l?l.subtree(yn(r)):new V(null)}}set(r,i){if(cn(r))return new V(i,this.children);{const l=en(r),w=(this.children.get(l)||new V(null)).set(yn(r),i),R=this.children.insert(l,w);return new V(this.value,R)}}remove(r){if(cn(r))return this.children.isEmpty()?new V(null):new V(null,this.children);{const i=en(r),l=this.children.get(i);if(l){const h=l.remove(yn(r));let w;return w=h.isEmpty()?this.children.remove(i):this.children.insert(i,h),null===this.value&&w.isEmpty()?new V(null):new V(this.value,w)}return this}}get(r){if(cn(r))return this.value;{const i=en(r),l=this.children.get(i);return l?l.get(yn(r)):null}}setTree(r,i){if(cn(r))return i;{const l=en(r),w=(this.children.get(l)||new V(null)).setTree(yn(r),i);let R;return R=w.isEmpty()?this.children.remove(l):this.children.insert(l,w),new V(this.value,R)}}fold(r){return this.fold_(Rn(),r)}fold_(r,i){const l={};return this.children.inorderTraversal((h,w)=>{l[h]=w.fold_(In(r,h),i)}),i(r,this.value,l)}findOnPath(r,i){return this.findOnPath_(r,Rn(),i)}findOnPath_(r,i,l){const h=!!this.value&&l(i,this.value);if(h)return h;if(cn(r))return null;{const w=en(r),R=this.children.get(w);return R?R.findOnPath_(yn(r),In(i,w),l):null}}foreachOnPath(r,i){return this.foreachOnPath_(r,Rn(),i)}foreachOnPath_(r,i,l){if(cn(r))return this;{this.value&&l(i,this.value);const h=en(r),w=this.children.get(h);return w?w.foreachOnPath_(yn(r),In(i,h),l):new V(null)}}foreach(r){this.foreach_(Rn(),r)}foreach_(r,i){this.children.inorderTraversal((l,h)=>{h.foreach_(In(r,l),i)}),this.value&&i(r,this.value)}foreachChild(r){this.children.inorderTraversal((i,l)=>{l.value&&r(i,l.value)})}}class X{constructor(r){this.writeTree_=r}static empty(){return new X(new V(null))}}function ke(o,r,i){if(cn(r))return new X(new V(i));{const l=o.writeTree_.findRootMostValueAndPath(r);if(null!=l){const h=l.path;let w=l.value;const R=qn(h,r);return w=w.updateChild(R,i),new X(o.writeTree_.set(h,w))}{const h=new V(i),w=o.writeTree_.setTree(r,h);return new X(w)}}}function we(o,r,i){let l=o;return un(i,(h,w)=>{l=ke(l,In(r,h),w)}),l}function ze(o,r){if(cn(r))return X.empty();{const i=o.writeTree_.setTree(r,new V(null));return new X(i)}}function ct(o,r){return null!=Et(o,r)}function Et(o,r){const i=o.writeTree_.findRootMostValueAndPath(r);return null!=i?o.writeTree_.get(i.path).getChild(qn(i.path,r)):null}function Ht(o){const r=[],i=o.writeTree_.value;return null!=i?i.isLeafNode()||i.forEachChild(Kn,(l,h)=>{r.push(new dn(l,h))}):o.writeTree_.children.inorderTraversal((l,h)=>{null!=h.value&&r.push(new dn(l,h.value))}),r}function jt(o,r){if(cn(r))return o;{const i=Et(o,r);return new X(null!=i?new V(i):o.writeTree_.subtree(r))}}function kn(o){return o.writeTree_.isEmpty()}function En(o,r){return fn(Rn(),o.writeTree_,r)}function fn(o,r,i){if(null!=r.value)return i.updateChild(o,r.value);{let l=null;return r.children.inorderTraversal((h,w)=>{".priority"===h?((0,N.hu)(null!==w.value,"Priority writes must always be leaf nodes"),l=w.value):i=fn(In(o,h),w,i)}),!i.getChild(o).isEmpty()&&null!==l&&(i=i.updateChild(In(o,".priority"),l)),i}}function Pn(o,r){return Gs(r,o)}function Zi(o,r){if(o.snap)return ri(o.path,r);for(const i in o.children)if(o.children.hasOwnProperty(i)&&ri(In(o.path,i),r))return!0;return!1}function Ko(o){return o.visible}function Zo(o,r,i){let l=X.empty();for(let h=0;h<o.length;++h){const w=o[h];if(r(w)){const R=w.path;let H;if(w.snap)ri(i,R)?(H=qn(i,R),l=ke(l,H,w.snap)):ri(R,i)&&(H=qn(R,i),l=ke(l,Rn(),w.snap.getChild(H)));else{if(!w.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(ri(i,R))H=qn(i,R),l=we(l,H,w.children);else if(ri(R,i))if(H=qn(R,i),cn(H))l=we(l,Rn(),w.children);else{const Y=(0,N.DV)(w.children,en(H));if(Y){const ie=Y.getChild(yn(H));l=ke(l,Rn(),ie)}}}}}return l}function no(o,r,i,l,h){if(l||h){const w=jt(o.visibleWrites,r);return!h&&kn(w)?i:h||null!=i||ct(w,Rn())?En(Zo(o.allWrites,function(ie){return(ie.visible||h)&&(!l||!~l.indexOf(ie.writeId))&&(ri(ie.path,r)||ri(r,ie.path))},r),i||Zt.EMPTY_NODE):null}{const w=Et(o.visibleWrites,r);if(null!=w)return w;{const R=jt(o.visibleWrites,r);return kn(R)?i:null!=i||ct(R,Rn())?En(R,i||Zt.EMPTY_NODE):null}}}function bo(o,r,i,l){return no(o.writeTree,o.treePath,r,i,l)}function po(o,r){return function Yo(o,r,i){let l=Zt.EMPTY_NODE;const h=Et(o.visibleWrites,r);if(h)return h.isLeafNode()||h.forEachChild(Kn,(w,R)=>{l=l.updateImmediateChild(w,R)}),l;if(i){const w=jt(o.visibleWrites,r);return i.forEachChild(Kn,(R,H)=>{const Y=En(jt(w,new $n(R)),H);l=l.updateImmediateChild(R,Y)}),Ht(w).forEach(R=>{l=l.updateImmediateChild(R.name,R.node)}),l}return Ht(jt(o.visibleWrites,r)).forEach(R=>{l=l.updateImmediateChild(R.name,R.node)}),l}(o.writeTree,o.treePath,r)}function go(o,r,i,l){return function Uo(o,r,i,l,h){(0,N.hu)(l||h,"Either existingEventSnap or existingServerSnap must exist");const w=In(r,i);if(ct(o.visibleWrites,w))return null;{const R=jt(o.visibleWrites,w);return kn(R)?h.getChild(i):En(R,h.getChild(i))}}(o.writeTree,o.treePath,r,i,l)}function To(o,r){return function Co(o,r){return Et(o.visibleWrites,r)}(o.writeTree,In(o.treePath,r))}function mi(o,r,i){return function qo(o,r,i,l){const h=In(r,i),w=Et(o.visibleWrites,h);return null!=w?w:l.isCompleteForChild(i)?En(jt(o.visibleWrites,h),l.getNode().getImmediateChild(i)):null}(o.writeTree,o.treePath,r,i)}function Ca(o,r){return Gs(In(o.treePath,r),o.writeTree)}function Gs(o,r){return{treePath:o,writeTree:r}}class la{constructor(){this.changeMap=new Map}trackChildChange(r){const i=r.type,l=r.childName;(0,N.hu)("child_added"===i||"child_changed"===i||"child_removed"===i,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==l,"Only non-priority child changes can be tracked.");const h=this.changeMap.get(l);if(h){const w=h.type;if("child_added"===i&&"child_removed"===w)this.changeMap.set(l,He(l,r.snapshotNode,h.snapshotNode));else if("child_removed"===i&&"child_added"===w)this.changeMap.delete(l);else if("child_removed"===i&&"child_changed"===w)this.changeMap.set(l,Hs(l,h.oldSnap));else if("child_changed"===i&&"child_added"===w)this.changeMap.set(l,$s(l,r.snapshotNode));else{if("child_changed"!==i||"child_changed"!==w)throw(0,N.g5)("Illegal combination of changes: "+r+" occurred after "+h);this.changeMap.set(l,He(l,r.snapshotNode,h.oldSnap))}}else this.changeMap.set(l,r)}getChanges(){return Array.from(this.changeMap.values())}}const gs=new class Za{getCompleteChild(r){return null}getChildAfterChild(r,i,l){return null}};class Qo{constructor(r,i,l=null){this.writes_=r,this.viewCache_=i,this.optCompleteServerCache_=l}getCompleteChild(r){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(r))return i.getNode().getImmediateChild(r);{const l=null!=this.optCompleteServerCache_?new Yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return mi(this.writes_,r,l)}}getChildAfterChild(r,i,l){const h=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:C(this.viewCache_),w=function aa(o,r,i,l,h,w){return function wa(o,r,i,l,h,w,R){let H;const Y=jt(o.visibleWrites,r),ie=Et(Y,Rn());if(null!=ie)H=ie;else{if(null==i)return[];H=En(Y,i)}if(H=H.withIndex(R),H.isEmpty()||H.isLeafNode())return[];{const Ue=[],Ve=R.getCompare(),rt=w?H.getReverseIteratorFrom(l,R):H.getIteratorFrom(l,R);let bt=rt.getNext();for(;bt&&Ue.length<h;)0!==Ve(bt,l)&&Ue.push(bt),bt=rt.getNext();return Ue}}(o.writeTree,o.treePath,r,i,l,h,w)}(this.writes_,h,i,1,l,r);return 0===w.length?null:w[0]}}function Si(o,r,i,l,h,w){const R=r.eventCache;if(null!=To(l,i))return r;{let H,Y;if(cn(i))if((0,N.hu)(r.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),r.serverCache.isFiltered()){const ie=C(r),Ve=po(l,ie instanceof Zt?ie:Zt.EMPTY_NODE);H=o.filter.updateFullNode(r.eventCache.getNode(),Ve,w)}else{const ie=bo(l,C(r));H=o.filter.updateFullNode(r.eventCache.getNode(),ie,w)}else{const ie=en(i);if(".priority"===ie){(0,N.hu)(1===yr(i),"Can't have a priority with additional path components");const Ue=R.getNode();Y=r.serverCache.getNode();const Ve=go(l,i,Ue,Y);H=null!=Ve?o.filter.updatePriority(Ue,Ve):R.getNode()}else{const Ue=yn(i);let Ve;if(R.isCompleteForChild(ie)){Y=r.serverCache.getNode();const rt=go(l,i,R.getNode(),Y);Ve=null!=rt?R.getNode().getImmediateChild(ie).updateChild(Ue,rt):R.getNode().getImmediateChild(ie)}else Ve=mi(l,ie,r.serverCache);H=null!=Ve?o.filter.updateChild(R.getNode(),ie,Ve,Ue,h,w):R.getNode()}}return Ur(r,H,R.isFullyInitialized()||cn(i),o.filter.filtersNodes())}}function is(o,r,i,l,h,w,R,H){const Y=r.serverCache;let ie;const Ue=R?o.filter:o.filter.getIndexedFilter();if(cn(i))ie=Ue.updateFullNode(Y.getNode(),l,null);else if(Ue.filtersNodes()&&!Y.isFiltered()){const bt=Y.getNode().updateChild(i,l);ie=Ue.updateFullNode(Y.getNode(),bt,null)}else{const bt=en(i);if(!Y.isCompleteForPath(i)&&yr(i)>1)return r;const zt=yn(i),yi=Y.getNode().getImmediateChild(bt).updateChild(zt,l);ie=".priority"===bt?Ue.updatePriority(Y.getNode(),yi):Ue.updateChild(Y.getNode(),bt,yi,zt,gs,null)}const Ve=Ki(r,ie,Y.isFullyInitialized()||cn(i),Ue.filtersNodes());return Si(o,Ve,i,h,new Qo(h,Ve,w),H)}function ba(o,r,i,l,h,w,R){const H=r.eventCache;let Y,ie;const Ue=new Qo(h,r,w);if(cn(i))ie=o.filter.updateFullNode(r.eventCache.getNode(),l,R),Y=Ur(r,ie,!0,o.filter.filtersNodes());else{const Ve=en(i);if(".priority"===Ve)ie=o.filter.updatePriority(r.eventCache.getNode(),l),Y=Ur(r,ie,H.isFullyInitialized(),H.isFiltered());else{const rt=yn(i),bt=H.getNode().getImmediateChild(Ve);let zt;if(cn(rt))zt=l;else{const Vn=Ue.getCompleteChild(Ve);zt=null!=Vn?".priority"===cs(rt)&&Vn.getChild(ui(rt)).isEmpty()?Vn:Vn.updateChild(rt,l):Zt.EMPTY_NODE}Y=bt.equals(zt)?r:Ur(r,o.filter.updateChild(H.getNode(),Ve,zt,rt,Ue,R),H.isFullyInitialized(),o.filter.filtersNodes())}}return Y}function ro(o,r){return o.eventCache.isCompleteForChild(r)}function Ta(o,r,i){return i.foreach((l,h)=>{r=r.updateChild(l,h)}),r}function Sa(o,r,i,l,h,w,R,H){if(r.serverCache.getNode().isEmpty()&&!r.serverCache.isFullyInitialized())return r;let ie,Y=r;ie=cn(i)?l:new V(null).setTree(i,l);const Ue=r.serverCache.getNode();return ie.children.inorderTraversal((Ve,rt)=>{if(Ue.hasChild(Ve)){const zt=Ta(0,r.serverCache.getNode().getImmediateChild(Ve),rt);Y=is(o,Y,new $n(Ve),zt,h,w,R,H)}}),ie.children.inorderTraversal((Ve,rt)=>{const bt=!r.serverCache.isCompleteForChild(Ve)&&null===rt.value;if(!Ue.hasChild(Ve)&&!bt){const Vn=Ta(0,r.serverCache.getNode().getImmediateChild(Ve),rt);Y=is(o,Y,new $n(Ve),Vn,h,w,R,H)}}),Y}class So{constructor(r,i){this.query_=r,this.eventRegistrations_=[];const l=this.query_._queryParams,h=new ts(l.getIndex()),w=function ho(o){return o.loadsAllData()?new ts(o.getIndex()):o.hasLimit()?new Hr(o):new ki(o)}(l);this.processor_=function ua(o){return{filter:o}}(w);const R=i.serverCache,H=i.eventCache,Y=h.updateFullNode(Zt.EMPTY_NODE,R.getNode(),null),ie=w.updateFullNode(Zt.EMPTY_NODE,H.getNode(),null),Ue=new Yt(Y,R.isFullyInitialized(),h.filtersNodes()),Ve=new Yt(ie,H.isFullyInitialized(),w.filtersNodes());this.viewCache_=gi(Ve,Ue),this.eventGenerator_=new Hn(this.query_)}get query(){return this.query_}}function ea(o,r){const i=C(o.viewCache_);return i&&(o.query._queryParams.loadsAllData()||!cn(r)&&!i.getImmediateChild(en(r)).isEmpty())?i.getChild(r):null}function Ja(o){return 0===o.eventRegistrations_.length}function pr(o,r,i){const l=[];if(i){(0,N.hu)(null==r,"A cancel should cancel all event registrations.");const h=o.query._path;o.eventRegistrations_.forEach(w=>{const R=w.createCancelEvent(i,h);R&&l.push(R)})}if(r){let h=[];for(let w=0;w<o.eventRegistrations_.length;++w){const R=o.eventRegistrations_[w];if(R.matches(r)){if(r.hasAnyCallback()){h=h.concat(o.eventRegistrations_.slice(w+1));break}}else h.push(R)}o.eventRegistrations_=h}else o.eventRegistrations_=[];return l}function Aa(o,r,i,l){r.type===Ae.MERGE&&null!==r.source.queryId&&((0,N.hu)(C(o.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(qr(o.viewCache_),"Missing event cache, even though we have a server cache"));const h=o.viewCache_,w=function Jo(o,r,i,l,h){const w=new la;let R,H;if(i.type===Ae.OVERWRITE){const ie=i;ie.source.fromUser?R=ba(o,r,ie.path,ie.snap,l,h,w):((0,N.hu)(ie.source.fromServer,"Unknown source."),H=ie.source.tagged||r.serverCache.isFiltered()&&!cn(ie.path),R=is(o,r,ie.path,ie.snap,l,h,H,w))}else if(i.type===Ae.MERGE){const ie=i;ie.source.fromUser?R=function Xo(o,r,i,l,h,w,R){let H=r;return l.foreach((Y,ie)=>{const Ue=In(i,Y);ro(r,en(Ue))&&(H=ba(o,H,Ue,ie,h,w,R))}),l.foreach((Y,ie)=>{const Ue=In(i,Y);ro(r,en(Ue))||(H=ba(o,H,Ue,ie,h,w,R))}),H}(o,r,ie.path,ie.children,l,h,w):((0,N.hu)(ie.source.fromServer,"Unknown source."),H=ie.source.tagged||r.serverCache.isFiltered(),R=Sa(o,r,ie.path,ie.children,l,h,H,w))}else if(i.type===Ae.ACK_USER_WRITE){const ie=i;R=ie.revert?function Bo(o,r,i,l,h,w){let R;if(null!=To(l,i))return r;{const H=new Qo(l,r,h),Y=r.eventCache.getNode();let ie;if(cn(i)||".priority"===en(i)){let Ue;if(r.serverCache.isFullyInitialized())Ue=bo(l,C(r));else{const Ve=r.serverCache.getNode();(0,N.hu)(Ve instanceof Zt,"serverChildren would be complete if leaf node"),Ue=po(l,Ve)}ie=o.filter.updateFullNode(Y,Ue,w)}else{const Ue=en(i);let Ve=mi(l,Ue,r.serverCache);null==Ve&&r.serverCache.isCompleteForChild(Ue)&&(Ve=Y.getImmediateChild(Ue)),ie=null!=Ve?o.filter.updateChild(Y,Ue,Ve,yn(i),H,w):r.eventCache.getNode().hasChild(Ue)?o.filter.updateChild(Y,Ue,Zt.EMPTY_NODE,yn(i),H,w):Y,ie.isEmpty()&&r.serverCache.isFullyInitialized()&&(R=bo(l,C(r)),R.isLeafNode()&&(ie=o.filter.updateFullNode(ie,R,w)))}return R=r.serverCache.isFullyInitialized()||null!=To(l,Rn()),Ur(r,ie,R,o.filter.filtersNodes())}}(o,r,ie.path,l,h,w):function Ya(o,r,i,l,h,w,R){if(null!=To(h,i))return r;const H=r.serverCache.isFiltered(),Y=r.serverCache;if(null!=l.value){if(cn(i)&&Y.isFullyInitialized()||Y.isCompleteForPath(i))return is(o,r,i,Y.getNode().getChild(i),h,w,H,R);if(cn(i)){let ie=new V(null);return Y.getNode().forEachChild(Rr,(Ue,Ve)=>{ie=ie.set(new $n(Ue),Ve)}),Sa(o,r,i,ie,h,w,H,R)}return r}{let ie=new V(null);return l.foreach((Ue,Ve)=>{const rt=In(i,Ue);Y.isCompleteForPath(rt)&&(ie=ie.set(Ue,Y.getNode().getChild(rt)))}),Sa(o,r,i,ie,h,w,H,R)}}(o,r,ie.path,ie.affectedTree,l,h,w)}else{if(i.type!==Ae.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+i.type);R=function io(o,r,i,l,h){const w=r.serverCache;return Si(o,Ki(r,w.getNode(),w.isFullyInitialized()||cn(i),w.isFiltered()),i,l,gs,h)}(o,r,i.path,l,w)}const Y=w.getChanges();return function ca(o,r,i){const l=r.eventCache;if(l.isFullyInitialized()){const h=l.getNode().isLeafNode()||l.getNode().isEmpty(),w=qr(o);(i.length>0||!o.eventCache.isFullyInitialized()||h&&!l.getNode().equals(w)||!l.getNode().getPriority().equals(w.getPriority()))&&i.push(to(qr(r)))}}(r,R,Y),{viewCache:R,changes:Y}}(o.processor_,h,r,i,l);return function Ms(o,r){(0,N.hu)(r.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(r.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed")}(o.processor_,w.viewCache),(0,N.hu)(w.viewCache.serverCache.isFullyInitialized()||!h.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),o.viewCache_=w.viewCache,el(o,w.changes,w.viewCache.eventCache.getNode(),null)}function el(o,r,i,l){return function vn(o,r,i,l){const h=[],w=[];return r.forEach(R=>{"child_changed"===R.type&&o.index_.indexedValueChanged(R.oldSnap,R.snapshotNode)&&w.push(function Sn(o,r){return{type:"child_moved",snapshotNode:r,childName:o}}(R.childName,R.snapshotNode))}),lr(o,h,"child_removed",r,l,i),lr(o,h,"child_added",r,l,i),lr(o,h,"child_moved",w,l,i),lr(o,h,"child_changed",r,l,i),lr(o,h,"value",r,l,i),h}(o.eventGenerator_,r,i,l?[l]:o.eventRegistrations_)}let ha,b;class Ma{constructor(){this.views=new Map}}function pa(o,r,i,l){const h=r.source.queryId;if(null!==h){const w=o.views.get(h);return(0,N.hu)(null!=w,"SyncTree gave us an op for an invalid query."),Aa(w,r,i,l)}{let w=[];for(const R of o.views.values())w=w.concat(Aa(R,r,i,l));return w}}function ta(o,r,i,l,h){const R=o.views.get(r._queryIdentifier);if(!R){let H=bo(i,h?l:null),Y=!1;H?Y=!0:l instanceof Zt?(H=po(i,l),Y=!1):(H=Zt.EMPTY_NODE,Y=!1);const ie=gi(new Yt(H,Y,!1),new Yt(l,h,!1));return new So(r,ie)}return R}function Ao(o){const r=[];for(const i of o.views.values())i.query._queryParams.loadsAllData()||r.push(i);return r}function Ks(o,r){let i=null;for(const l of o.views.values())i=i||ea(l,r);return i}function Yi(o,r){return r._queryParams.loadsAllData()?f(o):o.views.get(r._queryIdentifier)}function _(o,r){return null!=Yi(o,r)}function I(o){return null!=f(o)}function f(o){for(const r of o.views.values())if(r.query._queryParams.loadsAllData())return r;return null}let Z=1;class Te{constructor(r){this.listenProvider_=r,this.syncPointTree_=new V(null),this.pendingWriteTree_=function rs(){return{visibleWrites:X.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ge(o,r,i,l,h){return function oi(o,r,i,l,h){(0,N.hu)(l>o.lastWriteId,"Stacking an older write on top of newer ones"),void 0===h&&(h=!0),o.allWrites.push({path:r,snap:i,writeId:l,visible:h}),h&&(o.visibleWrites=ke(o.visibleWrites,r,i)),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l,h),h?$o(o,new Bt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,i)):[]}function dt(o,r,i=!1){const l=function wr(o,r){for(let i=0;i<o.allWrites.length;i++){const l=o.allWrites[i];if(l.writeId===r)return l}return null}(o.pendingWriteTree_,r);if(function Cr(o,r){const i=o.allWrites.findIndex(H=>H.writeId===r);(0,N.hu)(i>=0,"removeWrite called with nonexistent writeId.");const l=o.allWrites[i];o.allWrites.splice(i,1);let h=l.visible,w=!1,R=o.allWrites.length-1;for(;h&&R>=0;){const H=o.allWrites[R];H.visible&&(R>=i&&Zi(H,l.path)?h=!1:ri(l.path,H.path)&&(w=!0)),R--}return!!h&&(w?(function ps(o){o.visibleWrites=Zo(o.allWrites,Ko,Rn()),o.lastWriteId=o.allWrites.length>0?o.allWrites[o.allWrites.length-1].writeId:-1}(o),!0):(l.snap?o.visibleWrites=ze(o.visibleWrites,l.path):un(l.children,Y=>{o.visibleWrites=ze(o.visibleWrites,In(l.path,Y))}),!0))}(o.pendingWriteTree_,r)){let w=new V(null);return null!=l.snap?w=w.set(Rn(),!0):un(l.children,R=>{w=w.set(new $n(R),!0)}),$o(o,new hn(l.path,w,i))}return[]}function Ln(o,r,i){return $o(o,new Bt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,i))}function ms(o,r,i,l,h=!1){const w=r._path,R=o.syncPointTree_.get(w);let H=[];if(R&&("default"===r._queryIdentifier||_(R,r))){const Y=function na(o,r,i,l){const h=r._queryIdentifier,w=[];let R=[];const H=I(o);if("default"===h)for(const[Y,ie]of o.views.entries())R=R.concat(pr(ie,i,l)),Ja(ie)&&(o.views.delete(Y),ie.query._queryParams.loadsAllData()||w.push(ie.query));else{const Y=o.views.get(h);Y&&(R=R.concat(pr(Y,i,l)),Ja(Y)&&(o.views.delete(h),Y.query._queryParams.loadsAllData()||w.push(Y.query)))}return H&&!I(o)&&w.push(new(function tl(){return(0,N.hu)(ha,"Reference.ts has not been loaded"),ha}())(r._repo,r._path)),{removed:w,events:R}}(R,r,i,l);(function fa(o){return 0===o.views.size})(R)&&(o.syncPointTree_=o.syncPointTree_.remove(w));const ie=Y.removed;if(H=Y.events,!h){const Ue=-1!==ie.findIndex(rt=>rt._queryParams.loadsAllData()),Ve=o.syncPointTree_.findOnPath(w,(rt,bt)=>I(bt));if(Ue&&!Ve){const rt=o.syncPointTree_.subtree(w);if(!rt.isEmpty()){const bt=function Nt(o){return o.fold((r,i,l)=>{if(i&&I(i))return[f(i)];{let h=[];return i&&(h=Ao(i)),un(l,(w,R)=>{h=h.concat(R)}),h}})}(rt);for(let zt=0;zt<bt.length;++zt){const Vn=bt[zt],yi=Vn.query,Os=P(o,Vn);o.listenProvider_.startListening(xt(yi),W(o,yi),Os.hashFn,Os.onComplete)}}}!Ve&&ie.length>0&&!l&&(Ue?o.listenProvider_.stopListening(xt(r),null):ie.forEach(rt=>{const bt=o.queryToTagMap.get(ee(rt));o.listenProvider_.stopListening(xt(rt),bt)}))}!function Vt(o,r){for(let i=0;i<r.length;++i){const l=r[i];if(!l._queryParams.loadsAllData()){const h=ee(l),w=o.queryToTagMap.get(h);o.queryToTagMap.delete(h),o.tagToQueryMap.delete(w)}}}(o,ie)}return H}function Qr(o,r,i,l){const h=be(o,l);if(null!=h){const w=xe(h),R=w.path,H=w.queryId,Y=qn(R,r);return it(o,R,new Bt(It(H),Y,i))}return[]}function Vo(o,r,i,l=!1){const h=r._path;let w=null,R=!1;o.syncPointTree_.foreachOnPath(h,(rt,bt)=>{const zt=qn(rt,h);w=w||Ks(bt,zt),R=R||I(bt)});let Y,H=o.syncPointTree_.get(h);H?(R=R||I(H),w=w||Ks(H,Rn())):(H=new Ma,o.syncPointTree_=o.syncPointTree_.set(h,H)),null!=w?Y=!0:(Y=!1,w=Zt.EMPTY_NODE,o.syncPointTree_.subtree(h).foreachChild((bt,zt)=>{const Vn=Ks(zt,Rn());Vn&&(w=w.updateImmediateChild(bt,Vn))}));const ie=_(H,r);if(!ie&&!r._queryParams.loadsAllData()){const rt=ee(r);(0,N.hu)(!o.queryToTagMap.has(rt),"View does not exist, but we have a tag");const bt=function On(){return Z++}();o.queryToTagMap.set(rt,bt),o.tagToQueryMap.set(bt,rt)}let Ve=function br(o,r,i,l,h,w){const R=ta(o,r,l,h,w);return o.views.has(r._queryIdentifier)||o.views.set(r._queryIdentifier,R),function Xa(o,r){o.eventRegistrations_.push(r)}(R,i),function da(o,r){const i=o.viewCache_.eventCache,l=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Kn,(w,R)=>{l.push($s(w,R))}),i.isFullyInitialized()&&l.push(to(i.getNode())),el(o,l,i.getNode(),r)}(R,i)}(H,r,i,Pn(o.pendingWriteTree_,h),w,Y);if(!ie&&!R&&!l){const rt=Yi(H,r);Ve=Ve.concat(function Dn(o,r,i){const l=r._path,h=W(o,r),w=P(o,i),R=o.listenProvider_.startListening(xt(r),h,w.hashFn,w.onComplete),H=o.syncPointTree_.subtree(l);if(h)(0,N.hu)(!I(H.value),"If we're adding a query, it shouldn't be shadowed");else{const Y=H.fold((ie,Ue,Ve)=>{if(!cn(ie)&&Ue&&I(Ue))return[f(Ue).query];{let rt=[];return Ue&&(rt=rt.concat(Ao(Ue).map(bt=>bt.query))),un(Ve,(bt,zt)=>{rt=rt.concat(zt)}),rt}});for(let ie=0;ie<Y.length;++ie){const Ue=Y[ie];o.listenProvider_.stopListening(xt(Ue),W(o,Ue))}}return R}(o,r,rt))}return Ve}function _o(o,r,i){const h=o.pendingWriteTree_,w=o.syncPointTree_.findOnPath(r,(R,H)=>{const ie=Ks(H,qn(R,r));if(ie)return ie});return no(h,r,w,i,!0)}function $o(o,r){return Oa(r,o.syncPointTree_,null,Pn(o.pendingWriteTree_,Rn()))}function Oa(o,r,i,l){if(cn(o.path))return A(o,r,i,l);{const h=r.get(Rn());null==i&&null!=h&&(i=Ks(h,Rn()));let w=[];const R=en(o.path),H=o.operationForChild(R),Y=r.children.get(R);if(Y&&H){const ie=i?i.getImmediateChild(R):null,Ue=Ca(l,R);w=w.concat(Oa(H,Y,ie,Ue))}return h&&(w=w.concat(pa(h,o,l,i))),w}}function A(o,r,i,l){const h=r.get(Rn());null==i&&null!=h&&(i=Ks(h,Rn()));let w=[];return r.children.inorderTraversal((R,H)=>{const Y=i?i.getImmediateChild(R):null,ie=Ca(l,R),Ue=o.operationForChild(R);Ue&&(w=w.concat(A(Ue,H,Y,ie)))}),h&&(w=w.concat(pa(h,o,l,i))),w}function P(o,r){const i=r.query,l=W(o,i);return{hashFn:()=>(function qa(o){return o.viewCache_.serverCache.getNode()}(r)||Zt.EMPTY_NODE).hash(),onComplete:h=>{if("ok"===h)return l?function _i(o,r,i){const l=be(o,i);if(l){const h=xe(l),w=h.path,R=h.queryId,H=qn(w,r);return it(o,w,new on(It(R),H))}return[]}(o,i._path,l):function mo(o,r){return $o(o,new on({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r))}(o,i._path);{const w=function Mt(o,r){let i="Unknown Error";"too_big"===o?i="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===o?i="Client doesn't have permission to access the desired data.":"unavailable"===o&&(i="The service is unavailable");const l=new Error(o+" at "+r._path.toString()+": "+i);return l.code=o.toUpperCase(),l}(h,i);return ms(o,i,null,w)}}}}function W(o,r){const i=ee(r);return o.queryToTagMap.get(i)}function ee(o){return o._path.toString()+"$"+o._queryIdentifier}function be(o,r){return o.tagToQueryMap.get(r)}function xe(o){const r=o.indexOf("$");return(0,N.hu)(-1!==r&&r<o.length-1,"Bad queryKey."),{queryId:o.substr(r+1),path:new $n(o.substr(0,r))}}function it(o,r,i){const l=o.syncPointTree_.get(r);return(0,N.hu)(l,"Missing sync point for query tag that we're tracking"),pa(l,i,Pn(o.pendingWriteTree_,r),null)}function xt(o){return o._queryParams.loadsAllData()&&!o._queryParams.isDefault()?new(function z(){return(0,N.hu)(b,"Reference.ts has not been loaded"),b}())(o._repo,o._path):o}class ss{constructor(r){this.node_=r}getImmediateChild(r){const i=this.node_.getImmediateChild(r);return new ss(i)}node(){return this.node_}}class hi{constructor(r,i){this.syncTree_=r,this.path_=i}getImmediateChild(r){const i=In(this.path_,r);return new hi(this.syncTree_,i)}node(){return _o(this.syncTree_,this.path_)}}const nl=function(o,r,i){return o&&"object"==typeof o?((0,N.hu)(".sv"in o,"Unexpected leaf node or priority contents"),"string"==typeof o[".sv"]?ga(o[".sv"],r,i):"object"==typeof o[".sv"]?so(o[".sv"],r):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2))):o},ga=function(o,r,i){if("timestamp"===o)return i.timestamp;(0,N.hu)(!1,"Unexpected server value: "+o)},so=function(o,r,i){o.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(o,null,2));const l=o.increment;"number"!=typeof l&&(0,N.hu)(!1,"Unexpected increment value: "+l);const h=r.node();if((0,N.hu)(null!==h&&typeof h<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!h.isLeafNode())return l;const R=h.getValue();return"number"!=typeof R?l:R+l},yo=function(o,r,i,l){return Hl(r,new hi(i,o),l)},Mo=function(o,r,i){return Hl(o,new ss(r),i)};function Hl(o,r,i){const l=o.getPriority().val(),h=nl(l,r.getImmediateChild(".priority"),i);let w;if(o.isLeafNode()){const R=o,H=nl(R.getValue(),r,i);return H!==R.getValue()||h!==R.getPriority().val()?new Xn(H,ar(h)):o}{const R=o;return w=R,h!==R.getPriority().val()&&(w=w.updatePriority(new Xn(h))),R.forEachChild(Kn,(H,Y)=>{const ie=Hl(Y,r.getImmediateChild(H),i);ie!==Y&&(w=w.updateImmediateChild(H,ie))}),w}}class Du{constructor(r="",i=null,l={children:{},childCount:0}){this.name=r,this.parent=i,this.node=l}}function _l(o,r){let i=r instanceof $n?r:new $n(r),l=o,h=en(i);for(;null!==h;){const w=(0,N.DV)(l.node.children,h)||{children:{},childCount:0};l=new Du(h,l,w),i=yn(i),h=en(i)}return l}function ma(o){return o.node.value}function jl(o,r){o.node.value=r,yl(o)}function rd(o){return o.node.childCount>0}function Wl(o,r){un(o.node.children,(i,l)=>{r(new Du(i,o,l))})}function ka(o,r,i,l){i&&!l&&r(o),Wl(o,h=>{ka(h,r,!0,l)}),i&&l&&r(o)}function zl(o){return new $n(null===o.parent?o.name:zl(o.parent)+"/"+o.name)}function yl(o){null!==o.parent&&function uh(o,r,i){const l=function cc(o){return void 0===ma(o)&&!rd(o)}(i),h=(0,N.r3)(o.node.children,r);l&&h?(delete o.node.children[r],o.node.childCount--,yl(o)):!l&&!h&&(o.node.children[r]=i.node,o.node.childCount++,yl(o))}(o.parent,o.name,o)}const ch=/[\[\].#$\/\u0000-\u001F\u007F]/,dh=/[\[\].#$\u0000-\u001F\u007F]/,dc=10485760,wu=function(o){return"string"==typeof o&&0!==o.length&&!ch.test(o)},Gl=function(o){return"string"==typeof o&&0!==o.length&&!dh.test(o)},xa=function(o){return null===o||"string"==typeof o||"number"==typeof o&&!gr(o)||o&&"object"==typeof o&&(0,N.r3)(o,".sv")},Ro=function(o,r,i,l){l&&void 0===r||rl((0,N.gK)(o,"value"),r,i)},rl=function(o,r,i){const l=i instanceof $n?new Ji(i,o):i;if(void 0===r)throw new Error(o+"contains undefined "+Cs(l));if("function"==typeof r)throw new Error(o+"contains a function "+Cs(l)+" with contents = "+r.toString());if(gr(r))throw new Error(o+"contains "+r.toString()+" "+Cs(l));if("string"==typeof r&&r.length>dc/3&&(0,N.ug)(r)>dc)throw new Error(o+"contains a string greater than "+dc+" utf8 bytes "+Cs(l)+" ('"+r.substring(0,50)+"...')");if(r&&"object"==typeof r){let h=!1,w=!1;if(un(r,(R,H)=>{if(".value"===R)h=!0;else if(".priority"!==R&&".sv"!==R&&(w=!0,!wu(R)))throw new Error(o+" contains an invalid key ("+R+") "+Cs(l)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Vi(o,r){o.parts_.length>0&&(o.byteLength_+=1),o.parts_.push(r),o.byteLength_+=(0,N.ug)(r),ws(o)})(l,R),rl(o,H,l),function ds(o){const r=o.parts_.pop();o.byteLength_-=(0,N.ug)(r),o.parts_.length>0&&(o.byteLength_-=1)}(l)}),h&&w)throw new Error(o+' contains ".value" child '+Cs(l)+" in addition to actual children.")}},vo=function(o,r,i,l){if(l&&void 0===r)return;const h=(0,N.gK)(o,"values");if(!r||"object"!=typeof r||Array.isArray(r))throw new Error(h+" must be an object containing the children to replace.");const w=[];un(r,(R,H)=>{const Y=new $n(R);if(rl(h,H,In(i,Y)),".priority"===cs(Y)&&!xa(H))throw new Error(h+"contains an invalid value for '"+Y.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");w.push(Y)}),function(o,r){let i,l;for(i=0;i<r.length;i++){l=r[i];const w=Tr(l);for(let R=0;R<w.length;R++)if((".priority"!==w[R]||R!==w.length-1)&&!wu(w[R]))throw new Error(o+"contains an invalid key ("+w[R]+") in path "+l.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}r.sort(Is);let h=null;for(i=0;i<r.length;i++){if(l=r[i],null!==h&&ri(h,l))throw new Error(o+"contains a path "+h.toString()+" that is ancestor of another path "+l.toString());h=l}}(h,w)},Cu=function(o,r,i){if(!i||void 0!==r){if(gr(r))throw new Error((0,N.gK)(o,"priority")+"is "+r.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!xa(r))throw new Error((0,N.gK)(o,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},vl=function(o,r,i,l){if(!(l&&void 0===i||wu(i)))throw new Error((0,N.gK)(o,r)+'was an invalid key = "'+i+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},El=function(o,r,i,l){if(!(l&&void 0===i||Gl(i)))throw new Error((0,N.gK)(o,r)+'was an invalid path = "'+i+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_s=function(o,r){if(".info"===en(r))throw new Error(o+" failed = Can't modify data under /.info/")},gc=function(o,r){const i=r.path.toString();if("string"!=typeof r.repoInfo.host||0===r.repoInfo.host.length||!wu(r.repoInfo.namespace)&&"localhost"!==r.repoInfo.host.split(":")[0]||0!==i.length&&!function(o){return o&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Gl(o)}(i))throw new Error((0,N.gK)(o,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class bu{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kl(o,r){let i=null;for(let l=0;l<r.length;l++){const h=r[l],w=h.getPath();null!==i&&!Ds(w,i.path)&&(o.eventLists_.push(i),i=null),null===i&&(i={events:[],path:w}),i.events.push(h)}i&&o.eventLists_.push(i)}function Zl(o,r,i){Kl(o,i),Yl(o,l=>Ds(l,r))}function oo(o,r,i){Kl(o,i),Yl(o,l=>ri(l,r)||ri(r,l))}function Yl(o,r){o.recursionDepth_++;let i=!0;for(let l=0;l<o.eventLists_.length;l++){const h=o.eventLists_[l];h&&(r(h.path)?(Zs(o.eventLists_[l]),o.eventLists_[l]=null):i=!1)}i&&(o.eventLists_=[]),o.recursionDepth_--}function Zs(o){for(let r=0;r<o.events.length;r++){const i=o.events[r];if(null!==i){o.events[r]=null;const l=i.getEventRunner();ur&&ln("event: "+i.toString()),Sr(l)}}}const Il="repo_interrupt";class Su{constructor(r,i,l,h){this.repoInfo_=r,this.forceRestClient_=i,this.authTokenProvider_=l,this.appCheckProvider_=h,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bu,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ns(),this.transactionQueueTree_=new Du,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function il(o){const i=o.infoData_.getNode(new $n(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+i}function sl(o){return function(o){return(o=o||{}).timestamp=o.timestamp||(new Date).getTime(),o}({timestamp:il(o)})}function Au(o,r,i,l,h){o.dataUpdateCount++;const w=new $n(r);i=o.interceptServerDataCallback_?o.interceptServerDataCallback_(r,i):i;let R=[];if(h)if(l){const Y=(0,N.UI)(i,ie=>ar(ie));R=function Iu(o,r,i,l){const h=be(o,l);if(h){const w=xe(h),R=w.path,H=w.queryId,Y=qn(R,r),ie=V.fromObject(i);return it(o,R,new Gt(It(H),Y,ie))}return[]}(o.serverSyncTree_,w,Y,h)}else{const Y=ar(i);R=Qr(o.serverSyncTree_,w,Y,h)}else if(l){const Y=(0,N.UI)(i,ie=>ar(ie));R=function ai(o,r,i){const l=V.fromObject(i);return $o(o,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},r,l))}(o.serverSyncTree_,w,Y)}else{const Y=ar(i);R=Ln(o.serverSyncTree_,w,Y)}let H=w;R.length>0&&(H=al(o,w)),oo(o.eventQueue_,H,R)}function Mu(o,r){_c(o,"connected",r),!1===r&&function sd(o){Fa(o,"onDisconnectEvents");const r=sl(o),i=ns();m(o.onDisconnect_,Rn(),(h,w)=>{const R=yo(h,w,o.serverSyncTree_,r);si(i,h,R)});let l=[];m(i,Rn(),(h,w)=>{l=l.concat(Ln(o.serverSyncTree_,h,w));const R=Ua(o,h);al(o,R)}),o.onDisconnect_=ns(),oo(o.eventQueue_,Rn(),l)}(o)}function _c(o,r,i){const l=new $n("/.info/"+r),h=ar(i);o.infoData_.updateSnapshot(l,h);const w=Ln(o.infoSyncTree_,l,h);oo(o.eventQueue_,l,w)}function Po(o){return o.nextWriteId_++}function ql(o,r,i,l,h){Fa(o,"set",{path:r.toString(),value:i,priority:l});const w=sl(o),R=ar(i,l),H=_o(o.serverSyncTree_,r),Y=Mo(R,H,w),ie=Po(o),Ue=Ge(o.serverSyncTree_,r,Y,ie,!0);Kl(o.eventQueue_,Ue),o.server_.put(r.toString(),R.val(!0),(rt,bt)=>{const zt="ok"===rt;zt||gn("set at "+r+" failed: "+rt);const Vn=dt(o.serverSyncTree_,ie,!zt);oo(o.eventQueue_,r,Vn),ao(0,h,rt,bt)});const Ve=Ua(o,r);al(o,Ve),oo(o.eventQueue_,Ve,[])}function Dl(o,r,i){o.server_.onDisconnectCancel(r.toString(),(l,h)=>{"ok"===l&&U(o.onDisconnect_,r),ao(0,i,l,h)})}function Ql(o,r,i,l){const h=ar(i);o.server_.onDisconnectPut(r.toString(),h.val(!0),(w,R)=>{"ok"===w&&si(o.onDisconnect_,r,h),ao(0,l,w,R)})}function Pu(o,r,i){let l;l=".info"===en(r._path)?ms(o.infoSyncTree_,r,i):ms(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}function ol(o){o.persistentConnection_&&o.persistentConnection_.interrupt(Il)}function Fa(o,...r){let i="";o.persistentConnection_&&(i=o.persistentConnection_.id+":"),ln(i,...r)}function ao(o,r,i,l){r&&Sr(()=>{if("ok"===i)r(null);else{const h=(i||"error").toUpperCase();let w=h;l&&(w+=": "+l);const R=new Error(w);R.code=h,r(R)}})}function Jl(o,r,i){return _o(o.serverSyncTree_,r,i)||Zt.EMPTY_NODE}function wl(o,r=o.transactionQueueTree_){if(r||tu(o,r),ma(r)){const i=eu(o,r);(0,N.hu)(i.length>0,"Sending zero length transaction queue"),i.every(h=>0===h.status)&&function Cl(o,r,i){const l=i.map(ie=>ie.currentWriteId),h=Jl(o,r,l);let w=h;const R=h.hash();for(let ie=0;ie<i.length;ie++){const Ue=i[ie];(0,N.hu)(0===Ue.status,"tryToSendTransactionQueue_: items in queue should all be run."),Ue.status=1,Ue.retryCount++;const Ve=qn(r,Ue.path);w=w.updateChild(Ve,Ue.currentOutputSnapshotRaw)}const H=w.val(!0),Y=r;o.server_.put(Y.toString(),H,ie=>{Fa(o,"transaction put response",{path:Y.toString(),status:ie});let Ue=[];if("ok"===ie){const Ve=[];for(let rt=0;rt<i.length;rt++)i[rt].status=2,Ue=Ue.concat(dt(o.serverSyncTree_,i[rt].currentWriteId)),i[rt].onComplete&&Ve.push(()=>i[rt].onComplete(null,!0,i[rt].currentOutputSnapshotResolved)),i[rt].unwatcher();tu(o,_l(o.transactionQueueTree_,r)),wl(o,o.transactionQueueTree_),oo(o.eventQueue_,r,Ue);for(let rt=0;rt<Ve.length;rt++)Sr(Ve[rt])}else{if("datastale"===ie)for(let Ve=0;Ve<i.length;Ve++)i[Ve].status=3===i[Ve].status?4:0;else{gn("transaction at "+Y.toString()+" failed: "+ie);for(let Ve=0;Ve<i.length;Ve++)i[Ve].status=4,i[Ve].abortReason=ie}al(o,r)}},R)}(o,zl(r),i)}else rd(r)&&Wl(r,i=>{wl(o,i)})}function al(o,r){const i=Xl(o,r),l=zl(i);return function ld(o,r,i){if(0===r.length)return;const l=[];let h=[];const R=r.filter(H=>0===H.status).map(H=>H.currentWriteId);for(let H=0;H<r.length;H++){const Y=r[H],ie=qn(i,Y.path);let Ve,Ue=!1;if((0,N.hu)(null!==ie,"rerunTransactionsUnderNode_: relativePath should not be null."),4===Y.status)Ue=!0,Ve=Y.abortReason,h=h.concat(dt(o.serverSyncTree_,Y.currentWriteId,!0));else if(0===Y.status)if(Y.retryCount>=25)Ue=!0,Ve="maxretry",h=h.concat(dt(o.serverSyncTree_,Y.currentWriteId,!0));else{const rt=Jl(o,Y.path,R);Y.currentInputSnapshot=rt;const bt=r[H].update(rt.val());if(void 0!==bt){rl("transaction failed: Data returned ",bt,Y.path);let zt=ar(bt);"object"==typeof bt&&null!=bt&&(0,N.r3)(bt,".priority")||(zt=zt.updatePriority(rt.getPriority()));const yi=Y.currentWriteId,Os=sl(o),Go=Mo(zt,rt,Os);Y.currentOutputSnapshotRaw=zt,Y.currentOutputSnapshotResolved=Go,Y.currentWriteId=Po(o),R.splice(R.indexOf(yi),1),h=h.concat(Ge(o.serverSyncTree_,Y.path,Go,Y.currentWriteId,Y.applyLocally)),h=h.concat(dt(o.serverSyncTree_,yi,!0))}else Ue=!0,Ve="nodata",h=h.concat(dt(o.serverSyncTree_,Y.currentWriteId,!0))}oo(o.eventQueue_,i,h),h=[],Ue&&(r[H].status=2,setTimeout(r[H].unwatcher,Math.floor(0)),r[H].onComplete&&l.push("nodata"===Ve?()=>r[H].onComplete(null,!1,r[H].currentInputSnapshot):()=>r[H].onComplete(new Error(Ve),!1,null)))}tu(o,o.transactionQueueTree_);for(let H=0;H<l.length;H++)Sr(l[H]);wl(o,o.transactionQueueTree_)}(o,eu(o,i),l),l}function Xl(o,r){let i,l=o.transactionQueueTree_;for(i=en(r);null!==i&&void 0===ma(l);)l=_l(l,i),i=en(r=yn(r));return l}function eu(o,r){const i=[];return yc(o,r,i),i.sort((l,h)=>l.order-h.order),i}function yc(o,r,i){const l=ma(r);if(l)for(let h=0;h<l.length;h++)i.push(l[h]);Wl(r,h=>{yc(o,h,i)})}function tu(o,r){const i=ma(r);if(i){let l=0;for(let h=0;h<i.length;h++)2!==i[h].status&&(i[l]=i[h],l++);i.length=l,jl(r,i.length>0?i:void 0)}Wl(r,l=>{tu(o,l)})}function Ua(o,r){const i=zl(Xl(o,r)),l=_l(o.transactionQueueTree_,r);return function lh(o,r,i){let l=i?o:o.parent;for(;null!==l;){if(r(l))return!0;l=l.parent}}(l,h=>{bl(o,h)}),bl(o,l),ka(l,h=>{bl(o,h)}),i}function bl(o,r){const i=ma(r);if(i){const l=[];let h=[],w=-1;for(let R=0;R<i.length;R++)3===i[R].status||(1===i[R].status?((0,N.hu)(w===R-1,"All SENT items should be at beginning of queue."),w=R,i[R].status=3,i[R].abortReason="set"):((0,N.hu)(0===i[R].status,"Unexpected transaction status in abort"),i[R].unwatcher(),h=h.concat(dt(o.serverSyncTree_,i[R].currentWriteId,!0)),i[R].onComplete&&l.push(i[R].onComplete.bind(null,new Error("set"),!1,null))));-1===w?jl(r,void 0):i.length=w+1,oo(o.eventQueue_,zl(r),h);for(let R=0;R<l.length;R++)Sr(l[R])}}const nu=function(o,r){const i=ud(o),l=i.namespace;return"firebase.com"===i.domain&&nr(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!l||"undefined"===l)&&"localhost"!==i.domain&&nr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&gn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new je(i.host,i.secure,l,"ws"===i.scheme||"wss"===i.scheme,r,"",l!==i.subdomain),path:new $n(i.pathString)}},ud=function(o){let r="",i="",l="",h="",w="",R=!0,H="https",Y=443;if("string"==typeof o){let ie=o.indexOf("//");ie>=0&&(H=o.substring(0,ie-1),o=o.substring(ie+2));let Ue=o.indexOf("/");-1===Ue&&(Ue=o.length);let Ve=o.indexOf("?");-1===Ve&&(Ve=o.length),r=o.substring(0,Math.min(Ue,Ve)),Ue<Ve&&(h=function vc(o){let r="";const i=o.split("/");for(let l=0;l<i.length;l++)if(i[l].length>0){let h=i[l];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch{}r+="/"+h}return r}(o.substring(Ue,Ve)));const rt=function ku(o){const r={};"?"===o.charAt(0)&&(o=o.substring(1));for(const i of o.split("&")){if(0===i.length)continue;const l=i.split("=");2===l.length?r[decodeURIComponent(l[0])]=decodeURIComponent(l[1]):gn(`Invalid query segment '${i}' in query '${o}'`)}return r}(o.substring(Math.min(o.length,Ve)));ie=r.indexOf(":"),ie>=0?(R="https"===H||"wss"===H,Y=parseInt(r.substring(ie+1),10)):ie=r.length;const bt=r.slice(0,ie);if("localhost"===bt.toLowerCase())i="localhost";else if(bt.split(".").length<=2)i=bt;else{const zt=r.indexOf(".");l=r.substring(0,zt).toLowerCase(),i=r.substring(zt+1),w=l}"ns"in rt&&(w=rt.ns)}return{host:r,port:Y,domain:i,subdomain:l,secure:R,scheme:H,pathString:h,namespace:w}},xu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Ec=function(){let o=0;const r=[];return function(i){const l=i===o;let h;o=i;const w=new Array(8);for(h=7;h>=0;h--)w[h]=xu.charAt(i%64),i=Math.floor(i/64);(0,N.hu)(0===i,"Cannot push at time == 0");let R=w.join("");if(l){for(h=11;h>=0&&63===r[h];h--)r[h]=0;r[h]++}else for(h=0;h<12;h++)r[h]=Math.floor(64*Math.random());for(h=0;h<12;h++)R+=xu.charAt(r[h]);return(0,N.hu)(20===R.length,"nextPushId: Length should be 20."),R}}();class _a{constructor(r,i,l,h){this.eventType=r,this.eventRegistration=i,this.snapshot=l,this.prevName=h}getPath(){const r=this.snapshot.ref;return"value"===this.eventType?r._path:r.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class Ba{constructor(r,i,l){this.eventRegistration=r,this.error=i,this.path=l}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class ru{constructor(r,i){this.snapshotCallback=r,this.cancelCallback=i}onValue(r,i){this.snapshotCallback.call(null,r,i)}onCancel(r){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,r)}get hasCancelCallback(){return!!this.cancelCallback}matches(r){return this.snapshotCallback===r.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===r.snapshotCallback.userCallback&&this.snapshotCallback.context===r.snapshotCallback.context}}class Lu{constructor(r,i){this._repo=r,this._path=i}cancel(){const r=new N.BH;return Dl(this._repo,this._path,r.wrapCallback(()=>{})),r.promise}remove(){_s("OnDisconnect.remove",this._path);const r=new N.BH;return Ql(this._repo,this._path,null,r.wrapCallback(()=>{})),r.promise}set(r){_s("OnDisconnect.set",this._path),Ro("OnDisconnect.set",r,this._path,!1);const i=new N.BH;return Ql(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}setWithPriority(r,i){_s("OnDisconnect.setWithPriority",this._path),Ro("OnDisconnect.setWithPriority",r,this._path,!1),Cu("OnDisconnect.setWithPriority",i,!1);const l=new N.BH;return function od(o,r,i,l,h){const w=ar(i,l);o.server_.onDisconnectPut(r.toString(),w.val(!0),(R,H)=>{"ok"===R&&si(o.onDisconnect_,r,w),ao(0,h,R,H)})}(this._repo,this._path,r,i,l.wrapCallback(()=>{})),l.promise}update(r){_s("OnDisconnect.update",this._path),vo("OnDisconnect.update",r,this._path,!1);const i=new N.BH;return function La(o,r,i,l){if((0,N.xb)(i))return ln("onDisconnect().update() called with empty data.  Don't do anything."),void ao(0,l,"ok",void 0);o.server_.onDisconnectMerge(r.toString(),i,(h,w)=>{"ok"===h&&un(i,(R,H)=>{const Y=ar(H);si(o.onDisconnect_,In(r,R),Y)}),ao(0,l,h,w)})}(this._repo,this._path,r,i.wrapCallback(()=>{})),i.promise}}class lo{constructor(r,i,l,h){this._repo=r,this._path=i,this._queryParams=l,this._orderByCalled=h}get key(){return cn(this._path)?null:cs(this._path)}get ref(){return new Ys(this._repo,this._path)}get _queryIdentifier(){const r=zi(this._queryParams),i=zr(r);return"{}"===i?"default":i}get _queryObject(){return zi(this._queryParams)}isEqual(r){if(!((r=(0,N.m9)(r))instanceof lo))return!1;const i=this._repo===r._repo,l=Ds(this._path,r._path);return i&&l&&this._queryIdentifier===r._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Br(o){let r="";for(let i=o.pieceNum_;i<o.pieces_.length;i++)""!==o.pieces_[i]&&(r+="/"+encodeURIComponent(String(o.pieces_[i])));return r||"/"}(this._path)}}function Va(o,r){if(!0===o._orderByCalled)throw new Error(r+": You can't combine multiple orderBy calls.")}function ya(o){let r=null,i=null;if(o.hasStart()&&(r=o.getIndexStartValue()),o.hasEnd()&&(i=o.getIndexEndValue()),o.getIndex()===Rr){const l="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",h="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(o.hasStart()){if(o.getIndexStartName()!==rr)throw new Error(l);if("string"!=typeof r)throw new Error(h)}if(o.hasEnd()){if(o.getIndexEndName()!==An)throw new Error(l);if("string"!=typeof i)throw new Error(h)}}else if(o.getIndex()===Kn){if(null!=r&&!xa(r)||null!=i&&!xa(i))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(o.getIndex()instanceof As||o.getIndex()===Vs,"unknown index type."),null!=r&&"object"==typeof r||null!=i&&"object"==typeof i)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Tl(o){if(o.hasStart()&&o.hasEnd()&&o.hasLimit()&&!o.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ys extends lo{constructor(r,i){super(r,i,new fs,!1)}get parent(){const r=ui(this._path);return null===r?null:new Ys(this._repo,r)}get root(){let r=this;for(;null!==r.parent;)r=r.parent;return r}}class Ho{constructor(r,i,l){this._node=r,this.ref=i,this._index=l}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(r){const i=new $n(r),l=jo(this.ref,r);return new Ho(this._node.getChild(i),l,Kn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(r){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(l,h)=>r(new Ho(h,jo(this.ref,l),Kn)))}hasChild(r){const i=new $n(r);return!this._node.getChild(i).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ll(o,r){return(o=(0,N.m9)(o))._checkNotDeleted("ref"),void 0!==r?jo(o._root,r):o._root}function iu(o,r){(o=(0,N.m9)(o))._checkNotDeleted("refFromURL");const i=nu(r,o._repo.repoInfo_.nodeAdmin);gc("refFromURL",i);const l=i.repoInfo;return!o._repo.repoInfo_.isCustomHost()&&l.host!==o._repo.repoInfo_.host&&nr("refFromURL: Host name does not match the current database: (found "+l.host+" but expected "+o._repo.repoInfo_.host+")"),ll(o,i.path.toString())}function jo(o,r){return null===en((o=(0,N.m9)(o))._path)?((i=r)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),El("child","path",i,!1)):El("child","path",r,!1),new Ys(o._repo,In(o._path,r));var i}function ra(o,r){o=(0,N.m9)(o),_s("set",o._path),Ro("set",r,o._path,!1);const i=new N.BH;return ql(o._repo,o._path,r,null,i.wrapCallback(()=>{})),i.promise}function Fu(o,r){vo("update",r,o._path,!1);const i=new N.BH;return function Ru(o,r,i,l){Fa(o,"update",{path:r.toString(),value:i});let h=!0;const w=sl(o),R={};if(un(i,(H,Y)=>{h=!1,R[H]=yo(In(r,H),ar(Y),o.serverSyncTree_,w)}),h)ln("update() called with empty data.  Don't do anything."),ao(0,l,"ok",void 0);else{const H=Po(o),Y=function Ct(o,r,i,l){!function tr(o,r,i,l){(0,N.hu)(l>o.lastWriteId,"Stacking an older merge on top of newer ones"),o.allWrites.push({path:r,children:i,writeId:l,visible:!0}),o.visibleWrites=we(o.visibleWrites,r,i),o.lastWriteId=l}(o.pendingWriteTree_,r,i,l);const h=V.fromObject(i);return $o(o,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},r,h))}(o.serverSyncTree_,r,R,H);Kl(o.eventQueue_,Y),o.server_.merge(r.toString(),i,(ie,Ue)=>{const Ve="ok"===ie;Ve||gn("update at "+r+" failed: "+ie);const rt=dt(o.serverSyncTree_,H,!Ve),bt=rt.length>0?al(o,r):r;oo(o.eventQueue_,bt,rt),ao(0,l,ie,Ue)}),un(i,ie=>{const Ue=Ua(o,In(r,ie));al(o,Ue)}),oo(o.eventQueue_,r,[])}}(o._repo,o._path,r,i.wrapCallback(()=>{})),i.promise}function ou(o){o=(0,N.m9)(o);const r=new ru(()=>{}),i=new Ml(r);return function id(o,r,i){const l=function Pa(o,r){const i=r._path;let l=null;o.syncPointTree_.foreachOnPath(i,(ie,Ue)=>{const Ve=qn(ie,i);l=l||Ks(Ue,Ve)});let h=o.syncPointTree_.get(i);h?l=l||Ks(h,Rn()):(h=new Ma,o.syncPointTree_=o.syncPointTree_.set(i,h));const w=null!=l,R=w?new Yt(l,!0,!1):null;return function Qa(o){return qr(o.viewCache_)}(ta(h,r,Pn(o.pendingWriteTree_,r._path),w?R.getNode():Zt.EMPTY_NODE,w))}(o.serverSyncTree_,r);return null!=l?Promise.resolve(l):o.server_.get(r).then(h=>{const w=ar(h).withIndex(r._queryParams.getIndex());let R;if(Vo(o.serverSyncTree_,r,i,!0),r._queryParams.loadsAllData())R=Ln(o.serverSyncTree_,r._path,w);else{const H=W(o.serverSyncTree_,r);R=Qr(o.serverSyncTree_,r._path,w,H)}return oo(o.eventQueue_,r._path,R),ms(o.serverSyncTree_,r,i,null,!0),w},h=>(Fa(o,"get for query "+(0,N.Wl)(r)+" failed: "+h),Promise.reject(new Error(h))))}(o._repo,o,i).then(l=>new Ho(l,new Ys(o._repo,o._path),o._queryParams.getIndex()))}class Ml{constructor(r){this.callbackContext=r}respondsTo(r){return"value"===r}createEvent(r,i){const l=i._queryParams.getIndex();return new _a("value",this,new Ho(r.snapshotNode,new Ys(i._repo,i._path),l))}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,null)}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ba(this,r,i):null}matches(r){return r instanceof Ml&&(!r.callbackContext||!this.callbackContext||r.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Rl{constructor(r,i){this.eventType=r,this.callbackContext=i}respondsTo(r){let i="children_added"===r?"child_added":r;return i="children_removed"===i?"child_removed":i,this.eventType===i}createCancelEvent(r,i){return this.callbackContext.hasCancelCallback?new Ba(this,r,i):null}createEvent(r,i){(0,N.hu)(null!=r.childName,"Child events should have a childName.");const l=jo(new Ys(i._repo,i._path),r.childName),h=i._queryParams.getIndex();return new _a(r.type,this,new Ho(r.snapshotNode,l,h),r.prevName)}getEventRunner(r){return"cancel"===r.getEventType()?()=>this.callbackContext.onCancel(r.error):()=>this.callbackContext.onValue(r.snapshot,r.prevName)}matches(r){return r instanceof Rl&&this.eventType===r.eventType&&(!this.callbackContext||!r.callbackContext||this.callbackContext.matches(r.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Pl(o,r,i,l,h){let w;if("object"==typeof l&&(w=void 0,h=l),"function"==typeof l&&(w=l),h&&h.onlyOnce){const Y=i,ie=(Ue,Ve)=>{Pu(o._repo,o,H),Y(Ue,Ve)};ie.userCallback=i.userCallback,ie.context=i.context,i=ie}const R=new ru(i,w||void 0),H="value"===r?new Ml(R):new Rl(r,R);return function ad(o,r,i){let l;l=".info"===en(r._path)?Vo(o.infoSyncTree_,r,i):Vo(o.serverSyncTree_,r,i),Zl(o.eventQueue_,r._path,l)}(o._repo,o,H),()=>Pu(o._repo,o,H)}function Oo(o,r,i,l){return Pl(o,"value",r,i,l)}function au(o,r,i,l){return Pl(o,"child_added",r,i,l)}function Ol(o,r,i,l){return Pl(o,"child_changed",r,i,l)}function lu(o,r,i,l){return Pl(o,"child_moved",r,i,l)}function va(o,r,i,l){return Pl(o,"child_removed",r,i,l)}function Uu(o,r,i){let l=null;const h=i?new ru(i):null;"value"===r?l=new Ml(h):r&&(l=new Rl(r,h)),Pu(o._repo,o,l)}class Jr{}class Bu extends Jr{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Ro("endAt",this._value,r._path,!0);const i=Ws(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lo(r._repo,r._path,i,r._orderByCalled)}}class $u extends Jr{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Ro("endBefore",this._value,r._path,!1);const i=function zs(o,r,i){let l;return l=Ws(o,r,o.index_===Rr||i?i:rr),l.endBeforeSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new lo(r._repo,r._path,i,r._orderByCalled)}}class $a extends Jr{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Ro("startAt",this._value,r._path,!0);const i=js(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new lo(r._repo,r._path,i,r._orderByCalled)}}class uu extends Jr{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){Ro("startAfter",this._value,r._path,!1);const i=function Fo(o,r,i){let l;return l=js(o,r,o.index_===Rr||i?i:An),l.startAfterSet_=!0,l}(r._queryParams,this._value,this._key);if(Tl(i),ya(i),r._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new lo(r._repo,r._path,i,r._orderByCalled)}}class cu extends Jr{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new lo(r._repo,r._path,function pi(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="l",i}(r._queryParams,this._limit),r._orderByCalled)}}class Ha extends Jr{constructor(r){super(),this._limit=r}_apply(r){if(r._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new lo(r._repo,r._path,function fo(o,r){const i=o.copy();return i.limitSet_=!0,i.limit_=r,i.viewFrom_="r",i}(r._queryParams,this._limit),r._orderByCalled)}}class dd extends Jr{constructor(r){super(),this._path=r}_apply(r){Va(r,"orderByChild");const i=new $n(this._path);if(cn(i))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const l=new As(i),h=fr(r._queryParams,l);return ya(h),new lo(r._repo,r._path,h,!0)}}class u extends Jr{_apply(r){Va(r,"orderByKey");const i=fr(r._queryParams,Rr);return ya(i),new lo(r._repo,r._path,i,!0)}}class v extends Jr{_apply(r){Va(r,"orderByPriority");const i=fr(r._queryParams,Kn);return ya(i),new lo(r._repo,r._path,i,!0)}}class K extends Jr{_apply(r){Va(r,"orderByValue");const i=fr(r._queryParams,Vs);return ya(i),new lo(r._repo,r._path,i,!0)}}class Ke extends Jr{constructor(r,i){super(),this._value=r,this._key=i}_apply(r){if(Ro("equalTo",this._value,r._path,!1),r._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(r._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bu(this._value,this._key)._apply(new $a(this._value,this._key)._apply(r))}}function vt(o,...r){let i=(0,N.m9)(o);for(const l of r)i=l._apply(i);return i}(function Ra(o){(0,N.hu)(!ha,"__referenceConstructor has already been defined"),ha=o})(Ys),function O(o){(0,N.hu)(!b,"__referenceConstructor has already been defined"),b=o}(Ys);const qt={};function kl(o,r,i,l,h){let w=l||o.options.databaseURL;void 0===w&&(o.options.projectId||nr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ln("Using default host for project ",o.options.projectId),w=`${o.options.projectId}-default-rtdb.firebaseio.com`);let Y,ie,R=nu(w,h),H=R.repoInfo;typeof process<"u"&&process.env&&(ie=process.env.FIREBASE_DATABASE_EMULATOR_HOST),ie?(Y=!0,w=`http://${ie}?ns=${H.namespace}`,R=nu(w,h),H=R.repoInfo):Y=!R.repoInfo.secure;const Ue=h&&Y?new Tn(Tn.OWNER):new ei(o.name,o.options,r);gc("Invalid Firebase Database URL",R),cn(R.path)||nr("Database URL must point to the root of a Firebase Database (not including a child path).");const Ve=function ul(o,r,i,l){let h=qt[r.name];h||(h={},qt[r.name]=h);let w=h[o.toURLString()];return w&&nr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),w=new Su(o,false,i,l),h[o.toURLString()]=w,w}(H,o,Ue,new Nn(o.name,i));return new cl(Ve,o)}class cl{constructor(r,i){this._repoInternal=r,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function ys(o,r,i){if(o.stats_=ce(o.repoInfo_),o.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)o.server_=new Gi(o.repoInfo_,(l,h,w,R)=>{Au(o,l,h,w,R)},o.authTokenProvider_,o.appCheckProvider_),setTimeout(()=>Mu(o,!0),0);else{if(typeof i<"u"&&null!==i){if("object"!=typeof i)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(i)}catch(l){throw new Error("Invalid authOverride provided: "+l)}}o.persistentConnection_=new Ir(o.repoInfo_,r,(l,h,w,R)=>{Au(o,l,h,w,R)},l=>{Mu(o,l)},l=>{!function mc(o,r){un(r,(i,l)=>{_c(o,i,l)})}(o,l)},o.authTokenProvider_,o.appCheckProvider_,i),o.server_=o.persistentConnection_}o.authTokenProvider_.addTokenChangeListener(l=>{o.server_.refreshAuthToken(l)}),o.appCheckProvider_.addTokenChangeListener(l=>{o.server_.refreshAppCheckToken(l.token)}),o.statsReporter_=function he(o,r){const i=o.toString();return Un[i]||(Un[i]=r()),Un[i]}(o.repoInfo_,()=>new le(o.stats_,o.server_)),o.infoData_=new xi,o.infoSyncTree_=new Te({startListening:(l,h,w,R)=>{let H=[];const Y=o.infoData_.getNode(l._path);return Y.isEmpty()||(H=Ln(o.infoSyncTree_,l._path,Y),setTimeout(()=>{R("ok")},0)),H},stopListening:()=>{}}),_c(o,"connected",!1),o.serverSyncTree_=new Te({startListening:(l,h,w,R)=>(o.server_.listen(l,w,h,(H,Y)=>{const ie=R(H,Y);oo(o.eventQueue_,l._path,ie)}),[]),stopListening:(l,h)=>{o.server_.unlisten(l,h)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ys(this._repo,Rn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Cc(o,r){const i=qt[r];(!i||i[o.key]!==o)&&nr(`Database ${r}(${o.repoInfo_}) has already been deleted.`),ol(o),delete i[o.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(r){null===this._rootInternal&&nr("Cannot call "+r+" on a deleted database.")}}function xl(){Kr.IS_TRANSPORT_INITIALIZED&&gn("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Hu(){xl(),Qn.forceDisallow()}function ju(){xl(),Gn.forceDisallow(),Qn.forceAllow()}function Wu(o,r){Rt(o,r)}const Sg={".sv":"timestamp"};class Rf{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ir.prototype.simpleListen=function(o,r){this.sendRequest("q",{p:o},r)},Ir.prototype.echo=function(o,r){this.sendRequest("echo",{d:o},r)},function Tg(o){Oe(nt.SDK_VERSION),(0,nt._registerComponent)(new Fe.wA("database",(r,{instanceIdentifier:i})=>kl(r.getProvider("app").getImmediate(),r.getProvider("auth-internal"),r.getProvider("app-check-internal"),i),"PUBLIC").setMultipleInstances(!0)),(0,nt.registerVersion)(pe,"0.14.1",o),(0,nt.registerVersion)(pe,"0.14.1","esm2017")}();const fd=new Be.Yd("@firebase/database-compat"),gh=function(o){fd.warn("FIREBASE WARNING: "+o)};class kf{constructor(r){this._delegate=r}cancel(r){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",r,!0);const i=this._delegate.cancel();return r&&i.then(()=>r(null),l=>r(l)),i}remove(r){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",r,!0);const i=this._delegate.remove();return r&&i.then(()=>r(null),l=>r(l)),i}set(r,i){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",i,!0);const l=this._delegate.set(r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",l,!0);const h=this._delegate.setWithPriority(r,i);return l&&h.then(()=>l(null),w=>l(w)),h}update(r,i){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let w=0;w<r.length;++w)h[""+w]=r[w];r=h,gh("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",i,!0);const l=this._delegate.update(r);return i&&l.then(()=>i(null),h=>i(h)),l}}class mh{constructor(r,i){this.committed=r,this.snapshot=i}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ja{constructor(r,i){this._database=r,this._delegate=i}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(r){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),r=String(r),El("DataSnapshot.child","path",r,!1),new ja(this._database,this._delegate.child(r))}hasChild(r){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),El("DataSnapshot.hasChild","path",r,!1),this._delegate.hasChild(r)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(r){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",r,!1),this._delegate.forEach(i=>r(new ja(this._database,i)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ko(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Ps{constructor(r,i){this.database=r,this._delegate=i}on(r,i,l,h){var w;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",i,!1);const R=Ps.getCancelAndContextArgs_("Query.on",l,h),H=(ie,Ue)=>{i.call(R.context,new ja(this.database,ie),Ue)};H.userCallback=i,H.context=R.context;const Y=null===(w=R.cancel)||void 0===w?void 0:w.bind(R.context);switch(r){case"value":return Oo(this._delegate,H,Y),i;case"child_added":return au(this._delegate,H,Y),i;case"child_removed":return va(this._delegate,H,Y),i;case"child_changed":return Ol(this._delegate,H,Y),i;case"child_moved":return lu(this._delegate,H,Y),i;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(r,i,l){if((0,N.Dv)("Query.off",0,3,arguments.length),function(o,r,i){if(void 0!==r)switch(r){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,r),(0,N.Wj)("Query.off","callback",i,!0),(0,N.lb)("Query.off","context",l,!0),i){const h=()=>{};h.userCallback=i,h.context=l,Uu(this._delegate,r,h)}else Uu(this._delegate,r)}get(){return ou(this._delegate).then(r=>new ja(this.database,r))}once(r,i,l,h){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",i,!0);const w=Ps.getCancelAndContextArgs_("Query.once",l,h),R=new N.BH,H=(ie,Ue)=>{const Ve=new ja(this.database,ie);i&&i.call(w.context,Ve,Ue),R.resolve(Ve)};H.userCallback=i,H.context=w.context;const Y=ie=>{w.cancel&&w.cancel.call(w.context,ie),R.reject(ie)};switch(r){case"value":Oo(this._delegate,H,Y,{onlyOnce:!0});break;case"child_added":au(this._delegate,H,Y,{onlyOnce:!0});break;case"child_removed":va(this._delegate,H,Y,{onlyOnce:!0});break;case"child_changed":Ol(this._delegate,H,Y,{onlyOnce:!0});break;case"child_moved":lu(this._delegate,H,Y,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return R.promise}limitToFirst(r){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Ps(this.database,vt(this._delegate,function wc(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new cu(o)}(r)))}limitToLast(r){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Ps(this.database,vt(this._delegate,function cd(o){if("number"!=typeof o||Math.floor(o)!==o||o<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Ha(o)}(r)))}orderByChild(r){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Ps(this.database,vt(this._delegate,function p(o){if("$key"===o)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===o)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===o)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return El("orderByChild","path",o,!1),new dd(o)}(r)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Ps(this.database,vt(this._delegate,function d(){return new u}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Ps(this.database,vt(this._delegate,function x(){return new v}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Ps(this.database,vt(this._delegate,function Ee(){return new K}()))}startAt(r=null,i){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Ps(this.database,vt(this._delegate,function Nl(o=null,r){return vl("startAt","key",r,!0),new $a(o,r)}(r,i)))}startAfter(r=null,i){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Ps(this.database,vt(this._delegate,function Dc(o,r){return vl("startAfter","key",r,!0),new uu(o,r)}(r,i)))}endAt(r=null,i){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Ps(this.database,vt(this._delegate,function Vu(o,r){return vl("endAt","key",r,!0),new Bu(o,r)}(r,i)))}endBefore(r=null,i){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Ps(this.database,vt(this._delegate,function ia(o,r){return vl("endBefore","key",r,!0),new $u(o,r)}(r,i)))}equalTo(r,i){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Ps(this.database,vt(this._delegate,function gt(o,r){return vl("equalTo","key",r,!0),new Ke(o,r)}(r,i)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(r){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(r instanceof Ps))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(r._delegate)}static getCancelAndContextArgs_(r,i,l){const h={cancel:void 0,context:void 0};if(i&&l)h.cancel=i,(0,N.Wj)(r,"cancel",h.cancel,!0),h.context=l,(0,N.lb)(r,"context",h.context,!0);else if(i)if("object"==typeof i&&null!==i)h.context=i;else{if("function"!=typeof i)throw new Error((0,N.gK)(r,"cancelOrContext")+" must either be a cancel callback or a context object.");h.cancel=i}return h}get ref(){return new ko(this.database,new Ys(this._delegate._repo,this._delegate._path))}}class ko extends Ps{constructor(r,i){super(r,new lo(i._repo,i._path,new fs,!1)),this.database=r,this._delegate=i}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(r){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof r&&(r=String(r)),new ko(this.database,jo(this._delegate,r))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const r=this._delegate.parent;return r?new ko(this.database,r):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ko(this.database,this._delegate.root)}set(r,i){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",i,!0);const l=ra(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}update(r,i){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(r)){const h={};for(let w=0;w<r.length;++w)h[""+w]=r[w];r=h,gh("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_s("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",i,!0);const l=Fu(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}setWithPriority(r,i,l){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",l,!0);const h=function Al(o,r,i){if(_s("setWithPriority",o._path),Ro("setWithPriority",r,o._path,!1),Cu("setWithPriority",i,!1),".length"===o.key||".keys"===o.key)throw"setWithPriority failed: "+o.key+" is a read-only object.";const l=new N.BH;return ql(o._repo,o._path,r,i,l.wrapCallback(()=>{})),l.promise}(this._delegate,r,i);return l&&h.then(()=>l(null),w=>l(w)),h}remove(r){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",r,!0);const i=function Rs(o){return _s("remove",o._path),ra(o,null)}(this._delegate);return r&&i.then(()=>r(null),l=>r(l)),i}transaction(r,i,l){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",r,!1),(0,N.Wj)("Reference.transaction","onComplete",i,!0),function(o,r,i,l){if(void 0!==i&&"boolean"!=typeof i)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,l);const h=function Pf(o,r,i){var l;if(o=(0,N.m9)(o),_s("Reference.transaction",o._path),".length"===o.key||".keys"===o.key)throw"Reference.transaction failed: "+o.key+" is a read-only object.";const h=null===(l=i?.applyLocally)||void 0===l||l,w=new N.BH,H=Oo(o,()=>{});return function Nu(o,r,i,l,h,w){Fa(o,"transaction on "+r);const R={path:r,update:i,onComplete:l,status:null,order:tn(),applyLocally:w,retryCount:0,unwatcher:h,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},H=Jl(o,r,void 0);R.currentInputSnapshot=H;const Y=R.update(H.val());if(void 0===Y)R.unwatcher(),R.currentOutputSnapshotRaw=null,R.currentOutputSnapshotResolved=null,R.onComplete&&R.onComplete(null,!1,R.currentInputSnapshot);else{rl("transaction failed: Data returned ",Y,R.path),R.status=0;const ie=_l(o.transactionQueueTree_,r),Ue=ma(ie)||[];let Ve;Ue.push(R),jl(ie,Ue),"object"==typeof Y&&null!==Y&&(0,N.r3)(Y,".priority")?(Ve=(0,N.DV)(Y,".priority"),(0,N.hu)(xa(Ve),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):Ve=(_o(o.serverSyncTree_,r)||Zt.EMPTY_NODE).getPriority().val();const rt=sl(o),bt=ar(Y,Ve),zt=Mo(bt,H,rt);R.currentOutputSnapshotRaw=bt,R.currentOutputSnapshotResolved=zt,R.currentWriteId=Po(o);const Vn=Ge(o.serverSyncTree_,r,zt,R.currentWriteId,R.applyLocally);oo(o.eventQueue_,r,Vn),wl(o,o.transactionQueueTree_)}}(o._repo,o._path,r,(Y,ie,Ue)=>{let Ve=null;Y?w.reject(Y):(Ve=new Ho(Ue,new Ys(o._repo,o._path),Kn),w.resolve(new Rf(ie,Ve)))},H,h),w.promise}(this._delegate,r,{applyLocally:l}).then(w=>new mh(w.committed,new ja(this.database,w.snapshot)));return i&&h.then(w=>i(null,w.committed,w.snapshot),w=>i(w,!1,null)),h}setPriority(r,i){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",i,!0);const l=function su(o,r){o=(0,N.m9)(o),_s("setPriority",o._path),Cu("setPriority",r,!1);const i=new N.BH;return ql(o._repo,In(o._path,".priority"),r,null,i.wrapCallback(()=>{})),i.promise}(this._delegate,r);return i&&l.then(()=>i(null),h=>i(h)),l}push(r,i){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",i,!0);const l=function Ic(o,r){o=(0,N.m9)(o),_s("push",o._path),Ro("push",r,o._path,!0);const i=il(o._repo),l=Ec(i),h=jo(o,l),w=jo(o,l);let R;return R=null!=r?ra(w,r).then(()=>w):Promise.resolve(w),h.then=R.then.bind(R),h.catch=R.then.bind(R,void 0),h}(this._delegate,r),h=l.then(R=>new ko(this.database,R));i&&h.then(()=>i(null),R=>i(R));const w=new ko(this.database,l);return w.then=h.then.bind(h),w.catch=h.catch.bind(h,void 0),w}onDisconnect(){return _s("Reference.onDisconnect",this._delegate._path),new kf(new Lu(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zu{constructor(r,i){this._delegate=r,this.app=i,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Hu,forceLongPolling:ju}}useEmulator(r,i,l={}){!function bc(o,r,i,l={}){(o=(0,N.m9)(o))._checkNotDeleted("useEmulator"),o._instanceStarted&&nr("Cannot call useEmulator() after instance has already been initialized.");const h=o._repoInternal;let w;if(h.repoInfo_.nodeAdmin)l.mockUserToken&&nr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),w=new Tn(Tn.OWNER);else if(l.mockUserToken){const R="string"==typeof l.mockUserToken?l.mockUserToken:(0,N.Sg)(l.mockUserToken,o.app.options.projectId);w=new Tn(R)}!function No(o,r,i,l){o.repoInfo_=new je(`${r}:${i}`,!1,o.repoInfo_.namespace,o.repoInfo_.webSocketOnly,o.repoInfo_.nodeAdmin,o.repoInfo_.persistenceKey,o.repoInfo_.includeNamespaceInQueryParams),l&&(o.authTokenProvider_=l)}(h,r,i,w)}(this._delegate,r,i,l)}ref(r){if((0,N.Dv)("database.ref",0,1,arguments.length),r instanceof ko){const i=iu(this._delegate,r.toString());return new ko(this,i)}{const i=ll(this._delegate,r);return new ko(this,i)}}refFromURL(r){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const l=iu(this._delegate,r);return new ko(this,l)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function hh(o){(o=(0,N.m9)(o))._checkNotDeleted("goOffline"),ol(o._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function Ll(o){(o=(0,N.m9)(o))._checkNotDeleted("goOnline"),function Ou(o){o.persistentConnection_&&o.persistentConnection_.resume(Il)}(o._repo)}(this._delegate)}}zu.ServerValue={TIMESTAMP:function fh(){return Sg}(),increment:o=>function Mf(o){return{".sv":{increment:o}}}(o)};var _h=Object.freeze({__proto__:null,initStandalone:function xf({app:o,url:r,version:i,customAuthImpl:l,namespace:h,nodeAdmin:w=!1}){Oe(i);const R=new Fe.zt("auth-internal",new Fe.H0("database-standalone"));return R.setComponent(new Fe.wA("auth-internal",()=>l,"PRIVATE")),{instance:new zu(kl(o,R,void 0,r,w),o),namespace:h}}});const Mg=zu.ServerValue;!function Rg(o){o.INTERNAL.registerComponent(new Fe.wA("database-compat",(r,{instanceIdentifier:i})=>{const l=r.getProvider("app-compat").getImmediate(),h=r.getProvider("database").getImmediate({identifier:i});return new zu(h,l)},"PUBLIC").setServiceProps({Reference:ko,Query:Ps,Database:zu,DataSnapshot:ja,enableLogging:Wu,INTERNAL:_h,ServerValue:Mg}).setMultipleInstances(!0)),o.registerVersion("@firebase/database-compat","0.3.1")}(fe.Z);var du=F(7579),Sc=F(8996),Gu=F(5363),yh=F(6063);class vh extends du.x{constructor(r=1/0,i=1/0,l=yh.l){super(),this._bufferSize=r,this._windowTime=i,this._timestampProvider=l,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=i===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,i)}next(r){const{isStopped:i,_buffer:l,_infiniteTimeWindow:h,_timestampProvider:w,_windowTime:R}=this;i||(l.push(r),!h&&l.push(w.now()+R)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const i=this._innerSubscribe(r),{_infiniteTimeWindow:l,_buffer:h}=this,w=h.slice();for(let R=0;R<w.length&&!r.closed;R+=l?1:2)r.next(w[R]);return this._checkFinalizedStatuses(r),i}_trimBuffer(){const{_bufferSize:r,_timestampProvider:i,_buffer:l,_infiniteTimeWindow:h}=this,w=(h?1:2)*r;if(r<1/0&&w<l.length&&l.splice(0,l.length-w),!h){const R=i.now();let H=0;for(let Y=1;Y<l.length&&l[Y]<=R;Y+=2)H=Y;H&&l.splice(0,H+1)}}}function Lf(o,r,i){let l,h=!1;return o&&"object"==typeof o?({bufferSize:l=1/0,windowTime:r=1/0,refCount:h=!1,scheduler:i}=o):l=o??1/0,(0,Ce.B)({connector:()=>new vh(l,r,i),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Ff=F(590),Eh=F(576);function pd(o,r){return(0,Eh.m)(r)?(0,_e.w)(()=>o,r):(0,_e.w)(()=>o)}var Ku=F(9468),Pg=F(9300),gd=F(6895);F(259);const Ed=new Map,bh={activated:!1,tokenObservers:[]},Hf={initialized:!1,enabled:!1};function os(o){return Ed.get(o)||Object.assign({},bh)}function Yu(){return Hf}class gu{constructor(r,i,l,h,w){if(this.operation=r,this.retryPolicy=i,this.getWaitDuration=l,this.lowerBound=h,this.upperBound=w,this.pending=null,this.nextErrorWaitInterval=h,h>w)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(r){var i=this;return(0,et.Z)(function*(){i.stop();try{i.pending=new N.BH,yield function qu(o){return new Promise(r=>{setTimeout(r,o)})}(i.getNextRun(r)),i.pending.resolve(),yield i.pending.promise,i.pending=new N.BH,yield i.operation(),i.pending.resolve(),yield i.pending.promise,i.process(!0).catch(()=>{})}catch(l){i.retryPolicy(l)?i.process(!1).catch(()=>{}):i.stop()}})()}getNextRun(r){if(r)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const i=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),i}}}const qs=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Sh(o){if(!os(o).activated)throw qs.create("use-before-activation",{appName:o.name})}function Mc(o,r){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,et.Z)(function*({url:o,body:r},i){const l={"Content-Type":"application/json"},h=i.getImmediate({optional:!0});if(h){const Ve=yield h.getHeartbeatsHeader();Ve&&(l["X-Firebase-Client"]=Ve)}const w={method:"POST",body:JSON.stringify(r),headers:l};let R,H;try{R=yield fetch(o,w)}catch(Ve){throw qs.create("fetch-network-error",{originalErrorMessage:Ve?.message})}if(200!==R.status)throw qs.create("fetch-status-error",{httpStatus:R.status});try{H=yield R.json()}catch(Ve){throw qs.create("fetch-parse-error",{originalErrorMessage:Ve?.message})}const Y=H.ttl.match(/^([\d.]+)(s)$/);if(!Y||!Y[2]||isNaN(Number(Y[1])))throw qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${H.ttl}`});const ie=1e3*Number(Y[1]),Ue=Date.now();return{token:H.token,expireTimeMillis:Ue+ie,issuedAtTimeMillis:Ue}})).apply(this,arguments)}function Cd(o,r){const{projectId:i,appId:l,apiKey:h}=o.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${i}/apps/${l}:exchangeDebugToken?key=${h}`,body:{debug_token:r}}}const ec="firebase-app-check-store";let Rc=null;function Mh(){return Rc||(Rc=new Promise((o,r)=>{try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=l=>{o(l.target.result)},i.onerror=l=>{var h;r(qs.create("storage-open",{originalErrorMessage:null===(h=l.target.error)||void 0===h?void 0:h.message}))},i.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(ec,{keyPath:"compositeKey"})}}catch(i){r(qs.create("storage-open",{originalErrorMessage:i?.message}))}}),Rc)}function bd(){return(bd=(0,et.Z)(function*(o,r){const l=(yield Mh()).transaction(ec,"readwrite"),w=l.objectStore(ec).put({compositeKey:o,value:r});return new Promise((R,H)=>{w.onsuccess=Y=>{R()},l.onerror=Y=>{var ie;H(qs.create("storage-set",{originalErrorMessage:null===(ie=Y.target.error)||void 0===ie?void 0:ie.message}))}})})).apply(this,arguments)}const Pc=new Be.Yd("@firebase/app-check");function Sd(o,r){return(0,N.hl)()?function qf(o,r){return function Rh(o,r){return bd.apply(this,arguments)}(function Td(o){return`${o.options.appId}-${o.name}`}(o),r)}(o,r).catch(i=>{Pc.warn(`Failed to write token to IndexedDB. Error: ${i}`)}):Promise.resolve()}function kh(){return Yu().enabled}function zo(){return Md.apply(this,arguments)}function Md(){return(Md=(0,et.Z)(function*(){const o=Yu();if(o.enabled&&o.token)return o.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Jf={error:"UNKNOWN_ERROR"};function Xf(o){return N.US.encodeString(JSON.stringify(o),!1)}function Nc(o){return Rd.apply(this,arguments)}function Rd(){return(Rd=(0,et.Z)(function*(o,r=!1){const i=o.app;Sh(i);const l=os(i);let w,h=l.token;if(h&&!Ul(h)&&(l.token=void 0,h=void 0),!h){const Y=yield l.cachedTokenPromise;Y&&(Ul(Y)?h=Y:yield Sd(i,void 0))}if(!r&&h&&Ul(h))return{token:h.token};let H,R=!1;if(kh()){l.exchangeTokenPromise||(l.exchangeTokenPromise=Mc(Cd(i,yield zo()),o.heartbeatServiceProvider).finally(()=>{l.exchangeTokenPromise=void 0}),R=!0);const Y=yield l.exchangeTokenPromise;return yield Sd(i,Y),l.token=Y,{token:Y.token}}try{l.exchangeTokenPromise||(l.exchangeTokenPromise=l.provider.getToken().finally(()=>{l.exchangeTokenPromise=void 0}),R=!0),h=yield os(i).exchangeTokenPromise}catch(Y){"appCheck/throttled"===Y.code?Pc.warn(Y.message):Pc.error(Y),w=Y}return h?w?H=Ul(h)?{token:h.token,internalError:w}:Od(w):(H={token:h.token},l.token=h,yield Sd(i,h)):H=Od(w),R&&xn(i,H),H})).apply(this,arguments)}function Pd(o,r){const i=os(o),l=i.tokenObservers.filter(h=>h.next!==r);0===l.length&&i.tokenRefresher&&i.tokenRefresher.isRunning()&&i.tokenRefresher.stop(),i.tokenObservers=l}function Lh(o){const{app:r}=o,i=os(r);let l=i.tokenRefresher;l||(l=function ep(o){const{app:r}=o;return new gu((0,et.Z)(function*(){let l;if(l=os(r).token?yield Nc(o,!0):yield Nc(o),l.error)throw l.error;if(l.internalError)throw l.internalError}),()=>!0,()=>{const i=os(r);if(i.token){let l=i.token.issuedAtTimeMillis+.5*(i.token.expireTimeMillis-i.token.issuedAtTimeMillis)+3e5;return l=Math.min(l,i.token.expireTimeMillis-3e5),Math.max(0,l-Date.now())}return 0},3e4,96e4)}(o),i.tokenRefresher=l),!l.isRunning()&&i.isTokenAutoRefreshEnabled&&l.start()}function xn(o,r){const i=os(o).tokenObservers;for(const l of i)try{"EXTERNAL"===l.type&&null!=r.error?l.error(r.error):l.next(r)}catch{}}function Ul(o){return o.expireTimeMillis-Date.now()>0}function Od(o){return{token:Xf(Jf),error:o}}class Fh{constructor(r,i){this.app=r,this.heartbeatServiceProvider=i}_delete(){const{tokenObservers:r}=os(this.app);for(const i of r)Pd(this.app,i.next);return Promise.resolve()}}const Bd="app-check-internal";!function hp(){(0,nt._registerComponent)(new Fe.wA("app-check",o=>function tp(o,r){return new Fh(o,r)}(o.getProvider("app").getImmediate(),o.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((o,r,i)=>{o.getProvider(Bd).initialize()})),(0,nt._registerComponent)(new Fe.wA(Bd,o=>function np(o){return{getToken:r=>Nc(o,r),addTokenListener:r=>function kc(o,r,i,l){const{app:h}=o,w=os(h);if(w.tokenObservers=[...w.tokenObservers,{next:i,error:l,type:r}],w.token&&Ul(w.token)){const H=w.token;Promise.resolve().then(()=>{i({token:H.token}),Lh(o)}).catch(()=>{})}w.cachedTokenPromise.then(()=>Lh(o))}(o,"INTERNAL",r),removeTokenListener:r=>Pd(o.app,r)}}(o.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,nt.registerVersion)("@firebase/app-check","0.6.1")}();class $d{constructor(){return(0,$e.vb)("app-check")}}typeof window<"u"&&window;var mp=F(9260);const Bl=new y.OlP("angularfire2.auth.use-emulator"),Uc=new y.OlP("angularfire2.auth.settings"),_u=new y.OlP("angularfire2.auth.tenant-id"),Bc=new y.OlP("angularfire2.auth.langugage-code"),ic=new y.OlP("angularfire2.auth.use-device-language"),jd=new y.OlP("angularfire.auth.persistence"),Vc=(o,r,i,l,h,w,R,H)=>(0,Je.cc)(`${o.name}.auth`,"AngularFireAuth",o.name,()=>{const Y=r.runOutsideAngular(()=>o.auth());if(i&&Y.useEmulator(...i),l&&(Y.tenantId=l),Y.languageCode=h,w&&Y.useDeviceLanguage(),R)for(const[ie,Ue]of Object.entries(R))Y.settings[ie]=Ue;return H&&Y.setPersistence(H),Y},[i,l,h,w,R,H]);let $c=(()=>{class o{constructor(i,l,h,w,R,H,Y,ie,Ue,Ve,rt,bt){const zt=new du.x,Vn=(0,ae.of)(void 0).pipe((0,Gu.Q)(R.outsideAngular),(0,_e.w)(()=>w.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,750)))),(0,ge.U)(()=>(0,Je.on)(i,w,l)),(0,ge.U)(yi=>Vc(yi,w,H,ie,Ue,Ve,Y,rt)),Lf({bufferSize:1,refCount:!1}));if((0,gd.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ae.of)(null);else{Vn.pipe((0,Ff.P)()).subscribe();const Os=Vn.pipe((0,_e.w)(Fi=>Fi.getRedirectResult().then(Ea=>Ea,()=>null)),$e.iC,Lf({bufferSize:1,refCount:!1})),Go=Vn.pipe((0,_e.w)(Fi=>new j.y(Ea=>({unsubscribe:w.runOutsideAngular(()=>Fi.onAuthStateChanged(hl=>Ea.next(hl),hl=>Ea.error(hl),()=>Ea.complete()))})))),sa=Vn.pipe((0,_e.w)(Fi=>new j.y(Ea=>({unsubscribe:w.runOutsideAngular(()=>Fi.onIdTokenChanged(hl=>Ea.next(hl),hl=>Ea.error(hl),()=>Ea.complete()))}))));this.authState=Os.pipe(pd(Go),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular)),this.user=Os.pipe(pd(sa),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular)),this.idToken=this.user.pipe((0,_e.w)(Fi=>Fi?(0,Sc.D)(Fi.getIdToken()):(0,ae.of)(null))),this.idTokenResult=this.user.pipe((0,_e.w)(Fi=>Fi?(0,Sc.D)(Fi.getIdTokenResult()):(0,ae.of)(null))),this.credential=(0,ue.T)(Os,zt,this.authState.pipe((0,Pg.h)(Fi=>!Fi))).pipe((0,ge.U)(Fi=>Fi?.user?Fi:null),(0,Ku.R)(R.outsideAngular),(0,Gu.Q)(R.insideAngular))}return(0,Je.pX)(this,Vn,w,{spy:{apply:(yi,Os,Go)=>{(yi.startsWith("signIn")||yi.startsWith("createUser"))&&Go.then(sa=>zt.next(sa))}}})}}return o.\u0275fac=function(i){return new(i||o)(y.LFG(Je.Dh),y.LFG(Je.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG($e.HU),y.LFG(Bl,8),y.LFG(Uc,8),y.LFG(_u,8),y.LFG(Bc,8),y.LFG(ic,8),y.LFG(jd,8),y.LFG($d,8))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})();function Gh(o){return null==o}function Kh(o){return"function"==typeof o.set}function zd(o,r){return Kh(r)?r:o.ref(r)}function Zh(o,r){if(function zh(o){return"string"==typeof o}(o))return r.stringCase();if(Kh(o))return r.firebaseCase();if(function Wd(o){return"function"==typeof o.exportVal}(o))return r.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof o)}function yu(o,r,i="on",l=$.z){return new j.y(h=>{let w=null;return w=o[i](r,(R,H)=>{l.schedule(()=>{h.next({snapshot:R,prevKey:H})}),"once"===i&&l.schedule(()=>h.complete())},R=>{l.schedule(()=>h.error(R))}),"on"===i?{unsubscribe(){null!=w&&o.off(r,w)}}:{unsubscribe(){}}}).pipe((0,ge.U)(h=>{const{snapshot:w,prevKey:R}=h;let H=null;return w.exists()&&(H=w.key),{type:r,payload:w,prevKey:R,key:H}}),(0,Ce.B)())}function qh(o,r){const i=o.length;for(let l=0;l<i;l++)if(o[l].payload.key===r)return l;return-1}function xo(o,r){const{payload:i,prevKey:l,key:h}=r,w=qh(o,h),R=function _p(o,r){if(Gh(r))return 0;{const i=qh(o,r);return-1===i?o.length:i+1}}(o,l);switch(r.type){case"value":if(r.payload&&r.payload.exists()){let H=null;r.payload.forEach(Y=>{const ie={payload:Y,type:"value",prevKey:H,key:Y.key};return H=Y.key,o=[...o,ie],!1})}return o;case"child_added":if(w>-1){const H=o[w-1];(H&&H.key||null)!==l&&(o=o.filter(Y=>Y.payload.key!==i.key)).splice(R,0,r)}else{if(null==l)return[r,...o];(o=o.slice()).splice(R,0,r)}return o;case"child_removed":return o.filter(H=>H.payload.key!==i.key);case"child_changed":return o.map(H=>H.payload.key===h?r:H);case"child_moved":if(w>-1){const H=o.splice(w,1)[0];return(o=o.slice()).splice(R,0,H),o}return o;default:return o}}function Gd(o){return(Gh(o)||0===o.length)&&(o=["child_added","child_removed","child_changed","child_moved"]),o}function Qh(o,r,i){return function Yh(o,r,i){return yu(o,"value","once",i).pipe((0,_e.w)(l=>{const h=[(0,ae.of)(l)];return r.forEach(w=>h.push(yu(o,w,"on",i))),(0,ue.T)(...h).pipe((0,ye.R)(xo,[]))}),(0,ne.x)())}(o,r=Gd(r),i)}function yp(o,r,i){const l=(r=Gd(r)).map(h=>yu(o,h,"on",i));return(0,ue.T)(...l)}function Xh(o,r){return function(l,h){return Zh(l,{stringCase:()=>o.child(l)[r](h),firebaseCase:()=>l[r](h),snapshotCase:()=>l.ref[r](h)})}}function Ep(o){return function(i){return i?Zh(i,{stringCase:()=>o.child(i).remove(),firebaseCase:()=>i.remove(),snapshotCase:()=>i.ref.remove()}):o.remove()}}function tf(o,r){return function(){return yu(o,"value","on",r)}}const Zd=new y.OlP("angularfire2.realtimeDatabaseURL"),Dp=new y.OlP("angularfire2.database.use-emulator");let nf=(()=>{class o{constructor(i,l,h,w,R,H,Y,ie,Ue,Ve,rt,bt,zt,Vn,yi){this.schedulers=H;const Os=Y,Go=(0,Je.on)(i,R,l);ie&&Vc(Go,R,Ue,rt,bt,zt,Ve,Vn),this.database=(0,Je.cc)(`${Go.name}.database.${h}`,"AngularFireDatabase",Go.name,()=>{const sa=R.runOutsideAngular(()=>Go.database(h||void 0));return Os&&sa.useEmulator(...Os),sa},[Os])}list(i,l){const h=this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i));let w=h;return l&&(w=l(h)),function ef(o,r){const i=r.schedulers.outsideAngular,l=r.schedulers.ngZone.run(()=>o.ref);return{query:o,update:Xh(l,"update"),set:Xh(l,"set"),push:h=>l.push(h),remove:Ep(l),snapshotChanges:h=>Qh(o,h,i).pipe($e.iC),stateChanges:h=>yp(o,h,i).pipe($e.iC),auditTrail:h=>function Kd(o,r,i){return function vp(o,r,i){return function Jh(o,r){return yu(o,"value","on",r).pipe((0,ge.U)(i=>{let l;return i.payload.forEach(h=>(l=h.key,!1)),{data:i,lastKeyToLoad:l}}))}(o,i).pipe(function Le(...o){const r=(0,pt.jO)(o);return(0,re.e)((i,l)=>{const h=o.length,w=new Array(h);let R=o.map(()=>!1),H=!1;for(let Y=0;Y<h;Y++)(0,Qe.Xf)(o[Y]).subscribe((0,de.x)(l,ie=>{w[Y]=ie,!H&&!R[Y]&&(R[Y]=!0,(H=R.every(We.y))&&(R=null))},st.Z));i.subscribe((0,de.x)(l,Y=>{if(H){const ie=[Y,...w];l.next(r?r(...ie):ie)}}))})}(r),(0,ge.U)(([h,w])=>{const R=h.lastKeyToLoad,H=w.map(Y=>Y.key);return{actions:w,lastKeyToLoad:R,loadedKeys:H}}),function Ye(o){return(0,re.e)((r,i)=>{let l=!1,h=0;r.subscribe((0,de.x)(i,w=>(l||(l=!o(w,h++)))&&i.next(w)))})}(h=>-1===h.loadedKeys.indexOf(h.lastKeyToLoad)),(0,ge.U)(h=>h.actions))}(o,yp(o,r).pipe((0,ye.R)((h,w)=>[...h,w],[])),i)}(o,h,i).pipe($e.iC),valueChanges:(h,w)=>Qh(o,h,i).pipe((0,ge.U)(H=>H.map(Y=>w&&w.idField?Object.assign(Object.assign({},Y.payload.val()),{[w.idField]:Y.key}):Y.payload.val())),$e.iC)}}(w,this)}object(i){return function Ip(o,r){return{query:o,snapshotChanges:()=>tf(o,r.schedulers.outsideAngular)().pipe($e.iC),update:i=>o.ref.update(i),set:i=>o.ref.set(i),remove:()=>o.ref.remove(),valueChanges:()=>tf(o,r.schedulers.outsideAngular)().pipe($e.iC,(0,ge.U)(l=>l.payload.exists()?l.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>zd(this.database,i)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return o.\u0275fac=function(i){return new(i||o)(y.LFG(Je.Dh),y.LFG(Je.xv,8),y.LFG(Zd,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG($e.HU),y.LFG(Dp,8),y.LFG($c,8),y.LFG(Bl,8),y.LFG(Uc,8),y.LFG(_u,8),y.LFG(Bc,8),y.LFG(ic,8),y.LFG(jd,8),y.LFG($d,8))},o.\u0275prov=y.Yz7({token:o,factory:o.\u0275fac,providedIn:"any"}),o})(),wp=(()=>{class o{constructor(){mp.Z.registerVersion("angularfire",$e.q4.full,"rtdb-compat")}}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=y.oAB({type:o}),o.\u0275inj=y.cJS({providers:[nf]}),o})()},2011:(ft,Pe,F)=>{F.d(Pe,{Dh:()=>_e,GT:()=>ge,cc:()=>We,hO:()=>Qe,on:()=>ne,pX:()=>ue,xv:()=>ye});var y=F(4650),$=F(9260),j=F(2122);ft=F.hmd(ft);const ae=["ngOnDestroy"],ue=(Ye,$e,Je,Se={})=>new Proxy(Ye,{get:(fe,Fe)=>Je.runOutsideAngular(()=>{var et;if(Ye[Fe])return!(null===(et=Se?.spy)||void 0===et)&&et.get&&Se.spy.get(Fe,Ye[Fe]),Ye[Fe];if(ae.indexOf(Fe)>-1)return()=>{};const nt=$e.toPromise().then(N=>{const Be=N&&N[Fe];return"function"==typeof Be?Be.bind(N):Be&&Be.then?Be.then(pe=>Je.run(()=>pe)):Je.run(()=>Be)});return new Proxy(()=>{},{get:(N,Be)=>nt[Be],apply:(N,Be,pe)=>nt.then(ve=>{var Re;const Oe=ve&&ve(...pe);return!(null===(Re=Se?.spy)||void 0===Re)&&Re.apply&&Se.spy.apply(Fe,pe,Oe),Oe})})})}),ge=(Ye,$e)=>{$e.forEach(Je=>{Object.getOwnPropertyNames(Je.prototype||Je).forEach(Se=>{Object.defineProperty(Ye.prototype,Se,Object.getOwnPropertyDescriptor(Je.prototype||Je,Se))})})};class Ce{constructor($e){return $e}}const _e=new y.OlP("angularfire2.app.options"),ye=new y.OlP("angularfire2.app.name");function ne(Ye,$e,Je){const fe="object"==typeof Je&&Je||{};fe.name=fe.name||"string"==typeof Je&&Je||"[DEFAULT]";const et=$.Z.apps.filter(nt=>nt&&nt.name===fe.name)[0]||$e.runOutsideAngular(()=>$.Z.initializeApp(Ye,fe));try{JSON.stringify(Ye)!==JSON.stringify(et.options)&&re("error",`${et.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(et)}const re=(Ye,...$e)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ye](...$e)},de={provide:Ce,useFactory:ne,deps:[_e,y.R0b,[new y.FiY,ye]]};let Qe=(()=>{class Ye{constructor(Je){$.Z.registerVersion("angularfire",j.q4.full,"core"),$.Z.registerVersion("angularfire",j.q4.full,"app-compat"),$.Z.registerVersion("angular",y.q4F.full,Je.toString())}static initializeApp(Je,Se){return{ngModule:Ye,providers:[{provide:_e,useValue:Je},{provide:ye,useValue:Se}]}}}return Ye.\u0275fac=function(Je){return new(Je||Ye)(y.LFG(y.Lbi))},Ye.\u0275mod=y.oAB({type:Ye}),Ye.\u0275inj=y.cJS({providers:[de]}),Ye})();function We(Ye,$e,Je,Se,fe){const[,Fe,et]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===Ye)||[];if(Fe)return function st(Ye,$e){try{return Ye.toString()===$e.toString()}catch{return Ye===$e}}(fe,et)||(Le("error",`${$e} was already initialized on the ${Je} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),Le("warn",{is:fe,was:et})),Fe;{const nt=Se();return globalThis.\u0275AngularfireInstanceCache.push([Ye,nt,fe]),nt}}const pt=!!ft.hot,Le=(Ye,...$e)=>{(0,y.X6Q)()&&typeof console<"u"&&console[Ye](...$e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(ft,Pe,F)=>{F.d(Pe,{q4:()=>Ao,iC:()=>_o,HU:()=>mo,vb:()=>Ct,JM:()=>Ge});var y=F(4650),$=F(259),j=F(5861),ae=F(9681),ue=F(2090),ge=F(4859),Ce=F(1877),_e=F(8766);const ye="@firebase/installations",ne="0.6.1",de=`w:${ne}`,Qe="FIS_v2",$e=new ue.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Je(A){return A instanceof ue.ZR&&A.code.includes("request-failed")}function Se({projectId:A}){return`https://firebaseinstallations.googleapis.com/v1/projects/${A}/installations`}function fe(A){return{token:A.token,requestStatus:2,expiresIn:ve(A.expiresIn),creationTime:Date.now()}}function Fe(A,P){return et.apply(this,arguments)}function et(){return(et=(0,j.Z)(function*(A,P){const ee=(yield P.json()).error;return $e.create("request-failed",{requestName:A,serverCode:ee.code,serverMessage:ee.message,serverStatus:ee.status})})).apply(this,arguments)}function nt({apiKey:A}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A})}function N(A,{refreshToken:P}){const W=nt(A);return W.append("Authorization",function Re(A){return`${Qe} ${A}`}(P)),W}function Be(A){return pe.apply(this,arguments)}function pe(){return(pe=(0,j.Z)(function*(A){const P=yield A();return P.status>=500&&P.status<600?A():P})).apply(this,arguments)}function ve(A){return Number(A.replace("s","000"))}function Oe(A,P){return at.apply(this,arguments)}function at(){return(at=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:P},{fid:W}){const ee=Se(A),be=nt(A),xe=P.getImmediate({optional:!0});if(xe){const Vt=yield xe.getHeartbeatsHeader();Vt&&be.append("x-firebase-client",Vt)}const Nt={method:"POST",headers:be,body:JSON.stringify({fid:W,authVersion:Qe,appId:A.appId,sdkVersion:de})},xt=yield Be(()=>fetch(ee,Nt));if(xt.ok){const Vt=yield xt.json();return{fid:Vt.fid||W,registrationStatus:2,refreshToken:Vt.refreshToken,authToken:fe(Vt.authToken)}}throw yield Fe("Create Installation",xt)})).apply(this,arguments)}function ot(A){return new Promise(P=>{setTimeout(P,A)})}const Cn=/^[cdef][\w-]{21}$/;function Qt(){try{const A=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(A),A[0]=112+A[0]%16;const W=function tn(A){return function At(A){return btoa(String.fromCharCode(...A)).replace(/\+/g,"-").replace(/\//g,"_")}(A).substr(0,22)}(A);return Cn.test(W)?W:""}catch{return""}}function Ot(A){return`${A.appName}!${A.appId}`}const pn=new Map;function ur(A,P){const W=Ot(A);ln(W,P),function cr(A,P){const W=function nr(){return!jr&&"BroadcastChannel"in self&&(jr=new BroadcastChannel("[Firebase] FID Change"),jr.onmessage=A=>{ln(A.data.key,A.data.fid)}),jr}();W&&W.postMessage({key:A,fid:P}),function gn(){0===pn.size&&jr&&(jr.close(),jr=null)}()}(W,P)}function ln(A,P){const W=pn.get(A);if(W)for(const ee of W)ee(P)}let jr=null;const Wr="firebase-installations-store";let rr=null;function An(){return rr||(rr=(0,_e.X3)("firebase-installations-database",1,{upgrade:(A,P)=>{0===P&&A.createObjectStore(Wr)}})),rr}function rn(A,P){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,j.Z)(function*(A,P){const W=Ot(A),be=(yield An()).transaction(Wr,"readwrite"),xe=be.objectStore(Wr),it=yield xe.get(W);return yield xe.put(P,W),yield be.done,(!it||it.fid!==P.fid)&&ur(A,P.fid),P})).apply(this,arguments)}function Pt(A){return zr.apply(this,arguments)}function zr(){return(zr=(0,j.Z)(function*(A){const P=Ot(A),ee=(yield An()).transaction(Wr,"readwrite");yield ee.objectStore(Wr).delete(P),yield ee.done})).apply(this,arguments)}function Xr(A,P){return un.apply(this,arguments)}function un(){return(un=(0,j.Z)(function*(A,P){const W=Ot(A),be=(yield An()).transaction(Wr,"readwrite"),xe=be.objectStore(Wr),it=yield xe.get(W),Nt=P(it);return void 0===Nt?yield xe.delete(W):yield xe.put(Nt,W),yield be.done,Nt&&(!it||it.fid!==Nt.fid)&&ur(A,Nt.fid),Nt})).apply(this,arguments)}function mr(A){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,j.Z)(function*(A){let P;const W=yield Xr(A.appConfig,ee=>{const be=Jt(ee),xe=Mt(A,be);return P=xe.registrationPromise,xe.installationEntry});return""===W.fid?{installationEntry:yield P}:{installationEntry:W,registrationPromise:P}})).apply(this,arguments)}function Jt(A){return Zn(A||{fid:Qt(),registrationStatus:0})}function Mt(A,P){if(0===P.registrationStatus){if(!navigator.onLine)return{installationEntry:P,registrationPromise:Promise.reject($e.create("app-offline"))};const W={fid:P.fid,registrationStatus:1,registrationTime:Date.now()},ee=function Ft(A,P){return Nr.apply(this,arguments)}(A,W);return{installationEntry:W,registrationPromise:ee}}return 1===P.registrationStatus?{installationEntry:P,registrationPromise:Dt(A)}:{installationEntry:P}}function Nr(){return(Nr=(0,j.Z)(function*(A,P){try{const W=yield Oe(A,P);return rn(A.appConfig,W)}catch(W){throw Je(W)&&409===W.customData.serverCode?yield Pt(A.appConfig):yield rn(A.appConfig,{fid:P.fid,registrationStatus:0}),W}})).apply(this,arguments)}function Dt(A){return zn.apply(this,arguments)}function zn(){return(zn=(0,j.Z)(function*(A){let P=yield Sr(A.appConfig);for(;1===P.registrationStatus;)yield ot(100),P=yield Sr(A.appConfig);if(0===P.registrationStatus){const{installationEntry:W,registrationPromise:ee}=yield mr(A);return ee||W}return P})).apply(this,arguments)}function Sr(A){return Xr(A,P=>{if(!P)throw $e.create("installation-not-found");return Zn(P)})}function Zn(A){return function Ei(A){return 1===A.registrationStatus&&A.registrationTime+1e4<Date.now()}(A)?{fid:A.fid,registrationStatus:0}:A}function Nn(A,P){return ei.apply(this,arguments)}function ei(){return(ei=(0,j.Z)(function*({appConfig:A,heartbeatServiceProvider:P},W){const ee=Tn(A,W),be=N(A,W),xe=P.getImmediate({optional:!0});if(xe){const Vt=yield xe.getHeartbeatsHeader();Vt&&be.append("x-firebase-client",Vt)}const Nt={method:"POST",headers:be,body:JSON.stringify({installation:{sdkVersion:de,appId:A.appId}})},xt=yield Be(()=>fetch(ee,Nt));if(xt.ok)return fe(yield xt.json());throw yield Fe("Generate Auth Token",xt)})).apply(this,arguments)}function Tn(A,{fid:P}){return`${Se(A)}/${P}/authTokens:generate`}function sr(A){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,j.Z)(function*(A,P=!1){let W;const ee=yield Xr(A.appConfig,xe=>{if(!Xt(xe))throw $e.create("not-registered");const it=xe.authToken;if(!P&&se(it))return xe;if(1===it.requestStatus)return W=ut(A,P),xe;{if(!navigator.onLine)throw $e.create("app-offline");const Nt=me(xe);return W=Lt(A,Nt),Nt}});return W?yield W:ee.authToken})).apply(this,arguments)}function ut(A,P){return qe.apply(this,arguments)}function qe(){return(qe=(0,j.Z)(function*(A,P){let W=yield _t(A.appConfig);for(;1===W.authToken.requestStatus;)yield ot(100),W=yield _t(A.appConfig);const ee=W.authToken;return 0===ee.requestStatus?sr(A,P):ee})).apply(this,arguments)}function _t(A){return Xr(A,P=>{if(!Xt(P))throw $e.create("not-registered");return function je(A){return 1===A.requestStatus&&A.requestTime+1e4<Date.now()}(P.authToken)?Object.assign(Object.assign({},P),{authToken:{requestStatus:0}}):P})}function Lt(A,P){return $t.apply(this,arguments)}function $t(){return($t=(0,j.Z)(function*(A,P){try{const W=yield Nn(A,P),ee=Object.assign(Object.assign({},P),{authToken:W});return yield rn(A.appConfig,ee),W}catch(W){if(!Je(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const ee=Object.assign(Object.assign({},P),{authToken:{requestStatus:0}});yield rn(A.appConfig,ee)}else yield Pt(A.appConfig);throw W}})).apply(this,arguments)}function Xt(A){return void 0!==A&&2===A.registrationStatus}function se(A){return 2===A.requestStatus&&!function te(A){const P=Date.now();return P<A.creationTime||A.creationTime+A.expiresIn<P+36e5}(A)}function me(A){const P={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},A),{authToken:P})}function wt(){return(wt=(0,j.Z)(function*(A){const P=A,{installationEntry:W,registrationPromise:ee}=yield mr(P);return ee?ee.catch(console.error):sr(P).catch(console.error),W.fid})).apply(this,arguments)}function mn(){return(mn=(0,j.Z)(function*(A,P=!1){const W=A;return yield Un(W),(yield sr(W,P)).token})).apply(this,arguments)}function Un(A){return ce.apply(this,arguments)}function ce(){return(ce=(0,j.Z)(function*(A){const{registrationPromise:P}=yield mr(A);P&&(yield P)})).apply(this,arguments)}function Ri(A){return $e.create("missing-app-config-values",{valueName:A})}const Ui="installations",Yn=A=>{const P=A.getProvider("app").getImmediate(),W=function dr(A){if(!A||!A.options)throw Ri("App Configuration");if(!A.name)throw Ri("App Name");const P=["projectId","apiKey","appId"];for(const W of P)if(!A.options[W])throw Ri(W);return{appName:A.name,projectId:A.options.projectId,apiKey:A.options.apiKey,appId:A.options.appId}}(P);return{app:P,appConfig:W,heartbeatServiceProvider:(0,ae._getProvider)(P,"heartbeat"),_delete:()=>Promise.resolve()}},Io=A=>{const P=A.getProvider("app").getImmediate(),W=(0,ae._getProvider)(P,Ui).getImmediate();return{getId:()=>function Me(A){return wt.apply(this,arguments)}(W),getToken:be=>function sn(A){return mn.apply(this,arguments)}(W,be)}};(function uo(){(0,ae._registerComponent)(new ge.wA(Ui,Yn,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("installations-internal",Io,"PRIVATE"))})(),(0,ae.registerVersion)(ye,ne),(0,ae.registerVersion)(ye,ne,"esm2017");const Ar="@firebase/remote-config",Qn=new ue.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Es{constructor(P,W,ee,be){this.client=P,this.storage=W,this.storageCache=ee,this.logger=be}isCachedDataFresh(P,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ee=Date.now()-W,be=ee<=P;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${P}. Is cache hit: ${be}.`),be}fetch(P){var W=this;return(0,j.Z)(function*(){const[ee,be]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(be&&W.isCachedDataFresh(P.cacheMaxAgeMillis,ee))return be;P.eTag=be&&be.eTag;const xe=yield W.client.fetch(P),it=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===xe.status&&it.push(W.storage.setLastSuccessfulFetchResponse(xe)),yield Promise.all(it),xe})()}}function xr(A=navigator){return A.languages&&A.languages[0]||A.language}class Oi{constructor(P,W,ee,be,xe,it){this.firebaseInstallations=P,this.sdkVersion=W,this.namespace=ee,this.projectId=be,this.apiKey=xe,this.appId=it}fetch(P){var W=this;return(0,j.Z)(function*(){const[ee,be]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),it=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,Nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":P.eTag||"*"},xt={sdk_version:W.sdkVersion,app_instance_id:ee,app_instance_id_token:be,app_id:W.appId,language_code:xr()},Vt={method:"POST",headers:Nt,body:JSON.stringify(xt)},On=fetch(it,Vt),Dn=new Promise((so,yo)=>{P.signal.addEventListener(()=>{const Mo=new Error("The operation was aborted.");Mo.name="AbortError",yo(Mo)})});let ss;try{yield Promise.race([On,Dn]),ss=yield On}catch(so){let yo="fetch-client-network";throw"AbortError"===so?.name&&(yo="fetch-timeout"),Qn.create(yo,{originalErrorMessage:so?.message})}let hi=ss.status;const Na=ss.headers.get("ETag")||void 0;let nl,ga;if(200===ss.status){let so;try{so=yield ss.json()}catch(yo){throw Qn.create("fetch-client-parse",{originalErrorMessage:yo?.message})}nl=so.entries,ga=so.state}if("INSTANCE_STATE_UNSPECIFIED"===ga?hi=500:"NO_CHANGE"===ga?hi=304:("NO_TEMPLATE"===ga||"EMPTY_CONFIG"===ga)&&(nl={}),304!==hi&&200!==hi)throw Qn.create("fetch-status",{httpStatus:hi});return{status:hi,eTag:Na,config:nl}})()}}class Ni{constructor(P,W){this.client=P,this.storage=W}fetch(P){var W=this;return(0,j.Z)(function*(){const ee=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(P,ee)})()}attemptFetch(P,{throttleEndTimeMillis:W,backoffCount:ee}){var be=this;return(0,j.Z)(function*(){yield function wi(A,P){return new Promise((W,ee)=>{const be=Math.max(P-Date.now(),0),xe=setTimeout(W,be);A.addEventListener(()=>{clearTimeout(xe),ee(Qn.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}(P.signal,W);try{const xe=yield be.client.fetch(P);return yield be.storage.deleteThrottleMetadata(),xe}catch(xe){if(!function Bn(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const P=Number(A.customData.httpStatus);return 429===P||500===P||503===P||504===P}(xe))throw xe;const it={throttleEndTimeMillis:Date.now()+(0,ue.$s)(ee),backoffCount:ee+1};return yield be.storage.setThrottleMetadata(it),be.attemptFetch(P,it)}})()}}class Rn{constructor(P,W,ee,be,xe){this.app=P,this._client=W,this._storageCache=ee,this._storage=be,this._logger=xe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function en(A,P){const W=A.target.error||void 0;return Qn.create(P,{originalErrorMessage:W&&W?.message})}const yr="app_namespace_store";class Tr{constructor(P,W,ee,be=function Br(){return new Promise((A,P)=>{try{const W=indexedDB.open("firebase_remote_config",1);W.onerror=ee=>{P(en(ee,"storage-open"))},W.onsuccess=ee=>{A(ee.target.result)},W.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(yr,{keyPath:"compositeKey"})}}catch(W){P(Qn.create("storage-open",{originalErrorMessage:W?.message}))}})}()){this.appId=P,this.appName=W,this.namespace=ee,this.openDbPromise=be}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(P){return this.set("last_fetch_status",P)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(P){return this.set("last_successful_fetch_timestamp_millis",P)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(P){return this.set("last_successful_fetch_response",P)}getActiveConfig(){return this.get("active_config")}setActiveConfig(P){return this.set("active_config",P)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(P){return this.set("active_config_etag",P)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(P){return this.set("throttle_metadata",P)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(P){var W=this;return(0,j.Z)(function*(){const ee=yield W.openDbPromise;return new Promise((be,xe)=>{const Nt=ee.transaction([yr],"readonly").objectStore(yr),xt=W.createCompositeKey(P);try{const Vt=Nt.get(xt);Vt.onerror=On=>{xe(en(On,"storage-get"))},Vt.onsuccess=On=>{const Dn=On.target.result;be(Dn?Dn.value:void 0)}}catch(Vt){xe(Qn.create("storage-get",{originalErrorMessage:Vt?.message}))}})})()}set(P,W){var ee=this;return(0,j.Z)(function*(){const be=yield ee.openDbPromise;return new Promise((xe,it)=>{const xt=be.transaction([yr],"readwrite").objectStore(yr),Vt=ee.createCompositeKey(P);try{const On=xt.put({compositeKey:Vt,value:W});On.onerror=Dn=>{it(en(Dn,"storage-set"))},On.onsuccess=()=>{xe()}}catch(On){it(Qn.create("storage-set",{originalErrorMessage:On?.message}))}})})()}delete(P){var W=this;return(0,j.Z)(function*(){const ee=yield W.openDbPromise;return new Promise((be,xe)=>{const Nt=ee.transaction([yr],"readwrite").objectStore(yr),xt=W.createCompositeKey(P);try{const Vt=Nt.delete(xt);Vt.onerror=On=>{xe(en(On,"storage-delete"))},Vt.onsuccess=()=>{be()}}catch(Vt){xe(Qn.create("storage-delete",{originalErrorMessage:Vt?.message}))}})})()}createCompositeKey(P){return[this.appId,this.appName,this.namespace,P].join()}}class ui{constructor(P){this.storage=P}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var P=this;return(0,j.Z)(function*(){const W=P.storage.getLastFetchStatus(),ee=P.storage.getLastSuccessfulFetchTimestampMillis(),be=P.storage.getActiveConfig(),xe=yield W;xe&&(P.lastFetchStatus=xe);const it=yield ee;it&&(P.lastSuccessfulFetchTimestampMillis=it);const Nt=yield be;Nt&&(P.activeConfig=Nt)})()}setLastFetchStatus(P){return this.lastFetchStatus=P,this.storage.setLastFetchStatus(P)}setLastSuccessfulFetchTimestampMillis(P){return this.lastSuccessfulFetchTimestampMillis=P,this.storage.setLastSuccessfulFetchTimestampMillis(P)}setActiveConfig(P){return this.activeConfig=P,this.storage.setActiveConfig(P)}}function Is(){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,j.Z)(function*(){if(!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}!function In(){(0,ae._registerComponent)(new ge.wA("remote-config",function A(P,{instanceIdentifier:W}){const ee=P.getProvider("app").getImmediate(),be=P.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qn.create("registration-window");if(!(0,ue.hl)())throw Qn.create("indexed-db-unavailable");const{projectId:xe,apiKey:it,appId:Nt}=ee.options;if(!xe)throw Qn.create("registration-project-id");if(!it)throw Qn.create("registration-api-key");if(!Nt)throw Qn.create("registration-app-id");const xt=new Tr(Nt,ee.name,W=W||"firebase"),Vt=new ui(xt),On=new Ce.Yd(Ar);On.logLevel=Ce.in.ERROR;const Dn=new Oi(be,ae.SDK_VERSION,W,xe,it,Nt),ss=new Ni(Dn,xt),hi=new Es(ss,xt,Vt,On),Na=new Rn(ee,hi,Vt,xt,On);return function ir(A){const P=(0,ue.m9)(A);P._initializePromise||(P._initializePromise=P._storageCache.loadFromStorage().then(()=>{P._isInitializationComplete=!0}))}(Na),Na},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(Ar,"0.4.1"),(0,ae.registerVersion)(Ar,"0.4.1","esm2017")}();const ri="/firebase-messaging-sw.js",Ji="/firebase-cloud-messaging-push-scope",Vi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ws="google.c.a.c_id",Cs="google.c.a.c_l",Qs="google.c.a.ts",xs="google.c.a.e";var Ci=(()=>{return(A=Ci||(Ci={})).PUSH_RECEIVED="push-received",A.NOTIFICATION_CLICKED="notification-clicked",Ci;var A})();function $i(A){const P=new Uint8Array(A);return btoa(String.fromCharCode(...P)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oa(A){const W=(A+"=".repeat((4-A.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ee=atob(W),be=new Uint8Array(ee.length);for(let xe=0;xe<ee.length;++xe)be[xe]=ee.charCodeAt(xe);return be}const Fs="fcm_token_details_db",Ir="fcm_token_object_Store";function dn(A){return Us.apply(this,arguments)}function Us(){return Us=(0,j.Z)(function*(A){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(xe=>xe.name).includes(Fs))return null;let P=null;return(yield(0,_e.X3)(Fs,5,{upgrade:(ee=(0,j.Z)(function*(be,xe,it,Nt){var xt;if(xe<2||!be.objectStoreNames.contains(Ir))return;const Vt=Nt.objectStore(Ir),On=yield Vt.index("fcmSenderId").get(A);if(yield Vt.clear(),On)if(2===xe){const Dn=On;if(!Dn.auth||!Dn.p256dh||!Dn.endpoint)return;P={token:Dn.fcmToken,createTime:null!==(xt=Dn.createTime)&&void 0!==xt?xt:Date.now(),subscriptionOptions:{auth:Dn.auth,p256dh:Dn.p256dh,endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:"string"==typeof Dn.vapidKey?Dn.vapidKey:$i(Dn.vapidKey)}}}else if(3===xe){const Dn=On;P={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:$i(Dn.auth),p256dh:$i(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:$i(Dn.vapidKey)}}}else if(4===xe){const Dn=On;P={token:Dn.fcmToken,createTime:Dn.createTime,subscriptionOptions:{auth:$i(Dn.auth),p256dh:$i(Dn.p256dh),endpoint:Dn.endpoint,swScope:Dn.swScope,vapidKey:$i(Dn.vapidKey)}}}}),function(xe,it,Nt,xt){return ee.apply(this,arguments)})})).close(),yield(0,_e.Lj)(Fs),yield(0,_e.Lj)("fcm_vapid_details_db"),yield(0,_e.Lj)("undefined"),bs(P)?P:null;var ee}),Us.apply(this,arguments)}function bs(A){if(!A||!A.subscriptionOptions)return!1;const{subscriptionOptions:P}=A;return"number"==typeof A.createTime&&A.createTime>0&&"string"==typeof A.token&&A.token.length>0&&"string"==typeof P.auth&&P.auth.length>0&&"string"==typeof P.p256dh&&P.p256dh.length>0&&"string"==typeof P.endpoint&&P.endpoint.length>0&&"string"==typeof P.swScope&&P.swScope.length>0&&"string"==typeof P.vapidKey&&P.vapidKey.length>0}const bi="firebase-messaging-store";let ci=null;function Ts(){return ci||(ci=(0,_e.X3)("firebase-messaging-database",1,{upgrade:(A,P)=>{0===P&&A.createObjectStore(bi)}})),ci}function Pr(A){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,j.Z)(function*(A){const P=Xi(A),ee=yield(yield Ts()).transaction(bi).objectStore(bi).get(P);if(ee)return ee;{const be=yield dn(A.appConfig.senderId);if(be)return yield Hi(A,be),be}})).apply(this,arguments)}function Hi(A,P){return ji.apply(this,arguments)}function ji(){return(ji=(0,j.Z)(function*(A,P){const W=Xi(A),be=(yield Ts()).transaction(bi,"readwrite");return yield be.objectStore(bi).put(P,W),yield be.done,P})).apply(this,arguments)}function Do(A){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,j.Z)(function*(A){const P=Xi(A),ee=(yield Ts()).transaction(bi,"readwrite");yield ee.objectStore(bi).delete(P),yield ee.done})).apply(this,arguments)}function Xi({appConfig:A}){return A.appId}const Xn=new ue.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Xs(A,P){return er.apply(this,arguments)}function er(){return(er=(0,j.Z)(function*(A,P){const W=yield fi(A),ee=Ss(P),be={method:"POST",headers:W,body:JSON.stringify(ee)};let xe;try{xe=yield(yield fetch(Vr(A.appConfig),be)).json()}catch(it){throw Xn.create("token-subscribe-failed",{errorInfo:it?.toString()})}if(xe.error)throw Xn.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw Xn.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function ii(A,P){return es.apply(this,arguments)}function es(){return(es=(0,j.Z)(function*(A,P){const W=yield fi(A),ee=Ss(P.subscriptionOptions),be={method:"PATCH",headers:W,body:JSON.stringify(ee)};let xe;try{xe=yield(yield fetch(`${Vr(A.appConfig)}/${P.token}`,be)).json()}catch(it){throw Xn.create("token-update-failed",{errorInfo:it?.toString()})}if(xe.error)throw Xn.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw Xn.create("token-update-no-token");return xe.token})).apply(this,arguments)}function or(A,P){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,j.Z)(function*(A,P){const ee={method:"DELETE",headers:yield fi(A)};try{const xe=yield(yield fetch(`${Vr(A.appConfig)}/${P}`,ee)).json();if(xe.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(be){throw Xn.create("token-unsubscribe-failed",{errorInfo:be?.toString()})}})).apply(this,arguments)}function Vr({projectId:A}){return`https://fcmregistrations.googleapis.com/v1/projects/${A}/registrations`}function fi(A){return hr.apply(this,arguments)}function hr(){return(hr=(0,j.Z)(function*({appConfig:A,installations:P}){const W=yield P.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":A.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Ss({p256dh:A,auth:P,endpoint:W,vapidKey:ee}){const be={web:{endpoint:W,auth:P,p256dh:A}};return ee!==Vi&&(be.web.applicationPubKey=ee),be}const Ti=6048e5;function $r(A){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,j.Z)(function*(A){const P=yield wo(A.swRegistration,A.vapidKey),W={vapidKey:A.vapidKey,swScope:A.swRegistration.scope,endpoint:P.endpoint,auth:$i(P.getKey("auth")),p256dh:$i(P.getKey("p256dh"))},ee=yield Pr(A.firebaseDependencies);if(ee){if(to(ee.subscriptionOptions,W))return Date.now()>=ee.createTime+Ti?Ut(A,{token:ee.token,createTime:Date.now(),subscriptionOptions:W}):ee.token;try{yield or(A.firebaseDependencies,ee.token)}catch(be){console.warn(be)}return ar(A.firebaseDependencies,W)}return ar(A.firebaseDependencies,W)})).apply(this,arguments)}function Zt(A){return eo.apply(this,arguments)}function eo(){return(eo=(0,j.Z)(function*(A){const P=yield Pr(A.firebaseDependencies);P&&(yield or(A.firebaseDependencies,P.token),yield Do(A.firebaseDependencies));const W=yield A.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Ut(A,P){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,j.Z)(function*(A,P){try{const W=yield ii(A.firebaseDependencies,P),ee=Object.assign(Object.assign({},P),{token:W,createTime:Date.now()});return yield Hi(A.firebaseDependencies,ee),W}catch(W){throw yield Zt(A),W}})).apply(this,arguments)}function ar(A,P){return As.apply(this,arguments)}function As(){return(As=(0,j.Z)(function*(A,P){const ee={token:yield Xs(A,P),createTime:Date.now(),subscriptionOptions:P};return yield Hi(A,ee),ee.token})).apply(this,arguments)}function wo(A,P){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,j.Z)(function*(A,P){return(yield A.pushManager.getSubscription())||A.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oa(P)})})).apply(this,arguments)}function to(A,P){return P.vapidKey===A.vapidKey&&P.endpoint===A.endpoint&&P.auth===A.auth&&P.p256dh===A.p256dh}function $s(A){const P={from:A.from,collapseKey:A.collapse_key,messageId:A.fcmMessageId};return function Hs(A,P){if(!P.notification)return;A.notification={};const W=P.notification.title;W&&(A.notification.title=W);const ee=P.notification.body;ee&&(A.notification.body=ee);const be=P.notification.image;be&&(A.notification.image=be);const xe=P.notification.icon;xe&&(A.notification.icon=xe)}(P,A),function He(A,P){P.data&&(A.data=P.data)}(P,A),function Sn(A,P){var W,ee,be,xe,it;if(!(P.fcmOptions||null!==(W=P.notification)&&void 0!==W&&W.click_action))return;A.fcmOptions={};const Nt=null!==(be=null===(ee=P.fcmOptions)||void 0===ee?void 0:ee.link)&&void 0!==be?be:null===(xe=P.notification)||void 0===xe?void 0:xe.click_action;Nt&&(A.fcmOptions.link=Nt);const xt=null===(it=P.fcmOptions)||void 0===it?void 0:it.analytics_label;xt&&(A.fcmOptions.analyticsLabel=xt)}(P,A),P}function ts(A){return"object"==typeof A&&!!A&&ws in A}function ki(A,P){const W=[];for(let ee=0;ee<A.length;ee++)W.push(A.charAt(ee)),ee<P.length&&W.push(P.charAt(ee));return W.join("")}function fs(A){return Xn.create("missing-app-config-values",{valueName:A})}ki("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ki("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ho{constructor(P,W,ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const be=function Hr(A){if(!A||!A.options)throw fs("App Configuration Object");if(!A.name)throw fs("App Name");const P=["projectId","apiKey","appId","messagingSenderId"],{options:W}=A;for(const ee of P)if(!W[ee])throw fs(ee);return{appName:A.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(P);this.firebaseDependencies={app:P,appConfig:be,installations:W,analyticsProvider:ee}}_delete(){return Promise.resolve()}}function pi(A){return fo.apply(this,arguments)}function fo(){return(fo=(0,j.Z)(function*(A){try{A.swRegistration=yield navigator.serviceWorker.register(ri,{scope:Ji}),A.swRegistration.update().catch(()=>{})}catch(P){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:P?.message})}})).apply(this,arguments)}function js(A,P){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,j.Z)(function*(A,P){if(!P&&!A.swRegistration&&(yield pi(A)),P||!A.swRegistration){if(!(P instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");A.swRegistration=P}})).apply(this,arguments)}function Ws(A,P){return zs.apply(this,arguments)}function zs(){return(zs=(0,j.Z)(function*(A,P){P?A.vapidKey=P:A.vapidKey||(A.vapidKey=Vi)})).apply(this,arguments)}function di(){return(di=(0,j.Z)(function*(A,P){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield Ws(A,P?.vapidKey),yield js(A,P?.serviceWorkerRegistration),$r(A)})).apply(this,arguments)}function zi(A,P,W){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,j.Z)(function*(A,P,W){const ee=xi(P);(yield A.firebaseDependencies.analyticsProvider.get()).logEvent(ee,{message_id:W[ws],message_name:W[Cs],message_time:W[Qs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function xi(A){switch(A){case Ci.NOTIFICATION_CLICKED:return"notification_open";case Ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function si(){return(si=(0,j.Z)(function*(A,P){const W=P.data;if(!W.isFirebaseMessaging)return;A.onMessageHandler&&W.messageType===Ci.PUSH_RECEIVED&&("function"==typeof A.onMessageHandler?A.onMessageHandler($s(W)):A.onMessageHandler.next($s(W)));const ee=W.data;ts(ee)&&"1"===ee[xs]&&(yield zi(A,W.messageType,ee))})).apply(this,arguments)}const U="@firebase/messaging",m="0.12.1",E=A=>{const P=new ho(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),A.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function ns(A,P){return si.apply(this,arguments)}(P,W)),P},M=A=>{const P=A.getProvider("messaging").getImmediate();return{getToken:ee=>function fr(A,P){return di.apply(this,arguments)}(P,ee)}};function q(){return oe.apply(this,arguments)}function oe(){return(oe=(0,j.Z)(function*(){try{yield(0,ue.eu)()}catch{return!1}return typeof window<"u"&&(0,ue.hl)()&&(0,ue.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function B(){(0,ae._registerComponent)(new ge.wA("messaging",E,"PUBLIC")),(0,ae._registerComponent)(new ge.wA("messaging-internal",M,"PRIVATE")),(0,ae.registerVersion)(U,m),(0,ae.registerVersion)(U,m,"esm2017")}();const Gt="analytics",Yt="firebase_id",lr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Or="https://www.googletagmanager.com/gtag/js",Dr=new Ce.Yd("@firebase/analytics");function gi(A){return Promise.all(A.map(P=>P.catch(W=>W)))}function Ur(A,P){const W=document.createElement("script");W.src=`${Or}?l=${A}&id=${P}`,W.async=!0,document.head.appendChild(W)}function qr(A,P,W,ee,be,xe){return C.apply(this,arguments)}function C(){return(C=(0,j.Z)(function*(A,P,W,ee,be,xe){const it=ee[be];try{if(it)yield P[it];else{const xt=(yield gi(W)).find(Vt=>Vt.measurementId===be);xt&&(yield P[xt.appId])}}catch(Nt){Dr.error(Nt)}A("config",be,xe)})).apply(this,arguments)}function L(A,P,W,ee,be){return S.apply(this,arguments)}function S(){return(S=(0,j.Z)(function*(A,P,W,ee,be){try{let xe=[];if(be&&be.send_to){let it=be.send_to;Array.isArray(it)||(it=[it]);const Nt=yield gi(W);for(const xt of it){const Vt=Nt.find(Dn=>Dn.measurementId===xt),On=Vt&&P[Vt.appId];if(!On){xe=[];break}xe.push(On)}}0===xe.length&&(xe=Object.values(P)),yield Promise.all(xe),A("event",ee,be||{})}catch(xe){Dr.error(xe)}})).apply(this,arguments)}function ke(A){const P=window.document.getElementsByTagName("script");for(const W of Object.values(P))if(W.src&&W.src.includes(Or)&&W.src.includes(A))return W;return null}const ze=new ue.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),jt=new class Ht{constructor(P={},W=1e3){this.throttleMetadata=P,this.intervalMillis=W}getThrottleMetadata(P){return this.throttleMetadata[P]}setThrottleMetadata(P,W){this.throttleMetadata[P]=W}deleteThrottleMetadata(P){delete this.throttleMetadata[P]}};function kn(A){return new Headers({Accept:"application/json","x-goog-api-key":A})}function En(A){return fn.apply(this,arguments)}function fn(){return(fn=(0,j.Z)(function*(A){var P;const{appId:W,apiKey:ee}=A,be={method:"GET",headers:kn(ee)},xe=lr.replace("{app-id}",W),it=yield fetch(xe,be);if(200!==it.status&&304!==it.status){let Nt="";try{const xt=yield it.json();null!==(P=xt.error)&&void 0!==P&&P.message&&(Nt=xt.error.message)}catch{}throw ze.create("config-fetch-failed",{httpStatus:it.status,responseMessage:Nt})}return it.json()})).apply(this,arguments)}function Pn(A){return oi.apply(this,arguments)}function oi(){return(oi=(0,j.Z)(function*(A,P=jt,W){const{appId:ee,apiKey:be,measurementId:xe}=A.options;if(!ee)throw ze.create("no-app-id");if(!be){if(xe)return{measurementId:xe,appId:ee};throw ze.create("no-api-key")}const it=P.getThrottleMetadata(ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Nt=new ps;return setTimeout((0,j.Z)(function*(){Nt.abort()}),void 0!==W?W:6e4),tr({appId:ee,apiKey:be,measurementId:xe},it,Nt,P)})).apply(this,arguments)}function tr(A,P,W){return wr.apply(this,arguments)}function wr(){return(wr=(0,j.Z)(function*(A,{throttleEndTimeMillis:P,backoffCount:W},ee,be=jt){var xe;const{appId:it,measurementId:Nt}=A;try{yield Cr(ee,P)}catch(xt){if(Nt)return Dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${xt?.message}]`),{appId:it,measurementId:Nt};throw xt}try{const xt=yield En(A);return be.deleteThrottleMetadata(it),xt}catch(xt){const Vt=xt;if(!Zi(Vt)){if(be.deleteThrottleMetadata(it),Nt)return Dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Nt} provided in the "measurementId" field in the local Firebase config. [${Vt?.message}]`),{appId:it,measurementId:Nt};throw xt}const On=503===Number(null===(xe=Vt?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,ue.$s)(W,be.intervalMillis,30):(0,ue.$s)(W,be.intervalMillis),Dn={throttleEndTimeMillis:Date.now()+On,backoffCount:W+1};return be.setThrottleMetadata(it,Dn),Dr.debug(`Calling attemptFetch again in ${On} millis`),tr(A,Dn,ee,be)}})).apply(this,arguments)}function Cr(A,P){return new Promise((W,ee)=>{const be=Math.max(P-Date.now(),0),xe=setTimeout(W,be);A.addEventListener(()=>{clearTimeout(xe),ee(ze.create("fetch-throttle",{throttleEndTimeMillis:P}))})})}function Zi(A){if(!(A instanceof ue.ZR&&A.customData))return!1;const P=Number(A.customData.httpStatus);return 429===P||500===P||503===P||504===P}class ps{constructor(){this.listeners=[]}addEventListener(P){this.listeners.push(P)}abort(){this.listeners.forEach(P=>P())}}let Ko,go;function no(){return(no=(0,j.Z)(function*(A,P,W,ee,be){if(be&&be.global)A("event",W,ee);else{const xe=yield P;A("event",W,Object.assign(Object.assign({},ee),{send_to:xe}))}})).apply(this,arguments)}function To(A){go=A}function aa(A){Ko=A}function mi(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,j.Z)(function*(){if(!(0,ue.hl)())return Dr.warn(ze.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ue.eu)()}catch(A){return Dr.warn(ze.create("indexeddb-unavailable",{errorInfo:A?.toString()}).message),!1}return!0})).apply(this,arguments)}function la(){return(la=(0,j.Z)(function*(A,P,W,ee,be,xe,it){var Nt;const xt=Pn(A);xt.then(hi=>{W[hi.measurementId]=hi.appId,A.options.measurementId&&hi.measurementId!==A.options.measurementId&&Dr.warn(`The measurement ID in the local Firebase config (${A.options.measurementId}) does not match the measurement ID fetched from the server (${hi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(hi=>Dr.error(hi)),P.push(xt);const Vt=mi().then(hi=>{if(hi)return ee.getId()}),[On,Dn]=yield Promise.all([xt,Vt]);ke(xe)||Ur(xe,On.measurementId),go&&(be("consent","default",go),To(void 0)),be("js",new Date);const ss=null!==(Nt=it?.config)&&void 0!==Nt?Nt:{};return ss.origin="firebase",ss.update=!0,null!=Dn&&(ss[Yt]=Dn),be("config",On.measurementId,ss),Ko&&(be("set",Ko),aa(void 0)),On.measurementId})).apply(this,arguments)}class Za{constructor(P){this.app=P}_delete(){return delete gs[this.app.options.appId],Promise.resolve()}}let gs={},Qo=[];const ua={};let ca,Si,Ms="dataLayer",is=!1;function Xo(A,P,W){!function ro(){const A=[];if((0,ue.ru)()&&A.push("This is a browser extension environment."),(0,ue.zI)()||A.push("Cookies are not available."),A.length>0){const P=A.map((ee,be)=>`(${be+1}) ${ee}`).join(" "),W=ze.create("invalid-analytics-context",{errorInfo:P});Dr.warn(W.message)}}();const ee=A.options.appId;if(!ee)throw ze.create("no-app-id");if(!A.options.apiKey){if(!A.options.measurementId)throw ze.create("no-api-key");Dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${A.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=gs[ee])throw ze.create("already-exists",{id:ee});if(!is){!function Ki(A){let P=[];Array.isArray(window[A])?P=window[A]:window[A]=P}(Ms);const{wrappedGtag:xe,gtagCore:it}=function X(A,P,W,ee,be){let xe=function(...it){window[ee].push(arguments)};return window[be]&&"function"==typeof window[be]&&(xe=window[be]),window[be]=function V(A,P,W,ee){function xe(){return(xe=(0,j.Z)(function*(it,Nt,xt){try{"event"===it?yield L(A,P,W,Nt,xt):"config"===it?yield qr(A,P,W,ee,Nt,xt):"consent"===it?A("consent","update",xt):A("set",Nt)}catch(Vt){Dr.error(Vt)}})).apply(this,arguments)}return function be(it,Nt,xt){return xe.apply(this,arguments)}}(xe,A,P,W),{gtagCore:xe,wrappedGtag:window[be]}}(gs,Qo,ua,Ms,"gtag");Si=xe,ca=it,is=!0}return gs[ee]=function Gs(A,P,W,ee,be,xe,it){return la.apply(this,arguments)}(A,Qo,ua,P,ca,Ms,W),new Za(A)}function Ya(){return io.apply(this,arguments)}function io(){return(io=(0,j.Z)(function*(){if((0,ue.ru)()||!(0,ue.zI)()||!(0,ue.hl)())return!1;try{return yield(0,ue.eu)()}catch{return!1}})).apply(this,arguments)}const pr="@firebase/analytics";!function da(){(0,ae._registerComponent)(new ge.wA(Gt,(P,{options:W})=>Xo(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,ae._registerComponent)(new ge.wA("analytics-internal",function A(P){try{const W=P.getProvider(Gt).getImmediate();return{logEvent:(ee,be,xe)=>function Ja(A,P,W,ee){A=(0,ue.m9)(A),function Zo(A,P,W,ee,be){return no.apply(this,arguments)}(Si,gs[A.app.options.appId],P,W,ee).catch(be=>Dr.error(be))}(W,ee,be,xe)}}catch(W){throw ze.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,ae.registerVersion)(pr,"0.9.1"),(0,ae.registerVersion)(pr,"0.9.1","esm2017")}();var el=F(4408),Ma=F(7565);const tl=new class Ra extends Ma.v{}(class ha extends el.o{constructor(P,W){super(P,W),this.scheduler=P,this.work=W}schedule(P,W=0){return W>0?super.schedule(P,W):(this.delay=W,this.state=P,this.scheduler.flush(this),this)}execute(P,W){return W>0||this.closed?super.execute(P,W):this._execute(P,W)}requestAsyncId(P,W,ee=0){return null!=ee&&ee>0||null==ee&&this.delay>0?super.requestAsyncId(P,W,ee):(P.flush(this),0)}});var pa=F(4986),ta=F(8505),br=F(9468),na=F(5363);const Ao=new y.GfV("7.5.0"),Ks="__angularfire_symbol__analyticsIsSupportedValue",Yi="__angularfire_symbol__analyticsIsSupported",_="__angularfire_symbol__remoteConfigIsSupportedValue",I="__angularfire_symbol__remoteConfigIsSupported",f="__angularfire_symbol__messagingIsSupportedValue",b="__angularfire_symbol__messagingIsSupported";function Ge(A,P,W){if(P){if(1===P.length)return P[0];const xe=P.filter(it=>it.app===W);if(1===xe.length)return xe[0]}return W.container.getProvider(A).getImmediate({optional:!0})}globalThis[Yi]||(globalThis[Yi]=Ya().then(A=>globalThis[Ks]=A).catch(()=>globalThis[Ks]=!1)),globalThis[b]||(globalThis[b]=q().then(A=>globalThis[f]=A).catch(()=>globalThis[f]=!1)),globalThis[I]||(globalThis[I]=Is().then(A=>globalThis[_]=A).catch(()=>globalThis[_]=!1));const Ct=(A,P)=>{const W=P?[P]:(0,$.C6)(),ee=[];return W.forEach(be=>{be.container.getProvider(A).instances.forEach(it=>{ee.includes(it)||ee.push(it)})}),ee};function dt(){}class Ln{constructor(P,W=tl){this.zone=P,this.delegate=W}now(){return this.delegate.now()}schedule(P,W,ee){const be=this.zone;return this.delegate.schedule(function(it){be.runGuarded(()=>{P.apply(this,[it])})},W,ee)}}class ai{constructor(P){this.zone=P,this.task=null}call(P,W){const ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",dt,{},dt,dt)),W.pipe((0,ta.b)({next:ee,complete:ee,error:ee})).subscribe(P).add(ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let mo=(()=>{class A{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Ln(Zone.current)),this.insideAngular=W.run(()=>new Ln(Zone.current,pa.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return A.\u0275fac=function(W){return new(W||A)(y.LFG(y.R0b))},A.\u0275prov=y.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})();function _i(){const A=globalThis.\u0275AngularFireScheduler;if(!A)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return A}function _o(A){return _i(),function Pa(A){return function(W){return(W=W.lift(new ai(A.ngZone))).pipe((0,br.R)(A.outsideAngular),(0,na.Q)(A.insideAngular))}}(_i())(A)}},2090:(ft,Pe,F)=>{F.d(Pe,{$s:()=>_t,BH:()=>fe,DV:()=>Wr,Dv:()=>Dt,GJ:()=>vi,L:()=>_e,LL:()=>pn,Pz:()=>Se,Sg:()=>Fe,UG:()=>N,UI:()=>An,US:()=>ge,Wj:()=>Zn,Wl:()=>ln,Yr:()=>ot,ZB:()=>re,ZR:()=>Ot,aH:()=>Je,b$:()=>ve,cI:()=>Rt,dS:()=>Nn,eu:()=>jn,g5:()=>j,gK:()=>zn,gQ:()=>mr,h$:()=>Ce,hl:()=>Cn,hu:()=>$,jU:()=>Be,lb:()=>Ei,m9:()=>Xt,ne:()=>Qi,p$:()=>ne,pd:()=>un,r3:()=>gr,ru:()=>pe,tV:()=>ye,uI:()=>nt,ug:()=>ei,vZ:()=>rn,w1:()=>Oe,w9:()=>gn,xO:()=>zr,xb:()=>rr,z$:()=>et,zI:()=>Qt,zd:()=>Xr});const $=function(se,te){if(!se)throw j(te)},j=function(se){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+se)},ae=function(se){const te=[];let me=0;for(let je=0;je<se.length;je++){let Me=se.charCodeAt(je);Me<128?te[me++]=Me:Me<2048?(te[me++]=Me>>6|192,te[me++]=63&Me|128):55296==(64512&Me)&&je+1<se.length&&56320==(64512&se.charCodeAt(je+1))?(Me=65536+((1023&Me)<<10)+(1023&se.charCodeAt(++je)),te[me++]=Me>>18|240,te[me++]=Me>>12&63|128,te[me++]=Me>>6&63|128,te[me++]=63&Me|128):(te[me++]=Me>>12|224,te[me++]=Me>>6&63|128,te[me++]=63&Me|128)}return te},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,te){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=te?this.byteToCharMapWebSafe_:this.byteToCharMap_,je=[];for(let Me=0;Me<se.length;Me+=3){const wt=se[Me],sn=Me+1<se.length,mn=sn?se[Me+1]:0,Un=Me+2<se.length,ce=Un?se[Me+2]:0;let De=(15&mn)<<2|ce>>6,Xe=63&ce;Un||(Xe=64,sn||(De=64)),je.push(me[wt>>2],me[(3&wt)<<4|mn>>4],me[De],me[Xe])}return je.join("")},encodeString(se,te){return this.HAS_NATIVE_SUPPORT&&!te?btoa(se):this.encodeByteArray(ae(se),te)},decodeString(se,te){return this.HAS_NATIVE_SUPPORT&&!te?atob(se):function(se){const te=[];let me=0,je=0;for(;me<se.length;){const Me=se[me++];if(Me<128)te[je++]=String.fromCharCode(Me);else if(Me>191&&Me<224){const wt=se[me++];te[je++]=String.fromCharCode((31&Me)<<6|63&wt)}else if(Me>239&&Me<365){const Un=((7&Me)<<18|(63&se[me++])<<12|(63&se[me++])<<6|63&se[me++])-65536;te[je++]=String.fromCharCode(55296+(Un>>10)),te[je++]=String.fromCharCode(56320+(1023&Un))}else{const wt=se[me++],sn=se[me++];te[je++]=String.fromCharCode((15&Me)<<12|(63&wt)<<6|63&sn)}}return te.join("")}(this.decodeStringToByteArray(se,te))},decodeStringToByteArray(se,te){this.init_();const me=te?this.charToByteMapWebSafe_:this.charToByteMap_,je=[];for(let Me=0;Me<se.length;){const wt=me[se.charAt(Me++)],mn=Me<se.length?me[se.charAt(Me)]:0;++Me;const ce=Me<se.length?me[se.charAt(Me)]:64;++Me;const Q=Me<se.length?me[se.charAt(Me)]:64;if(++Me,null==wt||null==mn||null==ce||null==Q)throw Error();je.push(wt<<2|mn>>4),64!==ce&&(je.push(mn<<4&240|ce>>2),64!==Q&&je.push(ce<<6&192|Q))}return je},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},Ce=function(se){const te=ae(se);return ge.encodeByteArray(te,!0)},_e=function(se){return Ce(se).replace(/\./g,"")},ye=function(se){try{return ge.decodeString(se,!0)}catch(te){console.error("base64Decode failed: ",te)}return null};function ne(se){return re(void 0,se)}function re(se,te){if(!(te instanceof Object))return te;switch(te.constructor){case Date:return new Date(te.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return te}for(const me in te)!te.hasOwnProperty(me)||!de(me)||(se[me]=re(se[me],te[me]));return se}function de(se){return"__proto__"!==se}const Le=()=>{try{return function Qe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const se=process.env.__FIREBASE_DEFAULTS__;return se?JSON.parse(se):void 0})()||(()=>{if(typeof document>"u")return;let se;try{se=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const te=se&&ye(se[1]);return te&&JSON.parse(te)})()}catch(se){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${se}`)}},Je=()=>{var se;return null===(se=Le())||void 0===se?void 0:se.config},Se=se=>{var te;return null===(te=Le())||void 0===te?void 0:te[`_${se}`]};class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((te,me)=>{this.resolve=te,this.reject=me})}wrapCallback(te){return(me,je)=>{me?this.reject(me):this.resolve(je),"function"==typeof te&&(this.promise.catch(()=>{}),1===te.length?te(me):te(me,je))}}}function Fe(se,te){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je=te||"demo-project",Me=se.iat||0,wt=se.sub||se.user_id;if(!wt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const sn=Object.assign({iss:`https://securetoken.google.com/${je}`,aud:je,iat:Me,exp:Me+3600,auth_time:Me,sub:wt,user_id:wt,firebase:{sign_in_provider:"custom",identities:{}}},se);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(sn)),""].join(".")}function et(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(et())}function N(){var se;const te=null===(se=Le())||void 0===se?void 0:se.forceEnvironment;if("node"===te)return!0;if("browser"===te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Be(){return"object"==typeof self&&self.self===self}function pe(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){const se=et();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function ot(){return!1}function Cn(){try{return"object"==typeof indexedDB}catch{return!1}}function jn(){return new Promise((se,te)=>{try{let me=!0;const je="validate-browser-context-for-indexeddb-analytics-module",Me=self.indexedDB.open(je);Me.onsuccess=()=>{Me.result.close(),me||self.indexedDB.deleteDatabase(je),se(!0)},Me.onupgradeneeded=()=>{me=!1},Me.onerror=()=>{var wt;te((null===(wt=Me.error)||void 0===wt?void 0:wt.message)||"")}}catch(me){te(me)}})}function Qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ot extends Error{constructor(te,me,je){super(me),this.code=te,this.customData=je,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pn.prototype.create)}}class pn{constructor(te,me,je){this.service=te,this.serviceName=me,this.errors=je}create(te,...me){const je=me[0]||{},Me=`${this.service}/${te}`,wt=this.errors[te],sn=wt?function ur(se,te){return se.replace(kt,(me,je)=>{const Me=te[je];return null!=Me?String(Me):`<${je}?>`})}(wt,je):"Error";return new Ot(Me,`${this.serviceName}: ${sn} (${Me}).`,je)}}const kt=/\{\$([^}]+)}/g;function Rt(se){return JSON.parse(se)}function ln(se){return JSON.stringify(se)}const cr=function(se){let te={},me={},je={},Me="";try{const wt=se.split(".");te=Rt(ye(wt[0])||""),me=Rt(ye(wt[1])||""),Me=wt[2],je=me.d||{},delete me.d}catch{}return{header:te,claims:me,data:je,signature:Me}},gn=function(se){const me=cr(se).claims;return!!me&&"object"==typeof me&&me.hasOwnProperty("iat")},vi=function(se){const te=cr(se).claims;return"object"==typeof te&&!0===te.admin};function gr(se,te){return Object.prototype.hasOwnProperty.call(se,te)}function Wr(se,te){if(Object.prototype.hasOwnProperty.call(se,te))return se[te]}function rr(se){for(const te in se)if(Object.prototype.hasOwnProperty.call(se,te))return!1;return!0}function An(se,te,me){const je={};for(const Me in se)Object.prototype.hasOwnProperty.call(se,Me)&&(je[Me]=te.call(me,se[Me],Me,se));return je}function rn(se,te){if(se===te)return!0;const me=Object.keys(se),je=Object.keys(te);for(const Me of me){if(!je.includes(Me))return!1;const wt=se[Me],sn=te[Me];if(Wn(wt)&&Wn(sn)){if(!rn(wt,sn))return!1}else if(wt!==sn)return!1}for(const Me of je)if(!me.includes(Me))return!1;return!0}function Wn(se){return null!==se&&"object"==typeof se}function zr(se){const te=[];for(const[me,je]of Object.entries(se))Array.isArray(je)?je.forEach(Me=>{te.push(encodeURIComponent(me)+"="+encodeURIComponent(Me))}):te.push(encodeURIComponent(me)+"="+encodeURIComponent(je));return te.length?"&"+te.join("&"):""}function Xr(se){const te={};return se.replace(/^\?/,"").split("&").forEach(je=>{if(je){const[Me,wt]=je.split("=");te[decodeURIComponent(Me)]=decodeURIComponent(wt)}}),te}function un(se){const te=se.indexOf("?");if(!te)return"";const me=se.indexOf("#",te);return se.substring(te,me>0?me:void 0)}class mr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let te=1;te<this.blockSize;++te)this.pad_[te]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(te,me){me||(me=0);const je=this.W_;if("string"==typeof te)for(let Q=0;Q<16;Q++)je[Q]=te.charCodeAt(me)<<24|te.charCodeAt(me+1)<<16|te.charCodeAt(me+2)<<8|te.charCodeAt(me+3),me+=4;else for(let Q=0;Q<16;Q++)je[Q]=te[me]<<24|te[me+1]<<16|te[me+2]<<8|te[me+3],me+=4;for(let Q=16;Q<80;Q++){const De=je[Q-3]^je[Q-8]^je[Q-14]^je[Q-16];je[Q]=4294967295&(De<<1|De>>>31)}let ce,he,Me=this.chain_[0],wt=this.chain_[1],sn=this.chain_[2],mn=this.chain_[3],Un=this.chain_[4];for(let Q=0;Q<80;Q++){Q<40?Q<20?(ce=mn^wt&(sn^mn),he=1518500249):(ce=wt^sn^mn,he=1859775393):Q<60?(ce=wt&sn|mn&(wt|sn),he=2400959708):(ce=wt^sn^mn,he=3395469782);const De=(Me<<5|Me>>>27)+ce+Un+he+je[Q]&4294967295;Un=mn,mn=sn,sn=4294967295&(wt<<30|wt>>>2),wt=Me,Me=De}this.chain_[0]=this.chain_[0]+Me&4294967295,this.chain_[1]=this.chain_[1]+wt&4294967295,this.chain_[2]=this.chain_[2]+sn&4294967295,this.chain_[3]=this.chain_[3]+mn&4294967295,this.chain_[4]=this.chain_[4]+Un&4294967295}update(te,me){if(null==te)return;void 0===me&&(me=te.length);const je=me-this.blockSize;let Me=0;const wt=this.buf_;let sn=this.inbuf_;for(;Me<me;){if(0===sn)for(;Me<=je;)this.compress_(te,Me),Me+=this.blockSize;if("string"==typeof te){for(;Me<me;)if(wt[sn]=te.charCodeAt(Me),++sn,++Me,sn===this.blockSize){this.compress_(wt),sn=0;break}}else for(;Me<me;)if(wt[sn]=te[Me],++sn,++Me,sn===this.blockSize){this.compress_(wt),sn=0;break}}this.inbuf_=sn,this.total_+=me}digest(){const te=[];let me=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Me=this.blockSize-1;Me>=56;Me--)this.buf_[Me]=255&me,me/=256;this.compress_(this.buf_);let je=0;for(let Me=0;Me<5;Me++)for(let wt=24;wt>=0;wt-=8)te[je]=this.chain_[Me]>>wt&255,++je;return te}}function Qi(se,te){const me=new Jt(se,te);return me.subscribe.bind(me)}class Jt{constructor(te,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{te(this)}).catch(je=>{this.error(je)})}next(te){this.forEachObserver(me=>{me.next(te)})}error(te){this.forEachObserver(me=>{me.error(te)}),this.close(te)}complete(){this.forEachObserver(te=>{te.complete()}),this.close()}subscribe(te,me,je){let Me;if(void 0===te&&void 0===me&&void 0===je)throw new Error("Missing Observer.");Me=function Ft(se,te){if("object"!=typeof se||null===se)return!1;for(const me of te)if(me in se&&"function"==typeof se[me])return!0;return!1}(te,["next","error","complete"])?te:{next:te,error:me,complete:je},void 0===Me.next&&(Me.next=Nr),void 0===Me.error&&(Me.error=Nr),void 0===Me.complete&&(Me.complete=Nr);const wt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Me.error(this.finalError):Me.complete()}catch{}}),this.observers.push(Me),wt}unsubscribeOne(te){void 0===this.observers||void 0===this.observers[te]||(delete this.observers[te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(te){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,te)}sendOne(te,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[te])try{me(this.observers[te])}catch(je){typeof console<"u"&&console.error&&console.error(je)}})}close(te){this.finalized||(this.finalized=!0,void 0!==te&&(this.finalError=te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nr(){}const Dt=function(se,te,me,je){let Me;if(je<te?Me="at least "+te:je>me&&(Me=0===me?"none":"no more than "+me),Me)throw new Error(se+" failed: Was called with "+je+(1===je?" argument.":" arguments.")+" Expects "+Me+".")};function zn(se,te){return`${se} failed: ${te} argument `}function Zn(se,te,me,je){if((!je||me)&&"function"!=typeof me)throw new Error(zn(se,te)+"must be a valid function.")}function Ei(se,te,me,je){if((!je||me)&&("object"!=typeof me||null===me))throw new Error(zn(se,te)+"must be a valid context object.")}const Nn=function(se){const te=[];let me=0;for(let je=0;je<se.length;je++){let Me=se.charCodeAt(je);if(Me>=55296&&Me<=56319){const wt=Me-55296;je++,$(je<se.length,"Surrogate pair missing trail surrogate."),Me=65536+(wt<<10)+(se.charCodeAt(je)-56320)}Me<128?te[me++]=Me:Me<2048?(te[me++]=Me>>6|192,te[me++]=63&Me|128):Me<65536?(te[me++]=Me>>12|224,te[me++]=Me>>6&63|128,te[me++]=63&Me|128):(te[me++]=Me>>18|240,te[me++]=Me>>12&63|128,te[me++]=Me>>6&63|128,te[me++]=63&Me|128)}return te},ei=function(se){let te=0;for(let me=0;me<se.length;me++){const je=se.charCodeAt(me);je<128?te++:je<2048?te+=2:je>=55296&&je<=56319?(te+=4,me++):te+=3}return te};function _t(se,te=1e3,me=2){const je=te*Math.pow(me,se),Me=Math.round(.5*je*(Math.random()-.5)*2);return Math.min(144e5,je+Me)}function Xt(se){return se&&se._delegate?se._delegate:se}},4662:(ft,Pe,F)=>{var y=F(1481),$=F(4650),j=F(2011),ae=F(3805),ue=F(1779);const ge=[{path:"",loadChildren:()=>F.e(584).then(F.bind(F,5584)).then(U=>U.LandingModule)}];class Ce{}Ce.\u0275fac=function(m){return new(m||Ce)},Ce.\u0275mod=$.oAB({type:Ce}),Ce.\u0275inj=$.cJS({imports:[ue.Bz.forRoot(ge),ue.Bz]});class _e{constructor(){this.title="angular-mobile-app"}}_e.\u0275fac=function(m){return new(m||_e)},_e.\u0275cmp=$.Xpm({type:_e,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"landing"]],template:function(m,E){1&m&&($.TgZ(0,"div",0),$._UZ(1,"router-outlet"),$.qZA())},dependencies:[ue.lC],styles:[".landing[_ngcontent-%COMP%]{height:100%}"]});var ye=F(7340);function re(U){return new $.vHH(3e3,!1)}function gn(){return typeof window<"u"&&typeof window.document<"u"}function vi(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function gr(U){switch(U.length){case 0:return new ye.ZN;case 1:return U[0];default:return new ye.ZE(U)}}function Wr(U,m,E,M,B=new Map,q=new Map){const oe=[],le=[];let Ae=-1,Ze=null;if(M.forEach(mt=>{const It=mt.get("offset"),hn=It==Ae,on=hn&&Ze||new Map;mt.forEach((Bt,Gt)=>{let Yt=Gt,Hn=Bt;if("offset"!==Gt)switch(Yt=m.normalizePropertyName(Yt,oe),Hn){case ye.k1:Hn=B.get(Gt);break;case ye.l3:Hn=q.get(Gt);break;default:Hn=m.normalizeStyleValue(Gt,Yt,Hn,oe)}on.set(Yt,Hn)}),hn||le.push(on),Ze=on,Ae=It}),oe.length)throw function Cn(U){return new $.vHH(3502,!1)}();return le}function rr(U,m,E,M){switch(m){case"start":U.onStart(()=>M(E&&An(E,"start",U)));break;case"done":U.onDone(()=>M(E&&An(E,"done",U)));break;case"destroy":U.onDestroy(()=>M(E&&An(E,"destroy",U)))}}function An(U,m,E){const q=rn(U.element,U.triggerName,U.fromState,U.toState,m||U.phaseName,E.totalTime??U.totalTime,!!E.disabled),oe=U._data;return null!=oe&&(q._data=oe),q}function rn(U,m,E,M,B="",q=0,oe){return{element:U,triggerName:m,fromState:E,toState:M,phaseName:B,totalTime:q,disabled:!!oe}}function Wn(U,m,E){let M=U.get(m);return M||U.set(m,M=E),M}function Pt(U){const m=U.indexOf(":");return[U.substring(1,m),U.slice(m+1)]}let zr=(U,m)=>!1,Xr=(U,m,E)=>[],un=null;function mr(U){const m=U.parentNode||U.host;return m===un?null:m}(vi()||typeof Element<"u")&&(gn()?(un=(()=>document.documentElement)(),zr=(U,m)=>{for(;m;){if(m===U)return!0;m=mr(m)}return!1}):zr=(U,m)=>U.contains(m),Xr=(U,m,E)=>{if(E)return Array.from(U.querySelectorAll(m));const M=U.querySelector(m);return M?[M]:[]});let Mt=null,Ft=!1;const Sr=zr,Zn=Xr;let Nn=(()=>{class U{validateStyleProperty(E){return function Nr(U){Mt||(Mt=function zn(){return typeof document<"u"?document.body:null}()||{},Ft=!!Mt.style&&"WebkitAppearance"in Mt.style);let m=!0;return Mt.style&&!function Jt(U){return"ebkit"==U.substring(1,6)}(U)&&(m=U in Mt.style,!m&&Ft&&(m="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Mt.style)),m}(E)}matchesElement(E,M){return!1}containsElement(E,M){return Sr(E,M)}getParentElement(E){return mr(E)}query(E,M,B){return Zn(E,M,B)}computeStyle(E,M,B){return B||""}animate(E,M,B,q,oe,le=[],Ae){return new ye.ZN(B,q)}}return U.\u0275fac=function(E){return new(E||U)},U.\u0275prov=$.Yz7({token:U,factory:U.\u0275fac}),U})(),ei=(()=>{class U{}return U.NOOP=new Nn,U})();const ut="ng-enter",qe="ng-leave",_t="ng-trigger",Lt=".ng-trigger",$t="ng-animating",Xt=".ng-animating";function se(U){if("number"==typeof U)return U;const m=U.match(/^(-?[\.\d]+)(m?s)/);return!m||m.length<2?0:te(parseFloat(m[1]),m[2])}function te(U,m){return"s"===m?1e3*U:U}function me(U,m,E){return U.hasOwnProperty("duration")?U:function je(U,m,E){let B,q=0,oe="";if("string"==typeof U){const le=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===le)return m.push(re()),{duration:0,delay:0,easing:""};B=te(parseFloat(le[1]),le[2]);const Ae=le[3];null!=Ae&&(q=te(parseFloat(Ae),le[4]));const Ze=le[5];Ze&&(oe=Ze)}else B=U;if(!E){let le=!1,Ae=m.length;B<0&&(m.push(function de(){return new $.vHH(3100,!1)}()),le=!0),q<0&&(m.push(function Qe(){return new $.vHH(3101,!1)}()),le=!0),le&&m.splice(Ae,0,re())}return{duration:B,delay:q,easing:oe}}(U,m,E)}function Me(U,m={}){return Object.keys(U).forEach(E=>{m[E]=U[E]}),m}function wt(U){const m=new Map;return Object.keys(U).forEach(E=>{m.set(E,U[E])}),m}function Un(U,m=new Map,E){if(E)for(let[M,B]of E)m.set(M,B);for(let[M,B]of U)m.set(M,B);return m}function ce(U,m,E){return E?m+":"+E+";":""}function he(U){let m="";for(let E=0;E<U.style.length;E++){const M=U.style.item(E);m+=ce(0,M,U.style.getPropertyValue(M))}for(const E in U.style)U.style.hasOwnProperty(E)&&!E.startsWith("_")&&(m+=ce(0,Yn(E),U.style[E]));U.setAttribute("style",m)}function Q(U,m,E){U.style&&(m.forEach((M,B)=>{const q=ls(B);E&&!E.has(B)&&E.set(B,U.style[q]),U.style[q]=M}),vi()&&he(U))}function De(U,m){U.style&&(m.forEach((E,M)=>{const B=ls(M);U.style[B]=""}),vi()&&he(U))}function Xe(U){return Array.isArray(U)?1==U.length?U[0]:(0,ye.vP)(U):U}const _n=new RegExp("{{\\s*(.+?)\\s*}}","g");function kr(U){let m=[];if("string"==typeof U){let E;for(;E=_n.exec(U);)m.push(E[1]);_n.lastIndex=0}return m}function dr(U,m,E){const M=U.toString(),B=M.replace(_n,(q,oe)=>{let le=m[oe];return null==le&&(E.push(function st(U){return new $.vHH(3003,!1)}()),le=""),le.toString()});return B==M?U:B}function Ri(U){const m=[];let E=U.next();for(;!E.done;)m.push(E.value),E=U.next();return m}const Ui=/-+([a-z0-9])/g;function ls(U){return U.replace(Ui,(...m)=>m[1].toUpperCase())}function Yn(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ar(U,m,E){switch(m.type){case 7:return U.visitTrigger(m,E);case 0:return U.visitState(m,E);case 1:return U.visitTransition(m,E);case 2:return U.visitSequence(m,E);case 3:return U.visitGroup(m,E);case 4:return U.visitAnimate(m,E);case 5:return U.visitKeyframes(m,E);case 6:return U.visitStyle(m,E);case 8:return U.visitReference(m,E);case 9:return U.visitAnimateChild(m,E);case 10:return U.visitAnimateRef(m,E);case 11:return U.visitQuery(m,E);case 12:return U.visitStagger(m,E);default:throw function pt(U){return new $.vHH(3004,!1)}()}}function Ii(U,m){return window.getComputedStyle(U)[m]}function Gn(U,m){const E=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(M=>function Kr(U,m,E){if(":"==U[0]){const Ae=function Bi(U,m){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(E,M)=>parseFloat(M)>parseFloat(E);case":decrement":return(E,M)=>parseFloat(M)<parseFloat(E);default:return m.push(function Oe(U){return new $.vHH(3016,!1)}()),"* => *"}}(U,E);if("function"==typeof Ae)return void m.push(Ae);U=Ae}const M=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==M||M.length<4)return E.push(function Re(U){return new $.vHH(3015,!1)}()),m;const B=M[1],q=M[2],oe=M[3];m.push(ir(B,oe));"<"==q[0]&&!("*"==B&&"*"==oe)&&m.push(ir(oe,B))}(M,E,m)):E.push(U),E}const Jn=new Set(["true","1"]),_r=new Set(["false","0"]);function ir(U,m){const E=Jn.has(U)||_r.has(U),M=Jn.has(m)||_r.has(m);return(B,q)=>{let oe="*"==U||U==B,le="*"==m||m==q;return!oe&&E&&"boolean"==typeof B&&(oe=B?Jn.has(U):_r.has(U)),!le&&M&&"boolean"==typeof q&&(le=q?Jn.has(m):_r.has(m)),oe&&le}}const Pi=new RegExp("s*:selfs*,?","g");function nn(U,m,E,M){return new us(U).build(m,E,M)}class us{constructor(m){this._driver=m}build(m,E,M){const B=new Zr(E);return this._resetContextStyleTimingState(B),Ar(this,Xe(m),B)}_resetContextStyleTimingState(m){m.currentQuerySelector="",m.collectedStyles=new Map,m.collectedStyles.set("",new Map),m.currentTime=0}visitTrigger(m,E){let M=E.queryCount=0,B=E.depCount=0;const q=[],oe=[];return"@"==m.name.charAt(0)&&E.errors.push(function Ye(){return new $.vHH(3006,!1)}()),m.definitions.forEach(le=>{if(this._resetContextStyleTimingState(E),0==le.type){const Ae=le,Ze=Ae.name;Ze.toString().split(/\s*,\s*/).forEach(mt=>{Ae.name=mt,q.push(this.visitState(Ae,E))}),Ae.name=Ze}else if(1==le.type){const Ae=this.visitTransition(le,E);M+=Ae.queryCount,B+=Ae.depCount,oe.push(Ae)}else E.errors.push(function $e(){return new $.vHH(3007,!1)}())}),{type:7,name:m.name,states:q,transitions:oe,queryCount:M,depCount:B,options:null}}visitState(m,E){const M=this.visitStyle(m.styles,E),B=m.options&&m.options.params||null;if(M.containsDynamicStyles){const q=new Set,oe=B||{};M.styles.forEach(le=>{le instanceof Map&&le.forEach(Ae=>{kr(Ae).forEach(Ze=>{oe.hasOwnProperty(Ze)||q.add(Ze)})})}),q.size&&(Ri(q.values()),E.errors.push(function Je(U,m){return new $.vHH(3008,!1)}()))}return{type:0,name:m.name,style:M,options:B?{params:B}:null}}visitTransition(m,E){E.queryCount=0,E.depCount=0;const M=Ar(this,Xe(m.animation),E);return{type:1,matchers:Gn(m.expr,E.errors),animation:M,queryCount:E.queryCount,depCount:E.depCount,options:xr(m.options)}}visitSequence(m,E){return{type:2,steps:m.steps.map(M=>Ar(this,M,E)),options:xr(m.options)}}visitGroup(m,E){const M=E.currentTime;let B=0;const q=m.steps.map(oe=>{E.currentTime=M;const le=Ar(this,oe,E);return B=Math.max(B,E.currentTime),le});return E.currentTime=B,{type:3,steps:q,options:xr(m.options)}}visitAnimate(m,E){const M=function Es(U,m){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return Oi(me(U,m).duration,0,"");const E=U;if(E.split(/\s+/).some(q=>"{"==q.charAt(0)&&"{"==q.charAt(1))){const q=Oi(0,0,"");return q.dynamic=!0,q.strValue=E,q}const B=me(E,m);return Oi(B.duration,B.delay,B.easing)}(m.timings,E.errors);E.currentAnimateTimings=M;let B,q=m.styles?m.styles:(0,ye.oB)({});if(5==q.type)B=this.visitKeyframes(q,E);else{let oe=m.styles,le=!1;if(!oe){le=!0;const Ze={};M.easing&&(Ze.easing=M.easing),oe=(0,ye.oB)(Ze)}E.currentTime+=M.duration+M.delay;const Ae=this.visitStyle(oe,E);Ae.isEmptyStep=le,B=Ae}return E.currentAnimateTimings=null,{type:4,timings:M,style:B,options:null}}visitStyle(m,E){const M=this._makeStyleAst(m,E);return this._validateStyleAst(M,E),M}_makeStyleAst(m,E){const M=[],B=Array.isArray(m.styles)?m.styles:[m.styles];for(let le of B)"string"==typeof le?le===ye.l3?M.push(le):E.errors.push(new $.vHH(3002,!1)):M.push(wt(le));let q=!1,oe=null;return M.forEach(le=>{if(le instanceof Map&&(le.has("easing")&&(oe=le.get("easing"),le.delete("easing")),!q))for(let Ae of le.values())if(Ae.toString().indexOf("{{")>=0){q=!0;break}}),{type:6,styles:M,easing:oe,offset:m.offset,containsDynamicStyles:q,options:null}}_validateStyleAst(m,E){const M=E.currentAnimateTimings;let B=E.currentTime,q=E.currentTime;M&&q>0&&(q-=M.duration+M.delay),m.styles.forEach(oe=>{"string"!=typeof oe&&oe.forEach((le,Ae)=>{const Ze=E.collectedStyles.get(E.currentQuerySelector),mt=Ze.get(Ae);let It=!0;mt&&(q!=B&&q>=mt.startTime&&B<=mt.endTime&&(E.errors.push(function Fe(U,m,E,M,B){return new $.vHH(3010,!1)}()),It=!1),q=mt.startTime),It&&Ze.set(Ae,{startTime:q,endTime:B}),E.options&&function St(U,m,E){const M=m.params||{},B=kr(U);B.length&&B.forEach(q=>{M.hasOwnProperty(q)||E.push(function We(U){return new $.vHH(3001,!1)}())})}(le,E.options,E.errors)})})}visitKeyframes(m,E){const M={type:5,styles:[],options:null};if(!E.currentAnimateTimings)return E.errors.push(function et(){return new $.vHH(3011,!1)}()),M;let q=0;const oe=[];let le=!1,Ae=!1,Ze=0;const mt=m.steps.map(Hn=>{const vn=this._makeStyleAst(Hn,E);let lr=null!=vn.offset?vn.offset:function vs(U){if("string"==typeof U)return null;let m=null;if(Array.isArray(U))U.forEach(E=>{if(E instanceof Map&&E.has("offset")){const M=E;m=parseFloat(M.get("offset")),M.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const E=U;m=parseFloat(E.get("offset")),E.delete("offset")}return m}(vn.styles),Or=0;return null!=lr&&(q++,Or=vn.offset=lr),Ae=Ae||Or<0||Or>1,le=le||Or<Ze,Ze=Or,oe.push(Or),vn});Ae&&E.errors.push(function nt(){return new $.vHH(3012,!1)}()),le&&E.errors.push(function N(){return new $.vHH(3200,!1)}());const It=m.steps.length;let hn=0;q>0&&q<It?E.errors.push(function Be(){return new $.vHH(3202,!1)}()):0==q&&(hn=1/(It-1));const on=It-1,Bt=E.currentTime,Gt=E.currentAnimateTimings,Yt=Gt.duration;return mt.forEach((Hn,vn)=>{const lr=hn>0?vn==on?1:hn*vn:oe[vn],Or=lr*Yt;E.currentTime=Bt+Gt.delay+Or,Gt.duration=Or,this._validateStyleAst(Hn,E),Hn.offset=lr,M.styles.push(Hn)}),M}visitReference(m,E){return{type:8,animation:Ar(this,Xe(m.animation),E),options:xr(m.options)}}visitAnimateChild(m,E){return E.depCount++,{type:9,options:xr(m.options)}}visitAnimateRef(m,E){return{type:10,animation:this.visitReference(m.animation,E),options:xr(m.options)}}visitQuery(m,E){const M=E.currentQuerySelector,B=m.options||{};E.queryCount++,E.currentQuery=m;const[q,oe]=function co(U){const m=!!U.split(/\s*,\s*/).find(E=>":self"==E);return m&&(U=U.replace(Pi,"")),U=U.replace(/@\*/g,Lt).replace(/@\w+/g,E=>Lt+"-"+E.slice(1)).replace(/:animating/g,Xt),[U,m]}(m.selector);E.currentQuerySelector=M.length?M+" "+q:q,Wn(E.collectedStyles,E.currentQuerySelector,new Map);const le=Ar(this,Xe(m.animation),E);return E.currentQuery=null,E.currentQuerySelector=M,{type:11,selector:q,limit:B.limit||0,optional:!!B.optional,includeSelf:oe,animation:le,originalSelector:m.selector,options:xr(m.options)}}visitStagger(m,E){E.currentQuery||E.errors.push(function pe(){return new $.vHH(3013,!1)}());const M="full"===m.timings?{duration:0,delay:0,easing:"full"}:me(m.timings,E.errors,!0);return{type:12,animation:Ar(this,Xe(m.animation),E),timings:M,options:null}}}class Zr{constructor(m){this.errors=m,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xr(U){return U?(U=Me(U)).params&&(U.params=function Di(U){return U?Me(U):null}(U.params)):U={},U}function Oi(U,m,E){return{duration:U,delay:m,easing:E}}function wi(U,m,E,M,B,q,oe=null,le=!1){return{type:1,element:U,keyframes:m,preStyleProps:E,postStyleProps:M,duration:B,delay:q,totalTime:B+q,easing:oe,subTimeline:le}}class Bn{constructor(){this._map=new Map}get(m){return this._map.get(m)||[]}append(m,E){let M=this._map.get(m);M||this._map.set(m,M=[]),M.push(...E)}has(m){return this._map.has(m)}clear(){this._map.clear()}}const $n=new RegExp(":enter","g"),en=new RegExp(":leave","g");function yr(U,m,E,M,B,q=new Map,oe=new Map,le,Ae,Ze=[]){return(new yn).buildKeyframes(U,m,E,M,B,q,oe,le,Ae,Ze)}class yn{buildKeyframes(m,E,M,B,q,oe,le,Ae,Ze,mt=[]){Ze=Ze||new Bn;const It=new Br(m,E,Ze,B,q,mt,[]);It.options=Ae;const hn=Ae.delay?se(Ae.delay):0;It.currentTimeline.delayNextStep(hn),It.currentTimeline.setStyles([oe],null,It.errors,Ae),Ar(this,M,It);const on=It.timelines.filter(Bt=>Bt.containsAnimation());if(on.length&&le.size){let Bt;for(let Gt=on.length-1;Gt>=0;Gt--){const Yt=on[Gt];if(Yt.element===E){Bt=Yt;break}}Bt&&!Bt.allowOnlyTimelineStyles()&&Bt.setStyles([le],null,It.errors,Ae)}return on.length?on.map(Bt=>Bt.buildKeyframes()):[wi(E,[],[],[],0,hn,"",!1)]}visitTrigger(m,E){}visitState(m,E){}visitTransition(m,E){}visitAnimateChild(m,E){const M=E.subInstructions.get(E.element);if(M){const B=E.createSubContext(m.options),q=E.currentTimeline.currentTime,oe=this._visitSubInstructions(M,B,B.options);q!=oe&&E.transformIntoNewTimeline(oe)}E.previousNode=m}visitAnimateRef(m,E){const M=E.createSubContext(m.options);M.transformIntoNewTimeline(),this._applyAnimationRefDelays([m.options,m.animation.options],E,M),this.visitReference(m.animation,M),E.transformIntoNewTimeline(M.currentTimeline.currentTime),E.previousNode=m}_applyAnimationRefDelays(m,E,M){for(const B of m){const q=B?.delay;if(q){const oe="number"==typeof q?q:se(dr(q,B?.params??{},E.errors));M.delayNextStep(oe)}}}_visitSubInstructions(m,E,M){let q=E.currentTimeline.currentTime;const oe=null!=M.duration?se(M.duration):null,le=null!=M.delay?se(M.delay):null;return 0!==oe&&m.forEach(Ae=>{const Ze=E.appendInstructionToTimeline(Ae,oe,le);q=Math.max(q,Ze.duration+Ze.delay)}),q}visitReference(m,E){E.updateOptions(m.options,!0),Ar(this,m.animation,E),E.previousNode=m}visitSequence(m,E){const M=E.subContextCount;let B=E;const q=m.options;if(q&&(q.params||q.delay)&&(B=E.createSubContext(q),B.transformIntoNewTimeline(),null!=q.delay)){6==B.previousNode.type&&(B.currentTimeline.snapshotCurrentStyles(),B.previousNode=cs);const oe=se(q.delay);B.delayNextStep(oe)}m.steps.length&&(m.steps.forEach(oe=>Ar(this,oe,B)),B.currentTimeline.applyStylesToKeyframe(),B.subContextCount>M&&B.transformIntoNewTimeline()),E.previousNode=m}visitGroup(m,E){const M=[];let B=E.currentTimeline.currentTime;const q=m.options&&m.options.delay?se(m.options.delay):0;m.steps.forEach(oe=>{const le=E.createSubContext(m.options);q&&le.delayNextStep(q),Ar(this,oe,le),B=Math.max(B,le.currentTimeline.currentTime),M.push(le.currentTimeline)}),M.forEach(oe=>E.currentTimeline.mergeTimelineCollectedStyles(oe)),E.transformIntoNewTimeline(B),E.previousNode=m}_visitTiming(m,E){if(m.dynamic){const M=m.strValue;return me(E.params?dr(M,E.params,E.errors):M,E.errors)}return{duration:m.duration,delay:m.delay,easing:m.easing}}visitAnimate(m,E){const M=E.currentAnimateTimings=this._visitTiming(m.timings,E),B=E.currentTimeline;M.delay&&(E.incrementTime(M.delay),B.snapshotCurrentStyles());const q=m.style;5==q.type?this.visitKeyframes(q,E):(E.incrementTime(M.duration),this.visitStyle(q,E),B.applyStylesToKeyframe()),E.currentAnimateTimings=null,E.previousNode=m}visitStyle(m,E){const M=E.currentTimeline,B=E.currentAnimateTimings;!B&&M.hasCurrentStyleProperties()&&M.forwardFrame();const q=B&&B.easing||m.easing;m.isEmptyStep?M.applyEmptyStep(q):M.setStyles(m.styles,q,E.errors,E.options),E.previousNode=m}visitKeyframes(m,E){const M=E.currentAnimateTimings,B=E.currentTimeline.duration,q=M.duration,le=E.createSubContext().currentTimeline;le.easing=M.easing,m.styles.forEach(Ae=>{le.forwardTime((Ae.offset||0)*q),le.setStyles(Ae.styles,Ae.easing,E.errors,E.options),le.applyStylesToKeyframe()}),E.currentTimeline.mergeTimelineCollectedStyles(le),E.transformIntoNewTimeline(B+q),E.previousNode=m}visitQuery(m,E){const M=E.currentTimeline.currentTime,B=m.options||{},q=B.delay?se(B.delay):0;q&&(6===E.previousNode.type||0==M&&E.currentTimeline.hasCurrentStyleProperties())&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=cs);let oe=M;const le=E.invokeQuery(m.selector,m.originalSelector,m.limit,m.includeSelf,!!B.optional,E.errors);E.currentQueryTotal=le.length;let Ae=null;le.forEach((Ze,mt)=>{E.currentQueryIndex=mt;const It=E.createSubContext(m.options,Ze);q&&It.delayNextStep(q),Ze===E.element&&(Ae=It.currentTimeline),Ar(this,m.animation,It),It.currentTimeline.applyStylesToKeyframe(),oe=Math.max(oe,It.currentTimeline.currentTime)}),E.currentQueryIndex=0,E.currentQueryTotal=0,E.transformIntoNewTimeline(oe),Ae&&(E.currentTimeline.mergeTimelineCollectedStyles(Ae),E.currentTimeline.snapshotCurrentStyles()),E.previousNode=m}visitStagger(m,E){const M=E.parentContext,B=E.currentTimeline,q=m.timings,oe=Math.abs(q.duration),le=oe*(E.currentQueryTotal-1);let Ae=oe*E.currentQueryIndex;switch(q.duration<0?"reverse":q.easing){case"reverse":Ae=le-Ae;break;case"full":Ae=M.currentStaggerTime}const mt=E.currentTimeline;Ae&&mt.delayNextStep(Ae);const It=mt.currentTime;Ar(this,m.animation,E),E.previousNode=m,M.currentStaggerTime=B.currentTime-It+(B.startTime-M.currentTimeline.startTime)}}const cs={};class Br{constructor(m,E,M,B,q,oe,le,Ae){this._driver=m,this.element=E,this.subInstructions=M,this._enterClassName=B,this._leaveClassName=q,this.errors=oe,this.timelines=le,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=cs,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Ae||new Tr(this._driver,E,0),le.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(m,E){if(!m)return;const M=m;let B=this.options;null!=M.duration&&(B.duration=se(M.duration)),null!=M.delay&&(B.delay=se(M.delay));const q=M.params;if(q){let oe=B.params;oe||(oe=this.options.params={}),Object.keys(q).forEach(le=>{(!E||!oe.hasOwnProperty(le))&&(oe[le]=dr(q[le],oe,this.errors))})}}_copyOptions(){const m={};if(this.options){const E=this.options.params;if(E){const M=m.params={};Object.keys(E).forEach(B=>{M[B]=E[B]})}}return m}createSubContext(m=null,E,M){const B=E||this.element,q=new Br(this._driver,B,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(B,M||0));return q.previousNode=this.previousNode,q.currentAnimateTimings=this.currentAnimateTimings,q.options=this._copyOptions(),q.updateOptions(m),q.currentQueryIndex=this.currentQueryIndex,q.currentQueryTotal=this.currentQueryTotal,q.parentContext=this,this.subContextCount++,q}transformIntoNewTimeline(m){return this.previousNode=cs,this.currentTimeline=this.currentTimeline.fork(this.element,m),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(m,E,M){const B={duration:E??m.duration,delay:this.currentTimeline.currentTime+(M??0)+m.delay,easing:""},q=new ui(this._driver,m.element,m.keyframes,m.preStyleProps,m.postStyleProps,B,m.stretchStartingKeyframe);return this.timelines.push(q),B}incrementTime(m){this.currentTimeline.forwardTime(this.currentTimeline.duration+m)}delayNextStep(m){m>0&&this.currentTimeline.delayNextStep(m)}invokeQuery(m,E,M,B,q,oe){let le=[];if(B&&le.push(this.element),m.length>0){m=(m=m.replace($n,"."+this._enterClassName)).replace(en,"."+this._leaveClassName);let Ze=this._driver.query(this.element,m,1!=M);0!==M&&(Ze=M<0?Ze.slice(Ze.length+M,Ze.length):Ze.slice(0,M)),le.push(...Ze)}return!q&&0==le.length&&oe.push(function ve(U){return new $.vHH(3014,!1)}()),le}}class Tr{constructor(m,E,M,B){this._driver=m,this.element=E,this.startTime=M,this._elementTimelineStylesLookup=B,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(E),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(E,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(m){const E=1===this._keyframes.size&&this._pendingStyles.size;this.duration||E?(this.forwardTime(this.currentTime+m),E&&this.snapshotCurrentStyles()):this.startTime+=m}fork(m,E){return this.applyStylesToKeyframe(),new Tr(this._driver,m,E||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(m){this.applyStylesToKeyframe(),this.duration=m,this._loadKeyframe()}_updateStyle(m,E){this._localTimelineStyles.set(m,E),this._globalTimelineStyles.set(m,E),this._styleSummary.set(m,{time:this.currentTime,value:E})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(m){m&&this._previousKeyframe.set("easing",m);for(let[E,M]of this._globalTimelineStyles)this._backFill.set(E,M||ye.l3),this._currentKeyframe.set(E,ye.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(m,E,M,B){E&&this._previousKeyframe.set("easing",E);const q=B&&B.params||{},oe=function cn(U,m){const E=new Map;let M;return U.forEach(B=>{if("*"===B){M=M||m.keys();for(let q of M)E.set(q,ye.l3)}else Un(B,E)}),E}(m,this._globalTimelineStyles);for(let[le,Ae]of oe){const Ze=dr(Ae,q,M);this._pendingStyles.set(le,Ze),this._localTimelineStyles.has(le)||this._backFill.set(le,this._globalTimelineStyles.get(le)??ye.l3),this._updateStyle(le,Ze)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((m,E)=>{this._currentKeyframe.set(E,m)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((m,E)=>{this._currentKeyframe.has(E)||this._currentKeyframe.set(E,m)}))}snapshotCurrentStyles(){for(let[m,E]of this._localTimelineStyles)this._pendingStyles.set(m,E),this._updateStyle(m,E)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const m=[];for(let E in this._currentKeyframe)m.push(E);return m}mergeTimelineCollectedStyles(m){m._styleSummary.forEach((E,M)=>{const B=this._styleSummary.get(M);(!B||E.time>B.time)&&this._updateStyle(M,E.value)})}buildKeyframes(){this.applyStylesToKeyframe();const m=new Set,E=new Set,M=1===this._keyframes.size&&0===this.duration;let B=[];this._keyframes.forEach((le,Ae)=>{const Ze=Un(le,new Map,this._backFill);Ze.forEach((mt,It)=>{mt===ye.k1?m.add(It):mt===ye.l3&&E.add(It)}),M||Ze.set("offset",Ae/this.duration),B.push(Ze)});const q=m.size?Ri(m.values()):[],oe=E.size?Ri(E.values()):[];if(M){const le=B[0],Ae=new Map(le);le.set("offset",0),Ae.set("offset",1),B=[le,Ae]}return wi(this.element,B,q,oe,this.duration,this.startTime,this.easing,!1)}}class ui extends Tr{constructor(m,E,M,B,q,oe,le=!1){super(m,E,oe.delay),this.keyframes=M,this.preStyleProps=B,this.postStyleProps=q,this._stretchStartingKeyframe=le,this.timings={duration:oe.duration,delay:oe.delay,easing:oe.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let m=this.keyframes,{delay:E,duration:M,easing:B}=this.timings;if(this._stretchStartingKeyframe&&E){const q=[],oe=M+E,le=E/oe,Ae=Un(m[0]);Ae.set("offset",0),q.push(Ae);const Ze=Un(m[0]);Ze.set("offset",In(le)),q.push(Ze);const mt=m.length-1;for(let It=1;It<=mt;It++){let hn=Un(m[It]);const on=hn.get("offset");hn.set("offset",In((E+on*M)/oe)),q.push(hn)}M=oe,E=0,B="",m=q}return wi(this.element,m,this.preStyleProps,this.postStyleProps,M,E,B,!0)}}function In(U,m=3){const E=Math.pow(10,m-1);return Math.round(U*E)/E}class Is{}const ri=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Ji extends Is{normalizePropertyName(m,E){return ls(m)}normalizeStyleValue(m,E,M,B){let q="";const oe=M.toString().trim();if(ri.has(E)&&0!==M&&"0"!==M)if("number"==typeof M)q="px";else{const le=M.match(/^[+-]?[\d\.]+([a-z]*)$/);le&&0==le[1].length&&B.push(function Le(U,m){return new $.vHH(3005,!1)}())}return oe+q}}function Vi(U,m,E,M,B,q,oe,le,Ae,Ze,mt,It,hn){return{type:0,element:U,triggerName:m,isRemovalTransition:B,fromState:E,fromStyles:q,toState:M,toStyles:oe,timelines:le,queriedElements:Ae,preStyleProps:Ze,postStyleProps:mt,totalTime:It,errors:hn}}const ds={};class ws{constructor(m,E,M){this._triggerName=m,this.ast=E,this._stateStyles=M}match(m,E,M,B){return function Qs(U,m,E,M,B){return U.some(q=>q(m,E,M,B))}(this.ast.matchers,m,E,M,B)}buildStyles(m,E,M){let B=this._stateStyles.get("*");return void 0!==m&&(B=this._stateStyles.get(m?.toString())||B),B?B.buildStyles(E,M):new Map}build(m,E,M,B,q,oe,le,Ae,Ze,mt){const It=[],hn=this.ast.options&&this.ast.options.params||ds,Bt=this.buildStyles(M,le&&le.params||ds,It),Gt=Ae&&Ae.params||ds,Yt=this.buildStyles(B,Gt,It),Hn=new Set,vn=new Map,lr=new Map,Or="void"===B,Dr={params:xs(Gt,hn),delay:this.ast.options?.delay},gi=mt?[]:yr(m,E,this.ast.animation,q,oe,Bt,Yt,Dr,Ze,It);let Ur=0;if(gi.forEach(qr=>{Ur=Math.max(qr.duration+qr.delay,Ur)}),It.length)return Vi(E,this._triggerName,M,B,Or,Bt,Yt,[],[],vn,lr,Ur,It);gi.forEach(qr=>{const C=qr.element,L=Wn(vn,C,new Set);qr.preStyleProps.forEach(V=>L.add(V));const S=Wn(lr,C,new Set);qr.postStyleProps.forEach(V=>S.add(V)),C!==E&&Hn.add(C)});const Ki=Ri(Hn.values());return Vi(E,this._triggerName,M,B,Or,Bt,Yt,gi,Ki,vn,lr,Ur)}}function xs(U,m){const E=Me(m);for(const M in U)U.hasOwnProperty(M)&&null!=U[M]&&(E[M]=U[M]);return E}class Ls{constructor(m,E,M){this.styles=m,this.defaultParams=E,this.normalizer=M}buildStyles(m,E){const M=new Map,B=Me(this.defaultParams);return Object.keys(m).forEach(q=>{const oe=m[q];null!==oe&&(B[q]=oe)}),this.styles.styles.forEach(q=>{"string"!=typeof q&&q.forEach((oe,le)=>{oe&&(oe=dr(oe,B,E));const Ae=this.normalizer.normalizePropertyName(le,E);oe=this.normalizer.normalizeStyleValue(le,Ae,oe,E),M.set(le,oe)})}),M}}class $i{constructor(m,E,M){this.name=m,this.ast=E,this._normalizer=M,this.transitionFactories=[],this.states=new Map,E.states.forEach(B=>{this.states.set(B.name,new Ls(B.style,B.options&&B.options.params||{},M))}),Fs(this.states,"true","1"),Fs(this.states,"false","0"),E.transitions.forEach(B=>{this.transitionFactories.push(new ws(m,B,this.states))}),this.fallbackTransition=function oa(U,m,E){return new ws(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(oe,le)=>!0],options:null,queryCount:0,depCount:0},m)}(m,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(m,E,M,B){return this.transitionFactories.find(oe=>oe.match(m,E,M,B))||null}matchStyles(m,E,M){return this.fallbackTransition.buildStyles(m,E,M)}}function Fs(U,m,E){U.has(m)?U.has(E)||U.set(E,U.get(m)):U.has(E)&&U.set(m,U.get(E))}const Js=new Bn;class Ir{constructor(m,E,M){this.bodyNode=m,this._driver=E,this._normalizer=M,this._animations=new Map,this._playersById=new Map,this.players=[]}register(m,E){const M=[],q=nn(this._driver,E,M,[]);if(M.length)throw function jn(U){return new $.vHH(3503,!1)}();this._animations.set(m,q)}_buildPlayer(m,E,M){const B=m.element,q=Wr(0,this._normalizer,0,m.keyframes,E,M);return this._driver.animate(B,q,m.duration,m.delay,m.easing,[],!0)}create(m,E,M={}){const B=[],q=this._animations.get(m);let oe;const le=new Map;if(q?(oe=yr(this._driver,E,q,ut,qe,new Map,new Map,M,Js,B),oe.forEach(mt=>{const It=Wn(le,mt.element,new Map);mt.postStyleProps.forEach(hn=>It.set(hn,null))})):(B.push(function Qt(){return new $.vHH(3300,!1)}()),oe=[]),B.length)throw function tn(U){return new $.vHH(3504,!1)}();le.forEach((mt,It)=>{mt.forEach((hn,on)=>{mt.set(on,this._driver.computeStyle(It,on,ye.l3))})});const Ze=gr(oe.map(mt=>{const It=le.get(mt.element);return this._buildPlayer(mt,new Map,It)}));return this._playersById.set(m,Ze),Ze.onDestroy(()=>this.destroy(m)),this.players.push(Ze),Ze}destroy(m){const E=this._getPlayer(m);E.destroy(),this._playersById.delete(m);const M=this.players.indexOf(E);M>=0&&this.players.splice(M,1)}_getPlayer(m){const E=this._playersById.get(m);if(!E)throw function Ot(U){return new $.vHH(3301,!1)}();return E}listen(m,E,M,B){const q=rn(E,"","","");return rr(this._getPlayer(m),M,q,B),()=>{}}command(m,E,M,B){if("register"==M)return void this.register(m,B[0]);if("create"==M)return void this.create(m,E,B[0]||{});const q=this._getPlayer(m);switch(M){case"play":q.play();break;case"pause":q.pause();break;case"reset":q.reset();break;case"restart":q.restart();break;case"finish":q.finish();break;case"init":q.init();break;case"setPosition":q.setPosition(parseFloat(B[0]));break;case"destroy":this.destroy(m)}}}const dn="ng-animate-queued",bs="ng-animate-disabled",ci=[],Ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Pr={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Lr="__ng_removed";class Hi{get params(){return this.options.params}constructor(m,E=""){this.namespaceId=E;const M=m&&m.hasOwnProperty("value");if(this.value=function Xs(U){return U??null}(M?m.value:m),M){const q=Me(m);delete q.value,this.options=q}else this.options={};this.options.params||(this.options.params={})}absorbOptions(m){const E=m.params;if(E){const M=this.options.params;Object.keys(E).forEach(B=>{null==M[B]&&(M[B]=E[B])})}}}const ji="void",Do=new Hi(ji);class Bs{constructor(m,E,M){this.id=m,this.hostElement=E,this._engine=M,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+m,Vr(E,this._hostClassName)}listen(m,E,M,B){if(!this._triggers.has(E))throw function pn(U,m){return new $.vHH(3302,!1)}();if(null==M||0==M.length)throw function ur(U){return new $.vHH(3303,!1)}();if(!function ii(U){return"start"==U||"done"==U}(M))throw function kt(U,m){return new $.vHH(3400,!1)}();const q=Wn(this._elementListeners,m,[]),oe={name:E,phase:M,callback:B};q.push(oe);const le=Wn(this._engine.statesByElement,m,new Map);return le.has(E)||(Vr(m,_t),Vr(m,_t+"-"+E),le.set(E,Do)),()=>{this._engine.afterFlush(()=>{const Ae=q.indexOf(oe);Ae>=0&&q.splice(Ae,1),this._triggers.has(E)||le.delete(E)})}}register(m,E){return!this._triggers.has(m)&&(this._triggers.set(m,E),!0)}_getTrigger(m){const E=this._triggers.get(m);if(!E)throw function Rt(U){return new $.vHH(3401,!1)}();return E}trigger(m,E,M,B=!0){const q=this._getTrigger(E),oe=new Yr(this.id,E,m);let le=this._engine.statesByElement.get(m);le||(Vr(m,_t),Vr(m,_t+"-"+E),this._engine.statesByElement.set(m,le=new Map));let Ae=le.get(E);const Ze=new Hi(M,this.id);if(!(M&&M.hasOwnProperty("value"))&&Ae&&Ze.absorbOptions(Ae.options),le.set(E,Ze),Ae||(Ae=Do),Ze.value!==ji&&Ae.value===Ze.value){if(!function $r(U,m){const E=Object.keys(U),M=Object.keys(m);if(E.length!=M.length)return!1;for(let B=0;B<E.length;B++){const q=E[B];if(!m.hasOwnProperty(q)||U[q]!==m[q])return!1}return!0}(Ae.params,Ze.params)){const Gt=[],Yt=q.matchStyles(Ae.value,Ae.params,Gt),Hn=q.matchStyles(Ze.value,Ze.params,Gt);Gt.length?this._engine.reportError(Gt):this._engine.afterFlush(()=>{De(m,Yt),Q(m,Hn)})}return}const hn=Wn(this._engine.playersByElement,m,[]);hn.forEach(Gt=>{Gt.namespaceId==this.id&&Gt.triggerName==E&&Gt.queued&&Gt.destroy()});let on=q.matchTransition(Ae.value,Ze.value,m,Ze.params),Bt=!1;if(!on){if(!B)return;on=q.fallbackTransition,Bt=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:E,transition:on,fromState:Ae,toState:Ze,player:oe,isFallbackTransition:Bt}),Bt||(Vr(m,dn),oe.onStart(()=>{fi(m,dn)})),oe.onDone(()=>{let Gt=this.players.indexOf(oe);Gt>=0&&this.players.splice(Gt,1);const Yt=this._engine.playersByElement.get(m);if(Yt){let Hn=Yt.indexOf(oe);Hn>=0&&Yt.splice(Hn,1)}}),this.players.push(oe),hn.push(oe),oe}deregister(m){this._triggers.delete(m),this._engine.statesByElement.forEach(E=>E.delete(m)),this._elementListeners.forEach((E,M)=>{this._elementListeners.set(M,E.filter(B=>B.name!=m))})}clearElementCache(m){this._engine.statesByElement.delete(m),this._elementListeners.delete(m);const E=this._engine.playersByElement.get(m);E&&(E.forEach(M=>M.destroy()),this._engine.playersByElement.delete(m))}_signalRemovalForInnerTriggers(m,E){const M=this._engine.driver.query(m,Lt,!0);M.forEach(B=>{if(B[Lr])return;const q=this._engine.fetchNamespacesByElement(B);q.size?q.forEach(oe=>oe.triggerLeaveAnimation(B,E,!1,!0)):this.clearElementCache(B)}),this._engine.afterFlushAnimationsDone(()=>M.forEach(B=>this.clearElementCache(B)))}triggerLeaveAnimation(m,E,M,B){const q=this._engine.statesByElement.get(m),oe=new Map;if(q){const le=[];if(q.forEach((Ae,Ze)=>{if(oe.set(Ze,Ae.value),this._triggers.has(Ze)){const mt=this.trigger(m,Ze,ji,B);mt&&le.push(mt)}}),le.length)return this._engine.markElementAsRemoved(this.id,m,!0,E,oe),M&&gr(le).onDone(()=>this._engine.processLeaveNode(m)),!0}return!1}prepareLeaveAnimationListeners(m){const E=this._elementListeners.get(m),M=this._engine.statesByElement.get(m);if(E&&M){const B=new Set;E.forEach(q=>{const oe=q.name;if(B.has(oe))return;B.add(oe);const Ae=this._triggers.get(oe).fallbackTransition,Ze=M.get(oe)||Do,mt=new Hi(ji),It=new Yr(this.id,oe,m);this._engine.totalQueuedPlayers++,this._queue.push({element:m,triggerName:oe,transition:Ae,fromState:Ze,toState:mt,player:It,isFallbackTransition:!0})})}}removeNode(m,E){const M=this._engine;if(m.childElementCount&&this._signalRemovalForInnerTriggers(m,E),this.triggerLeaveAnimation(m,E,!0))return;let B=!1;if(M.totalAnimations){const q=M.players.length?M.playersByQueriedElement.get(m):[];if(q&&q.length)B=!0;else{let oe=m;for(;oe=oe.parentNode;)if(M.statesByElement.get(oe)){B=!0;break}}}if(this.prepareLeaveAnimationListeners(m),B)M.markElementAsRemoved(this.id,m,!1,E);else{const q=m[Lr];(!q||q===Ts)&&(M.afterFlush(()=>this.clearElementCache(m)),M.destroyInnerAnimations(m),M._onRemovalComplete(m,E))}}insertNode(m,E){Vr(m,this._hostClassName)}drainQueuedTransitions(m){const E=[];return this._queue.forEach(M=>{const B=M.player;if(B.destroyed)return;const q=M.element,oe=this._elementListeners.get(q);oe&&oe.forEach(le=>{if(le.name==M.triggerName){const Ae=rn(q,M.triggerName,M.fromState.value,M.toState.value);Ae._data=m,rr(M.player,le.phase,Ae,le.callback)}}),B.markedForDestroy?this._engine.afterFlush(()=>{B.destroy()}):E.push(M)}),this._queue=[],E.sort((M,B)=>{const q=M.transition.ast.depCount,oe=B.transition.ast.depCount;return 0==q||0==oe?q-oe:this._engine.driver.containsElement(M.element,B.element)?1:-1})}destroy(m){this.players.forEach(E=>E.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,m)}elementContainsData(m){let E=!1;return this._elementListeners.has(m)&&(E=!0),E=!!this._queue.find(M=>M.element===m)||E,E}}class Xi{_onRemovalComplete(m,E){this.onRemovalComplete(m,E)}constructor(m,E,M){this.bodyNode=m,this.driver=E,this._normalizer=M,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(B,q)=>{}}get queuedPlayers(){const m=[];return this._namespaceList.forEach(E=>{E.players.forEach(M=>{M.queued&&m.push(M)})}),m}createNamespace(m,E){const M=new Bs(m,E,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,E)?this._balanceNamespaceList(M,E):(this.newHostElements.set(E,M),this.collectEnterElement(E)),this._namespaceLookup[m]=M}_balanceNamespaceList(m,E){const M=this._namespaceList,B=this.namespacesByHostElement;if(M.length-1>=0){let oe=!1,le=this.driver.getParentElement(E);for(;le;){const Ae=B.get(le);if(Ae){const Ze=M.indexOf(Ae);M.splice(Ze+1,0,m),oe=!0;break}le=this.driver.getParentElement(le)}oe||M.unshift(m)}else M.push(m);return B.set(E,m),m}register(m,E){let M=this._namespaceLookup[m];return M||(M=this.createNamespace(m,E)),M}registerTrigger(m,E,M){let B=this._namespaceLookup[m];B&&B.register(E,M)&&this.totalAnimations++}destroy(m,E){if(!m)return;const M=this._fetchNamespace(m);this.afterFlush(()=>{this.namespacesByHostElement.delete(M.hostElement),delete this._namespaceLookup[m];const B=this._namespaceList.indexOf(M);B>=0&&this._namespaceList.splice(B,1)}),this.afterFlushAnimationsDone(()=>M.destroy(E))}_fetchNamespace(m){return this._namespaceLookup[m]}fetchNamespacesByElement(m){const E=new Set,M=this.statesByElement.get(m);if(M)for(let B of M.values())if(B.namespaceId){const q=this._fetchNamespace(B.namespaceId);q&&E.add(q)}return E}trigger(m,E,M,B){if(er(E)){const q=this._fetchNamespace(m);if(q)return q.trigger(E,M,B),!0}return!1}insertNode(m,E,M,B){if(!er(E))return;const q=E[Lr];if(q&&q.setForRemoval){q.setForRemoval=!1,q.setForMove=!0;const oe=this.collectedLeaveElements.indexOf(E);oe>=0&&this.collectedLeaveElements.splice(oe,1)}if(m){const oe=this._fetchNamespace(m);oe&&oe.insertNode(E,M)}B&&this.collectEnterElement(E)}collectEnterElement(m){this.collectedEnterElements.push(m)}markElementAsDisabled(m,E){E?this.disabledNodes.has(m)||(this.disabledNodes.add(m),Vr(m,bs)):this.disabledNodes.has(m)&&(this.disabledNodes.delete(m),fi(m,bs))}removeNode(m,E,M,B){if(er(E)){const q=m?this._fetchNamespace(m):null;if(q?q.removeNode(E,B):this.markElementAsRemoved(m,E,!1,B),M){const oe=this.namespacesByHostElement.get(E);oe&&oe.id!==m&&oe.removeNode(E,B)}}else this._onRemovalComplete(E,B)}markElementAsRemoved(m,E,M,B,q){this.collectedLeaveElements.push(E),E[Lr]={namespaceId:m,setForRemoval:B,hasAnimation:M,removedBeforeQueried:!1,previousTriggersValues:q}}listen(m,E,M,B,q){return er(E)?this._fetchNamespace(m).listen(E,M,B,q):()=>{}}_buildInstruction(m,E,M,B,q){return m.transition.build(this.driver,m.element,m.fromState.value,m.toState.value,M,B,m.fromState.options,m.toState.options,E,q)}destroyInnerAnimations(m){let E=this.driver.query(m,Lt,!0);E.forEach(M=>this.destroyActiveAnimationsForElement(M)),0!=this.playersByQueriedElement.size&&(E=this.driver.query(m,Xt,!0),E.forEach(M=>this.finishActiveQueriedAnimationOnElement(M)))}destroyActiveAnimationsForElement(m){const E=this.playersByElement.get(m);E&&E.forEach(M=>{M.queued?M.markedForDestroy=!0:M.destroy()})}finishActiveQueriedAnimationOnElement(m){const E=this.playersByQueriedElement.get(m);E&&E.forEach(M=>M.finish())}whenRenderingDone(){return new Promise(m=>{if(this.players.length)return gr(this.players).onDone(()=>m());m()})}processLeaveNode(m){const E=m[Lr];if(E&&E.setForRemoval){if(m[Lr]=Ts,E.namespaceId){this.destroyInnerAnimations(m);const M=this._fetchNamespace(E.namespaceId);M&&M.clearElementCache(m)}this._onRemovalComplete(m,E.setForRemoval)}m.classList?.contains(bs)&&this.markElementAsDisabled(m,!1),this.driver.query(m,".ng-animate-disabled",!0).forEach(M=>{this.markElementAsDisabled(M,!1)})}flush(m=-1){let E=[];if(this.newHostElements.size&&(this.newHostElements.forEach((M,B)=>this._balanceNamespaceList(M,B)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let M=0;M<this.collectedEnterElements.length;M++)Vr(this.collectedEnterElements[M],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const M=[];try{E=this._flushAnimations(M,m)}finally{for(let B=0;B<M.length;B++)M[B]()}}else for(let M=0;M<this.collectedLeaveElements.length;M++)this.processLeaveNode(this.collectedLeaveElements[M]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(M=>M()),this._flushFns=[],this._whenQuietFns.length){const M=this._whenQuietFns;this._whenQuietFns=[],E.length?gr(E).onDone(()=>{M.forEach(B=>B())}):M.forEach(B=>B())}}reportError(m){throw function ln(U){return new $.vHH(3402,!1)}()}_flushAnimations(m,E){const M=new Bn,B=[],q=new Map,oe=[],le=new Map,Ae=new Map,Ze=new Map,mt=new Set;this.disabledNodes.forEach(we=>{mt.add(we);const ze=this.driver.query(we,".ng-animate-queued",!0);for(let ct=0;ct<ze.length;ct++)mt.add(ze[ct])});const It=this.bodyNode,hn=Array.from(this.statesByElement.keys()),on=Kn(hn,this.collectedEnterElements),Bt=new Map;let Gt=0;on.forEach((we,ze)=>{const ct=ut+Gt++;Bt.set(ze,ct),we.forEach(Et=>Vr(Et,ct))});const Yt=[],Hn=new Set,vn=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const ze=this.collectedLeaveElements[we],ct=ze[Lr];ct&&ct.setForRemoval&&(Yt.push(ze),Hn.add(ze),ct.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(Et=>Hn.add(Et)):vn.add(ze))}const lr=new Map,Or=Kn(hn,Array.from(Hn));Or.forEach((we,ze)=>{const ct=qe+Gt++;lr.set(ze,ct),we.forEach(Et=>Vr(Et,ct))}),m.push(()=>{on.forEach((we,ze)=>{const ct=Bt.get(ze);we.forEach(Et=>fi(Et,ct))}),Or.forEach((we,ze)=>{const ct=lr.get(ze);we.forEach(Et=>fi(Et,ct))}),Yt.forEach(we=>{this.processLeaveNode(we)})});const Dr=[],gi=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(E).forEach(ct=>{const Et=ct.player,Ht=ct.element;if(Dr.push(Et),this.collectedEnterElements.length){const tr=Ht[Lr];if(tr&&tr.setForMove){if(tr.previousTriggersValues&&tr.previousTriggersValues.has(ct.triggerName)){const wr=tr.previousTriggersValues.get(ct.triggerName),Cr=this.statesByElement.get(ct.element);if(Cr&&Cr.has(ct.triggerName)){const Zi=Cr.get(ct.triggerName);Zi.value=wr,Cr.set(ct.triggerName,Zi)}}return void Et.destroy()}}const jt=!It||!this.driver.containsElement(It,Ht),kn=lr.get(Ht),En=Bt.get(Ht),fn=this._buildInstruction(ct,M,En,kn,jt);if(fn.errors&&fn.errors.length)return void gi.push(fn);if(jt)return Et.onStart(()=>De(Ht,fn.fromStyles)),Et.onDestroy(()=>Q(Ht,fn.toStyles)),void B.push(Et);if(ct.isFallbackTransition)return Et.onStart(()=>De(Ht,fn.fromStyles)),Et.onDestroy(()=>Q(Ht,fn.toStyles)),void B.push(Et);const Pn=[];fn.timelines.forEach(tr=>{tr.stretchStartingKeyframe=!0,this.disabledNodes.has(tr.element)||Pn.push(tr)}),fn.timelines=Pn,M.append(Ht,fn.timelines),oe.push({instruction:fn,player:Et,element:Ht}),fn.queriedElements.forEach(tr=>Wn(le,tr,[]).push(Et)),fn.preStyleProps.forEach((tr,wr)=>{if(tr.size){let Cr=Ae.get(wr);Cr||Ae.set(wr,Cr=new Set),tr.forEach((Zi,ps)=>Cr.add(ps))}}),fn.postStyleProps.forEach((tr,wr)=>{let Cr=Ze.get(wr);Cr||Ze.set(wr,Cr=new Set),tr.forEach((Zi,ps)=>Cr.add(ps))})});if(gi.length){const we=[];gi.forEach(ze=>{we.push(function jr(U,m){return new $.vHH(3505,!1)}())}),Dr.forEach(ze=>ze.destroy()),this.reportError(we)}const Ur=new Map,Ki=new Map;oe.forEach(we=>{const ze=we.element;M.has(ze)&&(Ki.set(ze,ze),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,Ur))}),B.forEach(we=>{const ze=we.element;this._getPreviousPlayers(ze,!1,we.namespaceId,we.triggerName,null).forEach(Et=>{Wn(Ur,ze,[]).push(Et),Et.destroy()})});const qr=Yt.filter(we=>Fr(we,Ae,Ze)),C=new Map;or(C,this.driver,vn,Ze,ye.l3).forEach(we=>{Fr(we,Ae,Ze)&&qr.push(we)});const S=new Map;on.forEach((we,ze)=>{or(S,this.driver,new Set(we),Ae,ye.k1)}),qr.forEach(we=>{const ze=C.get(we),ct=S.get(we);C.set(we,new Map([...Array.from(ze?.entries()??[]),...Array.from(ct?.entries()??[])]))});const V=[],X=[],ke={};oe.forEach(we=>{const{element:ze,player:ct,instruction:Et}=we;if(M.has(ze)){if(mt.has(ze))return ct.onDestroy(()=>Q(ze,Et.toStyles)),ct.disabled=!0,ct.overrideTotalTime(Et.totalTime),void B.push(ct);let Ht=ke;if(Ki.size>1){let kn=ze;const En=[];for(;kn=kn.parentNode;){const fn=Ki.get(kn);if(fn){Ht=fn;break}En.push(kn)}En.forEach(fn=>Ki.set(fn,Ht))}const jt=this._buildAnimation(ct.namespaceId,Et,Ur,q,S,C);if(ct.setRealPlayer(jt),Ht===ke)V.push(ct);else{const kn=this.playersByElement.get(Ht);kn&&kn.length&&(ct.parentPlayer=gr(kn)),B.push(ct)}}else De(ze,Et.fromStyles),ct.onDestroy(()=>Q(ze,Et.toStyles)),X.push(ct),mt.has(ze)&&B.push(ct)}),X.forEach(we=>{const ze=q.get(we.element);if(ze&&ze.length){const ct=gr(ze);we.setRealPlayer(ct)}}),B.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<Yt.length;we++){const ze=Yt[we],ct=ze[Lr];if(fi(ze,qe),ct&&ct.hasAnimation)continue;let Et=[];if(le.size){let jt=le.get(ze);jt&&jt.length&&Et.push(...jt);let kn=this.driver.query(ze,Xt,!0);for(let En=0;En<kn.length;En++){let fn=le.get(kn[En]);fn&&fn.length&&Et.push(...fn)}}const Ht=Et.filter(jt=>!jt.destroyed);Ht.length?hr(this,ze,Ht):this.processLeaveNode(ze)}return Yt.length=0,V.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const ze=this.players.indexOf(we);this.players.splice(ze,1)}),we.play()}),V}elementContainsData(m,E){let M=!1;const B=E[Lr];return B&&B.setForRemoval&&(M=!0),this.playersByElement.has(E)&&(M=!0),this.playersByQueriedElement.has(E)&&(M=!0),this.statesByElement.has(E)&&(M=!0),this._fetchNamespace(m).elementContainsData(E)||M}afterFlush(m){this._flushFns.push(m)}afterFlushAnimationsDone(m){this._whenQuietFns.push(m)}_getPreviousPlayers(m,E,M,B,q){let oe=[];if(E){const le=this.playersByQueriedElement.get(m);le&&(oe=le)}else{const le=this.playersByElement.get(m);if(le){const Ae=!q||q==ji;le.forEach(Ze=>{Ze.queued||!Ae&&Ze.triggerName!=B||oe.push(Ze)})}}return(M||B)&&(oe=oe.filter(le=>!(M&&M!=le.namespaceId||B&&B!=le.triggerName))),oe}_beforeAnimationBuild(m,E,M){const q=E.element,oe=E.isRemovalTransition?void 0:m,le=E.isRemovalTransition?void 0:E.triggerName;for(const Ae of E.timelines){const Ze=Ae.element,mt=Ze!==q,It=Wn(M,Ze,[]);this._getPreviousPlayers(Ze,mt,oe,le,E.toState).forEach(on=>{const Bt=on.getRealPlayer();Bt.beforeDestroy&&Bt.beforeDestroy(),on.destroy(),It.push(on)})}De(q,E.fromStyles)}_buildAnimation(m,E,M,B,q,oe){const le=E.triggerName,Ae=E.element,Ze=[],mt=new Set,It=new Set,hn=E.timelines.map(Bt=>{const Gt=Bt.element;mt.add(Gt);const Yt=Gt[Lr];if(Yt&&Yt.removedBeforeQueried)return new ye.ZN(Bt.duration,Bt.delay);const Hn=Gt!==Ae,vn=function Ss(U){const m=[];return Ti(U,m),m}((M.get(Gt)||ci).map(Ur=>Ur.getRealPlayer())).filter(Ur=>!!Ur.element&&Ur.element===Gt),lr=q.get(Gt),Or=oe.get(Gt),Dr=Wr(0,this._normalizer,0,Bt.keyframes,lr,Or),gi=this._buildPlayer(Bt,Dr,vn);if(Bt.subTimeline&&B&&It.add(Gt),Hn){const Ur=new Yr(m,le,Gt);Ur.setRealPlayer(gi),Ze.push(Ur)}return gi});Ze.forEach(Bt=>{Wn(this.playersByQueriedElement,Bt.element,[]).push(Bt),Bt.onDone(()=>function Xn(U,m,E){let M=U.get(m);if(M){if(M.length){const B=M.indexOf(E);M.splice(B,1)}0==M.length&&U.delete(m)}return M}(this.playersByQueriedElement,Bt.element,Bt))}),mt.forEach(Bt=>Vr(Bt,$t));const on=gr(hn);return on.onDestroy(()=>{mt.forEach(Bt=>fi(Bt,$t)),Q(Ae,E.toStyles)}),It.forEach(Bt=>{Wn(B,Bt,[]).push(on)}),on}_buildPlayer(m,E,M){return E.length>0?this.driver.animate(m.element,E,m.duration,m.delay,m.easing,M):new ye.ZN(m.duration,m.delay)}}class Yr{constructor(m,E,M){this.namespaceId=m,this.triggerName=E,this.element=M,this._player=new ye.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(m){this._containsRealPlayer||(this._player=m,this._queuedCallbacks.forEach((E,M)=>{E.forEach(B=>rr(m,M,void 0,B))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(m.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(m){this.totalTime=m}syncPlayerEvents(m){const E=this._player;E.triggerCallback&&m.onStart(()=>E.triggerCallback("start")),m.onDone(()=>this.finish()),m.onDestroy(()=>this.destroy())}_queueEvent(m,E){Wn(this._queuedCallbacks,m,[]).push(E)}onDone(m){this.queued&&this._queueEvent("done",m),this._player.onDone(m)}onStart(m){this.queued&&this._queueEvent("start",m),this._player.onStart(m)}onDestroy(m){this.queued&&this._queueEvent("destroy",m),this._player.onDestroy(m)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(m){this.queued||this._player.setPosition(m)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(m){const E=this._player;E.triggerCallback&&E.triggerCallback(m)}}function er(U){return U&&1===U.nodeType}function es(U,m){const E=U.style.display;return U.style.display=m??"none",E}function or(U,m,E,M,B){const q=[];E.forEach(Ae=>q.push(es(Ae)));const oe=[];M.forEach((Ae,Ze)=>{const mt=new Map;Ae.forEach(It=>{const hn=m.computeStyle(Ze,It,B);mt.set(It,hn),(!hn||0==hn.length)&&(Ze[Lr]=Pr,oe.push(Ze))}),U.set(Ze,mt)});let le=0;return E.forEach(Ae=>es(Ae,q[le++])),oe}function Kn(U,m){const E=new Map;if(U.forEach(le=>E.set(le,[])),0==m.length)return E;const B=new Set(m),q=new Map;function oe(le){if(!le)return 1;let Ae=q.get(le);if(Ae)return Ae;const Ze=le.parentNode;return Ae=E.has(Ze)?Ze:B.has(Ze)?1:oe(Ze),q.set(le,Ae),Ae}return m.forEach(le=>{const Ae=oe(le);1!==Ae&&E.get(Ae).push(le)}),E}function Vr(U,m){U.classList?.add(m)}function fi(U,m){U.classList?.remove(m)}function hr(U,m,E){gr(E).onDone(()=>U.processLeaveNode(m))}function Ti(U,m){for(let E=0;E<U.length;E++){const M=U[E];M instanceof ye.ZE?Ti(M.players,m):m.push(M)}}function Fr(U,m,E){const M=E.get(U);if(!M)return!1;let B=m.get(U);return B?M.forEach(q=>B.add(q)):m.set(U,M),E.delete(U),!0}class Zt{constructor(m,E,M){this.bodyNode=m,this._driver=E,this._normalizer=M,this._triggerCache={},this.onRemovalComplete=(B,q)=>{},this._transitionEngine=new Xi(m,E,M),this._timelineEngine=new Ir(m,E,M),this._transitionEngine.onRemovalComplete=(B,q)=>this.onRemovalComplete(B,q)}registerTrigger(m,E,M,B,q){const oe=m+"-"+B;let le=this._triggerCache[oe];if(!le){const Ae=[],mt=nn(this._driver,q,Ae,[]);if(Ae.length)throw function At(U,m){return new $.vHH(3404,!1)}();le=function Ci(U,m,E){return new $i(U,m,E)}(B,mt,this._normalizer),this._triggerCache[oe]=le}this._transitionEngine.registerTrigger(E,B,le)}register(m,E){this._transitionEngine.register(m,E)}destroy(m,E){this._transitionEngine.destroy(m,E)}onInsert(m,E,M,B){this._transitionEngine.insertNode(m,E,M,B)}onRemove(m,E,M,B){this._transitionEngine.removeNode(m,E,B||!1,M)}disableAnimations(m,E){this._transitionEngine.markElementAsDisabled(m,E)}process(m,E,M,B){if("@"==M.charAt(0)){const[q,oe]=Pt(M);this._timelineEngine.command(q,E,oe,B)}else this._transitionEngine.trigger(m,E,M,B)}listen(m,E,M,B,q){if("@"==M.charAt(0)){const[oe,le]=Pt(M);return this._timelineEngine.listen(oe,E,le,q)}return this._transitionEngine.listen(m,E,M,B,q)}flush(m=-1){this._transitionEngine.flush(m)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Ut=(()=>{class U{constructor(E,M,B){this._element=E,this._startStyles=M,this._endStyles=B,this._state=0;let q=U.initialStylesByElement.get(E);q||U.initialStylesByElement.set(E,q=new Map),this._initialStyles=q}start(){this._state<1&&(this._startStyles&&Q(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Q(this._element,this._initialStyles),this._endStyles&&(Q(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(De(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(De(this._element,this._endStyles),this._endStyles=null),Q(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function Wi(U){let m=null;return U.forEach((E,M)=>{(function ar(U){return"display"===U||"position"===U})(M)&&(m=m||new Map,m.set(M,E))}),m}class As{constructor(m,E,M,B){this.element=m,this.keyframes=E,this.options=M,this._specialStyles=B,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=M.duration,this._delay=M.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(m=>m()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const m=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,m,this.options),this._finalKeyframe=m.length?m[m.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(m){const E=[];return m.forEach(M=>{E.push(Object.fromEntries(M))}),E}_triggerWebAnimation(m,E,M){return m.animate(this._convertKeyframesToObject(E),M)}onStart(m){this._originalOnStartFns.push(m),this._onStartFns.push(m)}onDone(m){this._originalOnDoneFns.push(m),this._onDoneFns.push(m)}onDestroy(m){this._onDestroyFns.push(m)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(m=>m()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(m=>m()),this._onDestroyFns=[])}setPosition(m){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=m*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const m=new Map;this.hasStarted()&&this._finalKeyframe.forEach((M,B)=>{"offset"!==B&&m.set(B,this._finished?M:Ii(this.element,B))}),this.currentSnapshot=m}triggerCallback(m){const E="start"===m?this._onStartFns:this._onDoneFns;E.forEach(M=>M()),E.length=0}}class wo{validateStyleProperty(m){return!0}validateAnimatableStyleProperty(m){return!0}matchesElement(m,E){return!1}containsElement(m,E){return Sr(m,E)}getParentElement(m){return mr(m)}query(m,E,M){return Zn(m,E,M)}computeStyle(m,E,M){return window.getComputedStyle(m)[E]}animate(m,E,M,B,q,oe=[]){const Ae={duration:M,delay:B,fill:0==B?"both":"forwards"};q&&(Ae.easing=q);const Ze=new Map,mt=oe.filter(on=>on instanceof As);(function Io(U,m){return 0===U||0===m})(M,B)&&mt.forEach(on=>{on.currentSnapshot.forEach((Bt,Gt)=>Ze.set(Gt,Bt))});let It=function sn(U){return U.length?U[0]instanceof Map?U:U.map(m=>wt(m)):[]}(E).map(on=>Un(on));It=function uo(U,m,E){if(E.size&&m.length){let M=m[0],B=[];if(E.forEach((q,oe)=>{M.has(oe)||B.push(oe),M.set(oe,q)}),B.length)for(let q=1;q<m.length;q++){let oe=m[q];B.forEach(le=>oe.set(le,Ii(U,le)))}}return m}(m,It,Ze);const hn=function eo(U,m){let E=null,M=null;return Array.isArray(m)&&m.length?(E=Wi(m[0]),m.length>1&&(M=Wi(m[m.length-1]))):m instanceof Map&&(E=Wi(m)),E||M?new Ut(U,E,M):null}(m,It);return new As(m,It,Ae,hn)}}var Vs=F(6895);let to=(()=>{class U extends ye._j{constructor(E,M){super(),this._nextAnimationId=0,this._renderer=E.createRenderer(M.body,{id:"0",encapsulation:$.ifc.None,styles:[],data:{animation:[]}})}build(E){const M=this._nextAnimationId.toString();this._nextAnimationId++;const B=Array.isArray(E)?(0,ye.vP)(E):E;return He(this._renderer,null,M,"register",[B]),new $s(M,this._renderer)}}return U.\u0275fac=function(E){return new(E||U)($.LFG($.FYo),$.LFG(Vs.K0))},U.\u0275prov=$.Yz7({token:U,factory:U.\u0275fac}),U})();class $s extends ye.LC{constructor(m,E){super(),this._id=m,this._renderer=E}create(m,E){return new Hs(this._id,m,E||{},this._renderer)}}class Hs{constructor(m,E,M,B){this.id=m,this.element=E,this._renderer=B,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",M)}_listen(m,E){return this._renderer.listen(this.element,`@@${this.id}:${m}`,E)}_command(m,...E){return He(this._renderer,this.element,this.id,m,E)}onDone(m){this._listen("done",m)}onStart(m){this._listen("start",m)}onDestroy(m){this._listen("destroy",m)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(m){this._command("setPosition",m)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function He(U,m,E,M,B){return U.setProperty(m,`@@${E}:${M}`,B)}const ts="@.disabled";let ki=(()=>{class U{constructor(E,M,B){this.delegate=E,this.engine=M,this._zone=B,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),M.onRemovalComplete=(q,oe)=>{const le=oe?.parentNode(q);le&&oe.removeChild(le,q)}}createRenderer(E,M){const q=this.delegate.createRenderer(E,M);if(!(E&&M&&M.data&&M.data.animation)){let mt=this._rendererCache.get(q);return mt||(mt=new Hr("",q,this.engine,()=>this._rendererCache.delete(q)),this._rendererCache.set(q,mt)),mt}const oe=M.id,le=M.id+"-"+this._currentId;this._currentId++,this.engine.register(le,E);const Ae=mt=>{Array.isArray(mt)?mt.forEach(Ae):this.engine.registerTrigger(oe,le,E,mt.name,mt)};return M.data.animation.forEach(Ae),new fs(this,le,q,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(E,M,B){E>=0&&E<this._microtaskId?this._zone.run(()=>M(B)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(q=>{const[oe,le]=q;oe(le)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([M,B]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(E){return new(E||U)($.LFG($.FYo),$.LFG(Zt),$.LFG($.R0b))},U.\u0275prov=$.Yz7({token:U,factory:U.\u0275fac}),U})();class Hr{constructor(m,E,M,B){this.namespaceId=m,this.delegate=E,this.engine=M,this._onDestroy=B,this.destroyNode=this.delegate.destroyNode?q=>E.destroyNode(q):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(m,E){return this.delegate.createElement(m,E)}createComment(m){return this.delegate.createComment(m)}createText(m){return this.delegate.createText(m)}appendChild(m,E){this.delegate.appendChild(m,E),this.engine.onInsert(this.namespaceId,E,m,!1)}insertBefore(m,E,M,B=!0){this.delegate.insertBefore(m,E,M),this.engine.onInsert(this.namespaceId,E,m,B)}removeChild(m,E,M){this.engine.onRemove(this.namespaceId,E,this.delegate,M)}selectRootElement(m,E){return this.delegate.selectRootElement(m,E)}parentNode(m){return this.delegate.parentNode(m)}nextSibling(m){return this.delegate.nextSibling(m)}setAttribute(m,E,M,B){this.delegate.setAttribute(m,E,M,B)}removeAttribute(m,E,M){this.delegate.removeAttribute(m,E,M)}addClass(m,E){this.delegate.addClass(m,E)}removeClass(m,E){this.delegate.removeClass(m,E)}setStyle(m,E,M,B){this.delegate.setStyle(m,E,M,B)}removeStyle(m,E,M){this.delegate.removeStyle(m,E,M)}setProperty(m,E,M){"@"==E.charAt(0)&&E==ts?this.disableAnimations(m,!!M):this.delegate.setProperty(m,E,M)}setValue(m,E){this.delegate.setValue(m,E)}listen(m,E,M){return this.delegate.listen(m,E,M)}disableAnimations(m,E){this.engine.disableAnimations(m,E)}}class fs extends Hr{constructor(m,E,M,B,q){super(E,M,B,q),this.factory=m,this.namespaceId=E}setProperty(m,E,M){"@"==E.charAt(0)?"."==E.charAt(1)&&E==ts?this.disableAnimations(m,M=void 0===M||!!M):this.engine.process(this.namespaceId,m,E.slice(1),M):this.delegate.setProperty(m,E,M)}listen(m,E,M){if("@"==E.charAt(0)){const B=function ho(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(m);let q=E.slice(1),oe="";return"@"!=q.charAt(0)&&([q,oe]=function pi(U){const m=U.indexOf(".");return[U.substring(0,m),U.slice(m+1)]}(q)),this.engine.listen(this.namespaceId,B,q,oe,le=>{this.factory.scheduleListenerCallback(le._data||-1,M,le)})}return this.delegate.listen(m,E,M)}}const Ws=[{provide:ye._j,useClass:to},{provide:Is,useFactory:function js(){return new Ji}},{provide:Zt,useClass:(()=>{class U extends Zt{constructor(E,M,B,q){super(E.body,M,B)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(E){return new(E||U)($.LFG(Vs.K0),$.LFG(ei),$.LFG(Is),$.LFG($.z2F))},U.\u0275prov=$.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:$.FYo,useFactory:function Fo(U,m,E){return new ki(U,m,E)},deps:[y.se,Zt,$.R0b]}],zs=[{provide:ei,useFactory:()=>new wo},{provide:$.QbO,useValue:"BrowserAnimations"},...Ws],fr=[{provide:ei,useClass:Nn},{provide:$.QbO,useValue:"NoopAnimations"},...Ws];let di=(()=>{class U{static withConfig(E){return{ngModule:U,providers:E.disableAnimations?fr:zs}}}return U.\u0275fac=function(E){return new(E||U)},U.\u0275mod=$.oAB({type:U}),U.\u0275inj=$.cJS({providers:zs,imports:[y.b2]}),U})();class si{}si.\u0275fac=function(m){return new(m||si)},si.\u0275mod=$.oAB({type:si,bootstrap:[_e]}),si.\u0275inj=$.cJS({imports:[y.b2,Ce,di,j.hO.initializeApp({projectId:"bikes-andina",appId:"1:721762585909:web:0b940aafca7dc8c82b507c",databaseURL:"https://bikes-andina-default-rtdb.firebaseio.com",storageBucket:"bikes-andina.appspot.com",apiKey:"AIzaSyBh2U3nD7TZpfo8FbKS2zji9-oC-Uwd-70",authDomain:"bikes-andina.firebaseapp.com",messagingSenderId:"721762585909",measurementId:"G-J54PMJLN35"}),ae.JS]}),(0,$.G48)(),y.q6().bootstrapModule(si).catch(U=>console.error(U))},1135:(ft,Pe,F)=>{F.d(Pe,{X:()=>$});var y=F(7579);class $ extends y.x{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const ue=super._subscribe(ae);return!ue.closed&&ae.next(this._value),ue}getValue(){const{hasError:ae,thrownError:ue,_value:ge}=this;if(ae)throw ue;return this._throwIfClosed(),ge}next(ae){super.next(this._value=ae)}}},9751:(ft,Pe,F)=>{F.d(Pe,{y:()=>_e});var y=F(930),$=F(727),j=F(8822),ae=F(9635),ue=F(2416),ge=F(576),Ce=F(2806);let _e=(()=>{class de{constructor(We){We&&(this._subscribe=We)}lift(We){const st=new de;return st.source=this,st.operator=We,st}subscribe(We,st,pt){const Le=function re(de){return de&&de instanceof y.Lv||function ne(de){return de&&(0,ge.m)(de.next)&&(0,ge.m)(de.error)&&(0,ge.m)(de.complete)}(de)&&(0,$.Nn)(de)}(We)?We:new y.Hp(We,st,pt);return(0,Ce.x)(()=>{const{operator:Ye,source:$e}=this;Le.add(Ye?Ye.call(Le,$e):$e?this._subscribe(Le):this._trySubscribe(Le))}),Le}_trySubscribe(We){try{return this._subscribe(We)}catch(st){We.error(st)}}forEach(We,st){return new(st=ye(st))((pt,Le)=>{const Ye=new y.Hp({next:$e=>{try{We($e)}catch(Je){Le(Je),Ye.unsubscribe()}},error:Le,complete:pt});this.subscribe(Ye)})}_subscribe(We){var st;return null===(st=this.source)||void 0===st?void 0:st.subscribe(We)}[j.L](){return this}pipe(...We){return(0,ae.U)(We)(this)}toPromise(We){return new(We=ye(We))((st,pt)=>{let Le;this.subscribe(Ye=>Le=Ye,Ye=>pt(Ye),()=>st(Le))})}}return de.create=Qe=>new de(Qe),de})();function ye(de){var Qe;return null!==(Qe=de??ue.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(ft,Pe,F)=>{F.d(Pe,{x:()=>Ce});var y=F(9751),$=F(727);const ae=(0,F(3888).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ue=F(8737),ge=F(2806);let Ce=(()=>{class ye extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const de=new _e(this,this);return de.operator=re,de}_throwIfClosed(){if(this.closed)throw new ae}next(re){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const de of this.currentObservers)de.next(re)}})}error(re){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:de}=this;for(;de.length;)de.shift().error(re)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:de,isStopped:Qe,observers:We}=this;return de||Qe?$.Lc:(this.currentObservers=null,We.push(re),new $.w0(()=>{this.currentObservers=null,(0,ue.P)(We,re)}))}_checkFinalizedStatuses(re){const{hasError:de,thrownError:Qe,isStopped:We}=this;de?re.error(Qe):We&&re.complete()}asObservable(){const re=new y.y;return re.source=this,re}}return ye.create=(ne,re)=>new _e(ne,re),ye})();class _e extends Ce{constructor(ne,re){super(),this.destination=ne,this.source=re}next(ne){var re,de;null===(de=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===de||de.call(re,ne)}error(ne){var re,de;null===(de=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===de||de.call(re,ne)}complete(){var ne,re;null===(re=null===(ne=this.destination)||void 0===ne?void 0:ne.complete)||void 0===re||re.call(ne)}_subscribe(ne){var re,de;return null!==(de=null===(re=this.source)||void 0===re?void 0:re.subscribe(ne))&&void 0!==de?de:$.Lc}}},930:(ft,Pe,F)=>{F.d(Pe,{Hp:()=>pt,Lv:()=>de});var y=F(576),$=F(727),j=F(2416),ae=F(7849),ue=F(5032);const ge=ye("C",void 0,void 0);function ye(Se,fe,Fe){return{kind:Se,value:fe,error:Fe}}var ne=F(3410),re=F(2806);class de extends $.w0{constructor(fe){super(),this.isStopped=!1,fe?(this.destination=fe,(0,$.Nn)(fe)&&fe.add(this)):this.destination=Je}static create(fe,Fe,et){return new pt(fe,Fe,et)}next(fe){this.isStopped?$e(function _e(Se){return ye("N",Se,void 0)}(fe),this):this._next(fe)}error(fe){this.isStopped?$e(function Ce(Se){return ye("E",void 0,Se)}(fe),this):(this.isStopped=!0,this._error(fe))}complete(){this.isStopped?$e(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(fe){this.destination.next(fe)}_error(fe){try{this.destination.error(fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function We(Se,fe){return Qe.call(Se,fe)}class st{constructor(fe){this.partialObserver=fe}next(fe){const{partialObserver:Fe}=this;if(Fe.next)try{Fe.next(fe)}catch(et){Le(et)}}error(fe){const{partialObserver:Fe}=this;if(Fe.error)try{Fe.error(fe)}catch(et){Le(et)}else Le(fe)}complete(){const{partialObserver:fe}=this;if(fe.complete)try{fe.complete()}catch(Fe){Le(Fe)}}}class pt extends de{constructor(fe,Fe,et){let nt;if(super(),(0,y.m)(fe)||!fe)nt={next:fe??void 0,error:Fe??void 0,complete:et??void 0};else{let N;this&&j.v.useDeprecatedNextContext?(N=Object.create(fe),N.unsubscribe=()=>this.unsubscribe(),nt={next:fe.next&&We(fe.next,N),error:fe.error&&We(fe.error,N),complete:fe.complete&&We(fe.complete,N)}):nt=fe}this.destination=new st(nt)}}function Le(Se){j.v.useDeprecatedSynchronousErrorHandling?(0,re.O)(Se):(0,ae.h)(Se)}function $e(Se,fe){const{onStoppedNotification:Fe}=j.v;Fe&&ne.z.setTimeout(()=>Fe(Se,fe))}const Je={closed:!0,next:ue.Z,error:function Ye(Se){throw Se},complete:ue.Z}},727:(ft,Pe,F)=>{F.d(Pe,{Lc:()=>ge,w0:()=>ue,Nn:()=>Ce});var y=F(576);const j=(0,F(3888).d)(ye=>function(re){ye(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((de,Qe)=>`${Qe+1}) ${de.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var ae=F(8737);class ue{constructor(ne){this.initialTeardown=ne,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ne;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const We of re)We.remove(this);else re.remove(this);const{initialTeardown:de}=this;if((0,y.m)(de))try{de()}catch(We){ne=We instanceof j?We.errors:[We]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const We of Qe)try{_e(We)}catch(st){ne=ne??[],st instanceof j?ne=[...ne,...st.errors]:ne.push(st)}}if(ne)throw new j(ne)}}add(ne){var re;if(ne&&ne!==this)if(this.closed)_e(ne);else{if(ne instanceof ue){if(ne.closed||ne._hasParent(this))return;ne._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push(ne)}}_hasParent(ne){const{_parentage:re}=this;return re===ne||Array.isArray(re)&&re.includes(ne)}_addParent(ne){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push(ne),re):re?[re,ne]:ne}_removeParent(ne){const{_parentage:re}=this;re===ne?this._parentage=null:Array.isArray(re)&&(0,ae.P)(re,ne)}remove(ne){const{_finalizers:re}=this;re&&(0,ae.P)(re,ne),ne instanceof ue&&ne._removeParent(this)}}ue.EMPTY=(()=>{const ye=new ue;return ye.closed=!0,ye})();const ge=ue.EMPTY;function Ce(ye){return ye instanceof ue||ye&&"closed"in ye&&(0,y.m)(ye.remove)&&(0,y.m)(ye.add)&&(0,y.m)(ye.unsubscribe)}function _e(ye){(0,y.m)(ye)?ye():ye.unsubscribe()}},2416:(ft,Pe,F)=>{F.d(Pe,{v:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(ft,Pe,F)=>{F.d(Pe,{a:()=>ne});var y=F(9751),$=F(4742),j=F(8996),ae=F(4671),ue=F(3268),ge=F(3269),Ce=F(1810),_e=F(5403),ye=F(9672);function ne(...Qe){const We=(0,ge.yG)(Qe),st=(0,ge.jO)(Qe),{args:pt,keys:Le}=(0,$.D)(Qe);if(0===pt.length)return(0,j.D)([],We);const Ye=new y.y(function re(Qe,We,st=ae.y){return pt=>{de(We,()=>{const{length:Le}=Qe,Ye=new Array(Le);let $e=Le,Je=Le;for(let Se=0;Se<Le;Se++)de(We,()=>{const fe=(0,j.D)(Qe[Se],We);let Fe=!1;fe.subscribe((0,_e.x)(pt,et=>{Ye[Se]=et,Fe||(Fe=!0,Je--),Je||pt.next(st(Ye.slice()))},()=>{--$e||pt.complete()}))},pt)},pt)}}(pt,We,Le?$e=>(0,Ce.n)(Le,$e):ae.y));return st?Ye.pipe((0,ue.Z)(st)):Ye}function de(Qe,We,st){Qe?(0,ye.f)(st,Qe,We):We()}},7272:(ft,Pe,F)=>{F.d(Pe,{z:()=>ue});var y=F(8189),j=F(3269),ae=F(8996);function ue(...ge){return function $(){return(0,y.J)(1)}()((0,ae.D)(ge,(0,j.yG)(ge)))}},515:(ft,Pe,F)=>{F.d(Pe,{E:()=>$});const $=new(F(9751).y)(ue=>ue.complete())},8996:(ft,Pe,F)=>{F.d(Pe,{D:()=>fe});var y=F(8421),$=F(5363),j=F(9468),ge=F(9751),_e=F(2202),ye=F(576),ne=F(9672);function de(Fe,et){if(!Fe)throw new Error("Iterable cannot be null");return new ge.y(nt=>{(0,ne.f)(nt,et,()=>{const N=Fe[Symbol.asyncIterator]();(0,ne.f)(nt,et,()=>{N.next().then(Be=>{Be.done?nt.complete():nt.next(Be.value)})},0,!0)})})}var Qe=F(3670),We=F(8239),st=F(1144),pt=F(6495),Le=F(2206),Ye=F(4532),$e=F(3260);function fe(Fe,et){return et?function Se(Fe,et){if(null!=Fe){if((0,Qe.c)(Fe))return function ae(Fe,et){return(0,y.Xf)(Fe).pipe((0,j.R)(et),(0,$.Q)(et))}(Fe,et);if((0,st.z)(Fe))return function Ce(Fe,et){return new ge.y(nt=>{let N=0;return et.schedule(function(){N===Fe.length?nt.complete():(nt.next(Fe[N++]),nt.closed||this.schedule())})})}(Fe,et);if((0,We.t)(Fe))return function ue(Fe,et){return(0,y.Xf)(Fe).pipe((0,j.R)(et),(0,$.Q)(et))}(Fe,et);if((0,Le.D)(Fe))return de(Fe,et);if((0,pt.T)(Fe))return function re(Fe,et){return new ge.y(nt=>{let N;return(0,ne.f)(nt,et,()=>{N=Fe[_e.h](),(0,ne.f)(nt,et,()=>{let Be,pe;try{({value:Be,done:pe}=N.next())}catch(ve){return void nt.error(ve)}pe?nt.complete():nt.next(Be)},0,!0)}),()=>(0,ye.m)(N?.return)&&N.return()})}(Fe,et);if((0,$e.L)(Fe))return function Je(Fe,et){return de((0,$e.Q)(Fe),et)}(Fe,et)}throw(0,Ye.z)(Fe)}(Fe,et):(0,y.Xf)(Fe)}},8421:(ft,Pe,F)=>{F.d(Pe,{Xf:()=>Qe});var y=F(655),$=F(1144),j=F(8239),ae=F(9751),ue=F(3670),ge=F(2206),Ce=F(4532),_e=F(6495),ye=F(3260),ne=F(576),re=F(7849),de=F(8822);function Qe(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,ue.c)(Se))return function We(Se){return new ae.y(fe=>{const Fe=Se[de.L]();if((0,ne.m)(Fe.subscribe))return Fe.subscribe(fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,$.z)(Se))return function st(Se){return new ae.y(fe=>{for(let Fe=0;Fe<Se.length&&!fe.closed;Fe++)fe.next(Se[Fe]);fe.complete()})}(Se);if((0,j.t)(Se))return function pt(Se){return new ae.y(fe=>{Se.then(Fe=>{fe.closed||(fe.next(Fe),fe.complete())},Fe=>fe.error(Fe)).then(null,re.h)})}(Se);if((0,ge.D)(Se))return Ye(Se);if((0,_e.T)(Se))return function Le(Se){return new ae.y(fe=>{for(const Fe of Se)if(fe.next(Fe),fe.closed)return;fe.complete()})}(Se);if((0,ye.L)(Se))return function $e(Se){return Ye((0,ye.Q)(Se))}(Se)}throw(0,Ce.z)(Se)}function Ye(Se){return new ae.y(fe=>{(function Je(Se,fe){var Fe,et,nt,N;return(0,y.mG)(this,void 0,void 0,function*(){try{for(Fe=(0,y.KL)(Se);!(et=yield Fe.next()).done;)if(fe.next(et.value),fe.closed)return}catch(Be){nt={error:Be}}finally{try{et&&!et.done&&(N=Fe.return)&&(yield N.call(Fe))}finally{if(nt)throw nt.error}}fe.complete()})})(Se,fe).catch(Fe=>fe.error(Fe))})}},6451:(ft,Pe,F)=>{F.d(Pe,{T:()=>ge});var y=F(8189),$=F(8421),j=F(515),ae=F(3269),ue=F(8996);function ge(...Ce){const _e=(0,ae.yG)(Ce),ye=(0,ae._6)(Ce,1/0),ne=Ce;return ne.length?1===ne.length?(0,$.Xf)(ne[0]):(0,y.J)(ye)((0,ue.D)(ne,_e)):j.E}},9646:(ft,Pe,F)=>{F.d(Pe,{of:()=>j});var y=F(3269),$=F(8996);function j(...ae){const ue=(0,y.yG)(ae);return(0,$.D)(ae,ue)}},2843:(ft,Pe,F)=>{F.d(Pe,{_:()=>j});var y=F(9751),$=F(576);function j(ae,ue){const ge=(0,$.m)(ae)?ae:()=>ae,Ce=_e=>_e.error(ge());return new y.y(ue?_e=>ue.schedule(Ce,0,_e):Ce)}},5403:(ft,Pe,F)=>{F.d(Pe,{x:()=>$});var y=F(930);function $(ae,ue,ge,Ce,_e){return new j(ae,ue,ge,Ce,_e)}class j extends y.Lv{constructor(ue,ge,Ce,_e,ye,ne){super(ue),this.onFinalize=ye,this.shouldUnsubscribe=ne,this._next=ge?function(re){try{ge(re)}catch(de){ue.error(de)}}:super._next,this._error=_e?function(re){try{_e(re)}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(re){ue.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}}},262:(ft,Pe,F)=>{F.d(Pe,{K:()=>ae});var y=F(8421),$=F(5403),j=F(4482);function ae(ue){return(0,j.e)((ge,Ce)=>{let ne,_e=null,ye=!1;_e=ge.subscribe((0,$.x)(Ce,void 0,void 0,re=>{ne=(0,y.Xf)(ue(re,ae(ue)(ge))),_e?(_e.unsubscribe(),_e=null,ne.subscribe(Ce)):ye=!0})),ye&&(_e.unsubscribe(),_e=null,ne.subscribe(Ce))})}},4351:(ft,Pe,F)=>{F.d(Pe,{b:()=>j});var y=F(5577),$=F(576);function j(ae,ue){return(0,$.m)(ue)?(0,y.z)(ae,ue,1):(0,y.z)(ae,1)}},6590:(ft,Pe,F)=>{F.d(Pe,{d:()=>j});var y=F(4482),$=F(5403);function j(ae){return(0,y.e)((ue,ge)=>{let Ce=!1;ue.subscribe((0,$.x)(ge,_e=>{Ce=!0,ge.next(_e)},()=>{Ce||ge.next(ae),ge.complete()}))})}},1884:(ft,Pe,F)=>{F.d(Pe,{x:()=>ae});var y=F(4671),$=F(4482),j=F(5403);function ae(ge,Ce=y.y){return ge=ge??ue,(0,$.e)((_e,ye)=>{let ne,re=!0;_e.subscribe((0,j.x)(ye,de=>{const Qe=Ce(de);(re||!ge(ne,Qe))&&(re=!1,ne=Qe,ye.next(de))}))})}function ue(ge,Ce){return ge===Ce}},9300:(ft,Pe,F)=>{F.d(Pe,{h:()=>j});var y=F(4482),$=F(5403);function j(ae,ue){return(0,y.e)((ge,Ce)=>{let _e=0;ge.subscribe((0,$.x)(Ce,ye=>ae.call(ue,ye,_e++)&&Ce.next(ye)))})}},8746:(ft,Pe,F)=>{F.d(Pe,{x:()=>$});var y=F(4482);function $(j){return(0,y.e)((ae,ue)=>{try{ae.subscribe(ue)}finally{ue.add(j)}})}},590:(ft,Pe,F)=>{F.d(Pe,{P:()=>Ce});var y=F(6805),$=F(9300),j=F(5698),ae=F(6590),ue=F(8068),ge=F(4671);function Ce(_e,ye){const ne=arguments.length>=2;return re=>re.pipe(_e?(0,$.h)((de,Qe)=>_e(de,Qe,re)):ge.y,(0,j.q)(1),ne?(0,ae.d)(ye):(0,ue.T)(()=>new y.K))}},4004:(ft,Pe,F)=>{F.d(Pe,{U:()=>j});var y=F(4482),$=F(5403);function j(ae,ue){return(0,y.e)((ge,Ce)=>{let _e=0;ge.subscribe((0,$.x)(Ce,ye=>{Ce.next(ae.call(ue,ye,_e++))}))})}},9718:(ft,Pe,F)=>{F.d(Pe,{h:()=>$});var y=F(4004);function $(j){return(0,y.U)(()=>j)}},8189:(ft,Pe,F)=>{F.d(Pe,{J:()=>j});var y=F(5577),$=F(4671);function j(ae=1/0){return(0,y.z)($.y,ae)}},5577:(ft,Pe,F)=>{F.d(Pe,{z:()=>_e});var y=F(4004),$=F(8421),j=F(4482),ae=F(9672),ue=F(5403),Ce=F(576);function _e(ye,ne,re=1/0){return(0,Ce.m)(ne)?_e((de,Qe)=>(0,y.U)((We,st)=>ne(de,We,Qe,st))((0,$.Xf)(ye(de,Qe))),re):("number"==typeof ne&&(re=ne),(0,j.e)((de,Qe)=>function ge(ye,ne,re,de,Qe,We,st,pt){const Le=[];let Ye=0,$e=0,Je=!1;const Se=()=>{Je&&!Le.length&&!Ye&&ne.complete()},fe=et=>Ye<de?Fe(et):Le.push(et),Fe=et=>{We&&ne.next(et),Ye++;let nt=!1;(0,$.Xf)(re(et,$e++)).subscribe((0,ue.x)(ne,N=>{Qe?.(N),We?fe(N):ne.next(N)},()=>{nt=!0},void 0,()=>{if(nt)try{for(Ye--;Le.length&&Ye<de;){const N=Le.shift();st?(0,ae.f)(ne,st,()=>Fe(N)):Fe(N)}Se()}catch(N){ne.error(N)}}))};return ye.subscribe((0,ue.x)(ne,fe,()=>{Je=!0,Se()})),()=>{pt?.()}}(de,Qe,ye,re)))}},5363:(ft,Pe,F)=>{F.d(Pe,{Q:()=>ae});var y=F(9672),$=F(4482),j=F(5403);function ae(ue,ge=0){return(0,$.e)((Ce,_e)=>{Ce.subscribe((0,j.x)(_e,ye=>(0,y.f)(_e,ue,()=>_e.next(ye),ge),()=>(0,y.f)(_e,ue,()=>_e.complete(),ge),ye=>(0,y.f)(_e,ue,()=>_e.error(ye),ge)))})}},5026:(ft,Pe,F)=>{F.d(Pe,{R:()=>ae});var y=F(4482),$=F(5403);function j(ue,ge,Ce,_e,ye){return(ne,re)=>{let de=Ce,Qe=ge,We=0;ne.subscribe((0,$.x)(re,st=>{const pt=We++;Qe=de?ue(Qe,st,pt):(de=!0,st),_e&&re.next(Qe)},ye&&(()=>{de&&re.next(Qe),re.complete()})))}}function ae(ue,ge){return(0,y.e)(j(ue,ge,arguments.length>=2,!0))}},3099:(ft,Pe,F)=>{F.d(Pe,{B:()=>ue});var y=F(8421),$=F(7579),j=F(930),ae=F(4482);function ue(Ce={}){const{connector:_e=(()=>new $.x),resetOnError:ye=!0,resetOnComplete:ne=!0,resetOnRefCountZero:re=!0}=Ce;return de=>{let Qe,We,st,pt=0,Le=!1,Ye=!1;const $e=()=>{We?.unsubscribe(),We=void 0},Je=()=>{$e(),Qe=st=void 0,Le=Ye=!1},Se=()=>{const fe=Qe;Je(),fe?.unsubscribe()};return(0,ae.e)((fe,Fe)=>{pt++,!Ye&&!Le&&$e();const et=st=st??_e();Fe.add(()=>{pt--,0===pt&&!Ye&&!Le&&(We=ge(Se,re))}),et.subscribe(Fe),!Qe&&pt>0&&(Qe=new j.Hp({next:nt=>et.next(nt),error:nt=>{Ye=!0,$e(),We=ge(Je,ye,nt),et.error(nt)},complete:()=>{Le=!0,$e(),We=ge(Je,ne),et.complete()}}),(0,y.Xf)(fe).subscribe(Qe))})(de)}}function ge(Ce,_e,...ye){if(!0===_e)return void Ce();if(!1===_e)return;const ne=new j.Hp({next:()=>{ne.unsubscribe(),Ce()}});return _e(...ye).subscribe(ne)}},8675:(ft,Pe,F)=>{F.d(Pe,{O:()=>ae});var y=F(7272),$=F(3269),j=F(4482);function ae(...ue){const ge=(0,$.yG)(ue);return(0,j.e)((Ce,_e)=>{(ge?(0,y.z)(ue,Ce,ge):(0,y.z)(ue,Ce)).subscribe(_e)})}},9468:(ft,Pe,F)=>{F.d(Pe,{R:()=>$});var y=F(4482);function $(j,ae=0){return(0,y.e)((ue,ge)=>{ge.add(j.schedule(()=>ue.subscribe(ge),ae))})}},3900:(ft,Pe,F)=>{F.d(Pe,{w:()=>ae});var y=F(8421),$=F(4482),j=F(5403);function ae(ue,ge){return(0,$.e)((Ce,_e)=>{let ye=null,ne=0,re=!1;const de=()=>re&&!ye&&_e.complete();Ce.subscribe((0,j.x)(_e,Qe=>{ye?.unsubscribe();let We=0;const st=ne++;(0,y.Xf)(ue(Qe,st)).subscribe(ye=(0,j.x)(_e,pt=>_e.next(ge?ge(Qe,pt,st,We++):pt),()=>{ye=null,de()}))},()=>{re=!0,de()}))})}},5698:(ft,Pe,F)=>{F.d(Pe,{q:()=>ae});var y=F(515),$=F(4482),j=F(5403);function ae(ue){return ue<=0?()=>y.E:(0,$.e)((ge,Ce)=>{let _e=0;ge.subscribe((0,j.x)(Ce,ye=>{++_e<=ue&&(Ce.next(ye),ue<=_e&&Ce.complete())}))})}},8505:(ft,Pe,F)=>{F.d(Pe,{b:()=>ue});var y=F(576),$=F(4482),j=F(5403),ae=F(4671);function ue(ge,Ce,_e){const ye=(0,y.m)(ge)||Ce||_e?{next:ge,error:Ce,complete:_e}:ge;return ye?(0,$.e)((ne,re)=>{var de;null===(de=ye.subscribe)||void 0===de||de.call(ye);let Qe=!0;ne.subscribe((0,j.x)(re,We=>{var st;null===(st=ye.next)||void 0===st||st.call(ye,We),re.next(We)},()=>{var We;Qe=!1,null===(We=ye.complete)||void 0===We||We.call(ye),re.complete()},We=>{var st;Qe=!1,null===(st=ye.error)||void 0===st||st.call(ye,We),re.error(We)},()=>{var We,st;Qe&&(null===(We=ye.unsubscribe)||void 0===We||We.call(ye)),null===(st=ye.finalize)||void 0===st||st.call(ye)}))}):ae.y}},8068:(ft,Pe,F)=>{F.d(Pe,{T:()=>ae});var y=F(6805),$=F(4482),j=F(5403);function ae(ge=ue){return(0,$.e)((Ce,_e)=>{let ye=!1;Ce.subscribe((0,j.x)(_e,ne=>{ye=!0,_e.next(ne)},()=>ye?_e.complete():_e.error(ge())))})}function ue(){return new y.K}},4408:(ft,Pe,F)=>{F.d(Pe,{o:()=>ue});var y=F(727);class $ extends y.w0{constructor(Ce,_e){super()}schedule(Ce,_e=0){return this}}const j={setInterval(ge,Ce,..._e){const{delegate:ye}=j;return ye?.setInterval?ye.setInterval(ge,Ce,..._e):setInterval(ge,Ce,..._e)},clearInterval(ge){const{delegate:Ce}=j;return(Ce?.clearInterval||clearInterval)(ge)},delegate:void 0};var ae=F(8737);class ue extends ${constructor(Ce,_e){super(Ce,_e),this.scheduler=Ce,this.work=_e,this.pending=!1}schedule(Ce,_e=0){var ye;if(this.closed)return this;this.state=Ce;const ne=this.id,re=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(re,ne,_e)),this.pending=!0,this.delay=_e,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(re,this.id,_e),this}requestAsyncId(Ce,_e,ye=0){return j.setInterval(Ce.flush.bind(Ce,this),ye)}recycleAsyncId(Ce,_e,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return _e;null!=_e&&j.clearInterval(_e)}execute(Ce,_e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(Ce,_e);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,_e){let ne,ye=!1;try{this.work(Ce)}catch(re){ye=!0,ne=re||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),ne}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:_e}=this,{actions:ye}=_e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ae.P)(ye,this),null!=Ce&&(this.id=this.recycleAsyncId(_e,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Pe,F)=>{F.d(Pe,{v:()=>j});var y=F(6063);class ${constructor(ue,ge=$.now){this.schedulerActionCtor=ue,this.now=ge}schedule(ue,ge=0,Ce){return new this.schedulerActionCtor(this,ue).schedule(Ce,ge)}}$.now=y.l.now;class j extends ${constructor(ue,ge=$.now){super(ue,ge),this.actions=[],this._active=!1}flush(ue){const{actions:ge}=this;if(this._active)return void ge.push(ue);let Ce;this._active=!0;do{if(Ce=ue.execute(ue.state,ue.delay))break}while(ue=ge.shift());if(this._active=!1,Ce){for(;ue=ge.shift();)ue.unsubscribe();throw Ce}}}},4986:(ft,Pe,F)=>{F.d(Pe,{P:()=>ae,z:()=>j});var y=F(4408);const j=new(F(7565).v)(y.o),ae=j},6063:(ft,Pe,F)=>{F.d(Pe,{l:()=>y});const y={now:()=>(y.delegate||Date).now(),delegate:void 0}},3410:(ft,Pe,F)=>{F.d(Pe,{z:()=>y});const y={setTimeout($,j,...ae){const{delegate:ue}=y;return ue?.setTimeout?ue.setTimeout($,j,...ae):setTimeout($,j,...ae)},clearTimeout($){const{delegate:j}=y;return(j?.clearTimeout||clearTimeout)($)},delegate:void 0}},2202:(ft,Pe,F)=>{F.d(Pe,{h:()=>$});const $=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Pe,F)=>{F.d(Pe,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(ft,Pe,F)=>{F.d(Pe,{K:()=>$});const $=(0,F(3888).d)(j=>function(){j(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(ft,Pe,F)=>{F.d(Pe,{_6:()=>ge,jO:()=>ae,yG:()=>ue});var y=F(576),$=F(3532);function j(Ce){return Ce[Ce.length-1]}function ae(Ce){return(0,y.m)(j(Ce))?Ce.pop():void 0}function ue(Ce){return(0,$.K)(j(Ce))?Ce.pop():void 0}function ge(Ce,_e){return"number"==typeof j(Ce)?Ce.pop():_e}},4742:(ft,Pe,F)=>{F.d(Pe,{D:()=>ue});const{isArray:y}=Array,{getPrototypeOf:$,prototype:j,keys:ae}=Object;function ue(Ce){if(1===Ce.length){const _e=Ce[0];if(y(_e))return{args:_e,keys:null};if(function ge(Ce){return Ce&&"object"==typeof Ce&&$(Ce)===j}(_e)){const ye=ae(_e);return{args:ye.map(ne=>_e[ne]),keys:ye}}}return{args:Ce,keys:null}}},8737:(ft,Pe,F)=>{function y($,j){if($){const ae=$.indexOf(j);0<=ae&&$.splice(ae,1)}}F.d(Pe,{P:()=>y})},3888:(ft,Pe,F)=>{function y($){const ae=$(ue=>{Error.call(ue),ue.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}F.d(Pe,{d:()=>y})},1810:(ft,Pe,F)=>{function y($,j){return $.reduce((ae,ue,ge)=>(ae[ue]=j[ge],ae),{})}F.d(Pe,{n:()=>y})},2806:(ft,Pe,F)=>{F.d(Pe,{O:()=>ae,x:()=>j});var y=F(2416);let $=null;function j(ue){if(y.v.useDeprecatedSynchronousErrorHandling){const ge=!$;if(ge&&($={errorThrown:!1,error:null}),ue(),ge){const{errorThrown:Ce,error:_e}=$;if($=null,Ce)throw _e}}else ue()}function ae(ue){y.v.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=ue)}},9672:(ft,Pe,F)=>{function y($,j,ae,ue=0,ge=!1){const Ce=j.schedule(function(){ae(),ge?$.add(this.schedule(null,ue)):this.unsubscribe()},ue);if($.add(Ce),!ge)return Ce}F.d(Pe,{f:()=>y})},4671:(ft,Pe,F)=>{function y($){return $}F.d(Pe,{y:()=>y})},1144:(ft,Pe,F)=>{F.d(Pe,{z:()=>y});const y=$=>$&&"number"==typeof $.length&&"function"!=typeof $},2206:(ft,Pe,F)=>{F.d(Pe,{D:()=>$});var y=F(576);function $(j){return Symbol.asyncIterator&&(0,y.m)(j?.[Symbol.asyncIterator])}},576:(ft,Pe,F)=>{function y($){return"function"==typeof $}F.d(Pe,{m:()=>y})},3670:(ft,Pe,F)=>{F.d(Pe,{c:()=>j});var y=F(8822),$=F(576);function j(ae){return(0,$.m)(ae[y.L])}},6495:(ft,Pe,F)=>{F.d(Pe,{T:()=>j});var y=F(2202),$=F(576);function j(ae){return(0,$.m)(ae?.[y.h])}},8239:(ft,Pe,F)=>{F.d(Pe,{t:()=>$});var y=F(576);function $(j){return(0,y.m)(j?.then)}},3260:(ft,Pe,F)=>{F.d(Pe,{L:()=>ae,Q:()=>j});var y=F(655),$=F(576);function j(ue){return(0,y.FC)(this,arguments,function*(){const Ce=ue.getReader();try{for(;;){const{value:_e,done:ye}=yield(0,y.qq)(Ce.read());if(ye)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(_e)}}finally{Ce.releaseLock()}})}function ae(ue){return(0,$.m)(ue?.getReader)}},3532:(ft,Pe,F)=>{F.d(Pe,{K:()=>$});var y=F(576);function $(j){return j&&(0,y.m)(j.schedule)}},4482:(ft,Pe,F)=>{F.d(Pe,{A:()=>$,e:()=>j});var y=F(576);function $(ae){return(0,y.m)(ae?.lift)}function j(ae){return ue=>{if($(ue))return ue.lift(function(ge){try{return ae(ge,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(ft,Pe,F)=>{F.d(Pe,{Z:()=>ae});var y=F(4004);const{isArray:$}=Array;function ae(ue){return(0,y.U)(ge=>function j(ue,ge){return $(ge)?ue(...ge):ue(ge)}(ue,ge))}},5032:(ft,Pe,F)=>{function y(){}F.d(Pe,{Z:()=>y})},9635:(ft,Pe,F)=>{F.d(Pe,{U:()=>j,z:()=>$});var y=F(4671);function $(...ae){return j(ae)}function j(ae){return 0===ae.length?y.y:1===ae.length?ae[0]:function(ge){return ae.reduce((Ce,_e)=>_e(Ce),ge)}}},7849:(ft,Pe,F)=>{F.d(Pe,{h:()=>j});var y=F(2416),$=F(3410);function j(ae){$.z.setTimeout(()=>{const{onUnhandledError:ue}=y.v;if(!ue)throw ae;ue(ae)})}},4532:(ft,Pe,F)=>{function y($){return new TypeError(`You provided ${null!==$&&"object"==typeof $?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Pe,{z:()=>y})},655:(ft,Pe,F)=>{function ae(pe,ve){var Re={};for(var Oe in pe)Object.prototype.hasOwnProperty.call(pe,Oe)&&ve.indexOf(Oe)<0&&(Re[Oe]=pe[Oe]);if(null!=pe&&"function"==typeof Object.getOwnPropertySymbols){var at=0;for(Oe=Object.getOwnPropertySymbols(pe);at<Oe.length;at++)ve.indexOf(Oe[at])<0&&Object.prototype.propertyIsEnumerable.call(pe,Oe[at])&&(Re[Oe[at]]=pe[Oe[at]])}return Re}function _e(pe,ve,Re,Oe){return new(Re||(Re=Promise))(function(ot,At){function Cn(tn){try{Qt(Oe.next(tn))}catch(Ot){At(Ot)}}function jn(tn){try{Qt(Oe.throw(tn))}catch(Ot){At(Ot)}}function Qt(tn){tn.done?ot(tn.value):function at(ot){return ot instanceof Re?ot:new Re(function(At){At(ot)})}(tn.value).then(Cn,jn)}Qt((Oe=Oe.apply(pe,ve||[])).next())})}function Le(pe){return this instanceof Le?(this.v=pe,this):new Le(pe)}function Ye(pe,ve,Re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var at,Oe=Re.apply(pe,ve||[]),ot=[];return at={},At("next"),At("throw"),At("return"),at[Symbol.asyncIterator]=function(){return this},at;function At(pn){Oe[pn]&&(at[pn]=function(ur){return new Promise(function(kt,Rt){ot.push([pn,ur,kt,Rt])>1||Cn(pn,ur)})})}function Cn(pn,ur){try{!function jn(pn){pn.value instanceof Le?Promise.resolve(pn.value.v).then(Qt,tn):Ot(ot[0][2],pn)}(Oe[pn](ur))}catch(kt){Ot(ot[0][3],kt)}}function Qt(pn){Cn("next",pn)}function tn(pn){Cn("throw",pn)}function Ot(pn,ur){pn(ur),ot.shift(),ot.length&&Cn(ot[0][0],ot[0][1])}}function Je(pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ve=pe[Symbol.asyncIterator];return ve?ve.call(pe):(pe=function de(pe){var ve="function"==typeof Symbol&&Symbol.iterator,Re=ve&&pe[ve],Oe=0;if(Re)return Re.call(pe);if(pe&&"number"==typeof pe.length)return{next:function(){return pe&&Oe>=pe.length&&(pe=void 0),{value:pe&&pe[Oe++],done:!pe}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(pe),Re={},Oe("next"),Oe("throw"),Oe("return"),Re[Symbol.asyncIterator]=function(){return this},Re);function Oe(ot){Re[ot]=pe[ot]&&function(At){return new Promise(function(Cn,jn){!function at(ot,At,Cn,jn){Promise.resolve(jn).then(function(Qt){ot({value:Qt,done:Cn})},At)}(Cn,jn,(At=pe[ot](At)).done,At.value)})}}}F.d(Pe,{FC:()=>Ye,KL:()=>Je,_T:()=>ae,mG:()=>_e,qq:()=>Le})},7340:(ft,Pe,F)=>{F.d(Pe,{LC:()=>$,SB:()=>ye,X$:()=>ae,ZE:()=>$e,ZN:()=>Ye,_j:()=>y,eR:()=>re,jt:()=>ue,k1:()=>Je,l3:()=>j,oB:()=>_e,vP:()=>Ce});class y{}class ${}const j="*";function ae(Se,fe){return{type:7,name:Se,definitions:fe,options:{}}}function ue(Se,fe=null){return{type:4,styles:fe,timings:Se}}function Ce(Se,fe=null){return{type:2,steps:Se,options:fe}}function _e(Se){return{type:6,styles:Se,offset:null}}function ye(Se,fe,Fe){return{type:0,name:Se,styles:fe,options:Fe}}function re(Se,fe,Fe=null){return{type:1,expr:Se,animation:fe,options:Fe}}function Le(Se){Promise.resolve().then(Se)}class Ye{constructor(fe=0,Fe=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=fe+Fe}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}onStart(fe){this._originalOnStartFns.push(fe),this._onStartFns.push(fe)}onDone(fe){this._originalOnDoneFns.push(fe),this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Le(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(fe=>fe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(fe){this._position=this.totalTime?fe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(fe){const Fe="start"==fe?this._onStartFns:this._onDoneFns;Fe.forEach(et=>et()),Fe.length=0}}class $e{constructor(fe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=fe;let Fe=0,et=0,nt=0;const N=this.players.length;0==N?Le(()=>this._onFinish()):this.players.forEach(Be=>{Be.onDone(()=>{++Fe==N&&this._onFinish()}),Be.onDestroy(()=>{++et==N&&this._onDestroy()}),Be.onStart(()=>{++nt==N&&this._onStart()})}),this.totalTime=this.players.reduce((Be,pe)=>Math.max(Be,pe.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(fe=>fe()),this._onDoneFns=[])}init(){this.players.forEach(fe=>fe.init())}onStart(fe){this._onStartFns.push(fe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(fe=>fe()),this._onStartFns=[])}onDone(fe){this._onDoneFns.push(fe)}onDestroy(fe){this._onDestroyFns.push(fe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(fe=>fe.play())}pause(){this.players.forEach(fe=>fe.pause())}restart(){this.players.forEach(fe=>fe.restart())}finish(){this._onFinish(),this.players.forEach(fe=>fe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(fe=>fe.destroy()),this._onDestroyFns.forEach(fe=>fe()),this._onDestroyFns=[])}reset(){this.players.forEach(fe=>fe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(fe){const Fe=fe*this.totalTime;this.players.forEach(et=>{const nt=et.totalTime?Math.min(1,Fe/et.totalTime):1;et.setPosition(nt)})}getPosition(){const fe=this.players.reduce((Fe,et)=>null===Fe||et.totalTime>Fe.totalTime?et:Fe,null);return null!=fe?fe.getPosition():0}beforeDestroy(){this.players.forEach(fe=>{fe.beforeDestroy&&fe.beforeDestroy()})}triggerCallback(fe){const Fe="start"==fe?this._onStartFns:this._onDoneFns;Fe.forEach(et=>et()),Fe.length=0}}const Je="!"},6895:(ft,Pe,F)=>{F.d(Pe,{Do:()=>$e,EM:()=>Ts,HT:()=>ae,JF:()=>Do,K0:()=>ge,Mx:()=>Mr,NF:()=>bs,O5:()=>Pi,PM:()=>hs,S$:()=>pt,V_:()=>ye,Ye:()=>Je,b0:()=>Ye,bD:()=>Js,ez:()=>Fs,q:()=>j,w_:()=>ue});var y=F(4650);let $=null;function j(){return $}function ae(C){$||($=C)}class ue{}const ge=new y.OlP("DocumentToken");let Ce=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=y.Yz7({token:C,factory:function(){return function _e(){return(0,y.LFG)(ne)}()},providedIn:"platform"}),C})();const ye=new y.OlP("Location Initialized");let ne=(()=>{class C extends Ce{constructor(S){super(),this._doc=S,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return j().getBaseHref(this._doc)}onPopState(S){const V=j().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",S,!1),()=>V.removeEventListener("popstate",S)}onHashChange(S){const V=j().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",S,!1),()=>V.removeEventListener("hashchange",S)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(S){this._location.pathname=S}pushState(S,V,X){re()?this._history.pushState(S,V,X):this._location.hash=X}replaceState(S,V,X){re()?this._history.replaceState(S,V,X):this._location.hash=X}forward(){this._history.forward()}back(){this._history.back()}historyGo(S=0){this._history.go(S)}getState(){return this._history.state}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(ge))},C.\u0275prov=y.Yz7({token:C,factory:function(){return function de(){return new ne((0,y.LFG)(ge))}()},providedIn:"platform"}),C})();function re(){return!!window.history.pushState}function Qe(C,L){if(0==C.length)return L;if(0==L.length)return C;let S=0;return C.endsWith("/")&&S++,L.startsWith("/")&&S++,2==S?C+L.substring(1):1==S?C+L:C+"/"+L}function We(C){const L=C.match(/#|\?|$/),S=L&&L.index||C.length;return C.slice(0,S-("/"===C[S-1]?1:0))+C.slice(S)}function st(C){return C&&"?"!==C[0]?"?"+C:C}let pt=(()=>{class C{historyGo(S){throw new Error("Not implemented")}}return C.\u0275fac=function(S){return new(S||C)},C.\u0275prov=y.Yz7({token:C,factory:function(){return(0,y.f3M)(Ye)},providedIn:"root"}),C})();const Le=new y.OlP("appBaseHref");let Ye=(()=>{class C extends pt{constructor(S,V){super(),this._platformLocation=S,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}prepareExternalUrl(S){return Qe(this._baseHref,S)}path(S=!1){const V=this._platformLocation.pathname+st(this._platformLocation.search),X=this._platformLocation.hash;return X&&S?`${V}${X}`:V}pushState(S,V,X,ke){const we=this.prepareExternalUrl(X+st(ke));this._platformLocation.pushState(S,V,we)}replaceState(S,V,X,ke){const we=this.prepareExternalUrl(X+st(ke));this._platformLocation.replaceState(S,V,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(Ce),y.LFG(Le,8))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})(),$e=(()=>{class C extends pt{constructor(S,V){super(),this._platformLocation=S,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(S){this._removeListenerFns.push(this._platformLocation.onPopState(S),this._platformLocation.onHashChange(S))}getBaseHref(){return this._baseHref}path(S=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(S){const V=Qe(this._baseHref,S);return V.length>0?"#"+V:V}pushState(S,V,X,ke){let we=this.prepareExternalUrl(X+st(ke));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.pushState(S,V,we)}replaceState(S,V,X,ke){let we=this.prepareExternalUrl(X+st(ke));0==we.length&&(we=this._platformLocation.pathname),this._platformLocation.replaceState(S,V,we)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(S=0){this._platformLocation.historyGo?.(S)}}return C.\u0275fac=function(S){return new(S||C)(y.LFG(Ce),y.LFG(Le,8))},C.\u0275prov=y.Yz7({token:C,factory:C.\u0275fac}),C})(),Je=(()=>{class C{constructor(S){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=S;const V=this._locationStrategy.getBaseHref();this._basePath=function et(C){if(new RegExp("^(https?:)?//").test(C)){const[,S]=C.split(/\/\/[^\/]+/);return S}return C}(We(Fe(V))),this._locationStrategy.onPopState(X=>{this._subject.emit({url:this.path(!0),pop:!0,state:X.state,type:X.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(S=!1){return this.normalize(this._locationStrategy.path(S))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(S,V=""){return this.path()==this.normalize(S+st(V))}normalize(S){return C.stripTrailingSlash(function fe(C,L){return C&&new RegExp(`^${C}([/;?#]|$)`).test(L)?L.substring(C.length):L}(this._basePath,Fe(S)))}prepareExternalUrl(S){return S&&"/"!==S[0]&&(S="/"+S),this._locationStrategy.prepareExternalUrl(S)}go(S,V="",X=null){this._locationStrategy.pushState(X,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+st(V)),X)}replaceState(S,V="",X=null){this._locationStrategy.replaceState(X,"",S,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(S+st(V)),X)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(S=0){this._locationStrategy.historyGo?.(S)}onUrlChange(S){return this._urlChangeListeners.push(S),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(S);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(S="",V){this._urlChangeListeners.forEach(X=>X(S,V))}subscribe(S,V,X){return this._subject.subscribe({next:S,error:V,complete:X})}}return C.normalizeQueryParams=st,C.joinWithSlash=Qe,C.stripTrailingSlash=We,C.\u0275fac=function(S){return new(S||C)(y.LFG(pt))},C.\u0275prov=y.Yz7({token:C,factory:function(){return function Se(){return new Je((0,y.LFG)(pt))}()},providedIn:"root"}),C})();function Fe(C){return C.replace(/\/index.html$/,"")}function Mr(C,L){L=encodeURIComponent(L);for(const S of C.split(";")){const V=S.indexOf("="),[X,ke]=-1==V?[S,""]:[S.slice(0,V),S.slice(V+1)];if(X.trim()===L)return decodeURIComponent(ke)}return null}let Pi=(()=>{class C{constructor(S,V){this._viewContainer=S,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(S){this._context.$implicit=this._context.ngIf=S,this._updateView()}set ngIfThen(S){ks("ngIfThen",S),this._thenTemplateRef=S,this._thenViewRef=null,this._updateView()}set ngIfElse(S){ks("ngIfElse",S),this._elseTemplateRef=S,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(S,V){return!0}}return C.\u0275fac=function(S){return new(S||C)(y.Y36(y.s_b),y.Y36(y.Rgc))},C.\u0275dir=y.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),C})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function ks(C,L){if(L&&!L.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,y.AaK)(L)}'.`)}let Fs=(()=>{class C{}return C.\u0275fac=function(S){return new(S||C)},C.\u0275mod=y.oAB({type:C}),C.\u0275inj=y.cJS({}),C})();const Js="browser";function bs(C){return C===Js}function hs(C){return"server"===C}let Ts=(()=>{class C{}return C.\u0275prov=(0,y.Yz7)({token:C,providedIn:"root",factory:()=>new Pr((0,y.LFG)(ge),window)}),C})();class Pr{constructor(L,S){this.document=L,this.window=S,this.offset=()=>[0,0]}setOffset(L){this.offset=Array.isArray(L)?()=>L:L}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(L){this.supportsScrolling()&&this.window.scrollTo(L[0],L[1])}scrollToAnchor(L){if(!this.supportsScrolling())return;const S=function Hi(C,L){const S=C.getElementById(L)||C.getElementsByName(L)[0];if(S)return S;if("function"==typeof C.createTreeWalker&&C.body&&(C.body.createShadowRoot||C.body.attachShadow)){const V=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let X=V.currentNode;for(;X;){const ke=X.shadowRoot;if(ke){const we=ke.getElementById(L)||ke.querySelector(`[name="${L}"]`);if(we)return we}X=V.nextNode()}}return null}(this.document,L);S&&(this.scrollToElement(S),S.focus())}setHistoryScrollRestoration(L){if(this.supportScrollRestoration()){const S=this.window.history;S&&S.scrollRestoration&&(S.scrollRestoration=L)}}scrollToElement(L){const S=L.getBoundingClientRect(),V=S.left+this.window.pageXOffset,X=S.top+this.window.pageYOffset,ke=this.offset();this.window.scrollTo(V-ke[0],X-ke[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const L=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!L||!L.writable&&!L.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Lr(C){return Object.getOwnPropertyDescriptor(C,"scrollRestoration")}class Do{}},4650:(ft,Pe,F)=>{F.d(Pe,{$8M:()=>Ya,$WT:()=>Qn,$Z:()=>pp,AFp:()=>Cy,AaK:()=>_e,CHM:()=>ts,CRH:()=>ty,CZH:()=>wf,CqO:()=>um,D6c:()=>pD,EJc:()=>MI,EiD:()=>ph,EpF:()=>am,F$t:()=>pm,F4k:()=>lm,FYo:()=>qs,FiY:()=>Oa,G48:()=>qI,Gf:()=>X_,GfV:()=>Qu,Gpc:()=>re,Hsn:()=>gm,JOm:()=>vo,JVY:()=>Ee,JZr:()=>pt,KtG:()=>ki,L6k:()=>Ke,LAX:()=>vt,LFG:()=>ut,Lbi:()=>bI,Lck:()=>y0,MMx:()=>eg,NdJ:()=>xp,OlP:()=>pr,P3R:()=>_h,PXZ:()=>WI,Q6J:()=>Mp,QGY:()=>kp,QbO:()=>TI,Qsj:()=>Ac,R0b:()=>Da,RDi:()=>ia,Rgc:()=>oh,SBq:()=>qu,Sil:()=>PI,Suo:()=>ey,TTD:()=>ci,TgZ:()=>cf,Udp:()=>$p,WFA:()=>Lp,X6Q:()=>YI,XFs:()=>Pt,Xpm:()=>dr,Xts:()=>Sc,Y36:()=>rc,YKP:()=>N_,YNc:()=>sm,Yjl:()=>Ii,Yz7:()=>Rt,Z0I:()=>nr,ZZ4:()=>Cg,_Bn:()=>O_,_UZ:()=>Pp,_Vd:()=>pu,_c5:()=>hD,_uU:()=>Um,aQg:()=>bg,c2e:()=>SI,cJS:()=>cr,cg1:()=>Gp,d8E:()=>zp,dDg:()=>VI,dqk:()=>Jt,eBb:()=>gt,eFA:()=>Fy,ekj:()=>Hp,eoX:()=>ky,f3M:()=>_t,g9A:()=>Ty,h0i:()=>ed,hGG:()=>fD,iGM:()=>J_,ifc:()=>mn,ip1:()=>wy,jDz:()=>x_,kL8:()=>i_,lG2:()=>Ar,lqb:()=>fu,lri:()=>Oy,mCW:()=>ul,n5z:()=>ro,n_E:()=>yf,oAB:()=>Yn,oxw:()=>fm,pB0:()=>an,q3G:()=>Li,q4F:()=>Mc,qLn:()=>Xu,qOj:()=>bp,qZA:()=>df,qzn:()=>x,rWj:()=>Ny,sBO:()=>QI,s_b:()=>Ef,soG:()=>Cf,tb:()=>Sy,tp0:()=>P,uIk:()=>Ap,vHH:()=>Le,vpe:()=>ml,wAp:()=>wn,xp6:()=>Ul,z2F:()=>bf,z3N:()=>v,zSh:()=>wh,zs3:()=>dl});var y=F(7579),$=F(727),j=F(9751),ae=F(6451),ue=F(3099);function ge(e){for(let t in e)if(e[t]===ge)return t;throw Error("Could not find renamed property on target object.")}function Ce(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function _e(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function ye(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ne=ge({__forward_ref__:ge});function re(e){return e.__forward_ref__=re,e.toString=function(){return _e(this())},e}function de(e){return Qe(e)?e():e}function Qe(e){return"function"==typeof e&&e.hasOwnProperty(ne)&&e.__forward_ref__===re}function We(e){return e&&!!e.\u0275providers}const pt="https://g.co/ng/security#xss";class Le extends Error{constructor(t,n){super(function Ye(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}(t,n)),this.code=t}}function $e(e){return"string"==typeof e?e:null==e?"":String(e)}function et(e,t){throw new Le(-201,!1)}function tn(e,t){null==e&&function Ot(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function Rt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function cr(e){return{providers:e.providers||[],imports:e.imports||[]}}function jr(e){return gn(e,rr)||gn(e,rn)}function nr(e){return null!==jr(e)}function gn(e,t){return e.hasOwnProperty(t)?e[t]:null}function Wr(e){return e&&(e.hasOwnProperty(An)||e.hasOwnProperty(Wn))?e[An]:null}const rr=ge({\u0275prov:ge}),An=ge({\u0275inj:ge}),rn=ge({ngInjectableDef:ge}),Wn=ge({ngInjectorDef:ge});var Pt=(()=>((Pt=Pt||{})[Pt.Default=0]="Default",Pt[Pt.Host=1]="Host",Pt[Pt.Self=2]="Self",Pt[Pt.SkipSelf=4]="SkipSelf",Pt[Pt.Optional=8]="Optional",Pt))();let zr;function un(e){const t=zr;return zr=e,t}function mr(e,t,n){const s=jr(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&Pt.Optional?null:void 0!==t?t:void et(_e(e))}const Jt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Dt={},zn="__NG_DI_FLAG__",Sr="ngTempTokenPath",Ei=/\n/gm,ei="__source";let Tn;function sr(e){const t=Tn;return Tn=e,t}function Gr(e,t=Pt.Default){if(void 0===Tn)throw new Le(-203,!1);return null===Tn?mr(e,void 0,t):Tn.get(e,t&Pt.Optional?null:void 0,t)}function ut(e,t=Pt.Default){return(function Xr(){return zr}()||Gr)(de(e),t)}function _t(e,t=Pt.Default){return ut(e,Lt(t))}function Lt(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $t(e){const t=[];for(let n=0;n<e.length;n++){const s=de(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Le(900,!1);let a,c=Pt.Default;for(let g=0;g<s.length;g++){const D=s[g],T=se(D);"number"==typeof T?-1===T?a=D.token:c|=T:a=D}t.push(ut(a,c))}else t.push(ut(s))}return t}function Xt(e,t){return e[zn]=t,e.prototype[zn]=t,e}function se(e){return e[zn]}function je(e){return{toString:e}.toString()}var Me=(()=>((Me=Me||{})[Me.OnPush=0]="OnPush",Me[Me.Default=1]="Default",Me))(),mn=(()=>{return(e=mn||(mn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",mn;var e})();const Un={},ce=[],he=ge({\u0275cmp:ge}),Q=ge({\u0275dir:ge}),De=ge({\u0275pipe:ge}),Xe=ge({\u0275mod:ge}),St=ge({\u0275fac:ge}),_n=ge({__NG_ELEMENT_ID__:ge});let kr=0;function dr(e){return je(()=>{const n=!0===e.standalone,s={},a={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Me.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||ce,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||mn.Emulated,id:"c"+kr++,styles:e.styles||ce,_:null,setInput:null,schemas:e.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},c=e.dependencies,g=e.features;return a.inputs=uo(e.inputs,s),a.outputs=uo(e.outputs),g&&g.forEach(D=>D(a)),a.directiveDefs=c?()=>("function"==typeof c?c():c).map(Ui).filter(ls):null,a.pipeDefs=c?()=>("function"==typeof c?c():c).map(Er).filter(ls):null,a})}function Ui(e){return Mn(e)||vr(e)}function ls(e){return null!==e}function Yn(e){return je(()=>({type:e.type,bootstrap:e.bootstrap||ce,declarations:e.declarations||ce,imports:e.imports||ce,exports:e.exports||ce,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function uo(e,t){if(null==e)return Un;const n={};for(const s in e)if(e.hasOwnProperty(s)){let a=e[s],c=a;Array.isArray(a)&&(c=a[1],a=a[0]),n[a]=s,t&&(t[a]=c)}return n}const Ar=dr;function Ii(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Mn(e){return e[he]||null}function vr(e){return e[Q]||null}function Er(e){return e[De]||null}function Qn(e){const t=Mn(e)||vr(e)||Er(e);return null!==t&&t.standalone}function Mr(e,t){const n=e[Xe]||null;if(!n&&!0===t)throw new Error(`Type ${_e(e)} does not have '\u0275mod' property.`);return n}function Br(e){return Array.isArray(e)&&"object"==typeof e[1]}function Tr(e){return Array.isArray(e)&&!0===e[1]}function ui(e){return 0!=(4&e.flags)}function In(e){return e.componentOffset>-1}function cn(e){return 1==(1&e.flags)}function qn(e){return null!==e.template}function Is(e){return 0!=(256&e[2])}function Rr(e,t){return e.hasOwnProperty(St)?e[St]:null}class bi{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function ci(){return Ts}function Ts(e){return e.type.prototype.ngOnChanges&&(e.setInput=Lr),Pr}function Pr(){const e=ji(this),t=e?.current;if(t){const n=e.previous;if(n===Un)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Lr(e,t,n,s){const a=this.declaredInputs[n],c=ji(e)||function Do(e,t){return e[Hi]=t}(e,{previous:Un,current:null}),g=c.current||(c.current={}),D=c.previous,T=D[a];g[a]=new bi(T&&T.currentValue,t,D===Un),e[s]=t}ci.ngInherit=!0;const Hi="__ngSimpleChanges__";function ji(e){return e[Hi]||null}function er(e){for(;Array.isArray(e);)e=e[0];return e}function or(e,t){return er(t[e.index])}function Vr(e,t){return e.data[t]}function hr(e,t){const n=t[e];return Br(n)?n:n[0]}function Ti(e){return 64==(64&e[2])}function Fr(e,t){return null==t?null:e[t]}function Zt(e){e[18]=0}function eo(e,t){e[5]+=t;let n=e,s=e[3];for(;null!==s&&(1===t&&1===n[5]||-1===t&&0===n[5]);)s[5]+=t,n=s,s=s[3]}const Ut={lFrame:mt(null),bindingsEnabled:!0};function to(){return Ut.bindingsEnabled}function He(){return Ut.lFrame.lView}function Sn(){return Ut.lFrame.tView}function ts(e){return Ut.lFrame.contextLView=e,e[8]}function ki(e){return Ut.lFrame.contextLView=null,e}function Hr(){let e=fs();for(;null!==e&&64===e.type;)e=e.parent;return e}function fs(){return Ut.lFrame.currentTNode}function pi(e,t){const n=Ut.lFrame;n.currentTNode=e,n.isParent=t}function fo(){return Ut.lFrame.isParent}function js(){Ut.lFrame.isParent=!1}function Gi(){return Ut.lFrame.bindingIndex++}function U(e,t){const n=Ut.lFrame;n.bindingIndex=n.bindingRootIndex=e,E(t)}function E(e){Ut.lFrame.currentDirectiveIndex=e}function M(e){const t=Ut.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function B(){return Ut.lFrame.currentQueryIndex}function q(e){Ut.lFrame.currentQueryIndex=e}function oe(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function le(e,t,n){if(n&Pt.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||n&Pt.Host||(a=oe(c),null===a||(c=c[15],10&a.type))););if(null===a)return!1;t=a,e=c}const s=Ut.lFrame=Ze();return s.currentTNode=t,s.lView=e,!0}function Ae(e){const t=Ze(),n=e[1];Ut.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Ze(){const e=Ut.lFrame,t=null===e?null:e.child;return null===t?mt(e):t}function mt(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function It(){const e=Ut.lFrame;return Ut.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hn=It;function on(){const e=It();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Yt(){return Ut.lFrame.selectedIndex}function Hn(e){Ut.lFrame.selectedIndex=e}function vn(){const e=Ut.lFrame;return Vr(e.tView,e.selectedIndex)}function qr(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const c=e.data[n].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:G}=c;g&&(e.contentHooks||(e.contentHooks=[])).push(-n,g),D&&((e.contentHooks||(e.contentHooks=[])).push(n,D),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,D)),T&&(e.viewHooks||(e.viewHooks=[])).push(-n,T),k&&((e.viewHooks||(e.viewHooks=[])).push(n,k),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,k)),null!=G&&(e.destroyHooks||(e.destroyHooks=[])).push(n,G)}}function C(e,t,n){V(e,t,3,n)}function L(e,t,n,s){(3&e[2])===n&&V(e,t,n,s)}function S(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function V(e,t,n,s){const c=s??-1,g=t.length-1;let D=0;for(let T=void 0!==s?65535&e[18]:0;T<g;T++)if("number"==typeof t[T+1]){if(D=t[T],null!=s&&D>=s)break}else t[T]<0&&(e[18]+=65536),(D<c||-1==c)&&(X(e,n,t,T),e[18]=(4294901760&e[18])+T+2),T++}function X(e,t,n,s){const a=n[s]<0,c=n[s+1],D=e[a?-n[s]:n[s]];if(a){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{c.call(D)}finally{}}}else try{c.call(D)}finally{}}class we{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function Pn(e,t,n){let s=0;for(;s<n.length;){const a=n[s];if("number"==typeof a){if(0!==a)break;s++;const c=n[s++],g=n[s++],D=n[s++];e.setAttribute(t,g,D,c)}else{const c=a,g=n[++s];tr(c)?e.setProperty(t,c,g):e.setAttribute(t,c,g),s++}}return s}function oi(e){return 3===e||4===e||6===e}function tr(e){return 64===e.charCodeAt(0)}function wr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?n=a:0===n||Cr(e,n,a,null,-1===n||2===n?t[++s]:null)}}return e}function Cr(e,t,n,s,a){let c=0,g=e.length;if(-1===t)g=-1;else for(;c<e.length;){const D=e[c++];if("number"==typeof D){if(D===t){g=-1;break}if(D>t){g=c-1;break}}}for(;c<e.length;){const D=e[c];if("number"==typeof D)break;if(D===n){if(null===s)return void(null!==a&&(e[c+1]=a));if(s===e[c+1])return void(e[c+2]=a)}c++,null!==s&&c++,null!==a&&c++}-1!==g&&(e.splice(g,0,t),c=g+1),e.splice(c++,0,n),null!==s&&e.splice(c++,0,s),null!==a&&e.splice(c++,0,a)}function Zi(e){return-1!==e}function ps(e){return 32767&e}function Zo(e,t){let n=function Ko(e){return e>>16}(e),s=t;for(;n>0;)s=s[15],n--;return s}let no=!0;function Yo(e){const t=no;return no=e,t}let wa=0;const rs={};function po(e,t){const n=To(e,t);if(-1!==n)return n;const s=t[1];s.firstCreatePass&&(e.injectorIndex=t.length,go(s.data,e),go(t,null),go(s.blueprint,null));const a=aa(e,t),c=e.injectorIndex;if(Zi(a)){const g=ps(a),D=Zo(a,t),T=D[1].data;for(let k=0;k<8;k++)t[c+k]=D[g+k]|T[g+k]}return t[c+8]=a,c}function go(e,t){e.push(0,0,0,0,0,0,0,0,t)}function To(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function aa(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,a=t;for(;null!==a;){if(s=Sa(a),null===s)return-1;if(n++,a=a[15],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return-1}function mi(e,t,n){!function bo(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(_n)&&(s=n[_n]),null==s&&(s=n[_n]=wa++);const a=255&s;t.data[e+(a>>5)]|=1<<a}(e,t,n)}function Gs(e,t,n){if(n&Pt.Optional||void 0!==e)return e;et()}function la(e,t,n,s){if(n&Pt.Optional&&void 0===s&&(s=null),!(n&(Pt.Self|Pt.Host))){const a=e[9],c=un(void 0);try{return a?a.get(t,s,n&Pt.Optional):mr(t,s,n&Pt.Optional)}finally{un(c)}}return Gs(s,0,n)}function Za(e,t,n,s=Pt.Default,a){if(null!==e){if(1024&t[2]){const g=function Ta(e,t,n,s,a){let c=e,g=t;for(;null!==c&&null!==g&&1024&g[2]&&!(256&g[2]);){const D=gs(c,g,n,s|Pt.Self,rs);if(D!==rs)return D;let T=c.parent;if(!T){const k=g[21];if(k){const G=k.get(n,rs,s);if(G!==rs)return G}T=Sa(g),g=g[15]}c=T}return a}(e,t,n,s,rs);if(g!==rs)return g}const c=gs(e,t,n,s,rs);if(c!==rs)return c}return la(t,n,s,a)}function gs(e,t,n,s,a){const c=function Jo(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(_n)?e[_n]:void 0;return"number"==typeof t?t>=0?255&t:ba:t}(n);if("function"==typeof c){if(!le(t,e,s))return s&Pt.Host?Gs(a,0,s):la(t,n,s,a);try{const g=c(s);if(null!=g||s&Pt.Optional)return g;et()}finally{hn()}}else if("number"==typeof c){let g=null,D=To(e,t),T=-1,k=s&Pt.Host?t[16][6]:null;for((-1===D||s&Pt.SkipSelf)&&(T=-1===D?aa(e,t):t[D+8],-1!==T&&Si(s,!1)?(g=t[1],D=ps(T),t=Zo(T,t)):D=-1);-1!==D;){const G=t[1];if(ca(c,D,G.data)){const J=Qo(D,t,n,g,s,k);if(J!==rs)return J}T=t[D+8],-1!==T&&Si(s,t[1].data[D+8]===k)&&ca(c,D,t)?(g=G,D=ps(T),t=Zo(T,t)):D=-1}}return a}function Qo(e,t,n,s,a,c){const g=t[1],D=g.data[e+8],G=ua(D,g,n,null==s?In(D)&&no:s!=g&&0!=(3&D.type),a&Pt.Host&&c===D);return null!==G?Ms(t,g,G,D):rs}function ua(e,t,n,s,a){const c=e.providerIndexes,g=t.data,D=1048575&c,T=e.directiveStart,G=c>>20,Ie=a?D+G:e.directiveEnd;for(let Ne=s?D:D+G;Ne<Ie;Ne++){const tt=g[Ne];if(Ne<T&&n===tt||Ne>=T&&tt.type===n)return Ne}if(a){const Ne=g[T];if(Ne&&qn(Ne)&&Ne.type===n)return T}return null}function Ms(e,t,n,s){let a=e[n];const c=t.data;if(function ze(e){return e instanceof we}(a)){const g=a;g.resolving&&function Se(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Le(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Je(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():$e(e)}(c[n]));const D=Yo(g.canSeeViewProviders);g.resolving=!0;const T=g.injectImpl?un(g.injectImpl):null;le(e,s,Pt.Default);try{a=e[n]=g.factory(void 0,c,e,s),t.firstCreatePass&&n>=s.directiveStart&&function Ki(e,t,n){const{ngOnChanges:s,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(s){const g=Ts(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,g),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,g)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,a),c&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,c),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,c))}(n,c[n],t)}finally{null!==T&&un(T),Yo(D),g.resolving=!1,hn()}}return a}function ca(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Si(e,t){return!(e&Pt.Self||e&Pt.Host&&t)}class is{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return Za(this._tNode,this._lView,t,Lt(s),n)}}function ba(){return new is(Hr(),He())}function ro(e){return je(()=>{const t=e.prototype.constructor,n=t[St]||Xo(t),s=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==s;){const c=a[St]||Xo(a);if(c&&c!==n)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function Xo(e){return Qe(e)?()=>{const t=Xo(de(e));return t&&t()}:Rr(e)}function Sa(e){const t=e[1],n=t.type;return 2===n?t.declTNode:1===n?e[6]:null}function Ya(e){return function Ca(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const s=n.length;let a=0;for(;a<s;){const c=n[a];if(oi(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<s&&"string"==typeof n[a];)a++;else{if(c===t)return n[a+1];a+=2}}}return null}(Hr(),e)}const Bo="__parameters__";function ea(e,t,n){return je(()=>{const s=function Qa(e){return function(...n){if(e){const s=e(...n);for(const a in s)this[a]=s[a]}}}(t);function a(...c){if(this instanceof a)return s.apply(this,c),this;const g=new a(...c);return D.annotation=g,D;function D(T,k,G){const J=T.hasOwnProperty(Bo)?T[Bo]:Object.defineProperty(T,Bo,{value:[]})[Bo];for(;J.length<=G;)J.push(null);return(J[G]=J[G]||[]).push(g),T}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}class pr{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Rt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function _(e,t){e.forEach(n=>Array.isArray(n)?_(n,t):t(n))}function I(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function f(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function b(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}function Ge(e,t,n){let s=dt(e,t);return s>=0?e[1|s]=n:(s=~s,function Z(e,t,n,s){let a=e.length;if(a==t)e.push(n,s);else if(1===a)e.push(s,e[0]),e[0]=n;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=n,e[t+1]=s}}(e,s,t,n)),s}function Ct(e,t){const n=dt(e,t);if(n>=0)return e[1|n]}function dt(e,t){return function ai(e,t,n){let s=0,a=e.length>>n;for(;a!==s;){const c=s+(a-s>>1),g=e[c<<n];if(t===g)return c<<n;g>t?a=c:s=c+1}return~(a<<n)}(e,t,1)}const Oa=Xt(ea("Optional"),8),P=Xt(ea("SkipSelf"),4);var vo=(()=>((vo=vo||{})[vo.Important=1]="Important",vo[vo.DashCase=2]="DashCase",vo))();const _s=new Map;let gc=0;const Su="__ngContext__";function ys(e,t){Br(t)?(e[Su]=t[20],function Kl(e){_s.set(e[20],e)}(t)):e[Su]=t}function Ql(e,t){return undefined(e,t)}function La(e){const t=e[3];return Tr(t)?t[3]:t}function ol(e){return Fa(e[13])}function Ou(e){return Fa(e[4])}function Fa(e){for(;null!==e&&!Tr(e);)e=e[4];return e}function ao(e,t,n,s,a){if(null!=s){let c,g=!1;Tr(s)?c=s:Br(s)&&(g=!0,s=s[0]);const D=er(s);0===e&&null!==n?null==a?Ba(t,n,D):_a(t,n,D,a||null,!0):1===e&&null!==n?_a(t,n,D,a||null,!0):2===e?function ra(e,t,n){const s=Va(e,t);s&&function Lu(e,t,n,s){e.removeChild(t,n,s)}(e,s,t,n)}(t,D,g):3===e&&t.destroyNode(D),null!=c&&function Ml(e,t,n,s,a){const c=n[7];c!==er(n)&&ao(t,e,s,c,a);for(let D=10;D<n.length;D++){const T=n[D];Al(T[1],T,e,t,s,c)}}(t,e,c,n,a)}}function Cl(e,t,n){return e.createElement(t,n)}function Ua(e,t){const n=e[9],s=n.indexOf(t),a=t[3];512&t[2]&&(t[2]&=-513,eo(a,-1)),n.splice(s,1)}function bl(e,t){if(e.length<=10)return;const n=10+t,s=e[n];if(s){const a=s[17];null!==a&&a!==e&&Ua(a,s),t>0&&(e[n-1][4]=s[4]);const c=f(e,10+t);!function al(e,t){Al(e,t,t[11],2,null,null),t[0]=null,t[6]=null}(s[1],s);const g=c[19];null!==g&&g.detachView(c[1]),s[3]=null,s[4]=null,s[2]&=-65}return s}function vc(e,t){if(!(128&t[2])){const n=t[11];n.destroyNode&&Al(e,t,n,3,null,null),function eu(e){let t=e[13];if(!t)return ku(e[1],e);for(;t;){let n=null;if(Br(t))n=t[13];else{const s=t[10];s&&(n=s)}if(!n){for(;t&&!t[4]&&t!==e;)Br(t)&&ku(t[1],t),t=t[3];null===t&&(t=e),Br(t)&&ku(t[1],t),n=t&&t[4]}t=n}}(t)}}function ku(e,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function ud(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const a=t[n[s]];if(!(a instanceof we)){const c=n[s+1];if(Array.isArray(c))for(let g=0;g<c.length;g+=2){const D=a[c[g]],T=c[g+1];try{T.call(D)}finally{}}else try{c.call(a)}finally{}}}}(e,t),function nu(e,t){const n=e.cleanup,s=t[7];let a=-1;if(null!==n)for(let c=0;c<n.length-1;c+=2)if("string"==typeof n[c]){const g=n[c+3];g>=0?s[a=g]():s[a=-g].unsubscribe(),c+=2}else{const g=s[a=n[c+1]];n[c].call(g)}if(null!==s){for(let c=a+1;c<s.length;c++)(0,s[c])();t[7]=null}}(e,t),1===t[1].type&&t[11].destroy();const n=t[17];if(null!==n&&Tr(t[3])){n!==t[3]&&Ua(n,t);const s=t[19];null!==s&&s.detachView(e)}!function oo(e){_s.delete(e[20])}(t)}}function xu(e,t,n){return function Ec(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[0];{const{componentOffset:a}=s;if(a>-1){const{encapsulation:c}=e.data[s.directiveStart+a];if(c===mn.None||c===mn.Emulated)return null}return or(s,n)}}(e,t.parent,n)}function _a(e,t,n,s,a){e.insertBefore(t,n,s,a)}function Ba(e,t,n){e.appendChild(t,n)}function ru(e,t,n,s,a){null!==s?_a(e,t,n,s,a):Ba(e,t,n)}function Va(e,t){return e.parentNode(t)}function Tl(e,t,n){return Ho(e,t,n)}let Ol,$u,Nl,Ho=function Ys(e,t,n){return 40&e.type?or(e,n):null};function jo(e,t,n,s){const a=xu(e,s,t),c=t[11],D=Tl(s.parent||t[6],s,t);if(null!=a)if(Array.isArray(n))for(let T=0;T<n.length;T++)ru(c,a,n[T],D,!1);else ru(c,a,n,D,!1)}function Sl(e,t){if(null!==t){const n=t.type;if(3&n)return or(t,e);if(4&n)return Rs(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return Sl(e,s);{const a=e[t.index];return Tr(a)?Rs(-1,a):er(a)}}if(32&n)return Ql(t,e)()||er(e[t.index]);{const s=Ic(e,t);return null!==s?Array.isArray(s)?s[0]:Sl(La(e[16]),s):Sl(e,t.next)}}return null}function Ic(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Rs(e,t){const n=10+e+1;if(n<t.length){const s=t[n],a=s[1].firstChild;if(null!==a)return Sl(s,a)}return t[7]}function su(e,t,n,s,a,c,g){for(;null!=n;){const D=s[n.index],T=n.type;if(g&&0===t&&(D&&ys(er(D),s),n.flags|=2),32!=(32&n.flags))if(8&T)su(e,t,n.child,s,a,c,!1),ao(t,e,a,D,c);else if(32&T){const k=Ql(n,s);let G;for(;G=k();)ao(t,e,a,G,c);ao(t,e,a,D,c)}else 16&T?ou(e,t,s,n,a,c):ao(t,e,a,D,c);n=g?n.projectionNext:n.next}}function Al(e,t,n,s,a,c){su(n,s,e.firstChild,t,a,c,!1)}function ou(e,t,n,s,a,c){const g=n[16],T=g[6].projection[s.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)ao(t,e,a,T[k],c);else su(e,t,T,g[3],a,c,!0)}function Oo(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function au(e,t,n){const{mergedAttrs:s,classes:a,styles:c}=n;null!==s&&Pn(e,t,s),null!==a&&Oo(e,t,a),null!==c&&function Pl(e,t,n){e.setAttribute(t,"style",n)}(e,t,c)}function va(e){return function lu(){if(void 0===Ol&&(Ol=null,Jt.trustedTypes))try{Ol=Jt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ol}()?.createHTML(e)||e}function ia(e){$u=e}function wc(e){return function uu(){if(void 0===Nl&&(Nl=null,Jt.trustedTypes))try{Nl=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Nl}()?.createScriptURL(e)||e}class Ha{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}class cd extends Ha{getTypeName(){return"HTML"}}class dd extends Ha{getTypeName(){return"Style"}}class p extends Ha{getTypeName(){return"Script"}}class u extends Ha{getTypeName(){return"URL"}}class d extends Ha{getTypeName(){return"ResourceURL"}}function v(e){return e instanceof Ha?e.changingThisBreaksApplicationSecurity:e}function x(e,t){const n=function K(e){return e instanceof Ha&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${pt})`)}return n===t}function Ee(e){return new cd(e)}function Ke(e){return new dd(e)}function gt(e){return new p(e)}function vt(e){return new u(e)}function an(e){return new d(e)}class Ai{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const n=(new window.DOMParser).parseFromString(va(t),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(t):(n.removeChild(n.firstChild),n)}catch{return null}}}class No{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);const s=this.inertDocument.createElement("body");n.appendChild(s)}}getInertBodyElement(t){const n=this.inertDocument.createElement("template");if("content"in n)return n.innerHTML=va(t),n;const s=this.inertDocument.createElement("body");return s.innerHTML=va(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(s),s}stripCustomNsAttrs(t){const n=t.attributes;for(let a=n.length-1;0<a;a--){const g=n.item(a).name;("xmlns:ns1"===g||0===g.indexOf("ns1:"))&&t.removeAttribute(g)}let s=t.firstChild;for(;s;)s.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(s),s=s.nextSibling}}const Cc=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function ul(e){return(e=String(e)).match(Cc)?e:"unsafe:"+e}function Wo(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function cl(...e){const t={};for(const n of e)for(const s in n)n.hasOwnProperty(s)&&(t[s]=!0);return t}const xl=Wo("area,br,col,hr,img,wbr"),Hu=Wo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ju=Wo("rp,rt"),Ll=cl(xl,cl(Hu,Wo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cl(ju,Wo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cl(ju,Hu)),Wu=Wo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fh=cl(Wu,Wo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Wo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Mf=Wo("script,style,template");class Rf{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let n=t.firstChild,s=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?s=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,s&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let a=this.checkClobberedElement(n,n.nextSibling);if(a){n=a;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(t){const n=t.nodeName.toLowerCase();if(!Ll.hasOwnProperty(n))return this.sanitizedSomething=!0,!Mf.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const s=t.attributes;for(let a=0;a<s.length;a++){const c=s.item(a),g=c.name,D=g.toLowerCase();if(!fh.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=c.value;Wu[D]&&(T=ul(T)),this.buf.push(" ",g,'="',Of(T),'"')}return this.buf.push(">"),!0}endElement(t){const n=t.nodeName.toLowerCase();Ll.hasOwnProperty(n)&&!xl.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(Of(t))}checkClobberedElement(t,n){if(n&&(t.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return n}}const Pf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ag=/([^\#-~ |!])/g;function Of(e){return e.replace(/&/g,"&amp;").replace(Pf,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Ag,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Tc;function ph(e,t){let n=null;try{Tc=Tc||function qt(e){const t=new No(e);return function kl(){try{return!!(new window.DOMParser).parseFromString(va(""),"text/html")}catch{return!1}}()?new Ai(t):t}(e);let s=t?String(t):"";n=Tc.getInertBodyElement(s);let a=5,c=s;do{if(0===a)throw new Error("Failed to sanitize html because the input is unstable");a--,s=c,c=n.innerHTML,n=Tc.getInertBodyElement(s)}while(s!==c);return va((new Rf).sanitizeChildren(fd(n)||n))}finally{if(n){const s=fd(n)||n;for(;s.firstChild;)s.removeChild(s.firstChild)}}}function fd(e){return"content"in e&&function gh(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Li=(()=>((Li=Li||{})[Li.NONE=0]="NONE",Li[Li.HTML=1]="HTML",Li[Li.STYLE=2]="STYLE",Li[Li.SCRIPT=3]="SCRIPT",Li[Li.URL=4]="URL",Li[Li.RESOURCE_URL=5]="RESOURCE_URL",Li))();function mh(e){const t=du();return t?t.sanitize(Li.URL,e)||"":x(e,"URL")?v(e):ul($e(e))}function ja(e){const t=du();if(t)return wc(t.sanitize(Li.RESOURCE_URL,e)||"");if(x(e,"ResourceURL"))return wc(v(e));throw new Le(904,!1)}function _h(e,t,n){return function xf(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?ja:mh}(t,n)(e)}function du(){const e=He();return e&&e[12]}const Sc=new pr("ENVIRONMENT_INITIALIZER"),Gu=new pr("INJECTOR",-1),yh=new pr("INJECTOR_DEF_TYPES");class vh{get(t,n=Dt){if(n===Dt){const s=new Error(`NullInjectorError: No provider for ${_e(t)}!`);throw s.name="NullInjectorError",s}return n}}function Ff(...e){return{\u0275providers:Eh(0,e),\u0275fromNgModule:!0}}function Eh(e,...t){const n=[],s=new Set;let a;return _(t,c=>{const g=c;Ku(g,n,[],s)&&(a||(a=[]),a.push(g))}),void 0!==a&&pd(a,n),n}function pd(e,t){for(let n=0;n<e.length;n++){const{providers:a}=e[n];gd(a,c=>{t.push(c)})}}function Ku(e,t,n,s){if(!(e=de(e)))return!1;let a=null,c=Wr(e);const g=!c&&Mn(e);if(c||g){if(g&&!g.standalone)return!1;a=e}else{const T=e.ngModule;if(c=Wr(T),!c)return!1;a=T}const D=s.has(a);if(g){if(D)return!1;if(s.add(a),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of T)Ku(k,t,n,s)}}else{if(!c)return!1;{if(null!=c.imports&&!D){let k;s.add(a);try{_(c.imports,G=>{Ku(G,t,n,s)&&(k||(k=[]),k.push(G))})}finally{}void 0!==k&&pd(k,t)}if(!D){const k=Rr(a)||(()=>new a);t.push({provide:a,useFactory:k,deps:ce},{provide:yh,useValue:a,multi:!0},{provide:Sc,useValue:()=>ut(a),multi:!0})}const T=c.providers;null==T||D||gd(T,G=>{t.push(G)})}}return a!==e&&void 0!==e.providers}function gd(e,t){for(let n of e)We(n)&&(n=n.\u0275providers),Array.isArray(n)?gd(n,t):t(n)}const Ih=ge({provide:String,useValue:ge});function hu(e){return null!==e&&"object"==typeof e&&Ih in e}function Fl(e){return"function"==typeof e}const wh=new pr("Set Injector scope."),_d={},Bf={};let yd;function vd(){return void 0===yd&&(yd=new vh),yd}class fu{}class Vf extends fu{get destroyed(){return this._destroyed}constructor(t,n,s,a){super(),this.parent=n,this.source=s,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,os(t,g=>this.processProvider(g)),this.records.set(Gu,Zu(void 0,this)),a.has("environment")&&this.records.set(fu,Zu(void 0,this));const c=this.records.get(wh);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(yh.multi,ce,Pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=sr(this),s=un(void 0);try{return t()}finally{sr(n),un(s)}}get(t,n=Dt,s=Pt.Default){this.assertNotDestroyed(),s=Lt(s);const a=sr(this),c=un(void 0);try{if(!(s&Pt.SkipSelf)){let D=this.records.get(t);if(void 0===D){const T=function Hf(e){return"function"==typeof e||"object"==typeof e&&e instanceof pr}(t)&&jr(t);D=T&&this.injectableDefInScope(T)?Zu(Ch(t),_d):null,this.records.set(t,D)}if(null!=D)return this.hydrate(t,D)}return(s&Pt.Self?vd():this.parent).get(t,n=s&Pt.Optional&&n===Dt?null:n)}catch(g){if("NullInjectorError"===g.name){if((g[Sr]=g[Sr]||[]).unshift(_e(t)),a)throw g;return function te(e,t,n,s){const a=e[Sr];throw t[ei]&&a.unshift(t[ei]),e.message=function me(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=_e(t);if(Array.isArray(t))a=t.map(_e).join(" -> ");else if("object"==typeof t){let c=[];for(let g in t)if(t.hasOwnProperty(g)){let D=t[g];c.push(g+":"+("string"==typeof D?JSON.stringify(D):_e(D)))}a=`{${c.join(", ")}}`}return`${n}${s?"("+s+")":""}[${a}]: ${e.replace(Ei,"\n  ")}`}("\n"+e.message,a,n,s),e.ngTokenPath=a,e[Sr]=null,e}(g,t,"R3InjectorError",this.source)}throw g}finally{un(c),sr(a)}}resolveInjectorInitializers(){const t=sr(this),n=un(void 0);try{const s=this.get(Sc.multi,ce,Pt.Self);for(const a of s)a()}finally{sr(t),un(n)}}toString(){const t=[],n=this.records;for(const s of n.keys())t.push(_e(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Le(205,!1)}processProvider(t){let n=Fl(t=de(t))?t:de(t&&t.provide);const s=function Ng(e){return hu(e)?Zu(void 0,e.useValue):Zu($f(e),_d)}(t);if(Fl(t)||!0!==t.multi)this.records.get(n);else{let a=this.records.get(n);a||(a=Zu(void 0,_d,!0),a.factory=()=>$t(a.multi),this.records.set(n,a)),n=t,a.multi.push(t)}this.records.set(n,s)}hydrate(t,n){return n.value===_d&&(n.value=Bf,n.value=n.factory()),"object"==typeof n.value&&n.value&&function bh(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=de(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ch(e){const t=jr(e),n=null!==t?t.factory:Rr(e);if(null!==n)return n;if(e instanceof pr)throw new Le(204,!1);if(e instanceof Function)return function Og(e){const t=e.length;if(t>0)throw b(t,"?"),new Le(204,!1);const n=function vi(e){const t=e&&(e[rr]||e[rn]);if(t){const n=function gr(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Le(204,!1)}function $f(e,t,n){let s;if(Fl(e)){const a=de(e);return Rr(a)||Ch(a)}if(hu(e))s=()=>de(e.useValue);else if(function Uf(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...$t(e.deps||[]));else if(function Dh(e){return!(!e||!e.useExisting)}(e))s=()=>ut(de(e.useExisting));else{const a=de(e&&(e.useClass||e.provide));if(!function Ed(e){return!!e.deps}(e))return Rr(a)||Ch(a);s=()=>new a(...$t(e.deps))}return s}function Zu(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function os(e,t){for(const n of e)Array.isArray(n)?os(n,t):n&&We(n)?os(n.\u0275providers,t):t(n)}class jf{}class Yu{}class Wf{resolveComponentFactory(t){throw function Id(e){const t=Error(`No component factory found for ${_e(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let pu=(()=>{class e{}return e.NULL=new Wf,e})();function zf(){return gu(Hr(),He())}function gu(e,t){return new qu(or(e,t))}let qu=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=zf,e})();function Gf(e){return e instanceof qu?e.nativeElement:e}class qs{}let Ac=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function Sh(){const e=He(),n=hr(Hr().index,e);return(Br(n)?n:e)[11]}(),e})(),Dd=(()=>{class e{}return e.\u0275prov=Rt({token:e,providedIn:"root",factory:()=>null}),e})();class Qu{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Mc=new Qu("15.1.1"),Ju={};function Cd(e){return e.ngOriginalError}class Xu{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&Cd(t);for(;n&&Cd(n);)n=Cd(n);return n||null}}function Wa(e){return e instanceof Function?e():e}function Oh(e,t,n){let s=e.length;for(;;){const a=e.indexOf(t,n);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===s||e.charCodeAt(a+c)<=32)return a}n=a+1}}const Oc="ng-template";function Sd(e,t,n){let s=0;for(;s<e.length;){let a=e[s++];if(n&&"class"===a){if(a=e[s],-1!==Oh(a.toLowerCase(),t,0))return!0}else if(1===a){for(;s<e.length&&"string"==typeof(a=e[s++]);)if(a.toLowerCase()===t)return!0;return!1}}return!1}function Nh(e){return 4===e.type&&e.value!==Oc}function Ad(e,t,n){return t===(4!==e.type||n?e.value:Oc)}function kh(e,t,n){let s=4;const a=e.attrs||[],c=function Xf(e){for(let t=0;t<e.length;t++)if(oi(e[t]))return t;return e.length}(a);let g=!1;for(let D=0;D<t.length;D++){const T=t[D];if("number"!=typeof T){if(!g)if(4&s){if(s=2|1&s,""!==T&&!Ad(e,T,n)||""===T&&1===t.length){if(zo(s))return!1;g=!0}}else{const k=8&s?T:t[++D];if(8&s&&null!==e.attrs){if(!Sd(e.attrs,k,n)){if(zo(s))return!1;g=!0}continue}const J=Md(8&s?"class":T,a,Nh(e),n);if(-1===J){if(zo(s))return!1;g=!0;continue}if(""!==k){let Ie;Ie=J>c?"":a[J+1].toLowerCase();const Ne=8&s?Ie:null;if(Ne&&-1!==Oh(Ne,k,0)||2&s&&k!==Ie){if(zo(s))return!1;g=!0}}}}else{if(!g&&!zo(s)&&!zo(T))return!1;if(g&&zo(T))continue;g=!1,s=T|1&s}}return zo(s)||g}function zo(e){return 0==(1&e)}function Md(e,t,n,s){if(null===t)return-1;let a=0;if(s||!n){let c=!1;for(;a<t.length;){const g=t[a];if(g===e)return a;if(3===g||6===g)c=!0;else{if(1===g||2===g){let D=t[++a];for(;"string"==typeof D;)D=t[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=c?1:2}return-1}return function Nc(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function xh(e,t,n=!1){for(let s=0;s<t.length;s++)if(kh(e,t[s],n))return!0;return!1}function Rd(e,t){e:for(let n=0;n<t.length;n++){const s=t[n];if(e.length===s.length){for(let a=0;a<e.length;a++)if(e[a]!==s[a])continue e;return!0}}return!1}function kc(e,t){return e?":not("+t.trim()+")":t}function Pd(e){let t=e[0],n=1,s=2,a="",c=!1;for(;n<e.length;){let g=e[n];if("string"==typeof g)if(2&s){const D=e[++n];a+="["+g+(D.length>0?'="'+D+'"':"")+"]"}else 8&s?a+="."+g:4&s&&(a+=" "+g);else""!==a&&!zo(g)&&(t+=kc(c,a),a=""),s=g,c=c||!zo(s);n++}return""!==a&&(t+=kc(c,a)),t}const xn={};function Ul(e){Od(Sn(),He(),Yt()+e,!1)}function Od(e,t,n,s){if(!s)if(3==(3&t[2])){const c=e.preOrderCheckHooks;null!==c&&C(t,c,n)}else{const c=e.preOrderHooks;null!==c&&L(t,c,0,n)}Hn(n)}function tc(e,t=null,n=null,s){const a=Nd(e,t,n,s);return a.resolveInjectorInitializers(),a}function Nd(e,t=null,n=null,s,a=new Set){const c=[n||ce,Ff(e)];return s=s||("object"==typeof e?void 0:_e(e)),new Vf(c,t||vd(),s||null,a)}let dl=(()=>{class e{static create(n,s){if(Array.isArray(n))return tc({name:""},s,n,"");{const a=n.name??"";return tc({name:a},n.parent,n.providers,a)}}}return e.THROW_IF_NOT_FOUND=Dt,e.NULL=new vh,e.\u0275prov=Rt({token:e,providedIn:"any",factory:()=>ut(Gu)}),e.__NG_ELEMENT_ID__=-1,e})();function rc(e,t=Pt.Default){const n=He();return null===n?ut(e,t):Za(Hr(),n,de(e),t)}function pp(){throw new Error("invalid")}function gp(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const c=n[s+1];if(-1!==c){const g=e.data[c];q(n[s]),g.contentQueries(2,t[c],c)}}}function Fc(e,t,n,s,a,c,g,D,T,k,G){const J=t.blueprint.slice();return J[0]=a,J[2]=76|s,(null!==G||e&&1024&e[2])&&(J[2]|=1024),Zt(J),J[3]=J[15]=e,J[8]=n,J[10]=g||e&&e[10],J[11]=D||e&&e[11],J[12]=T||e&&e[12]||null,J[9]=k||e&&e[9]||null,J[6]=c,J[20]=function bu(){return gc++}(),J[21]=G,J[16]=2==t.type?e[16]:J,J}function Bl(e,t,n,s,a){let c=e.data[t];if(null===c)c=function Uc(e,t,n,s,a){const c=fs(),g=fo(),T=e.data[t]=function Zh(e,t,n,s,a,c){return{type:n,index:s,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?c:c&&c.parent,n,t,s,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(g?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T)),T}(e,t,n,s,a),function ns(){return Ut.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=n,c.value=s,c.attrs=a;const g=function ho(){const e=Ut.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===g?-1:g.injectorIndex}return pi(c,!0),c}function _u(e,t,n,s){if(0===n)return-1;const a=t.length;for(let c=0;c<n;c++)t.push(s),e.blueprint.push(s),e.data.push(null);return a}function Bc(e,t,n){Ae(t);try{const s=e.viewQuery;null!==s&&Os(1,s,n);const a=e.template;null!==a&&jd(e,t,a,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&gp(e,t),e.staticViewQueries&&Os(2,e.viewQuery,n);const c=e.components;null!==c&&function mp(e,t){for(let n=0;n<t.length;n++)Ve(e,t[n])}(t,c)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[2]&=-5,on()}}function ic(e,t,n,s){const a=t[2];if(128!=(128&a)){Ae(t);try{Zt(t),function zi(e){return Ut.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&jd(e,t,n,2,s);const g=3==(3&a);if(g){const k=e.preOrderCheckHooks;null!==k&&C(t,k,null)}else{const k=e.preOrderHooks;null!==k&&L(t,k,0,null),S(t,0)}if(function Y(e){for(let t=ol(e);null!==t;t=Ou(t)){if(!t[2])continue;const n=t[9];for(let s=0;s<n.length;s++){const a=n[s];512&a[2]||eo(a[3],1),a[2]|=512}}}(t),function H(e){for(let t=ol(e);null!==t;t=Ou(t))for(let n=10;n<t.length;n++){const s=t[n],a=s[1];Ti(s)&&ic(a,s,a.template,s[8])}}(t),null!==e.contentQueries&&gp(e,t),g){const k=e.contentCheckHooks;null!==k&&C(t,k)}else{const k=e.contentHooks;null!==k&&L(t,k,1),S(t,1)}!function Hg(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let s=0;s<n.length;s++){const a=n[s];if(a<0)Hn(~a);else{const c=a,g=n[++s],D=n[++s];U(g,c),D(2,t[c])}}}finally{Hn(-1)}}(e,t);const D=e.components;null!==D&&function jg(e,t){for(let n=0;n<t.length;n++)ie(e,t[n])}(t,D);const T=e.viewQuery;if(null!==T&&Os(2,T,s),g){const k=e.viewCheckHooks;null!==k&&C(t,k)}else{const k=e.viewHooks;null!==k&&L(t,k,2),S(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,eo(t[3],-1))}finally{on()}}}function jd(e,t,n,s,a){const c=Yt(),g=2&s;try{Hn(-1),g&&t.length>22&&Od(e,t,22,!1),n(s,a)}finally{Hn(c)}}function Vc(e,t,n){if(ui(t)){const a=t.directiveEnd;for(let c=t.directiveStart;c<a;c++){const g=e.data[c];g.contentQueries&&g.contentQueries(1,n[c],c)}}}function $c(e,t,n){to()&&(function Ep(e,t,n,s){const a=n.directiveStart,c=n.directiveEnd;In(n)&&function r(e,t,n){const s=or(t,e),a=zh(n),c=e[10],g=bt(e,Fc(e,a,null,n.onPush?32:16,s,t,c,c.createRenderer(s,n),null,null,null));e[t.index]=g}(t,n,e.data[a+n.componentOffset]),e.firstCreatePass||po(n,t),ys(s,t);const g=n.initialInputs;for(let D=a;D<c;D++){const T=e.data[D],k=Ms(t,e,D,n);ys(k,t),null!==g&&h(0,D-a,k,T,0,g),qn(T)&&(hr(n.index,t)[8]=Ms(t,e,D,n))}}(e,t,n,or(n,t)),64==(64&n.flags)&&ef(e,t,n))}function Wh(e,t,n=or){const s=t.localNames;if(null!==s){let a=t.index+1;for(let c=0;c<s.length;c+=2){const g=s[c+1],D=-1===g?n(t,e):e[g];e[a++]=D}}}function zh(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Wd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Wd(e,t,n,s,a,c,g,D,T,k){const G=22+s,J=G+a,Ie=function Gh(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:xn);return n}(G,J),Ne="function"==typeof k?k():k;return Ie[1]={type:e,blueprint:Ie,template:n,queries:null,viewQuery:D,declTNode:t,data:Ie.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:J,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Ne,incompleteFirstPass:!1}}function zd(e,t,n,s){const a=sa(t);null===n?a.push(s):(a.push(n),e.firstCreatePass&&Fi(e).push(s,a.length-1))}function yu(e,t,n,s){for(let a in e)if(e.hasOwnProperty(a)){n=null===n?{}:n;const c=e[a];null===s?Yh(n,t,a,c):s.hasOwnProperty(a)&&Yh(n,t,s[a],c)}return n}function Yh(e,t,n,s){e.hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}function xo(e,t,n,s,a,c,g,D){const T=or(t,n);let G,k=t.inputs;!D&&null!=k&&(G=k[s])?(Cp(e,n,G,s,a),In(t)&&Gd(n,t.index)):3&t.type&&(s=function _p(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(s),a=null!=g?g(a,t.value||"",s):a,c.setProperty(T,s,a))}function Gd(e,t){const n=hr(t,e);16&n[2]||(n[2]|=32)}function Kd(e,t,n,s){let a=!1;if(to()){const c=null===s?null:{"":-1},g=function Ip(e,t){const n=e.directiveRegistry;let s=null,a=null;if(n)for(let c=0;c<n.length;c++){const g=n[c];if(xh(t,g.selectors,!1))if(s||(s=[]),qn(g))if(null!==g.findHostDirectiveDefs){const D=[];a=a||new Map,g.findHostDirectiveDefs(g,D,a),s.unshift(...D,g),Zd(e,t,D.length)}else s.unshift(g),Zd(e,t,0);else a=a||new Map,g.findHostDirectiveDefs?.(g,s,a),s.push(g)}return null===s?null:[s,a]}(e,n);let D,T;null===g?D=T=null:[D,T]=g,null!==D&&(a=!0,Jh(e,t,n,D,c,T)),c&&function Dp(e,t,n){if(t){const s=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=n[t[a+1]];if(null==c)throw new Le(-301,!1);s.push(t[a],c)}}}(n,s,c)}return n.mergedAttrs=wr(n.mergedAttrs,n.attrs),a}function Jh(e,t,n,s,a,c){for(let k=0;k<s.length;k++)mi(po(n,t),e,s[k].type);!function wp(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,s.length);for(let k=0;k<s.length;k++){const G=s[k];G.providersResolver&&G.providersResolver(G)}let g=!1,D=!1,T=_u(e,t,s.length,null);for(let k=0;k<s.length;k++){const G=s[k];n.mergedAttrs=wr(n.mergedAttrs,G.hostAttrs),o(e,n,t,T,G),nf(T,G,a),null!==G.contentQueries&&(n.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(n.flags|=64);const J=G.type.prototype;!g&&(J.ngOnChanges||J.ngOnInit||J.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),g=!0),!D&&(J.ngOnChanges||J.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),D=!0),T++}!function qh(e,t,n){const a=t.directiveEnd,c=e.data,g=t.attrs,D=[];let T=null,k=null;for(let G=t.directiveStart;G<a;G++){const J=c[G],Ie=n?n.get(J):null,tt=Ie?Ie.outputs:null;T=yu(J.inputs,G,T,Ie?Ie.inputs:null),k=yu(J.outputs,G,k,tt);const ht=null===T||null===g||Nh(t)?null:w(T,G,g);D.push(ht)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=D,t.inputs=T,t.outputs=k}(e,n,c)}function ef(e,t,n){const s=n.directiveStart,a=n.directiveEnd,c=n.index,g=function m(){return Ut.lFrame.currentDirectiveIndex}();try{Hn(c);for(let D=s;D<a;D++){const T=e.data[D],k=t[D];E(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&tf(T,k)}}finally{Hn(-1),E(g)}}function tf(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Zd(e,t,n){t.componentOffset=n,(e.components||(e.components=[])).push(t.index)}function nf(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;qn(t)&&(n[""]=e)}}function o(e,t,n,s,a){e.data[s]=a;const c=a.factory||(a.factory=Rr(a.type)),g=new we(c,qn(a),rc);e.blueprint[s]=g,n[s]=g,function vp(e,t,n,s,a){const c=a.hostBindings;if(c){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const D=~t.index;(function Xh(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(g)!=D&&g.push(D),g.push(n,s,c)}}(e,t,s,_u(e,n,a.hostVars,xn),a)}function i(e,t,n,s,a,c){const g=or(e,t);!function l(e,t,n,s,a,c,g){if(null==c)e.removeAttribute(t,a,n);else{const D=null==g?$e(c):g(c,s||"",a);e.setAttribute(t,a,D,n)}}(t[11],g,c,e.value,n,s,a)}function h(e,t,n,s,a,c){const g=c[t];if(null!==g){const D=s.setInput;for(let T=0;T<g.length;){const k=g[T++],G=g[T++],J=g[T++];null!==D?s.setInput(n,J,k,G):n[G]=J}}}function w(e,t,n){let s=null,a=0;for(;a<n.length;){const c=n[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===s&&(s=[]);const g=e[c];for(let D=0;D<g.length;D+=2)if(g[D]===t){s.push(c,g[D+1],n[a+1]);break}}a+=2}else a+=2;else a+=4}return s}function R(e,t,n,s){return[e,!0,!1,t,null,0,s,n,null,null]}function ie(e,t){const n=hr(t,e);if(Ti(n)){const s=n[1];48&n[2]?ic(s,n,s.template,n[8]):n[5]>0&&Ue(n)}}function Ue(e){for(let s=ol(e);null!==s;s=Ou(s))for(let a=10;a<s.length;a++){const c=s[a];if(Ti(c))if(512&c[2]){const g=c[1];ic(g,c,g.template,c[8])}else c[5]>0&&Ue(c)}const n=e[1].components;if(null!==n)for(let s=0;s<n.length;s++){const a=hr(n[s],e);Ti(a)&&a[5]>0&&Ue(a)}}function Ve(e,t){const n=hr(t,e),s=n[1];(function rt(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(s,n),Bc(s,n,n[8])}function bt(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function zt(e){for(;e;){e[2]|=32;const t=La(e);if(Is(e)&&!t)return e;e=t}return null}function Vn(e,t,n,s=!0){const a=t[10];a.begin&&a.begin();try{ic(e,t,e.template,n)}catch(g){throw s&&hl(t,g),g}finally{a.end&&a.end()}}function Os(e,t,n){q(0),t(e,n)}function sa(e){return e[7]||(e[7]=[])}function Fi(e){return e.cleanup||(e.cleanup=[])}function Ea(e,t,n){return(null===e||qn(e))&&(n=function ii(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function hl(e,t){const n=e[9],s=n?n.get(Xu,null):null;s&&s.handleError(t)}function Cp(e,t,n,s,a){for(let c=0;c<n.length;){const g=n[c++],D=n[c++],T=t[g],k=e.data[g];null!==k.setInput?k.setInput(T,a,s,D):T[D]=a}}function rf(e,t,n){let s=n?e.styles:null,a=n?e.classes:null,c=0;if(null!==t)for(let g=0;g<t.length;g++){const D=t[g];"number"==typeof D?c=D:1==c?a=ye(a,D):2==c&&(s=ye(s,D+": "+t[++g]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=a:e.classesWithoutHost=a}function sf(e,t,n,s,a=!1){for(;null!==n;){const c=t[n.index];if(null!==c&&s.push(er(c)),Tr(c))for(let D=10;D<c.length;D++){const T=c[D],k=T[1].firstChild;null!==k&&sf(T[1],T,k,s)}const g=n.type;if(8&g)sf(e,t,n.child,s);else if(32&g){const D=Ql(n,t);let T;for(;T=D();)s.push(T)}else if(16&g){const D=Ic(t,n);if(Array.isArray(D))s.push(...D);else{const T=La(t[16]);sf(T[1],T,D,s,!0)}}n=a?n.projectionNext:n.next}return s}class Yd{get rootNodes(){const t=this._lView,n=t[1];return sf(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Tr(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(bl(t,s),f(n,s))}this._attachedToViewContainer=!1}vc(this._lView[1],this._lView)}onDestroy(t){zd(this._lView[1],this._lView,null,t)}markForCheck(){zt(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Vn(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Le(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xl(e,t){Al(e,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Le(902,!1);this._appRef=t}}class tv extends Yd{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Vn(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Wg extends pu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Mn(t);return new qd(n,this.ngModule)}}function zg(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class rv{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,s){s=Lt(s);const a=this.injector.get(t,Ju,s);return a!==Ju||n===Ju?a:this.parentInjector.get(t,n,s)}}class qd extends Yu{get inputs(){return zg(this.componentDef.inputs)}get outputs(){return zg(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function Lh(e){return e.map(Pd).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,s,a){let c=(a=a||this.ngModule)instanceof fu?a:a?.injector;c&&null!==this.componentDef.getStandaloneInjector&&(c=this.componentDef.getStandaloneInjector(c)||c);const g=c?new rv(t,c):t,D=g.get(qs,null);if(null===D)throw new Le(407,!1);const T=g.get(Dd,null),k=D.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",J=s?function Kh(e,t,n){return e.selectRootElement(t,n===mn.ShadowDom)}(k,s,this.componentDef.encapsulation):Cl(k,G,function nv(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(G)),Ie=this.componentDef.onPush?288:272,Ne=Wd(0,null,null,1,0,null,null,null,null,null),tt=Fc(null,Ne,null,Ie,null,null,D,k,T,g,null);let ht,Tt;Ae(tt);try{const Wt=this.componentDef;let bn,lt=null;Wt.findHostDirectiveDefs?(bn=[],lt=new Map,Wt.findHostDirectiveDefs(Wt,bn,lt),bn.push(Wt)):bn=[Wt];const Fn=function sv(e,t){const n=e[1];return e[22]=t,Bl(n,22,2,"#host",null)}(tt,J),Mi=function ov(e,t,n,s,a,c,g,D){const T=a[1];!function av(e,t,n,s){for(const a of e)t.mergedAttrs=wr(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(rf(t,t.mergedAttrs,!0),null!==n&&au(s,n,t))}(s,e,t,g);const k=c.createRenderer(t,n),G=Fc(a,zh(n),null,n.onPush?32:16,a[e.index],e,c,k,D||null,null,null);return T.firstCreatePass&&Zd(T,e,s.length-1),bt(a,G),a[e.index]=G}(Fn,J,Wt,bn,tt,D,k);Tt=Vr(Ne,22),J&&function uv(e,t,n,s){if(s)Pn(e,n,["ng-version",Mc.full]);else{const{attrs:a,classes:c}=function ep(e){const t=[],n=[];let s=1,a=2;for(;s<e.length;){let c=e[s];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++s]):8===a&&n.push(c);else{if(!zo(a))break;a=c}s++}return{attrs:t,classes:n}}(t.selectors[0]);a&&Pn(e,n,a),c&&c.length>0&&Oo(e,n,c.join(" "))}}(k,Wt,J,s),void 0!==n&&function cv(e,t,n){const s=e.projection=[];for(let a=0;a<t.length;a++){const c=n[a];s.push(null!=c?Array.from(c):null)}}(Tt,this.ngContentSelectors,n),ht=function lv(e,t,n,s,a,c){const g=Hr(),D=a[1],T=or(g,a);Jh(D,a,g,n,null,s);for(let G=0;G<n.length;G++)ys(Ms(a,D,g.directiveStart+G,g),a);ef(D,a,g),T&&ys(T,a);const k=Ms(a,D,g.directiveStart+g.componentOffset,g);if(e[8]=a[8]=k,null!==c)for(const G of c)G(k,t);return Vc(D,g,e),k}(Mi,Wt,bn,lt,tt,[dv]),Bc(Ne,tt,null)}finally{on()}return new iv(this.componentType,ht,gu(Tt,tt),tt,Tt)}}class iv extends jf{constructor(t,n,s,a,c){super(),this.location=s,this._rootLView=a,this._tNode=c,this.instance=n,this.hostView=this.changeDetectorRef=new tv(a),this.componentType=t}setInput(t,n){const s=this._tNode.inputs;let a;if(null!==s&&(a=s[t])){const c=this._rootLView;Cp(c[1],c,a,t,n),Gd(c,this._tNode.index)}}get injector(){return new is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function dv(){const e=Hr();qr(He()[1],e)}function bp(e){let t=function Gg(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const s=[e];for(;t;){let a;if(qn(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Le(903,!1);a=t.\u0275dir}if(a){if(n){s.push(a);const g=e;g.inputs=Tp(e.inputs),g.declaredInputs=Tp(e.declaredInputs),g.outputs=Tp(e.outputs);const D=a.hostBindings;D&&gv(e,D);const T=a.viewQuery,k=a.contentQueries;if(T&&fv(e,T),k&&pv(e,k),Ce(e.inputs,a.inputs),Ce(e.declaredInputs,a.declaredInputs),Ce(e.outputs,a.outputs),qn(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let g=0;g<c.length;g++){const D=c[g];D&&D.ngInherit&&D(e),D===bp&&(n=!1)}}t=Object.getPrototypeOf(t)}!function hv(e){let t=0,n=null;for(let s=e.length-1;s>=0;s--){const a=e[s];a.hostVars=t+=a.hostVars,a.hostAttrs=wr(a.hostAttrs,n=wr(n,a.hostAttrs))}}(s)}function Tp(e){return e===Un?{}:e===ce?[]:e}function fv(e,t){const n=e.viewQuery;e.viewQuery=n?(s,a)=>{t(s,a),n(s,a)}:t}function pv(e,t){const n=e.contentQueries;e.contentQueries=n?(s,a,c)=>{t(s,a,c),n(s,a,c)}:t}function gv(e,t){const n=e.hostBindings;e.hostBindings=n?(s,a)=>{t(s,a),n(s,a)}:t}let af=null;function sc(){if(!af){const e=Jt.Symbol;if(e&&e.iterator)af=e.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<t.length;++n){const s=t[n];"entries"!==s&&"size"!==s&&Map.prototype[s]===Map.prototype.entries&&(af=s)}}}return af}function lf(e){return!!Sp(e)&&(Array.isArray(e)||!(e instanceof Map)&&sc()in e)}function Sp(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Eo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Ap(e,t,n,s){const a=He();return Eo(a,Gi(),t)&&(Sn(),i(vn(),a,e,t,n,s)),Ap}function sm(e,t,n,s,a,c,g,D){const T=He(),k=Sn(),G=e+22,J=k.firstCreatePass?function bv(e,t,n,s,a,c,g,D,T){const k=t.consts,G=Bl(t,e,4,g||null,Fr(k,D));Kd(t,n,G,Fr(k,T)),qr(t,G);const J=G.tViews=Wd(2,G,s,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,k);return null!==t.queries&&(t.queries.template(t,G),J.queries=t.queries.embeddedTView(G)),G}(G,k,T,t,n,s,a,c,g):k.data[G];pi(J,!1);const Ie=T[11].createComment("");jo(k,T,Ie,J),ys(Ie,T),bt(T,T[G]=R(Ie,T,Ie,J)),cn(J)&&$c(k,T,J),null!=g&&Wh(T,J,D)}function Mp(e,t,n){const s=He();return Eo(s,Gi(),t)&&xo(Sn(),vn(),s,e,t,s[11],n,!1),Mp}function Rp(e,t,n,s,a){const g=a?"class":"style";Cp(e,n,t.inputs[g],g,s)}function cf(e,t,n,s){const a=He(),c=Sn(),g=22+e,D=a[11],T=a[g]=Cl(D,t,function Ur(){return Ut.lFrame.currentNamespace}()),k=c.firstCreatePass?function Av(e,t,n,s,a,c,g){const D=t.consts,k=Bl(t,e,2,a,Fr(D,c));return Kd(t,n,k,Fr(D,g)),null!==k.attrs&&rf(k,k.attrs,!1),null!==k.mergedAttrs&&rf(k,k.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,k),k}(g,c,a,0,t,n,s):c.data[g];return pi(k,!0),au(D,T,k),32!=(32&k.flags)&&jo(c,a,T,k),0===function As(){return Ut.lFrame.elementDepthCount}()&&ys(T,a),function wo(){Ut.lFrame.elementDepthCount++}(),cn(k)&&($c(c,a,k),Vc(c,k,a)),null!==s&&Wh(a,k),cf}function df(){let e=Hr();fo()?js():(e=e.parent,pi(e,!1));const t=e;!function Vs(){Ut.lFrame.elementDepthCount--}();const n=Sn();return n.firstCreatePass&&(qr(n,e),ui(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function jt(e){return 0!=(8&e.flags)}(t)&&Rp(n,t,He(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function kn(e){return 0!=(16&e.flags)}(t)&&Rp(n,t,He(),t.stylesWithoutHost,!1),df}function Pp(e,t,n,s){return cf(e,t,n,s),df(),Pp}function am(){return He()}function kp(e){return!!e&&"function"==typeof e.then}function lm(e){return!!e&&"function"==typeof e.subscribe}const um=lm;function xp(e,t,n,s){const a=He(),c=Sn(),g=Hr();return cm(c,a,a[11],g,e,t,s),xp}function Lp(e,t){const n=Hr(),s=He(),a=Sn();return cm(a,s,Ea(M(a.data),n,s),n,e,t),Lp}function cm(e,t,n,s,a,c,g){const D=cn(s),k=e.firstCreatePass&&Fi(e),G=t[8],J=sa(t);let Ie=!0;if(3&s.type||g){const ht=or(s,t),Tt=g?g(ht):ht,Wt=J.length,bn=g?Fn=>g(er(Fn[s.index])):s.index;let lt=null;if(!g&&D&&(lt=function Rv(e,t,n,s){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const g=a[c];if(g===n&&a[c+1]===s){const D=t[7],T=a[c+2];return D.length>T?D[T]:null}"string"==typeof g&&(c+=2)}return null}(e,t,a,s.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=c,lt.__ngLastListenerFn__=c,Ie=!1;else{c=hm(s,t,G,c,!1);const Fn=n.listen(Tt,a,c);J.push(c,Fn),k&&k.push(a,bn,Wt,Wt+1)}}else c=hm(s,t,G,c,!1);const Ne=s.outputs;let tt;if(Ie&&null!==Ne&&(tt=Ne[a])){const ht=tt.length;if(ht)for(let Tt=0;Tt<ht;Tt+=2){const Mi=t[tt[Tt]][tt[Tt+1]].subscribe(c),as=J.length;J.push(c,Mi),k&&k.push(a,s.index,as,-(as+1))}}}function dm(e,t,n,s){try{return!1!==n(s)}catch(a){return hl(e,a),!1}}function hm(e,t,n,s,a){return function c(g){if(g===Function)return s;zt(e.componentOffset>-1?hr(e.index,t):t);let T=dm(t,0,s,g),k=c.__ngNextListenerFn__;for(;k;)T=dm(t,0,k,g)&&T,k=k.__ngNextListenerFn__;return a&&!1===T&&(g.preventDefault(),g.returnValue=!1),T}}function fm(e=1){return function Bt(e){return(Ut.lFrame.contextLView=function Gt(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ut.lFrame.contextLView))[8]}(e)}function Pv(e,t){let n=null;const s=function Jf(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===s?xh(e,c,!0):Rd(s,c))return a}else n=a}return n}function pm(e){const t=He()[16][6];if(!t.projection){const s=t.projection=b(e?e.length:1,null),a=s.slice();let c=t.child;for(;null!==c;){const g=e?Pv(c,e):0;null!==g&&(a[g]?a[g].projectionNext=c:s[g]=c,a[g]=c),c=c.next}}}function gm(e,t=0,n){const s=He(),a=Sn(),c=Bl(a,22+e,16,null,n||null);null===c.projection&&(c.projection=t),js(),32!=(32&c.flags)&&function Fu(e,t,n){ou(t[11],0,t,n,xu(e,n,t),Tl(n.parent||t[6],n,t))}(a,s,c)}function hf(e,t){return e<<17|t<<2}function vu(e){return e>>17&32767}function Up(e){return 2|e}function ac(e){return(131068&e)>>2}function Bp(e,t){return-131069&e|t<<2}function Vp(e){return 1|e}function bm(e,t,n,s,a){const c=e[n+1],g=null===t;let D=s?vu(c):ac(c),T=!1;for(;0!==D&&(!1===T||g);){const G=e[D+1];Fv(e[D],t)&&(T=!0,e[D+1]=s?Vp(G):Up(G)),D=s?vu(G):ac(G)}T&&(e[n+1]=s?Up(c):Vp(c))}function Fv(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&dt(e,t)>=0}function $p(e,t,n){return za(e,t,n,!1),$p}function Hp(e,t){return za(e,t,null,!0),Hp}function za(e,t,n,s){const a=He(),c=Sn(),g=function xi(e){const t=Ut.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);c.firstUpdatePass&&function Nm(e,t,n,s){const a=e.data;if(null===a[n+1]){const c=a[Yt()],g=function Om(e,t){return t>=e.expandoStartIndex}(e,n);(function Fm(e,t){return 0!=(e.flags&(t?8:16))})(c,s)&&null===t&&!g&&(t=!1),t=function Gv(e,t,n,s){const a=M(e);let c=s?t.residualClasses:t.residualStyles;if(null===a)0===(s?t.classBindings:t.styleBindings)&&(n=Jd(n=jp(null,e,t,n,s),t.attrs,s),c=null);else{const g=t.directiveStylingLast;if(-1===g||e[g]!==a)if(n=jp(a,e,t,n,s),null===c){let T=function Kv(e,t,n){const s=n?t.classBindings:t.styleBindings;if(0!==ac(s))return e[vu(s)]}(e,t,s);void 0!==T&&Array.isArray(T)&&(T=jp(null,e,t,T[1],s),T=Jd(T,t.attrs,s),function Zv(e,t,n,s){e[vu(n?t.classBindings:t.styleBindings)]=s}(e,t,s,T))}else c=function Yv(e,t,n){let s;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)s=Jd(s,e[c].hostAttrs,n);return Jd(s,t.attrs,n)}(e,t,s)}return void 0!==c&&(s?t.residualClasses=c:t.residualStyles=c),n}(a,c,t,s),function xv(e,t,n,s,a,c){let g=c?t.classBindings:t.styleBindings,D=vu(g),T=ac(g);e[s]=n;let G,k=!1;if(Array.isArray(n)?(G=n[1],(null===G||dt(n,G)>0)&&(k=!0)):G=n,a)if(0!==T){const Ie=vu(e[D+1]);e[s+1]=hf(Ie,D),0!==Ie&&(e[Ie+1]=Bp(e[Ie+1],s)),e[D+1]=function Nv(e,t){return 131071&e|t<<17}(e[D+1],s)}else e[s+1]=hf(D,0),0!==D&&(e[D+1]=Bp(e[D+1],s)),D=s;else e[s+1]=hf(T,0),0===D?D=s:e[T+1]=Bp(e[T+1],s),T=s;k&&(e[s+1]=Up(e[s+1])),bm(e,G,s,!0),bm(e,G,s,!1),function Lv(e,t,n,s,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&dt(c,t)>=0&&(n[s+1]=Vp(n[s+1]))}(t,G,e,s,c),g=hf(D,T),c?t.classBindings=g:t.styleBindings=g}(a,c,t,n,g,s)}}(c,e,g,s),t!==xn&&Eo(a,g,t)&&function xm(e,t,n,s,a,c,g,D){if(!(3&t.type))return;const T=e.data,k=T[D+1],G=function kv(e){return 1==(1&e)}(k)?Lm(T,t,n,a,ac(k),g):void 0;ff(G)||(ff(c)||function Ov(e){return 2==(2&e)}(k)&&(c=Lm(T,null,n,a,D,g)),function Rl(e,t,n,s,a){if(t)a?e.addClass(n,s):e.removeClass(n,s);else{let c=-1===s.indexOf("-")?void 0:vo.DashCase;null==a?e.removeStyle(n,s,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=vo.Important),e.setStyle(n,s,a,c))}}(s,g,function es(e,t){return er(t[e])}(Yt(),n),a,c))}(c,c.data[Yt()],a,a[11],e,a[g+1]=function Jv(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=_e(v(e)))),e}(t,n),s,g)}function jp(e,t,n,s,a){let c=null;const g=n.directiveEnd;let D=n.directiveStylingLast;for(-1===D?D=n.directiveStart:D++;D<g&&(c=t[D],s=Jd(s,c.hostAttrs,a),c!==e);)D++;return null!==e&&(n.directiveStylingLast=D),s}function Jd(e,t,n){const s=n?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const g=t[c];"number"==typeof g?a=g:a===s&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ge(e,g,!!n||t[++c]))}return void 0===e?null:e}function Lm(e,t,n,s,a,c){const g=null===t;let D;for(;a>0;){const T=e[a],k=Array.isArray(T),G=k?T[1]:T,J=null===G;let Ie=n[a+1];Ie===xn&&(Ie=J?ce:void 0);let Ne=J?Ct(Ie,s):G===s?Ie:void 0;if(k&&!ff(Ne)&&(Ne=Ct(T,s)),ff(Ne)&&(D=Ne,g))return D;const tt=e[a+1];a=g?vu(tt):ac(tt)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(D=Ct(T,s))}return D}function ff(e){return void 0!==e}function Um(e,t=""){const n=He(),s=Sn(),a=e+22,c=s.firstCreatePass?Bl(s,a,1,t,null):s.data[a],g=n[a]=function Nu(e,t){return e.createText(t)}(n[11],t);jo(s,n,g,c),pi(c,!1)}function zp(e,t,n){const s=He();if(Eo(s,Gi(),t)){const c=Sn(),g=vn();xo(c,g,s,e,t,Ea(M(c.data),g,s),n,!0)}return zp}const lc=void 0;var yE=["en",[["a","p"],["AM","PM"],lc],[["AM","PM"],lc,lc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lc,"{1} 'at' {0}",lc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _E(e){const n=Math.floor(Math.abs(e)),s=e.toString().replace(/^[^.]*\.?/,"").length;return 1===n&&0===s?1:5}];let Jc={};function Gp(e){const t=function vE(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=s_(t);if(n)return n;const s=t.split("-")[0];if(n=s_(s),n)return n;if("en"===s)return yE;throw new Le(701,!1)}function i_(e){return Gp(e)[wn.PluralCase]}function s_(e){return e in Jc||(Jc[e]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[e]),Jc[e]}var wn=(()=>((wn=wn||{})[wn.LocaleId=0]="LocaleId",wn[wn.DayPeriodsFormat=1]="DayPeriodsFormat",wn[wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",wn[wn.DaysFormat=3]="DaysFormat",wn[wn.DaysStandalone=4]="DaysStandalone",wn[wn.MonthsFormat=5]="MonthsFormat",wn[wn.MonthsStandalone=6]="MonthsStandalone",wn[wn.Eras=7]="Eras",wn[wn.FirstDayOfWeek=8]="FirstDayOfWeek",wn[wn.WeekendRange=9]="WeekendRange",wn[wn.DateFormat=10]="DateFormat",wn[wn.TimeFormat=11]="TimeFormat",wn[wn.DateTimeFormat=12]="DateTimeFormat",wn[wn.NumberSymbols=13]="NumberSymbols",wn[wn.NumberFormats=14]="NumberFormats",wn[wn.CurrencyCode=15]="CurrencyCode",wn[wn.CurrencySymbol=16]="CurrencySymbol",wn[wn.CurrencyName=17]="CurrencyName",wn[wn.Currencies=18]="Currencies",wn[wn.Directionality=19]="Directionality",wn[wn.PluralCase=20]="PluralCase",wn[wn.ExtraData=21]="ExtraData",wn))();const Xc="en-US";let o_=Xc;function Yp(e,t,n,s,a){if(e=de(e),Array.isArray(e))for(let c=0;c<e.length;c++)Yp(e[c],t,n,s,a);else{const c=Sn(),g=He();let D=Fl(e)?e:de(e.provide),T=$f(e);const k=Hr(),G=1048575&k.providerIndexes,J=k.directiveStart,Ie=k.providerIndexes>>20;if(Fl(e)||!e.multi){const Ne=new we(T,a,rc),tt=Qp(D,t,a?G:G+Ie,J);-1===tt?(mi(po(k,g),c,D),qp(c,e,t.length),t.push(D),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Ne),g.push(Ne)):(n[tt]=Ne,g[tt]=Ne)}else{const Ne=Qp(D,t,G+Ie,J),tt=Qp(D,t,G,G+Ie),Tt=tt>=0&&n[tt];if(a&&!Tt||!a&&!(Ne>=0&&n[Ne])){mi(po(k,g),c,D);const Wt=function _0(e,t,n,s,a){const c=new we(e,n,rc);return c.multi=[],c.index=t,c.componentProviders=0,P_(c,a,s&&!n),c}(a?m0:g0,n.length,a,s,T);!a&&Tt&&(n[tt].providerFactory=Wt),qp(c,e,t.length,0),t.push(D),k.directiveStart++,k.directiveEnd++,a&&(k.providerIndexes+=1048576),n.push(Wt),g.push(Wt)}else qp(c,e,Ne>-1?Ne:tt,P_(n[a?tt:Ne],T,!a&&s));!a&&s&&Tt&&n[tt].componentProviders++}}}function qp(e,t,n,s){const a=Fl(t),c=function md(e){return!!e.useClass}(t);if(a||c){const T=(c?de(t.useClass):t).prototype.ngOnDestroy;if(T){const k=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const G=k.indexOf(n);-1===G?k.push(n,[s,T]):k[G+1].push(s,T)}else k.push(n,T)}}}function P_(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Qp(e,t,n,s){for(let a=n;a<s;a++)if(t[a]===e)return a;return-1}function g0(e,t,n,s){return Jp(this.multi,[])}function m0(e,t,n,s){const a=this.multi;let c;if(this.providerFactory){const g=this.providerFactory.componentProviders,D=Ms(n,n[1],this.providerFactory.index,s);c=D.slice(0,g),Jp(a,c);for(let T=g;T<D.length;T++)c.push(D[T])}else c=[],Jp(a,c);return c}function Jp(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function O_(e,t=[]){return n=>{n.providersResolver=(s,a)=>function p0(e,t,n){const s=Sn();if(s.firstCreatePass){const a=qn(e);Yp(n,s.data,s.blueprint,a,!0),Yp(t,s.data,s.blueprint,a,!1)}}(s,a?a(e):e,t)}}class ed{}class N_{}function y0(e,t){return new k_(e,t??null)}class k_ extends ed{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wg(this);const s=Mr(t);this._bootstrapComponents=Wa(s.bootstrap),this._r3Injector=Nd(t,n,[{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],_e(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xp extends N_{constructor(t){super(),this.moduleType=t}create(t){return new k_(this.moduleType,t)}}class v0 extends ed{constructor(t,n,s){super(),this.componentFactoryResolver=new Wg(this),this.instance=null;const a=new Vf([...t,{provide:ed,useValue:this},{provide:pu,useValue:this.componentFactoryResolver}],n||vd(),s,new Set(["environment"]));this.injector=a,a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function eg(e,t,n=null){return new v0(e,t,n).injector}let E0=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const s=Eh(0,n.type),a=s.length>0?eg([s],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,a)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Rt({token:e,providedIn:"environment",factory:()=>new e(ut(fu))}),e})();function x_(e){e.getStandaloneInjector=t=>t.get(E0).getOrCreateStandaloneInjector(e)}function ng(e){return t=>{setTimeout(e,void 0,t)}}const ml=class G0 extends y.x{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){let a=t,c=n||(()=>null),g=s;if(t&&"object"==typeof t){const T=t;a=T.next?.bind(T),c=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(c=ng(c),a&&(a=ng(a)),g&&(g=ng(g)));const D=super.subscribe({next:a,error:c,complete:g});return t instanceof $.w0&&t.add(D),D}};function K0(){return this._results[sc()]()}class yf{get changes(){return this._changes||(this._changes=new ml)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=sc(),s=yf.prototype;s[n]||(s[n]=K0)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const a=function Yi(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Ks(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let a=e[s],c=t[s];if(n&&(a=n(a),c=n(c)),c!==a)return!1}return!0}(s._results,a,n))&&(s._results=a,s.length=a.length,s.last=a[this.length-1],s.first=a[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let oh=(()=>{class e{}return e.__NG_ELEMENT_ID__=q0,e})();const Z0=oh,Y0=class extends Z0{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}createEmbeddedView(t,n){const s=this._declarationTContainer.tViews,a=Fc(this._declarationLView,s,t,16,null,s.declTNode,null,null,null,null,n||null);a[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(a[19]=g.createEmbeddedView(s)),Bc(s,a,t),new Yd(a)}};function q0(){return vf(Hr(),He())}function vf(e,t){return 4&e.type?new Y0(t,e,gu(e,t)):null}let Ef=(()=>{class e{}return e.__NG_ELEMENT_ID__=Q0,e})();function Q0(){return Y_(Hr(),He())}const J0=Ef,K_=class extends J0{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return gu(this._hostTNode,this._hostLView)}get injector(){return new is(this._hostTNode,this._hostLView)}get parentInjector(){const t=aa(this._hostTNode,this._hostLView);if(Zi(t)){const n=Zo(t,this._hostLView),s=ps(t);return new is(n[1].data[s+8],n)}return new is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Z_(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,n,s){let a,c;"number"==typeof s?a=s:null!=s&&(a=s.index,c=s.injector);const g=t.createEmbeddedView(n||{},c);return this.insert(g,a),g}createComponent(t,n,s,a,c){const g=t&&!function Ao(e){return"function"==typeof e}(t);let D;if(g)D=n;else{const J=n||{};D=J.index,s=J.injector,a=J.projectableNodes,c=J.environmentInjector||J.ngModuleRef}const T=g?t:new qd(Mn(t)),k=s||this.parentInjector;if(!c&&null==T.ngModule){const Ie=(g?k:this.parentInjector).get(fu,null);Ie&&(c=Ie)}const G=T.create(k,a,void 0,c);return this.insert(G.hostView,D),G}insert(t,n){const s=t._lView,a=s[1];if(function $r(e){return Tr(e[3])}(s)){const G=this.indexOf(t);if(-1!==G)this.detach(G);else{const J=s[3],Ie=new K_(J,J[6],J[3]);Ie.detach(Ie.indexOf(t))}}const c=this._adjustIndex(n),g=this._lContainer;!function yc(e,t,n,s){const a=10+s,c=n.length;s>0&&(n[a-1][4]=t),s<c-10?(t[4]=n[a],I(n,10+s,t)):(n.push(t),t[4]=null),t[3]=n;const g=t[17];null!==g&&n!==g&&function tu(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(g,t);const D=t[19];null!==D&&D.insertView(e),t[2]|=64}(a,s,g,c);const D=Rs(c,g),T=s[11],k=Va(T,g[7]);return null!==k&&function ld(e,t,n,s,a,c){s[0]=a,s[6]=t,Al(e,s,n,1,a,c)}(a,g[6],T,s,k,D),t.attachToViewContainerRef(),I(rg(g),c,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Z_(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=bl(this._lContainer,n);s&&(f(rg(this._lContainer),n),vc(s[1],s))}detach(t){const n=this._adjustIndex(t,-1),s=bl(this._lContainer,n);return s&&null!=f(rg(this._lContainer),n)?new Yd(s):null}_adjustIndex(t,n=0){return t??this.length+n}};function Z_(e){return e[8]}function rg(e){return e[8]||(e[8]=[])}function Y_(e,t){let n;const s=t[e.index];if(Tr(s))n=s;else{let a;if(8&e.type)a=er(s);else{const c=t[11];a=c.createComment("");const g=or(e,t);_a(c,Va(c,g),a,function ya(e,t){return e.nextSibling(t)}(c,g),!1)}t[e.index]=n=R(s,t,a,e),bt(t,n)}return new K_(n,e,t)}class ig{constructor(t){this.queryList=t,this.matches=null}clone(){return new ig(this.queryList)}setDirty(){this.queryList.setDirty()}}class sg{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,a=[];for(let c=0;c<s;c++){const g=n.getByIndex(c);a.push(this.queries[g.indexInDeclarationView].clone())}return new sg(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==iy(t,n).matches&&this.queries[n].setDirty()}}class q_{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class og{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const a=null!==n?n.length:0,c=this.getByIndex(s).embeddedTView(t,a);c&&(c.indexInDeclarationView=s,null!==n?n.push(c):n=[c])}return null!==n?new og(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ag{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new ag(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let a=0;a<s.length;a++){const c=s[a];this.matchTNodeWithReadOption(t,n,X0(n,c)),this.matchTNodeWithReadOption(t,n,ua(n,t,c,!1,!1))}else s===oh?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ua(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const a=this.metadata.read;if(null!==a)if(a===qu||a===Ef||a===oh&&4&n.type)this.addMatch(n.index,-2);else{const c=ua(n,t,a,!1,!1);null!==c&&this.addMatch(n.index,c)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function X0(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function tI(e,t,n,s){return-1===n?function eI(e,t){return 11&e.type?gu(e,t):4&e.type?vf(e,t):null}(t,e):-2===n?function nI(e,t,n){return n===qu?gu(t,e):n===oh?vf(t,e):n===Ef?Y_(t,e):void 0}(e,t,s):Ms(e,e[1],n,t)}function Q_(e,t,n,s){const a=t[19].queries[s];if(null===a.matches){const c=e.data,g=n.matches,D=[];for(let T=0;T<g.length;T+=2){const k=g[T];D.push(k<0?null:tI(t,c[k],g[T+1],n.metadata.read))}a.matches=D}return a.matches}function lg(e,t,n,s){const a=e.queries.getByIndex(n),c=a.matches;if(null!==c){const g=Q_(e,t,a,n);for(let D=0;D<c.length;D+=2){const T=c[D];if(T>0)s.push(g[D/2]);else{const k=c[D+1],G=t[-T];for(let J=10;J<G.length;J++){const Ie=G[J];Ie[17]===Ie[3]&&lg(Ie[1],Ie,k,s)}if(null!==G[9]){const J=G[9];for(let Ie=0;Ie<J.length;Ie++){const Ne=J[Ie];lg(Ne[1],Ne,k,s)}}}}}return s}function J_(e){const t=He(),n=Sn(),s=B();q(s+1);const a=iy(n,s);if(e.dirty&&function Ss(e){return 4==(4&e[2])}(t)===(2==(2&a.metadata.flags))){if(null===a.matches)e.reset([]);else{const c=a.crossesNgTemplate?lg(n,t,s,[]):Q_(n,t,a,s);e.reset(c,Gf),e.notifyOnChanges()}return!0}return!1}function X_(e,t,n){const s=Sn();s.firstCreatePass&&(ry(s,new q_(e,t,n),-1),2==(2&t)&&(s.staticViewQueries=!0)),ny(s,He(),t)}function ey(e,t,n,s){const a=Sn();if(a.firstCreatePass){const c=Hr();ry(a,new q_(t,n,s),c.index),function iI(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(a,e),2==(2&n)&&(a.staticContentQueries=!0)}ny(a,He(),n)}function ty(){return function rI(e,t){return e[19].queries[t].queryList}(He(),B())}function ny(e,t,n){const s=new yf(4==(4&n));zd(e,t,s,s.destroy),null===t[19]&&(t[19]=new sg),t[19].queries.push(new ig(s))}function ry(e,t,n){null===e.queries&&(e.queries=new og),e.queries.track(new ag(t,n))}function iy(e,t){return e.queries.getByIndex(t)}function Df(...e){}const wy=new pr("Application Initializer");let wf=(()=>{class e{constructor(n){this.appInits=n,this.resolve=Df,this.reject=Df,this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,a)=>{this.resolve=s,this.reject=a})}runInitializers(){if(this.initialized)return;const n=[],s=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let a=0;a<this.appInits.length;a++){const c=this.appInits[a]();if(kp(c))n.push(c);else if(um(c)){const g=new Promise((D,T)=>{c.subscribe({complete:D,error:T})});n.push(g)}}Promise.all(n).then(()=>{s()}).catch(a=>{this.reject(a)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(ut(wy,8))},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Cy=new pr("AppId",{providedIn:"root",factory:function by(){return`${fg()}${fg()}${fg()}`}});function fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ty=new pr("Platform Initializer"),bI=new pr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sy=new pr("appBootstrapListener"),TI=new pr("AnimationModuleType");let SI=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const Cf=new pr("LocaleId",{providedIn:"root",factory:()=>_t(Cf,Pt.Optional|Pt.SkipSelf)||function AI(){return typeof $localize<"u"&&$localize.locale||Xc}()}),MI=new pr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class RI{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let PI=(()=>{class e{compileModuleSync(n){return new Xp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const s=this.compileModuleSync(n),c=Wa(Mr(n).declarations).reduce((g,D)=>{const T=Mn(D);return T&&g.push(new qd(T)),g},[]);return new RI(s,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const kI=(()=>Promise.resolve(0))();function pg(e){typeof Zone>"u"?kI.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Da{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ml(!1),this.onMicrotaskEmpty=new ml(!1),this.onStable=new ml(!1),this.onError=new ml(!1),typeof Zone>"u")throw new Le(908,!1);Zone.assertZonePatched();const a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!s&&n,a.shouldCoalesceRunChangeDetection=s,a.lastRequestAnimationFrameId=-1,a.nativeRequestAnimationFrame=function xI(){let e=Jt.requestAnimationFrame,t=Jt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function UI(e){const t=()=>{!function FI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Jt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,mg(e),e.isCheckStableRunning=!0,gg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),mg(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,a,c,g,D)=>{try{return Ry(e),n.invokeTask(a,c,g,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||e.shouldCoalesceRunChangeDetection)&&t(),Py(e)}},onInvoke:(n,s,a,c,g,D,T)=>{try{return Ry(e),n.invoke(a,c,g,D,T)}finally{e.shouldCoalesceRunChangeDetection&&t(),Py(e)}},onHasTask:(n,s,a,c)=>{n.hasTask(a,c),s===a&&("microTask"==c.change?(e._hasPendingMicrotasks=c.microTask,mg(e),gg(e)):"macroTask"==c.change&&(e.hasPendingMacrotasks=c.macroTask))},onHandleError:(n,s,a,c)=>(n.handleError(a,c),e.runOutsideAngular(()=>e.onError.emit(c)),!1)})}(a)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Da.isInAngularZone())throw new Le(909,!1)}static assertNotInAngularZone(){if(Da.isInAngularZone())throw new Le(909,!1)}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,a){const c=this._inner,g=c.scheduleEventTask("NgZoneEvent: "+a,t,LI,Df,Df);try{return c.runTask(g,n,s)}finally{c.cancelTask(g)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const LI={};function gg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mg(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Ry(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Py(e){e._nesting--,gg(e)}class BI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ml,this.onMicrotaskEmpty=new ml,this.onStable=new ml,this.onError=new ml}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,a){return t.apply(n,s)}}const Oy=new pr(""),Ny=new pr("");let _g,VI=(()=>{class e{constructor(n,s,a){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,_g||(function $I(e){_g=e}(a),a.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Da.assertNotInAngularZone(),pg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pg(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,a){let c=-1;s&&s>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==c),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:a})}whenStable(n,s,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,a),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,a){return[]}}return e.\u0275fac=function(n){return new(n||e)(ut(Da),ut(ky),ut(Ny))},e.\u0275prov=Rt({token:e,factory:e.\u0275fac}),e})(),ky=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return _g?.findTestabilityInTree(this,n,s)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Eu=null;const xy=new pr("AllowMultipleToken"),yg=new pr("PlatformDestroyListeners");class WI{constructor(t,n){this.name=t,this.token=n}}function Fy(e,t,n=[]){const s=`Platform: ${t}`,a=new pr(s);return(c=[])=>{let g=vg();if(!g||g.injector.get(xy,!1)){const D=[...n,...c,{provide:a,useValue:!0}];e?e(D):function zI(e){if(Eu&&!Eu.get(xy,!1))throw new Le(400,!1);Eu=e;const t=e.get(By);(function Ly(e){const t=e.get(Ty,null);t&&t.forEach(n=>n())})(e)}(function Uy(e=[],t){return dl.create({name:t,providers:[{provide:wh,useValue:"platform"},{provide:yg,useValue:new Set([()=>Eu=null])},...e]})}(D,s))}return function KI(e){const t=vg();if(!t)throw new Le(401,!1);return t}()}}function vg(){return Eu?.get(By)??null}let By=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const a=function $y(e,t){let n;return n="noop"===e?new BI:("zone.js"===e?void 0:e)||new Da(t),n}(s?.ngZone,function Vy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(s)),c=[{provide:Da,useValue:a}];return a.run(()=>{const g=dl.create({providers:c,parent:this.injector,name:n.moduleType.name}),D=n.create(g),T=D.injector.get(Xu,null);if(!T)throw new Le(402,!1);return a.runOutsideAngular(()=>{const k=a.onError.subscribe({next:G=>{T.handleError(G)}});D.onDestroy(()=>{Tf(this._modules,D),k.unsubscribe()})}),function Hy(e,t,n){try{const s=n();return kp(s)?s.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(T,a,()=>{const k=D.injector.get(wf);return k.runInitializers(),k.donePromise.then(()=>(function a_(e){tn(e,"Expected localeId to be defined"),"string"==typeof e&&(o_=e.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Cf,Xc)||Xc),this._moduleDoBootstrap(D),D))})})}bootstrapModule(n,s=[]){const a=jy({},s);return function HI(e,t,n){const s=new Xp(n);return Promise.resolve(s)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,a))}_moduleDoBootstrap(n){const s=n.injector.get(bf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(a=>s.bootstrap(a));else{if(!n.instance.ngDoBootstrap)throw new Le(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Le(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(yg,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(ut(dl))},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function jy(e,t){return Array.isArray(t)?t.reduce(jy,e):{...e,...t}}let bf=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,s,a){this._zone=n,this._injector=s,this._exceptionHandler=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new j.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),g=new j.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Da.assertNotInAngularZone(),pg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Da.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(c,g.pipe((0,ue.B)()))}bootstrap(n,s){const a=n instanceof Yu;if(!this._injector.get(wf).done)throw!a&&Qn(n),new Le(405,false);let g;g=a?n:this._injector.get(pu).resolveComponentFactory(n),this.componentTypes.push(g.componentType);const D=function jI(e){return e.isBoundToModule}(g)?void 0:this._injector.get(ed),k=g.create(dl.NULL,[],s||g.selector,D),G=k.location.nativeElement,J=k.injector.get(Oy,null);return J?.registerApplication(G),k.onDestroy(()=>{this.detachView(k.hostView),Tf(this.components,k),J?.unregisterApplication(G)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new Le(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;Tf(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(Sy,[]);s.push(...this._bootstrapListeners),s.forEach(a=>a(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Tf(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Le(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(ut(Da),ut(fu),ut(Xu))},e.\u0275prov=Rt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Tf(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function YI(){return!1}function qI(){}let QI=(()=>{class e{}return e.__NG_ELEMENT_ID__=JI,e})();function JI(e){return function XI(e,t,n){if(In(e)&&!n){const s=hr(e.index,t);return new Yd(s,s)}return 47&e.type?new Yd(t[16],t):null}(Hr(),He(),16==(16&e))}class Zy{constructor(){}supports(t){return lf(t)}create(t){return new sD(t)}}const iD=(e,t)=>t;class sD{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||iD}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,s=this._removalsHead,a=0,c=null;for(;n||s;){const g=!s||n&&n.currentIndex<qy(s,a,c)?n:s,D=qy(g,a,c),T=g.currentIndex;if(g===s)a--,s=s._nextRemoved;else if(n=n._next,null==g.previousIndex)a++;else{c||(c=[]);const k=D-a,G=T-a;if(k!=G){for(let Ie=0;Ie<k;Ie++){const Ne=Ie<c.length?c[Ie]:c[Ie]=0,tt=Ne+Ie;G<=tt&&tt<k&&(c[Ie]=Ne+1)}c[g.previousIndex]=G-k}}D!==T&&t(g,D,T)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!lf(t))throw new Le(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,g,n=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let D=0;D<this.length;D++)c=t[D],g=this._trackByFn(D,c),null!==n&&Object.is(n.trackById,g)?(s&&(n=this._verifyReinsertion(n,c,g,D)),Object.is(n.item,c)||this._addIdentityChange(n,c)):(n=this._mismatch(n,c,g,D),s=!0),n=n._next}else a=0,function Dv(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[sc()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(t,D=>{g=this._trackByFn(a,D),null!==n&&Object.is(n.trackById,g)?(s&&(n=this._verifyReinsertion(n,D,g,a)),Object.is(n.item,D)||this._addIdentityChange(n,D)):(n=this._mismatch(n,D,g,a),s=!0),n=n._next,a++}),this.length=a;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,s,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(s,a))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,c,a)):t=this._addAfter(new oD(n,s),c,a),t}_verifyReinsertion(t,n,s,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(s,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,s){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,n,s),this._addToMoves(t,s),t}_moveAfter(t,n,s){return this._unlink(t),this._insertAfter(t,n,s),this._addToMoves(t,s),t}_addAfter(t,n,s){return this._insertAfter(t,n,s),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,s){const a=null===n?this._itHead:n._next;return t._next=a,t._prev=n,null===a?this._itTail=t:a._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yy),this._linkedRecords.put(t),t.currentIndex=s,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,s=t._next;return null===n?this._itHead=s:n._next=s,null===s?this._itTail=n:s._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yy),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class oD{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aD{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let s;for(s=this._head;null!==s;s=s._nextDup)if((null===n||n<=s.currentIndex)&&Object.is(s.trackById,t))return s;return null}remove(t){const n=t._prevDup,s=t._nextDup;return null===n?this._head=s:n._nextDup=s,null===s?this._tail=n:s._prevDup=n,null===this._head}}class Yy{constructor(){this.map=new Map}put(t){const n=t.trackById;let s=this.map.get(n);s||(s=new aD,this.map.set(n,s)),s.add(t)}get(t,n){const a=this.map.get(t);return a?a.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qy(e,t,n){const s=e.previousIndex;if(null===s)return s;let a=0;return n&&s<n.length&&(a=n[s]),s+t+a}class Qy{constructor(){}supports(t){return t instanceof Map||Sp(t)}create(){return new lD}}class lD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||Sp(t)))throw new Le(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(s,a)=>{if(n&&n.key===a)this._maybeAddToChanges(n,s),this._appendAfter=n,n=n._next;else{const c=this._getOrCreateRecordForKey(a,s);n=this._insertBeforeOrAppend(n,c)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let s=n;null!==s;s=s._nextRemoved)s===this._mapHead&&(this._mapHead=null),this._records.delete(s.key),s._nextRemoved=s._next,s.previousValue=s.currentValue,s.currentValue=null,s._prev=null,s._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const s=t._prev;return n._next=t,n._prev=s,t._prev=n,s&&(s._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,n);const c=a._prev,g=a._next;return c&&(c._next=g),g&&(g._prev=c),a._next=null,a._prev=null,a}const s=new uD(t);return this._records.set(t,s),s.currentValue=n,this._addToAdditions(s),s}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(s=>n(t[s],s))}}class uD{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Jy(){return new Cg([new Zy])}let Cg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(null!=s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Jy()),deps:[[e,new P,new Oa]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(null!=s)return s;throw new Le(901,!1)}}return e.\u0275prov=Rt({token:e,providedIn:"root",factory:Jy}),e})();function Xy(){return new bg([new Qy])}let bg=(()=>{class e{constructor(n){this.factories=n}static create(n,s){if(s){const a=s.factories.slice();n=n.concat(a)}return new e(n)}static extend(n){return{provide:e,useFactory:s=>e.create(n,s||Xy()),deps:[[e,new P,new Oa]]}}find(n){const s=this.factories.find(a=>a.supports(n));if(s)return s;throw new Le(901,!1)}}return e.\u0275prov=Rt({token:e,providedIn:"root",factory:Xy}),e})();const hD=Fy(null,"core",[]);let fD=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(ut(bf))},e.\u0275mod=Yn({type:e}),e.\u0275inj=cr({}),e})();function pD(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}},1481:(ft,Pe,F)=>{F.d(Pe,{Dx:()=>mr,H7:()=>wt,b2:()=>Wn,q6:()=>Wr,se:()=>Re});var y=F(6895),$=F(4650);class j extends y.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ae extends j{static makeCurrent(){(0,y.HT)(new ae)}onAndCancel(he,Q,De){return he.addEventListener(Q,De,!1),()=>{he.removeEventListener(Q,De,!1)}}dispatchEvent(he,Q){he.dispatchEvent(Q)}remove(he){he.parentNode&&he.parentNode.removeChild(he)}createElement(he,Q){return(Q=Q||this.getDefaultDocument()).createElement(he)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(he){return he.nodeType===Node.ELEMENT_NODE}isShadowRoot(he){return he instanceof DocumentFragment}getGlobalEventTarget(he,Q){return"window"===Q?window:"document"===Q?he:"body"===Q?he.body:null}getBaseHref(he){const Q=function ge(){return ue=ue||document.querySelector("base"),ue?ue.getAttribute("href"):null}();return null==Q?null:function _e(ce){Ce=Ce||document.createElement("a"),Ce.setAttribute("href",ce);const he=Ce.pathname;return"/"===he.charAt(0)?he:`/${he}`}(Q)}resetBaseElement(){ue=null}getUserAgent(){return window.navigator.userAgent}getCookie(he){return(0,y.Mx)(document.cookie,he)}}let Ce,ue=null;const ye=new $.OlP("TRANSITION_ID"),re=[{provide:$.ip1,useFactory:function ne(ce,he,Q){return()=>{Q.get($.CZH).donePromise.then(()=>{const De=(0,y.q)(),Xe=he.querySelectorAll(`style[ng-transition="${ce}"]`);for(let St=0;St<Xe.length;St++)De.remove(Xe[St])})}},deps:[ye,y.K0,$.zs3],multi:!0}];let Qe=(()=>{class ce{build(){return new XMLHttpRequest}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const We=new $.OlP("EventManagerPlugins");let st=(()=>{class ce{constructor(Q,De){this._zone=De,this._eventNameToPlugin=new Map,Q.forEach(Xe=>Xe.manager=this),this._plugins=Q.slice().reverse()}addEventListener(Q,De,Xe){return this._findPluginFor(De).addEventListener(Q,De,Xe)}addGlobalEventListener(Q,De,Xe){return this._findPluginFor(De).addGlobalEventListener(Q,De,Xe)}getZone(){return this._zone}_findPluginFor(Q){const De=this._eventNameToPlugin.get(Q);if(De)return De;const Xe=this._plugins;for(let St=0;St<Xe.length;St++){const _n=Xe[St];if(_n.supports(Q))return this._eventNameToPlugin.set(Q,_n),_n}throw new Error(`No event manager plugin found for event ${Q}`)}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(We),$.LFG($.R0b))},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class pt{constructor(he){this._doc=he}addGlobalEventListener(he,Q,De){const Xe=(0,y.q)().getGlobalEventTarget(this._doc,he);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${Q}`);return this.addEventListener(Xe,Q,De)}}let Le=(()=>{class ce{constructor(){this._stylesSet=new Set}addStyles(Q){const De=new Set;Q.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),De.add(Xe))}),this.onStylesAdded(De)}onStylesAdded(Q){}getAllStyles(){return Array.from(this._stylesSet)}}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})(),Ye=(()=>{class ce extends Le{constructor(Q){super(),this._doc=Q,this._hostNodes=new Map,this._hostNodes.set(Q.head,[])}_addStylesToHost(Q,De,Xe){Q.forEach(St=>{const _n=this._doc.createElement("style");_n.textContent=St,Xe.push(De.appendChild(_n))})}addHost(Q){const De=[];this._addStylesToHost(this._stylesSet,Q,De),this._hostNodes.set(Q,De)}removeHost(Q){const De=this._hostNodes.get(Q);De&&De.forEach($e),this._hostNodes.delete(Q)}onStylesAdded(Q){this._hostNodes.forEach((De,Xe)=>{this._addStylesToHost(Q,Xe,De)})}ngOnDestroy(){this._hostNodes.forEach(Q=>Q.forEach($e))}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(y.K0))},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();function $e(ce){(0,y.q)().remove(ce)}const Je={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Se=/%COMP%/g;function pe(ce,he){return he.flat(100).map(Q=>Q.replace(Se,ce))}function ve(ce){return he=>{if("__ngUnwrap__"===he)return ce;!1===ce(he)&&(he.preventDefault(),he.returnValue=!1)}}let Re=(()=>{class ce{constructor(Q,De,Xe){this.eventManager=Q,this.sharedStylesHost=De,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Oe(Q)}createRenderer(Q,De){if(!Q||!De)return this.defaultRenderer;switch(De.encapsulation){case $.ifc.Emulated:{let Xe=this.rendererByCompId.get(De.id);return Xe||(Xe=new Cn(this.eventManager,this.sharedStylesHost,De,this.appId),this.rendererByCompId.set(De.id,Xe)),Xe.applyToHost(Q),Xe}case $.ifc.ShadowDom:return new jn(this.eventManager,this.sharedStylesHost,Q,De);default:if(!this.rendererByCompId.has(De.id)){const Xe=pe(De.id,De.styles);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(De.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(st),$.LFG(Ye),$.LFG($.AFp))},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();class Oe{constructor(he){this.eventManager=he,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(he,Q){return Q?document.createElementNS(Je[Q]||Q,he):document.createElement(he)}createComment(he){return document.createComment(he)}createText(he){return document.createTextNode(he)}appendChild(he,Q){(At(he)?he.content:he).appendChild(Q)}insertBefore(he,Q,De){he&&(At(he)?he.content:he).insertBefore(Q,De)}removeChild(he,Q){he&&he.removeChild(Q)}selectRootElement(he,Q){let De="string"==typeof he?document.querySelector(he):he;if(!De)throw new Error(`The selector "${he}" did not match any elements`);return Q||(De.textContent=""),De}parentNode(he){return he.parentNode}nextSibling(he){return he.nextSibling}setAttribute(he,Q,De,Xe){if(Xe){Q=Xe+":"+Q;const St=Je[Xe];St?he.setAttributeNS(St,Q,De):he.setAttribute(Q,De)}else he.setAttribute(Q,De)}removeAttribute(he,Q,De){if(De){const Xe=Je[De];Xe?he.removeAttributeNS(Xe,Q):he.removeAttribute(`${De}:${Q}`)}else he.removeAttribute(Q)}addClass(he,Q){he.classList.add(Q)}removeClass(he,Q){he.classList.remove(Q)}setStyle(he,Q,De,Xe){Xe&($.JOm.DashCase|$.JOm.Important)?he.style.setProperty(Q,De,Xe&$.JOm.Important?"important":""):he.style[Q]=De}removeStyle(he,Q,De){De&$.JOm.DashCase?he.style.removeProperty(Q):he.style[Q]=""}setProperty(he,Q,De){he[Q]=De}setValue(he,Q){he.nodeValue=Q}listen(he,Q,De){return"string"==typeof he?this.eventManager.addGlobalEventListener(he,Q,ve(De)):this.eventManager.addEventListener(he,Q,ve(De))}}function At(ce){return"TEMPLATE"===ce.tagName&&void 0!==ce.content}class Cn extends Oe{constructor(he,Q,De,Xe){super(he),this.component=De;const St=pe(Xe+"-"+De.id,De.styles);Q.addStyles(St),this.contentAttr=function N(ce){return"_ngcontent-%COMP%".replace(Se,ce)}(Xe+"-"+De.id),this.hostAttr=function Be(ce){return"_nghost-%COMP%".replace(Se,ce)}(Xe+"-"+De.id)}applyToHost(he){super.setAttribute(he,this.hostAttr,"")}createElement(he,Q){const De=super.createElement(he,Q);return super.setAttribute(De,this.contentAttr,""),De}}class jn extends Oe{constructor(he,Q,De,Xe){super(he),this.sharedStylesHost=Q,this.hostEl=De,this.shadowRoot=De.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const St=pe(Xe.id,Xe.styles);for(let _n=0;_n<St.length;_n++){const kr=document.createElement("style");kr.textContent=St[_n],this.shadowRoot.appendChild(kr)}}nodeOrShadowRoot(he){return he===this.hostEl?this.shadowRoot:he}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(he,Q){return super.appendChild(this.nodeOrShadowRoot(he),Q)}insertBefore(he,Q,De){return super.insertBefore(this.nodeOrShadowRoot(he),Q,De)}removeChild(he,Q){return super.removeChild(this.nodeOrShadowRoot(he),Q)}parentNode(he){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(he)))}}let Qt=(()=>{class ce extends pt{constructor(Q){super(Q)}supports(Q){return!0}addEventListener(Q,De,Xe){return Q.addEventListener(De,Xe,!1),()=>this.removeEventListener(Q,De,Xe)}removeEventListener(Q,De,Xe){return Q.removeEventListener(De,Xe)}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(y.K0))},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const tn=["alt","control","meta","shift"],Ot={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pn={alt:ce=>ce.altKey,control:ce=>ce.ctrlKey,meta:ce=>ce.metaKey,shift:ce=>ce.shiftKey};let ur=(()=>{class ce extends pt{constructor(Q){super(Q)}supports(Q){return null!=ce.parseEventName(Q)}addEventListener(Q,De,Xe){const St=ce.parseEventName(De),_n=ce.eventCallback(St.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,y.q)().onAndCancel(Q,St.domEventName,_n))}static parseEventName(Q){const De=Q.toLowerCase().split("."),Xe=De.shift();if(0===De.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const St=ce._normalizeKey(De.pop());let _n="",kr=De.indexOf("code");if(kr>-1&&(De.splice(kr,1),_n="code."),tn.forEach(Ri=>{const Ui=De.indexOf(Ri);Ui>-1&&(De.splice(Ui,1),_n+=Ri+".")}),_n+=St,0!=De.length||0===St.length)return null;const dr={};return dr.domEventName=Xe,dr.fullKey=_n,dr}static matchEventFullKeyCode(Q,De){let Xe=Ot[Q.key]||Q.key,St="";return De.indexOf("code.")>-1&&(Xe=Q.code,St="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),tn.forEach(_n=>{_n!==Xe&&(0,pn[_n])(Q)&&(St+=_n+".")}),St+=Xe,St===De)}static eventCallback(Q,De,Xe){return St=>{ce.matchEventFullKeyCode(St,Q)&&Xe.runGuarded(()=>De(St))}}static _normalizeKey(Q){return"esc"===Q?"escape":Q}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(y.K0))},ce.\u0275prov=$.Yz7({token:ce,factory:ce.\u0275fac}),ce})();const Wr=(0,$.eFA)($._c5,"browser",[{provide:$.Lbi,useValue:y.bD},{provide:$.g9A,useValue:function nr(){ae.makeCurrent()},multi:!0},{provide:y.K0,useFactory:function vi(){return(0,$.RDi)(document),document},deps:[]}]),rr=new $.OlP(""),An=[{provide:$.rWj,useClass:class de{addToWindow(he){$.dqk.getAngularTestability=(De,Xe=!0)=>{const St=he.findTestabilityInTree(De,Xe);if(null==St)throw new Error("Could not find testability for element.");return St},$.dqk.getAllAngularTestabilities=()=>he.getAllTestabilities(),$.dqk.getAllAngularRootElements=()=>he.getAllRootElements(),$.dqk.frameworkStabilizers||($.dqk.frameworkStabilizers=[]),$.dqk.frameworkStabilizers.push(De=>{const Xe=$.dqk.getAllAngularTestabilities();let St=Xe.length,_n=!1;const kr=function(dr){_n=_n||dr,St--,0==St&&De(_n)};Xe.forEach(function(dr){dr.whenStable(kr)})})}findTestabilityInTree(he,Q,De){return null==Q?null:he.getTestability(Q)??(De?(0,y.q)().isShadowRoot(Q)?this.findTestabilityInTree(he,Q.host,!0):this.findTestabilityInTree(he,Q.parentElement,!0):null)}},deps:[]},{provide:$.lri,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]},{provide:$.dDg,useClass:$.dDg,deps:[$.R0b,$.eoX,$.rWj]}],rn=[{provide:$.zSh,useValue:"root"},{provide:$.qLn,useFactory:function gn(){return new $.qLn},deps:[]},{provide:We,useClass:Qt,multi:!0,deps:[y.K0,$.R0b,$.Lbi]},{provide:We,useClass:ur,multi:!0,deps:[y.K0]},{provide:Re,useClass:Re,deps:[st,Ye,$.AFp]},{provide:$.FYo,useExisting:Re},{provide:Le,useExisting:Ye},{provide:Ye,useClass:Ye,deps:[y.K0]},{provide:st,useClass:st,deps:[We,$.R0b]},{provide:y.JF,useClass:Qe,deps:[]},[]];let Wn=(()=>{class ce{constructor(Q){}static withServerTransition(Q){return{ngModule:ce,providers:[{provide:$.AFp,useValue:Q.appId},{provide:ye,useExisting:$.AFp},re]}}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(rr,12))},ce.\u0275mod=$.oAB({type:ce}),ce.\u0275inj=$.cJS({providers:[...rn,...An],imports:[y.ez,$.hGG]}),ce})(),mr=(()=>{class ce{constructor(Q){this._doc=Q}getTitle(){return this._doc.title}setTitle(Q){this._doc.title=Q||""}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(y.K0))},ce.\u0275prov=$.Yz7({token:ce,factory:function(Q){let De=null;return De=Q?new Q:function un(){return new mr((0,$.LFG)(y.K0))}(),De},providedIn:"root"}),ce})();typeof window<"u"&&window;let wt=(()=>{class ce{}return ce.\u0275fac=function(Q){return new(Q||ce)},ce.\u0275prov=$.Yz7({token:ce,factory:function(Q){let De=null;return De=Q?new(Q||ce):$.LFG(mn),De},providedIn:"root"}),ce})(),mn=(()=>{class ce extends wt{constructor(Q){super(),this._doc=Q}sanitize(Q,De){if(null==De)return null;switch(Q){case $.q3G.NONE:return De;case $.q3G.HTML:return(0,$.qzn)(De,"HTML")?(0,$.z3N)(De):(0,$.EiD)(this._doc,String(De)).toString();case $.q3G.STYLE:return(0,$.qzn)(De,"Style")?(0,$.z3N)(De):De;case $.q3G.SCRIPT:if((0,$.qzn)(De,"Script"))return(0,$.z3N)(De);throw new Error("unsafe value used in a script context");case $.q3G.URL:return(0,$.qzn)(De,"URL")?(0,$.z3N)(De):(0,$.mCW)(String(De));case $.q3G.RESOURCE_URL:if((0,$.qzn)(De,"ResourceURL"))return(0,$.z3N)(De);throw new Error(`unsafe value used in a resource URL context (see ${$.JZr})`);default:throw new Error(`Unexpected SecurityContext ${Q} (see ${$.JZr})`)}}bypassSecurityTrustHtml(Q){return(0,$.JVY)(Q)}bypassSecurityTrustStyle(Q){return(0,$.L6k)(Q)}bypassSecurityTrustScript(Q){return(0,$.eBb)(Q)}bypassSecurityTrustUrl(Q){return(0,$.LAX)(Q)}bypassSecurityTrustResourceUrl(Q){return(0,$.pB0)(Q)}}return ce.\u0275fac=function(Q){return new(Q||ce)($.LFG(y.K0))},ce.\u0275prov=$.Yz7({token:ce,factory:function(Q){let De=null;return De=Q?new Q:function sn(ce){return new mn(ce.get(y.K0))}($.LFG($.zs3)),De},providedIn:"root"}),ce})()},1779:(ft,Pe,F)=>{F.d(Pe,{Bz:()=>tl,lC:()=>bi});var y=F(4650),$=F(8996),j=F(9646),ae=F(1135),ue=F(6805),ge=F(9841),Ce=F(7272),_e=F(9751),ye=F(8421);function ne(_){return new _e.y(I=>{(0,ye.Xf)(_()).subscribe(I)})}var re=F(9635),de=F(2843),Qe=F(515),We=F(727),st=F(4482),pt=F(5403);function Le(){return(0,st.e)((_,I)=>{let f=null;_._refCount++;const b=(0,pt.x)(I,void 0,void 0,void 0,()=>{if(!_||_._refCount<=0||0<--_._refCount)return void(f=null);const O=_._connection,z=f;f=null,O&&(!z||O===z)&&O.unsubscribe(),I.unsubscribe()});_.subscribe(b),b.closed||(f=_.connect())})}class Ye extends _e.y{constructor(I,f){super(),this.source=I,this.subjectFactory=f,this._subject=null,this._refCount=0,this._connection=null,(0,st.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,I?.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new We.w0;const f=this.getSubject();I.add(this.source.subscribe((0,pt.x)(f,void 0,()=>{this._teardown(),f.complete()},b=>{this._teardown(),f.error(b)},()=>this._teardown()))),I.closed&&(this._connection=null,I=We.w0.EMPTY)}return I}refCount(){return Le()(this)}}var $e=F(7579),Je=F(6895),Se=F(4004),fe=F(3900),Fe=F(5698),et=F(8675),nt=F(9300),N=F(5577),Be=F(590),pe=F(4351),ve=F(8505),Re=F(262),Oe=F(5026);function at(_){return _<=0?()=>Qe.E:(0,st.e)((I,f)=>{let b=[];I.subscribe((0,pt.x)(f,O=>{b.push(O),_<b.length&&b.shift()},()=>{for(const O of b)f.next(O);f.complete()},void 0,()=>{b=null}))})}var ot=F(8068),At=F(6590),Cn=F(4671);function jn(_,I){const f=arguments.length>=2;return b=>b.pipe(_?(0,nt.h)((O,z)=>_(O,z,b)):Cn.y,at(1),f?(0,At.d)(I):(0,ot.T)(()=>new ue.K))}var tn=F(9718),Ot=F(8746),pn=F(8189),ur=F(1481);const kt="primary",Rt=Symbol("RouteTitle");class ln{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const f=this.params[I];return Array.isArray(f)?f[0]:f}return null}getAll(I){if(this.has(I)){const f=this.params[I];return Array.isArray(f)?f:[f]}return[]}get keys(){return Object.keys(this.params)}}function cr(_){return new ln(_)}function jr(_,I,f){const b=f.path.split("/");if(b.length>_.length||"full"===f.pathMatch&&(I.hasChildren()||b.length<_.length))return null;const O={};for(let z=0;z<b.length;z++){const Z=b[z],Te=_[z];if(Z.startsWith(":"))O[Z.substring(1)]=Te;else if(Z!==Te.path)return null}return{consumed:_.slice(0,b.length),posParams:O}}function gn(_,I){const f=_?Object.keys(_):void 0,b=I?Object.keys(I):void 0;if(!f||!b||f.length!=b.length)return!1;let O;for(let z=0;z<f.length;z++)if(O=f[z],!vi(_[O],I[O]))return!1;return!0}function vi(_,I){if(Array.isArray(_)&&Array.isArray(I)){if(_.length!==I.length)return!1;const f=[..._].sort(),b=[...I].sort();return f.every((O,z)=>b[z]===O)}return _===I}function gr(_){return Array.prototype.concat.apply([],_)}function Wr(_){return _.length>0?_[_.length-1]:null}function An(_,I){for(const f in _)_.hasOwnProperty(f)&&I(_[f],f)}function rn(_){return(0,y.CqO)(_)?_:(0,y.QGY)(_)?(0,$.D)(Promise.resolve(_)):(0,j.of)(_)}const Wn=!1,Pt={exact:function mr(_,I,f){if(!Zn(_.segments,I.segments)||!Ft(_.segments,I.segments,f)||_.numberOfChildren!==I.numberOfChildren)return!1;for(const b in I.children)if(!_.children[b]||!mr(_.children[b],I.children[b],f))return!1;return!0},subset:Jt},zr={exact:function un(_,I){return gn(_,I)},subset:function Qi(_,I){return Object.keys(I).length<=Object.keys(_).length&&Object.keys(I).every(f=>vi(_[f],I[f]))},ignored:()=>!0};function Xr(_,I,f){return Pt[f.paths](_.root,I.root,f.matrixParams)&&zr[f.queryParams](_.queryParams,I.queryParams)&&!("exact"===f.fragment&&_.fragment!==I.fragment)}function Jt(_,I,f){return Mt(_,I,I.segments,f)}function Mt(_,I,f,b){if(_.segments.length>f.length){const O=_.segments.slice(0,f.length);return!(!Zn(O,f)||I.hasChildren()||!Ft(O,f,b))}if(_.segments.length===f.length){if(!Zn(_.segments,f)||!Ft(_.segments,f,b))return!1;for(const O in I.children)if(!_.children[O]||!Jt(_.children[O],I.children[O],b))return!1;return!0}{const O=f.slice(0,_.segments.length),z=f.slice(_.segments.length);return!!(Zn(_.segments,O)&&Ft(_.segments,O,b)&&_.children[kt])&&Mt(_.children[kt],I,z,b)}}function Ft(_,I,f){return I.every((b,O)=>zr[f](_[O].parameters,b.parameters))}class Nr{constructor(I=new Dt([],{}),f={},b=null){this.root=I,this.queryParams=f,this.fragment=b}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return Tn.serialize(this)}}class Dt{constructor(I,f){this.segments=I,this.children=f,this.parent=null,An(f,(b,O)=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class zn{constructor(I,f){this.path=I,this.parameters=f}get parameterMap(){return this._parameterMap||(this._parameterMap=cr(this.parameters)),this._parameterMap}toString(){return se(this)}}function Zn(_,I){return _.length===I.length&&_.every((f,b)=>f.path===I[b].path)}let Nn=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return new ei},providedIn:"root"}),_})();class ei{parse(I){const f=new ce(I);return new Nr(f.parseRootSegment(),f.parseQueryParams(),f.parseFragment())}serialize(I){const f=`/${Gr(I.root,!0)}`,b=function me(_){const I=Object.keys(_).map(f=>{const b=_[f];return Array.isArray(b)?b.map(O=>`${qe(f)}=${qe(O)}`).join("&"):`${qe(f)}=${qe(b)}`}).filter(f=>!!f);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${f}${b}${"string"==typeof I.fragment?`#${function _t(_){return encodeURI(_)}(I.fragment)}`:""}`}}const Tn=new ei;function sr(_){return _.segments.map(I=>se(I)).join("/")}function Gr(_,I){if(!_.hasChildren())return sr(_);if(I){const f=_.children[kt]?Gr(_.children[kt],!1):"",b=[];return An(_.children,(O,z)=>{z!==kt&&b.push(`${z}:${Gr(O,!1)}`)}),b.length>0?`${f}(${b.join("//")})`:f}{const f=function Ei(_,I){let f=[];return An(_.children,(b,O)=>{O===kt&&(f=f.concat(I(b,O)))}),An(_.children,(b,O)=>{O!==kt&&(f=f.concat(I(b,O)))}),f}(_,(b,O)=>O===kt?[Gr(_.children[kt],!1)]:[`${O}:${Gr(b,!1)}`]);return 1===Object.keys(_.children).length&&null!=_.children[kt]?`${sr(_)}/${f[0]}`:`${sr(_)}/(${f.join("//")})`}}function ut(_){return encodeURIComponent(_).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qe(_){return ut(_).replace(/%3B/gi,";")}function Lt(_){return ut(_).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(_){return decodeURIComponent(_)}function Xt(_){return $t(_.replace(/\+/g,"%20"))}function se(_){return`${Lt(_.path)}${function te(_){return Object.keys(_).map(I=>`;${Lt(I)}=${Lt(_[I])}`).join("")}(_.parameters)}`}const je=/^[^\/()?;=#]+/;function Me(_){const I=_.match(je);return I?I[0]:""}const wt=/^[^=?&#]+/,mn=/^[^&#]+/;class ce{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let f={};this.peekStartsWith("/(")&&(this.capture("/"),f=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(I.length>0||Object.keys(f).length>0)&&(b[kt]=new Dt(I,f)),b}parseSegment(){const I=Me(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new y.vHH(4009,Wn);return this.capture(I),new zn($t(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const f=Me(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const O=Me(this.remaining);O&&(b=O,this.capture(b))}I[$t(f)]=$t(b)}parseQueryParam(I){const f=function sn(_){const I=_.match(wt);return I?I[0]:""}(this.remaining);if(!f)return;this.capture(f);let b="";if(this.consumeOptional("=")){const Z=function Un(_){const I=_.match(mn);return I?I[0]:""}(this.remaining);Z&&(b=Z,this.capture(b))}const O=Xt(f),z=Xt(b);if(I.hasOwnProperty(O)){let Z=I[O];Array.isArray(Z)||(Z=[Z],I[O]=Z),Z.push(z)}else I[O]=z}parseParens(I){const f={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Me(this.remaining),O=this.remaining[b.length];if("/"!==O&&")"!==O&&";"!==O)throw new y.vHH(4010,Wn);let z;b.indexOf(":")>-1?(z=b.slice(0,b.indexOf(":")),this.capture(z),this.capture(":")):I&&(z=kt);const Z=this.parseChildren();f[z]=1===Object.keys(Z).length?Z[kt]:new Dt([],Z),this.consumeOptional("//")}return f}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new y.vHH(4011,Wn)}}function he(_){return _.segments.length>0?new Dt([],{[kt]:_}):_}function Q(_){const I={};for(const b of Object.keys(_.children)){const z=Q(_.children[b]);(z.segments.length>0||z.hasChildren())&&(I[b]=z)}return function De(_){if(1===_.numberOfChildren&&_.children[kt]){const I=_.children[kt];return new Dt(_.segments.concat(I.segments),I.children)}return _}(new Dt(_.segments,I))}function Xe(_){return _ instanceof Nr}function Ri(_,I,f,b,O){if(0===f.length)return Yn(I.root,I.root,I.root,b,O);const z=function Ar(_){if("string"==typeof _[0]&&1===_.length&&"/"===_[0])return new uo(!0,0,_);let I=0,f=!1;const b=_.reduce((O,z,Z)=>{if("object"==typeof z&&null!=z){if(z.outlets){const Te={};return An(z.outlets,(Ge,Ct)=>{Te[Ct]="string"==typeof Ge?Ge.split("/"):Ge}),[...O,{outlets:Te}]}if(z.segmentPath)return[...O,z.segmentPath]}return"string"!=typeof z?[...O,z]:0===Z?(z.split("/").forEach((Te,Ge)=>{0==Ge&&"."===Te||(0==Ge&&""===Te?f=!0:".."===Te?I++:""!=Te&&O.push(Te))}),O):[...O,z]},[]);return new uo(f,I,b)}(f);return z.toRoot()?Yn(I.root,I.root,new Dt([],{}),b,O):function Z(Ge){const Ct=function vr(_,I,f,b){if(_.isAbsolute)return new Ii(I.root,!0,0);if(-1===b)return new Ii(f,f===I.root,0);return function Er(_,I,f){let b=_,O=I,z=f;for(;z>O;){if(z-=O,b=b.parent,!b)throw new y.vHH(4005,!1);O=b.segments.length}return new Ii(b,!1,O-z)}(f,b+(Ui(_.commands[0])?0:1),_.numberOfDoubleDots)}(z,I,_.snapshot?._urlSegment,Ge),dt=Ct.processChildren?ti(Ct.segmentGroup,Ct.index,z.commands):Mr(Ct.segmentGroup,Ct.index,z.commands);return Yn(I.root,Ct.segmentGroup,dt,b,O)}(_.snapshot?._lastPathIndex)}function Ui(_){return"object"==typeof _&&null!=_&&!_.outlets&&!_.segmentPath}function ls(_){return"object"==typeof _&&null!=_&&_.outlets}function Yn(_,I,f,b,O){let Z,z={};b&&An(b,(Ge,Ct)=>{z[Ct]=Array.isArray(Ge)?Ge.map(dt=>`${dt}`):`${Ge}`}),Z=_===I?f:Io(_,I,f);const Te=he(Q(Z));return new Nr(Te,z,O)}function Io(_,I,f){const b={};return An(_.children,(O,z)=>{b[z]=O===I?f:Io(O,I,f)}),new Dt(_.segments,b)}class uo{constructor(I,f,b){if(this.isAbsolute=I,this.numberOfDoubleDots=f,this.commands=b,I&&b.length>0&&Ui(b[0]))throw new y.vHH(4003,!1);const O=b.find(ls);if(O&&O!==Wr(b))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ii{constructor(I,f,b){this.segmentGroup=I,this.processChildren=f,this.index=b}}function Mr(_,I,f){if(_||(_=new Dt([],{})),0===_.segments.length&&_.hasChildren())return ti(_,I,f);const b=function yt(_,I,f){let b=0,O=I;const z={match:!1,pathIndex:0,commandIndex:0};for(;O<_.segments.length;){if(b>=f.length)return z;const Z=_.segments[O],Te=f[b];if(ls(Te))break;const Ge=`${Te}`,Ct=b<f.length-1?f[b+1]:null;if(O>0&&void 0===Ge)break;if(Ge&&Ct&&"object"==typeof Ct&&void 0===Ct.outlets){if(!Bi(Ge,Ct,Z))return z;b+=2}else{if(!Bi(Ge,{},Z))return z;b++}O++}return{match:!0,pathIndex:O,commandIndex:b}}(_,I,f),O=f.slice(b.commandIndex);if(b.match&&b.pathIndex<_.segments.length){const z=new Dt(_.segments.slice(0,b.pathIndex),{});return z.children[kt]=new Dt(_.segments.slice(b.pathIndex),_.children),ti(z,0,O)}return b.match&&0===O.length?new Dt(_.segments,{}):b.match&&!_.hasChildren()?Kt(_,I,f):b.match?ti(_,0,O):Kt(_,I,f)}function ti(_,I,f){if(0===f.length)return new Dt(_.segments,{});{const b=function Qn(_){return ls(_[0])?_[0].outlets:{[kt]:_}}(f),O={};return An(b,(z,Z)=>{"string"==typeof z&&(z=[z]),null!==z&&(O[Z]=Mr(_.children[Z],I,z))}),An(_.children,(z,Z)=>{void 0===b[Z]&&(O[Z]=z)}),new Dt(_.segments,O)}}function Kt(_,I,f){const b=_.segments.slice(0,I);let O=0;for(;O<f.length;){const z=f[O];if(ls(z)){const Ge=Gn(z.outlets);return new Dt(b,Ge)}if(0===O&&Ui(f[0])){b.push(new zn(_.segments[I].path,Kr(f[0]))),O++;continue}const Z=ls(z)?z.outlets[kt]:`${z}`,Te=O<f.length-1?f[O+1]:null;Z&&Te&&Ui(Te)?(b.push(new zn(Z,Kr(Te))),O+=2):(b.push(new zn(Z,{})),O++)}return new Dt(b,{})}function Gn(_){const I={};return An(_,(f,b)=>{"string"==typeof f&&(f=[f]),null!==f&&(I[b]=Kt(new Dt([],{}),0,f))}),I}function Kr(_){const I={};return An(_,(f,b)=>I[b]=`${f}`),I}function Bi(_,I,f){return _==f.path&&gn(I,f.parameters)}const Jn="imperative";class _r{constructor(I,f){this.id=I,this.url=f}}class ir extends _r{constructor(I,f,b="imperative",O=null){super(I,f),this.type=0,this.navigationTrigger=b,this.restoredState=O}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ni extends _r{constructor(I,f,b){super(I,f),this.urlAfterRedirects=b,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pi extends _r{constructor(I,f,b,O){super(I,f),this.reason=b,this.code=O,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class nn extends _r{constructor(I,f,b,O){super(I,f),this.reason=b,this.code=O,this.type=16}}class ks extends _r{constructor(I,f,b,O){super(I,f),this.error=b,this.target=O,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class us extends _r{constructor(I,f,b,O){super(I,f),this.urlAfterRedirects=b,this.state=O,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class co extends _r{constructor(I,f,b,O){super(I,f),this.urlAfterRedirects=b,this.state=O,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Di extends _r{constructor(I,f,b,O,z){super(I,f),this.urlAfterRedirects=b,this.state=O,this.shouldActivate=z,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zr extends _r{constructor(I,f,b,O){super(I,f),this.urlAfterRedirects=b,this.state=O,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vs extends _r{constructor(I,f,b,O){super(I,f),this.urlAfterRedirects=b,this.state=O,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Es{constructor(I){this.route=I,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xr{constructor(I){this.route=I,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Oi{constructor(I){this.snapshot=I,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wi{constructor(I){this.snapshot=I,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(I){this.snapshot=I,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ni{constructor(I){this.snapshot=I,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class li{constructor(I,f,b){this.routerEvent=I,this.position=f,this.anchor=b,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let en=(()=>{class _{createUrlTree(f,b,O,z,Z,Te){return Ri(f||b.root,O,z,Z,Te)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})(),yn=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(I){return en.\u0275fac(I)},providedIn:"root"}),_})();class cs{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const f=this.pathFromRoot(I);return f.length>1?f[f.length-2]:null}children(I){const f=Br(I,this._root);return f?f.children.map(b=>b.value):[]}firstChild(I){const f=Br(I,this._root);return f&&f.children.length>0?f.children[0].value:null}siblings(I){const f=Tr(I,this._root);return f.length<2?[]:f[f.length-2].children.map(O=>O.value).filter(O=>O!==I)}pathFromRoot(I){return Tr(I,this._root).map(f=>f.value)}}function Br(_,I){if(_===I.value)return I;for(const f of I.children){const b=Br(_,f);if(b)return b}return null}function Tr(_,I){if(_===I.value)return[I];for(const f of I.children){const b=Tr(_,f);if(b.length)return b.unshift(I),b}return[]}class ui{constructor(I,f){this.value=I,this.children=f}toString(){return`TreeNode(${this.value})`}}function In(_){const I={};return _&&_.children.forEach(f=>I[f.value.outlet]=f),I}class cn extends cs{constructor(I,f){super(I),this.snapshot=f,ws(this,I)}toString(){return this.snapshot.toString()}}function qn(_,I){const f=function Is(_,I){const Z=new Vi([],{},{},"",{},kt,I,null,_.root,-1,{});return new ds("",new ui(Z,[]))}(_,I),b=new ae.X([new zn("",{})]),O=new ae.X({}),z=new ae.X({}),Z=new ae.X({}),Te=new ae.X(""),Ge=new Ds(b,O,Z,Te,z,kt,I,f.root);return Ge.snapshot=f.root,new cn(new ui(Ge,[]),f)}class Ds{constructor(I,f,b,O,z,Z,Te,Ge){this.url=I,this.params=f,this.queryParams=b,this.fragment=O,this.data=z,this.outlet=Z,this.component=Te,this.title=this.data?.pipe((0,Se.U)(Ct=>Ct[Rt]))??(0,j.of)(void 0),this._futureSnapshot=Ge}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Se.U)(I=>cr(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Se.U)(I=>cr(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ri(_,I="emptyOnly"){const f=_.pathFromRoot;let b=0;if("always"!==I)for(b=f.length-1;b>=1;){const O=f[b],z=f[b-1];if(O.routeConfig&&""===O.routeConfig.path)b--;else{if(z.component)break;b--}}return function Ji(_){return _.reduce((I,f)=>({params:{...I.params,...f.params},data:{...I.data,...f.data},resolve:{...f.data,...I.resolve,...f.routeConfig?.data,...f._resolvedData}}),{params:{},data:{},resolve:{}})}(f.slice(b))}class Vi{get title(){return this.data?.[Rt]}constructor(I,f,b,O,z,Z,Te,Ge,Ct,dt,Ln){this.url=I,this.params=f,this.queryParams=b,this.fragment=O,this.data=z,this.outlet=Z,this.component=Te,this.routeConfig=Ge,this._urlSegment=Ct,this._lastPathIndex=dt,this._resolve=Ln}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=cr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=cr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ds extends cs{constructor(I,f){super(f),this.url=I,ws(this,f)}toString(){return Cs(this._root)}}function ws(_,I){I.value._routerState=_,I.children.forEach(f=>ws(_,f))}function Cs(_){const I=_.children.length>0?` { ${_.children.map(Cs).join(", ")} } `:"";return`${_.value}${I}`}function Qs(_){if(_.snapshot){const I=_.snapshot,f=_._futureSnapshot;_.snapshot=f,gn(I.queryParams,f.queryParams)||_.queryParams.next(f.queryParams),I.fragment!==f.fragment&&_.fragment.next(f.fragment),gn(I.params,f.params)||_.params.next(f.params),function nr(_,I){if(_.length!==I.length)return!1;for(let f=0;f<_.length;++f)if(!gn(_[f],I[f]))return!1;return!0}(I.url,f.url)||_.url.next(f.url),gn(I.data,f.data)||_.data.next(f.data)}else _.snapshot=_._futureSnapshot,_.data.next(_._futureSnapshot.data)}function xs(_,I){const f=gn(_.params,I.params)&&function Sr(_,I){return Zn(_,I)&&_.every((f,b)=>gn(f.parameters,I[b].parameters))}(_.url,I.url);return f&&!(!_.parent!=!I.parent)&&(!_.parent||xs(_.parent,I.parent))}function Ci(_,I,f){if(f&&_.shouldReuseRoute(I.value,f.value.snapshot)){const b=f.value;b._futureSnapshot=I.value;const O=function $i(_,I,f){return I.children.map(b=>{for(const O of f.children)if(_.shouldReuseRoute(b.value,O.value.snapshot))return Ci(_,b,O);return Ci(_,b)})}(_,I,f);return new ui(b,O)}{if(_.shouldAttach(I.value)){const z=_.retrieve(I.value);if(null!==z){const Z=z.route;return Z.value._futureSnapshot=I.value,Z.children=I.children.map(Te=>Ci(_,Te)),Z}}const b=function oa(_){return new Ds(new ae.X(_.url),new ae.X(_.params),new ae.X(_.queryParams),new ae.X(_.fragment),new ae.X(_.data),_.outlet,_.component,_)}(I.value),O=I.children.map(z=>Ci(_,z));return new ui(b,O)}}const Fs="ngNavigationCancelingError";function Js(_,I){const{redirectTo:f,navigationBehaviorOptions:b}=Xe(I)?{redirectTo:I,navigationBehaviorOptions:void 0}:I,O=Ir(!1,0,I);return O.url=f,O.navigationBehaviorOptions=b,O}function Ir(_,I,f){const b=new Error("NavigationCancelingError: "+(_||""));return b[Fs]=!0,b.cancellationCode=I,f&&(b.url=f),b}function dn(_){return Us(_)&&Xe(_.url)}function Us(_){return _&&_[Fs]}class bs{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new hs,this.attachRef=null}}let hs=(()=>{class _{constructor(){this.contexts=new Map}onChildOutletCreated(f,b){const O=this.getOrCreateContext(f);O.outlet=b,this.contexts.set(f,O)}onChildOutletDestroyed(f){const b=this.getContext(f);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const f=this.contexts;return this.contexts=new Map,f}onOutletReAttached(f){this.contexts=f}getOrCreateContext(f){let b=this.getContext(f);return b||(b=new bs,this.contexts.set(f,b)),b}getContext(f){return this.contexts.get(f)||null}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Rr=!1;let bi=(()=>{class _{constructor(){this.activated=null,this._activatedRoute=null,this.name=kt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(hs),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb)}ngOnChanges(f){if(f.name){const{firstChange:b,previousValue:O}=f.name;if(b)return;this.isTrackedInParentContexts(O)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(O)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(f){return this.parentContexts.getContext(f)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const f=this.parentContexts.getContext(this.name);f?.route&&(f.attachRef?this.attach(f.attachRef,f.route):this.activateWith(f.route,f.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,Rr);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,Rr);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,Rr);this.location.detach();const f=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(f.instance),f}attach(f,b){this.activated=f,this._activatedRoute=b,this.location.insert(f.hostView),this.attachEvents.emit(f.instance)}deactivate(){if(this.activated){const f=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(f)}}activateWith(f,b){if(this.isActivated)throw new y.vHH(4013,Rr);this._activatedRoute=f;const O=this.location,Z=f.snapshot.component,Te=this.parentContexts.getOrCreateContext(this.name).children,Ge=new ci(f,Te,O.injector);if(b&&function Ts(_){return!!_.resolveComponentFactory}(b)){const Ct=b.resolveComponentFactory(Z);this.activated=O.createComponent(Ct,O.length,Ge)}else this.activated=O.createComponent(Z,{index:O.length,injector:Ge,environmentInjector:b??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275dir=y.lG2({type:_,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),_})();class ci{constructor(I,f,b){this.route=I,this.childContexts=f,this.parent=b}get(I,f){return I===Ds?this.route:I===hs?this.childContexts:this.parent.get(I,f)}}let Pr=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275cmp=y.Xpm({type:_,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(f,b){1&f&&y._UZ(0,"router-outlet")},dependencies:[bi],encapsulation:2}),_})();function Lr(_,I){return _.providers&&!_._injector&&(_._injector=(0,y.MMx)(_.providers,I,`Route: ${_.path}`)),_._injector??I}function er(_){const I=_.children&&_.children.map(er),f=I?{..._,children:I}:{..._};return!f.component&&!f.loadComponent&&(I||f.loadChildren)&&f.outlet&&f.outlet!==kt&&(f.component=Pr),f}function ii(_){return _.outlet||kt}function es(_,I){const f=_.filter(b=>ii(b)===I);return f.push(..._.filter(b=>ii(b)!==I)),f}function or(_){if(!_)return null;if(_.routeConfig?._injector)return _.routeConfig._injector;for(let I=_.parent;I;I=I.parent){const f=I.routeConfig;if(f?._loadedInjector)return f._loadedInjector;if(f?._injector)return f._injector}return null}class Vr{constructor(I,f,b,O){this.routeReuseStrategy=I,this.futureState=f,this.currState=b,this.forwardEvent=O}activate(I){const f=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(f,b,I),Qs(this.futureState.root),this.activateChildRoutes(f,b,I)}deactivateChildRoutes(I,f,b){const O=In(f);I.children.forEach(z=>{const Z=z.value.outlet;this.deactivateRoutes(z,O[Z],b),delete O[Z]}),An(O,(z,Z)=>{this.deactivateRouteAndItsChildren(z,b)})}deactivateRoutes(I,f,b){const O=I.value,z=f?f.value:null;if(O===z)if(O.component){const Z=b.getContext(O.outlet);Z&&this.deactivateChildRoutes(I,f,Z.children)}else this.deactivateChildRoutes(I,f,b);else z&&this.deactivateRouteAndItsChildren(f,b)}deactivateRouteAndItsChildren(I,f){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,f):this.deactivateRouteAndOutlet(I,f)}detachAndStoreRouteSubtree(I,f){const b=f.getContext(I.value.outlet),O=b&&I.value.component?b.children:f,z=In(I);for(const Z of Object.keys(z))this.deactivateRouteAndItsChildren(z[Z],O);if(b&&b.outlet){const Z=b.outlet.detach(),Te=b.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Z,route:I,contexts:Te})}}deactivateRouteAndOutlet(I,f){const b=f.getContext(I.value.outlet),O=b&&I.value.component?b.children:f,z=In(I);for(const Z of Object.keys(z))this.deactivateRouteAndItsChildren(z[Z],O);b&&b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated(),b.attachRef=null,b.resolver=null,b.route=null)}activateChildRoutes(I,f,b){const O=In(f);I.children.forEach(z=>{this.activateRoutes(z,O[z.value.outlet],b),this.forwardEvent(new Ni(z.value.snapshot))}),I.children.length&&this.forwardEvent(new wi(I.value.snapshot))}activateRoutes(I,f,b){const O=I.value,z=f?f.value:null;if(Qs(O),O===z)if(O.component){const Z=b.getOrCreateContext(O.outlet);this.activateChildRoutes(I,f,Z.children)}else this.activateChildRoutes(I,f,b);else if(O.component){const Z=b.getOrCreateContext(O.outlet);if(this.routeReuseStrategy.shouldAttach(O.snapshot)){const Te=this.routeReuseStrategy.retrieve(O.snapshot);this.routeReuseStrategy.store(O.snapshot,null),Z.children.onOutletReAttached(Te.contexts),Z.attachRef=Te.componentRef,Z.route=Te.route.value,Z.outlet&&Z.outlet.attach(Te.componentRef,Te.route.value),Qs(Te.route.value),this.activateChildRoutes(I,null,Z.children)}else{const Te=or(O.snapshot),Ge=Te?.get(y._Vd)??null;Z.attachRef=null,Z.route=O,Z.resolver=Ge,Z.injector=Te,Z.outlet&&Z.outlet.activateWith(O,Z.injector),this.activateChildRoutes(I,null,Z.children)}}else this.activateChildRoutes(I,null,b)}}class fi{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class hr{constructor(I,f){this.component=I,this.route=f}}function Ss(_,I,f){const b=_._root;return Fr(b,I?I._root:null,f,[b.value])}function $r(_,I){const f=Symbol(),b=I.get(_,f);return b===f?"function"!=typeof _||(0,y.Z0I)(_)?I.get(_):_:b}function Fr(_,I,f,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const z=In(I);return _.children.forEach(Z=>{(function Zt(_,I,f,b,O={canDeactivateChecks:[],canActivateChecks:[]}){const z=_.value,Z=I?I.value:null,Te=f?f.getContext(_.value.outlet):null;if(Z&&z.routeConfig===Z.routeConfig){const Ge=function eo(_,I,f){if("function"==typeof f)return f(_,I);switch(f){case"pathParamsChange":return!Zn(_.url,I.url);case"pathParamsOrQueryParamsChange":return!Zn(_.url,I.url)||!gn(_.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xs(_,I)||!gn(_.queryParams,I.queryParams);default:return!xs(_,I)}}(Z,z,z.routeConfig.runGuardsAndResolvers);Ge?O.canActivateChecks.push(new fi(b)):(z.data=Z.data,z._resolvedData=Z._resolvedData),Fr(_,I,z.component?Te?Te.children:null:f,b,O),Ge&&Te&&Te.outlet&&Te.outlet.isActivated&&O.canDeactivateChecks.push(new hr(Te.outlet.component,Z))}else Z&&Ut(I,Te,O),O.canActivateChecks.push(new fi(b)),Fr(_,null,z.component?Te?Te.children:null:f,b,O)})(Z,z[Z.value.outlet],f,b.concat([Z.value]),O),delete z[Z.value.outlet]}),An(z,(Z,Te)=>Ut(Z,f.getContext(Te),O)),O}function Ut(_,I,f){const b=In(_),O=_.value;An(b,(z,Z)=>{Ut(z,O.component?I?I.children.getContext(Z):null:I,f)}),f.canDeactivateChecks.push(new hr(O.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,O))}function Wi(_){return"function"==typeof _}function Sn(_){return _ instanceof ue.K||"EmptyError"===_?.name}const ts=Symbol("INITIAL_VALUE");function ki(){return(0,fe.w)(_=>(0,ge.a)(_.map(I=>I.pipe((0,Fe.q)(1),(0,et.O)(ts)))).pipe((0,Se.U)(I=>{for(const f of I)if(!0!==f){if(f===ts)return ts;if(!1===f||f instanceof Nr)return f}return!0}),(0,nt.h)(I=>I!==ts),(0,Fe.q)(1)))}function fr(_){return(0,re.z)((0,ve.b)(I=>{if(Xe(I))throw Js(0,I)}),(0,Se.U)(I=>!0===I))}const zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Gi(_,I,f,b,O){const z=xi(_,I,f);return z.matched?function di(_,I,f,b){const O=I.canMatch;if(!O||0===O.length)return(0,j.of)(!0);const z=O.map(Z=>{const Te=$r(Z,_);return rn(function $s(_){return _&&Wi(_.canMatch)}(Te)?Te.canMatch(I,f):_.runInContext(()=>Te(I,f)))});return(0,j.of)(z).pipe(ki(),fr())}(b=Lr(I,b),I,f).pipe((0,Se.U)(Z=>!0===Z?z:{...zi})):(0,j.of)(z)}function xi(_,I,f){if(""===I.path)return"full"===I.pathMatch&&(_.hasChildren()||f.length>0)?{...zi}:{matched:!0,consumedSegments:[],remainingSegments:f,parameters:{},positionalParamSegments:{}};const O=(I.matcher||jr)(f,_,I);if(!O)return{...zi};const z={};An(O.posParams,(Te,Ge)=>{z[Ge]=Te.path});const Z=O.consumed.length>0?{...z,...O.consumed[O.consumed.length-1].parameters}:z;return{matched:!0,consumedSegments:O.consumed,remainingSegments:f.slice(O.consumed.length),parameters:Z,positionalParamSegments:O.posParams??{}}}function ns(_,I,f,b){if(f.length>0&&function m(_,I,f){return f.some(b=>M(_,I,b)&&ii(b)!==kt)}(_,f,b)){const z=new Dt(I,function U(_,I,f,b){const O={};O[kt]=b,b._sourceSegment=_,b._segmentIndexShift=I.length;for(const z of f)if(""===z.path&&ii(z)!==kt){const Z=new Dt([],{});Z._sourceSegment=_,Z._segmentIndexShift=I.length,O[ii(z)]=Z}return O}(_,I,b,new Dt(f,_.children)));return z._sourceSegment=_,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:[]}}if(0===f.length&&function E(_,I,f){return f.some(b=>M(_,I,b))}(_,f,b)){const z=new Dt(_.segments,function si(_,I,f,b,O){const z={};for(const Z of b)if(M(_,f,Z)&&!O[ii(Z)]){const Te=new Dt([],{});Te._sourceSegment=_,Te._segmentIndexShift=I.length,z[ii(Z)]=Te}return{...O,...z}}(_,I,f,b,_.children));return z._sourceSegment=_,z._segmentIndexShift=I.length,{segmentGroup:z,slicedSegments:f}}const O=new Dt(_.segments,_.children);return O._sourceSegment=_,O._segmentIndexShift=I.length,{segmentGroup:O,slicedSegments:f}}function M(_,I,f){return(!(_.hasChildren()||I.length>0)||"full"!==f.pathMatch)&&""===f.path}function B(_,I,f,b){return!!(ii(_)===b||b!==kt&&M(I,f,_))&&("**"===_.path||xi(I,_,f).matched)}function q(_,I,f){return 0===I.length&&!_.children[f]}const oe=!1;class le{constructor(I){this.segmentGroup=I||null}}class Ae{constructor(I){this.urlTree=I}}function Ze(_){return(0,de._)(new le(_))}function mt(_){return(0,de._)(new Ae(_))}class Bt{constructor(I,f,b,O,z){this.injector=I,this.configLoader=f,this.urlSerializer=b,this.urlTree=O,this.config=z,this.allowRedirects=!0}apply(){const I=ns(this.urlTree.root,[],[],this.config).segmentGroup,f=new Dt(I.segments,I.children);return this.expandSegmentGroup(this.injector,this.config,f,kt).pipe((0,Se.U)(z=>this.createUrlTree(Q(z),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Re.K)(z=>{if(z instanceof Ae)return this.allowRedirects=!1,this.match(z.urlTree);throw z instanceof le?this.noMatchError(z):z}))}match(I){return this.expandSegmentGroup(this.injector,this.config,I.root,kt).pipe((0,Se.U)(O=>this.createUrlTree(Q(O),I.queryParams,I.fragment))).pipe((0,Re.K)(O=>{throw O instanceof le?this.noMatchError(O):O}))}noMatchError(I){return new y.vHH(4002,oe)}createUrlTree(I,f,b){const O=he(I);return new Nr(O,f,b)}expandSegmentGroup(I,f,b,O){return 0===b.segments.length&&b.hasChildren()?this.expandChildren(I,f,b).pipe((0,Se.U)(z=>new Dt([],z))):this.expandSegment(I,b,f,b.segments,O,!0)}expandChildren(I,f,b){const O=[];for(const z of Object.keys(b.children))"primary"===z?O.unshift(z):O.push(z);return(0,$.D)(O).pipe((0,pe.b)(z=>{const Z=b.children[z],Te=es(f,z);return this.expandSegmentGroup(I,Te,Z,z).pipe((0,Se.U)(Ge=>({segment:Ge,outlet:z})))}),(0,Oe.R)((z,Z)=>(z[Z.outlet]=Z.segment,z),{}),jn())}expandSegment(I,f,b,O,z,Z){return(0,$.D)(b).pipe((0,pe.b)(Te=>this.expandSegmentAgainstRoute(I,f,b,Te,O,z,Z).pipe((0,Re.K)(Ct=>{if(Ct instanceof le)return(0,j.of)(null);throw Ct}))),(0,Be.P)(Te=>!!Te),(0,Re.K)((Te,Ge)=>{if(Sn(Te))return q(f,O,z)?(0,j.of)(new Dt([],{})):Ze(f);throw Te}))}expandSegmentAgainstRoute(I,f,b,O,z,Z,Te){return B(O,f,z,Z)?void 0===O.redirectTo?this.matchSegmentAgainstRoute(I,f,O,z,Z):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,f,b,O,z,Z):Ze(f):Ze(f)}expandSegmentAgainstRouteUsingRedirect(I,f,b,O,z,Z){return"**"===O.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,b,O,Z):this.expandRegularSegmentAgainstRouteUsingRedirect(I,f,b,O,z,Z)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,f,b,O){const z=this.applyRedirectCommands([],b.redirectTo,{});return b.redirectTo.startsWith("/")?mt(z):this.lineralizeSegments(b,z).pipe((0,N.z)(Z=>{const Te=new Dt(Z,{});return this.expandSegment(I,Te,f,Z,O,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,f,b,O,z,Z){const{matched:Te,consumedSegments:Ge,remainingSegments:Ct,positionalParamSegments:dt}=xi(f,O,z);if(!Te)return Ze(f);const Ln=this.applyRedirectCommands(Ge,O.redirectTo,dt);return O.redirectTo.startsWith("/")?mt(Ln):this.lineralizeSegments(O,Ln).pipe((0,N.z)(ai=>this.expandSegment(I,f,b,ai.concat(Ct),Z,!1)))}matchSegmentAgainstRoute(I,f,b,O,z){return"**"===b.path?(I=Lr(b,I),b.loadChildren?(b._loadedRoutes?(0,j.of)({routes:b._loadedRoutes,injector:b._loadedInjector}):this.configLoader.loadChildren(I,b)).pipe((0,Se.U)(Te=>(b._loadedRoutes=Te.routes,b._loadedInjector=Te.injector,new Dt(O,{})))):(0,j.of)(new Dt(O,{}))):Gi(f,b,O,I).pipe((0,fe.w)(({matched:Z,consumedSegments:Te,remainingSegments:Ge})=>Z?this.getChildConfig(I=b._injector??I,b,O).pipe((0,N.z)(dt=>{const Ln=dt.injector??I,ai=dt.routes,{segmentGroup:mo,slicedSegments:_i}=ns(f,Te,Ge,ai),ms=new Dt(mo.segments,mo.children);if(0===_i.length&&ms.hasChildren())return this.expandChildren(Ln,ai,ms).pipe((0,Se.U)(_o=>new Dt(Te,_o)));if(0===ai.length&&0===_i.length)return(0,j.of)(new Dt(Te,{}));const Qr=ii(b)===z;return this.expandSegment(Ln,ms,ai,_i,Qr?kt:z,!0).pipe((0,Se.U)(Vo=>new Dt(Te.concat(Vo.segments),Vo.children)))})):Ze(f)))}getChildConfig(I,f,b){return f.children?(0,j.of)({routes:f.children,injector:I}):f.loadChildren?void 0!==f._loadedRoutes?(0,j.of)({routes:f._loadedRoutes,injector:f._loadedInjector}):function zs(_,I,f,b){const O=I.canLoad;if(void 0===O||0===O.length)return(0,j.of)(!0);const z=O.map(Z=>{const Te=$r(Z,_);return rn(function As(_){return _&&Wi(_.canLoad)}(Te)?Te.canLoad(I,f):_.runInContext(()=>Te(I,f)))});return(0,j.of)(z).pipe(ki(),fr())}(I,f,b).pipe((0,N.z)(O=>O?this.configLoader.loadChildren(I,f).pipe((0,ve.b)(z=>{f._loadedRoutes=z.routes,f._loadedInjector=z.injector})):function hn(_){return(0,de._)(Ir(oe,3))}())):(0,j.of)({routes:[],injector:I})}lineralizeSegments(I,f){let b=[],O=f.root;for(;;){if(b=b.concat(O.segments),0===O.numberOfChildren)return(0,j.of)(b);if(O.numberOfChildren>1||!O.children[kt])return(0,de._)(new y.vHH(4e3,oe));O=O.children[kt]}}applyRedirectCommands(I,f,b){return this.applyRedirectCreateUrlTree(f,this.urlSerializer.parse(f),I,b)}applyRedirectCreateUrlTree(I,f,b,O){const z=this.createSegmentGroup(I,f.root,b,O);return new Nr(z,this.createQueryParams(f.queryParams,this.urlTree.queryParams),f.fragment)}createQueryParams(I,f){const b={};return An(I,(O,z)=>{if("string"==typeof O&&O.startsWith(":")){const Te=O.substring(1);b[z]=f[Te]}else b[z]=O}),b}createSegmentGroup(I,f,b,O){const z=this.createSegments(I,f.segments,b,O);let Z={};return An(f.children,(Te,Ge)=>{Z[Ge]=this.createSegmentGroup(I,Te,b,O)}),new Dt(z,Z)}createSegments(I,f,b,O){return f.map(z=>z.path.startsWith(":")?this.findPosParam(I,z,O):this.findOrReturn(z,b))}findPosParam(I,f,b){const O=b[f.path.substring(1)];if(!O)throw new y.vHH(4001,oe);return O}findOrReturn(I,f){let b=0;for(const O of f){if(O.path===I.path)return f.splice(b),O;b++}return I}}class Hn{}class Or{constructor(I,f,b,O,z,Z,Te){this.injector=I,this.rootComponentType=f,this.config=b,this.urlTree=O,this.url=z,this.paramsInheritanceStrategy=Z,this.urlSerializer=Te}recognize(){const I=ns(this.urlTree.root,[],[],this.config.filter(f=>void 0===f.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,I,kt).pipe((0,Se.U)(f=>{if(null===f)return null;const b=new Vi([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),O=new ui(b,f),z=new ds(this.url,O);return this.inheritParamsAndData(z._root),z}))}inheritParamsAndData(I){const f=I.value,b=ri(f,this.paramsInheritanceStrategy);f.params=Object.freeze(b.params),f.data=Object.freeze(b.data),I.children.forEach(O=>this.inheritParamsAndData(O))}processSegmentGroup(I,f,b,O){return 0===b.segments.length&&b.hasChildren()?this.processChildren(I,f,b):this.processSegment(I,f,b,b.segments,O)}processChildren(I,f,b){return(0,$.D)(Object.keys(b.children)).pipe((0,pe.b)(O=>{const z=b.children[O],Z=es(f,O);return this.processSegmentGroup(I,Z,z,O)}),(0,Oe.R)((O,z)=>O&&z?(O.push(...z),O):null),function Qt(_,I=!1){return(0,st.e)((f,b)=>{let O=0;f.subscribe((0,pt.x)(b,z=>{const Z=_(z,O++);(Z||I)&&b.next(z),!Z&&b.complete()}))})}(O=>null!==O),(0,At.d)(null),jn(),(0,Se.U)(O=>{if(null===O)return null;const z=Ki(O);return function Dr(_){_.sort((I,f)=>I.value.outlet===kt?-1:f.value.outlet===kt?1:I.value.outlet.localeCompare(f.value.outlet))}(z),z}))}processSegment(I,f,b,O,z){return(0,$.D)(f).pipe((0,pe.b)(Z=>this.processSegmentAgainstRoute(Z._injector??I,Z,b,O,z)),(0,Be.P)(Z=>!!Z),(0,Re.K)(Z=>{if(Sn(Z))return q(b,O,z)?(0,j.of)([]):(0,j.of)(null);throw Z}))}processSegmentAgainstRoute(I,f,b,O,z){if(f.redirectTo||!B(f,b,O,z))return(0,j.of)(null);let Z;if("**"===f.path){const Te=O.length>0?Wr(O).parameters:{},Ge=L(b)+O.length,Ct=new Vi(O,Te,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(f),ii(f),f.component??f._loadedComponent??null,f,C(b),Ge,X(f));Z=(0,j.of)({snapshot:Ct,consumedSegments:[],remainingSegments:[]})}else Z=Gi(b,f,O,I).pipe((0,Se.U)(({matched:Te,consumedSegments:Ge,remainingSegments:Ct,parameters:dt})=>{if(!Te)return null;const Ln=L(b)+Ge.length;return{snapshot:new Vi(Ge,dt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,V(f),ii(f),f.component??f._loadedComponent??null,f,C(b),Ln,X(f)),consumedSegments:Ge,remainingSegments:Ct}}));return Z.pipe((0,fe.w)(Te=>{if(null===Te)return(0,j.of)(null);const{snapshot:Ge,consumedSegments:Ct,remainingSegments:dt}=Te;I=f._injector??I;const Ln=f._loadedInjector??I,ai=function gi(_){return _.children?_.children:_.loadChildren?_._loadedRoutes:[]}(f),{segmentGroup:mo,slicedSegments:_i}=ns(b,Ct,dt,ai.filter(Qr=>void 0===Qr.redirectTo));if(0===_i.length&&mo.hasChildren())return this.processChildren(Ln,ai,mo).pipe((0,Se.U)(Qr=>null===Qr?null:[new ui(Ge,Qr)]));if(0===ai.length&&0===_i.length)return(0,j.of)([new ui(Ge,[])]);const ms=ii(f)===z;return this.processSegment(Ln,ai,mo,_i,ms?kt:z).pipe((0,Se.U)(Qr=>null===Qr?null:[new ui(Ge,Qr)]))}))}}function Ur(_){const I=_.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Ki(_){const I=[],f=new Set;for(const b of _){if(!Ur(b)){I.push(b);continue}const O=I.find(z=>b.value.routeConfig===z.value.routeConfig);void 0!==O?(O.children.push(...b.children),f.add(O)):I.push(b)}for(const b of f){const O=Ki(b.children);I.push(new ui(b.value,O))}return I.filter(b=>!f.has(b))}function C(_){let I=_;for(;I._sourceSegment;)I=I._sourceSegment;return I}function L(_){let I=_,f=I._segmentIndexShift??0;for(;I._sourceSegment;)I=I._sourceSegment,f+=I._segmentIndexShift??0;return f-1}function V(_){return _.data||{}}function X(_){return _.resolve||{}}function jt(_){return"string"==typeof _.title||null===_.title}function kn(_){return(0,fe.w)(I=>{const f=_(I);return f?(0,$.D)(f).pipe((0,Se.U)(()=>I)):(0,j.of)(I)})}const Pn=new y.OlP("ROUTES");let oi=(()=>{class _{constructor(f,b){this.injector=f,this.compiler=b,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(f){if(this.componentLoaders.get(f))return this.componentLoaders.get(f);if(f._loadedComponent)return(0,j.of)(f._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(f);const b=rn(f.loadComponent()).pipe((0,Se.U)(wr),(0,ve.b)(z=>{this.onLoadEndListener&&this.onLoadEndListener(f),f._loadedComponent=z}),(0,Ot.x)(()=>{this.componentLoaders.delete(f)})),O=new Ye(b,()=>new $e.x).pipe(Le());return this.componentLoaders.set(f,O),O}loadChildren(f,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,j.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const z=this.loadModuleFactoryOrRoutes(b.loadChildren).pipe((0,Se.U)(Te=>{this.onLoadEndListener&&this.onLoadEndListener(b);let Ge,Ct,dt=!1;Array.isArray(Te)?Ct=Te:(Ge=Te.create(f).injector,Ct=gr(Ge.get(Pn,[],y.XFs.Self|y.XFs.Optional)));return{routes:Ct.map(er),injector:Ge}}),(0,Ot.x)(()=>{this.childrenLoaders.delete(b)})),Z=new Ye(z,()=>new $e.x).pipe(Le());return this.childrenLoaders.set(b,Z),Z}loadModuleFactoryOrRoutes(f){return rn(f()).pipe((0,Se.U)(wr),(0,N.z)(O=>O instanceof y.YKP||Array.isArray(O)?(0,j.of)(O):(0,$.D)(this.compiler.compileModuleAsync(O))))}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(y.zs3),y.LFG(y.Sil))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function wr(_){return function tr(_){return _&&"object"==typeof _&&"default"in _}(_)?_.default:_}let Zi=(()=>{class _{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new $e.x,this.configLoader=(0,y.f3M)(oi),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Nn),this.rootContexts=(0,y.f3M)(hs),this.navigationId=0,this.afterPreactivation=()=>(0,j.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=O=>this.events.next(new xr(O)),this.configLoader.onLoadStartListener=O=>this.events.next(new Es(O))}complete(){this.transitions?.complete()}handleNavigationRequest(f){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...f,id:b})}setupNavigations(f){return this.transitions=new ae.X({id:0,targetPageId:0,currentUrlTree:f.currentUrlTree,currentRawUrl:f.currentUrlTree,extractedUrl:f.urlHandlingStrategy.extract(f.currentUrlTree),urlAfterRedirects:f.urlHandlingStrategy.extract(f.currentUrlTree),rawUrl:f.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jn,restoredState:null,currentSnapshot:f.routerState.snapshot,targetSnapshot:null,currentRouterState:f.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,nt.h)(b=>0!==b.id),(0,Se.U)(b=>({...b,extractedUrl:f.urlHandlingStrategy.extract(b.rawUrl)})),(0,fe.w)(b=>{let O=!1,z=!1;return(0,j.of)(b).pipe((0,ve.b)(Z=>{this.currentNavigation={id:Z.id,initialUrl:Z.rawUrl,extractedUrl:Z.extractedUrl,trigger:Z.source,extras:Z.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,fe.w)(Z=>{const Te=f.browserUrlTree.toString(),Ge=!f.navigated||Z.extractedUrl.toString()!==Te||Te!==f.currentUrlTree.toString();if(!Ge&&"reload"!==(Z.extras.onSameUrlNavigation??f.onSameUrlNavigation)){const dt="";return this.events.next(new nn(Z.id,f.serializeUrl(b.rawUrl),dt,0)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),Qe.E}if(f.urlHandlingStrategy.shouldProcessUrl(Z.rawUrl))return ps(Z.source)&&(f.browserUrlTree=Z.extractedUrl),(0,j.of)(Z).pipe((0,fe.w)(dt=>{const Ln=this.transitions?.getValue();return this.events.next(new ir(dt.id,this.urlSerializer.serialize(dt.extractedUrl),dt.source,dt.restoredState)),Ln!==this.transitions?.getValue()?Qe.E:Promise.resolve(dt)}),function Gt(_,I,f,b){return(0,fe.w)(O=>function on(_,I,f,b,O){return new Bt(_,I,f,b,O).apply()}(_,I,f,O.extractedUrl,b).pipe((0,Se.U)(z=>({...O,urlAfterRedirects:z}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,f.config),(0,ve.b)(dt=>{this.currentNavigation={...this.currentNavigation,finalUrl:dt.urlAfterRedirects},b.urlAfterRedirects=dt.urlAfterRedirects}),function ke(_,I,f,b,O){return(0,N.z)(z=>function lr(_,I,f,b,O,z,Z="emptyOnly"){return new Or(_,I,f,b,O,Z,z).recognize().pipe((0,fe.w)(Te=>null===Te?function vn(_){return new _e.y(I=>I.error(_))}(new Hn):(0,j.of)(Te)))}(_,I,f,z.urlAfterRedirects,b.serialize(z.urlAfterRedirects),b,O).pipe((0,Se.U)(Z=>({...z,targetSnapshot:Z}))))}(this.environmentInjector,this.rootComponentType,f.config,this.urlSerializer,f.paramsInheritanceStrategy),(0,ve.b)(dt=>{if(b.targetSnapshot=dt.targetSnapshot,"eager"===f.urlUpdateStrategy){if(!dt.extras.skipLocationChange){const ai=f.urlHandlingStrategy.merge(dt.urlAfterRedirects,dt.rawUrl);f.setBrowserUrl(ai,dt)}f.browserUrlTree=dt.urlAfterRedirects}const Ln=new us(dt.id,this.urlSerializer.serialize(dt.extractedUrl),this.urlSerializer.serialize(dt.urlAfterRedirects),dt.targetSnapshot);this.events.next(Ln)}));if(Ge&&f.urlHandlingStrategy.shouldProcessUrl(f.rawUrlTree)){const{id:dt,extractedUrl:Ln,source:ai,restoredState:mo,extras:_i}=Z,ms=new ir(dt,this.urlSerializer.serialize(Ln),ai,mo);this.events.next(ms);const Qr=qn(Ln,this.rootComponentType).snapshot;return b={...Z,targetSnapshot:Qr,urlAfterRedirects:Ln,extras:{..._i,skipLocationChange:!1,replaceUrl:!1}},(0,j.of)(b)}{const dt="";return this.events.next(new nn(Z.id,f.serializeUrl(b.extractedUrl),dt,1)),f.rawUrlTree=Z.rawUrl,Z.resolve(null),Qe.E}}),(0,ve.b)(Z=>{const Te=new co(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(Te)}),(0,Se.U)(Z=>b={...Z,guards:Ss(Z.targetSnapshot,Z.currentSnapshot,this.rootContexts)}),function Hr(_,I){return(0,N.z)(f=>{const{targetSnapshot:b,currentSnapshot:O,guards:{canActivateChecks:z,canDeactivateChecks:Z}}=f;return 0===Z.length&&0===z.length?(0,j.of)({...f,guardsResult:!0}):function fs(_,I,f,b){return(0,$.D)(_).pipe((0,N.z)(O=>function Ws(_,I,f,b,O){const z=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!z||0===z.length)return(0,j.of)(!0);const Z=z.map(Te=>{const Ge=or(I)??O,Ct=$r(Te,Ge);return rn(function to(_){return _&&Wi(_.canDeactivate)}(Ct)?Ct.canDeactivate(_,I,f,b):Ge.runInContext(()=>Ct(_,I,f,b))).pipe((0,Be.P)())});return(0,j.of)(Z).pipe(ki())}(O.component,O.route,f,I,b)),(0,Be.P)(O=>!0!==O,!0))}(Z,b,O,_).pipe((0,N.z)(Te=>Te&&function ar(_){return"boolean"==typeof _}(Te)?function ho(_,I,f,b){return(0,$.D)(I).pipe((0,pe.b)(O=>(0,Ce.z)(function fo(_,I){return null!==_&&I&&I(new Oi(_)),(0,j.of)(!0)}(O.route.parent,b),function pi(_,I){return null!==_&&I&&I(new Bn(_)),(0,j.of)(!0)}(O.route,b),function Fo(_,I,f){const b=I[I.length-1],z=I.slice(0,I.length-1).reverse().map(Z=>function Ti(_){const I=_.routeConfig?_.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:_,guards:I}:null}(Z)).filter(Z=>null!==Z).map(Z=>ne(()=>{const Te=Z.guards.map(Ge=>{const Ct=or(Z.node)??f,dt=$r(Ge,Ct);return rn(function Vs(_){return _&&Wi(_.canActivateChild)}(dt)?dt.canActivateChild(b,_):Ct.runInContext(()=>dt(b,_))).pipe((0,Be.P)())});return(0,j.of)(Te).pipe(ki())}));return(0,j.of)(z).pipe(ki())}(_,O.path,f),function js(_,I,f){const b=I.routeConfig?I.routeConfig.canActivate:null;if(!b||0===b.length)return(0,j.of)(!0);const O=b.map(z=>ne(()=>{const Z=or(I)??f,Te=$r(z,Z);return rn(function wo(_){return _&&Wi(_.canActivate)}(Te)?Te.canActivate(I,_):Z.runInContext(()=>Te(I,_))).pipe((0,Be.P)())}));return(0,j.of)(O).pipe(ki())}(_,O.route,f))),(0,Be.P)(O=>!0!==O,!0))}(b,z,_,I):(0,j.of)(Te)),(0,Se.U)(Te=>({...f,guardsResult:Te})))})}(this.environmentInjector,Z=>this.events.next(Z)),(0,ve.b)(Z=>{if(b.guardsResult=Z.guardsResult,Xe(Z.guardsResult))throw Js(0,Z.guardsResult);const Te=new Di(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot,!!Z.guardsResult);this.events.next(Te)}),(0,nt.h)(Z=>!!Z.guardsResult||(f.restoreHistory(Z),this.cancelNavigationTransition(Z,"",3),!1)),kn(Z=>{if(Z.guards.canActivateChecks.length)return(0,j.of)(Z).pipe((0,ve.b)(Te=>{const Ge=new Zr(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Ge)}),(0,fe.w)(Te=>{let Ge=!1;return(0,j.of)(Te).pipe(function we(_,I){return(0,N.z)(f=>{const{targetSnapshot:b,guards:{canActivateChecks:O}}=f;if(!O.length)return(0,j.of)(f);let z=0;return(0,$.D)(O).pipe((0,pe.b)(Z=>function ze(_,I,f,b){const O=_.routeConfig,z=_._resolve;return void 0!==O?.title&&!jt(O)&&(z[Rt]=O.title),function ct(_,I,f,b){const O=function Et(_){return[...Object.keys(_),...Object.getOwnPropertySymbols(_)]}(_);if(0===O.length)return(0,j.of)({});const z={};return(0,$.D)(O).pipe((0,N.z)(Z=>function Ht(_,I,f,b){const O=or(I)??b,z=$r(_,O);return rn(z.resolve?z.resolve(I,f):O.runInContext(()=>z(I,f)))}(_[Z],I,f,b).pipe((0,Be.P)(),(0,ve.b)(Te=>{z[Z]=Te}))),at(1),(0,tn.h)(z),(0,Re.K)(Z=>Sn(Z)?Qe.E:(0,de._)(Z)))}(z,_,I,b).pipe((0,Se.U)(Z=>(_._resolvedData=Z,_.data=ri(_,f).resolve,O&&jt(O)&&(_.data[Rt]=O.title),null)))}(Z.route,b,_,I)),(0,ve.b)(()=>z++),at(1),(0,N.z)(Z=>z===O.length?(0,j.of)(f):Qe.E))})}(f.paramsInheritanceStrategy,this.environmentInjector),(0,ve.b)({next:()=>Ge=!0,complete:()=>{Ge||(f.restoreHistory(Te),this.cancelNavigationTransition(Te,"",2))}}))}),(0,ve.b)(Te=>{const Ge=new vs(Te.id,this.urlSerializer.serialize(Te.extractedUrl),this.urlSerializer.serialize(Te.urlAfterRedirects),Te.targetSnapshot);this.events.next(Ge)}))}),kn(Z=>{const Te=Ge=>{const Ct=[];Ge.routeConfig?.loadComponent&&!Ge.routeConfig._loadedComponent&&Ct.push(this.configLoader.loadComponent(Ge.routeConfig).pipe((0,ve.b)(dt=>{Ge.component=dt}),(0,Se.U)(()=>{})));for(const dt of Ge.children)Ct.push(...Te(dt));return Ct};return(0,ge.a)(Te(Z.targetSnapshot.root)).pipe((0,At.d)(),(0,Fe.q)(1))}),kn(()=>this.afterPreactivation()),(0,Se.U)(Z=>{const Te=function Ls(_,I,f){const b=Ci(_,I._root,f?f._root:void 0);return new cn(b,I)}(f.routeReuseStrategy,Z.targetSnapshot,Z.currentRouterState);return b={...Z,targetRouterState:Te}}),(0,ve.b)(Z=>{f.currentUrlTree=Z.urlAfterRedirects,f.rawUrlTree=f.urlHandlingStrategy.merge(Z.urlAfterRedirects,Z.rawUrl),f.routerState=Z.targetRouterState,"deferred"===f.urlUpdateStrategy&&(Z.extras.skipLocationChange||f.setBrowserUrl(f.rawUrlTree,Z),f.browserUrlTree=Z.urlAfterRedirects)}),((_,I,f)=>(0,Se.U)(b=>(new Vr(I,b.targetRouterState,b.currentRouterState,f).activate(_),b)))(this.rootContexts,f.routeReuseStrategy,Z=>this.events.next(Z)),(0,ve.b)({next:Z=>{O=!0,this.lastSuccessfulNavigation=this.currentNavigation,f.navigated=!0,this.events.next(new ni(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(f.currentUrlTree))),f.titleStrategy?.updateTitle(Z.targetRouterState.snapshot),Z.resolve(!0)},complete:()=>{O=!0}}),(0,Ot.x)(()=>{O||z||this.cancelNavigationTransition(b,"",1),this.currentNavigation?.id===b.id&&(this.currentNavigation=null)}),(0,Re.K)(Z=>{if(z=!0,Us(Z)){dn(Z)||(f.navigated=!0,f.restoreHistory(b,!0));const Te=new Pi(b.id,this.urlSerializer.serialize(b.extractedUrl),Z.message,Z.cancellationCode);if(this.events.next(Te),dn(Z)){const Ge=f.urlHandlingStrategy.merge(Z.url,f.rawUrlTree),Ct={skipLocationChange:b.extras.skipLocationChange,replaceUrl:"eager"===f.urlUpdateStrategy||ps(b.source)};f.scheduleNavigation(Ge,Jn,null,Ct,{resolve:b.resolve,reject:b.reject,promise:b.promise})}else b.resolve(!1)}else{f.restoreHistory(b,!0);const Te=new ks(b.id,this.urlSerializer.serialize(b.extractedUrl),Z,b.targetSnapshot??void 0);this.events.next(Te);try{b.resolve(f.errorHandler(Z))}catch(Ge){b.reject(Ge)}}return Qe.E}))}))}cancelNavigationTransition(f,b,O){const z=new Pi(f.id,this.urlSerializer.serialize(f.extractedUrl),b,O);this.events.next(z),f.resolve(!1)}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function ps(_){return _!==Jn}let Ko=(()=>{class _{buildTitle(f){let b,O=f.root;for(;void 0!==O;)b=this.getResolvedTitleForRoute(O)??b,O=O.children.find(z=>z.outlet===kt);return b}getResolvedTitleForRoute(f){return f.data[Rt]}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Zo)},providedIn:"root"}),_})(),Zo=(()=>{class _ extends Ko{constructor(f){super(),this.title=f}updateTitle(f){const b=this.buildTitle(f);void 0!==b&&this.title.setTitle(b)}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(ur.Dx))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})(),no=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(Uo)},providedIn:"root"}),_})();class Yo{shouldDetach(I){return!1}store(I,f){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,f){return I.routeConfig===f.routeConfig}}let Uo=(()=>{class _ extends Yo{}return _.\u0275fac=function(){let I;return function(b){return(I||(I=y.n5z(_)))(b||_)}}(),_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Co=new y.OlP("",{providedIn:"root",factory:()=>({})});let wa=(()=>{class _{}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:function(){return(0,y.f3M)(rs)},providedIn:"root"}),_})(),rs=(()=>{class _{shouldProcessUrl(f){return!0}extract(f){return f}merge(f,b){return f}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function po(_){throw _}function go(_,I,f){return I.parse("/")}const To={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mi=(()=>{class _{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(Co,{optional:!0})||{},this.errorHandler=this.options.errorHandler||po,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||go,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(wa),this.routeReuseStrategy=(0,y.f3M)(no),this.urlCreationStrategy=(0,y.f3M)(yn),this.titleStrategy=(0,y.f3M)(Ko),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=gr((0,y.f3M)(Pn,{optional:!0})??[]),this.navigationTransitions=(0,y.f3M)(Zi),this.urlSerializer=(0,y.f3M)(Nn),this.location=(0,y.f3M)(Je.Ye),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Nr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qn(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(f=>{this.lastSuccessfulId=f.id,this.currentPageId=f.targetPageId},f=>{this.console.warn(`Unhandled Navigation Error: ${f}`)})}resetRootComponentType(f){this.routerState.root.component=f,this.navigationTransitions.rootComponentType=f}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const f=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jn,f)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(f=>{const b="popstate"===f.type?"popstate":"hashchange";"popstate"===b&&setTimeout(()=>{this.navigateToSyncWithBrowser(f.url,b,f.state)},0)}))}navigateToSyncWithBrowser(f,b,O){const z={replaceUrl:!0},Z=O?.navigationId?O:null;if(O){const Ge={...O};delete Ge.navigationId,delete Ge.\u0275routerPageId,0!==Object.keys(Ge).length&&(z.state=Ge)}const Te=this.parseUrl(f);this.scheduleNavigation(Te,b,Z,z)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(f){this.config=f.map(er),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(f,b={}){const{relativeTo:O,queryParams:z,fragment:Z,queryParamsHandling:Te,preserveFragment:Ge}=b,Ct=Ge?this.currentUrlTree.fragment:Z;let dt=null;switch(Te){case"merge":dt={...this.currentUrlTree.queryParams,...z};break;case"preserve":dt=this.currentUrlTree.queryParams;break;default:dt=z||null}return null!==dt&&(dt=this.removeEmptyProps(dt)),this.urlCreationStrategy.createUrlTree(O,this.routerState,this.currentUrlTree,f,dt,Ct??null)}navigateByUrl(f,b={skipLocationChange:!1}){const O=Xe(f)?f:this.parseUrl(f),z=this.urlHandlingStrategy.merge(O,this.rawUrlTree);return this.scheduleNavigation(z,Jn,null,b)}navigate(f,b={skipLocationChange:!1}){return function Ca(_){for(let I=0;I<_.length;I++){if(null==_[I])throw new y.vHH(4008,!1)}}(f),this.navigateByUrl(this.createUrlTree(f,b),b)}serializeUrl(f){return this.urlSerializer.serialize(f)}parseUrl(f){let b;try{b=this.urlSerializer.parse(f)}catch(O){b=this.malformedUriErrorHandler(O,this.urlSerializer,f)}return b}isActive(f,b){let O;if(O=!0===b?{...To}:!1===b?{...aa}:b,Xe(f))return Xr(this.currentUrlTree,f,O);const z=this.parseUrl(f);return Xr(this.currentUrlTree,z,O)}removeEmptyProps(f){return Object.keys(f).reduce((b,O)=>{const z=f[O];return null!=z&&(b[O]=z),b},{})}scheduleNavigation(f,b,O,z,Z){if(this.disposed)return Promise.resolve(!1);let Te,Ge,Ct,dt;return Z?(Te=Z.resolve,Ge=Z.reject,Ct=Z.promise):Ct=new Promise((Ln,ai)=>{Te=Ln,Ge=ai}),dt="computed"===this.canceledNavigationResolution?O&&O.\u0275routerPageId?O.\u0275routerPageId:z.replaceUrl||z.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:dt,source:b,restoredState:O,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:f,extras:z,resolve:Te,reject:Ge,promise:Ct,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ct.catch(Ln=>Promise.reject(Ln))}setBrowserUrl(f,b){const O=this.urlSerializer.serialize(f),z={...b.extras.state,...this.generateNgRouterState(b.id,b.targetPageId)};this.location.isCurrentPathEqualTo(O)||b.extras.replaceUrl?this.location.replaceState(O,"",z):this.location.go(O,"",z)}restoreHistory(f,b=!1){if("computed"===this.canceledNavigationResolution){const O=this.currentPageId-f.targetPageId;"popstate"!==f.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===O?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===O&&(this.resetState(f),this.browserUrlTree=f.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(O)}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(f),this.resetUrlToCurrentUrlTree())}resetState(f){this.routerState=f.currentRouterState,this.currentUrlTree=f.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,f.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(f,b){return"computed"===this.canceledNavigationResolution?{navigationId:f,\u0275routerPageId:b}:{navigationId:f}}}return _.\u0275fac=function(f){return new(f||_)},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();class gs{}let Ms=(()=>{class _{constructor(f,b,O,z,Z){this.router=f,this.injector=O,this.preloadingStrategy=z,this.loader=Z}setUpPreloading(){this.subscription=this.router.events.pipe((0,nt.h)(f=>f instanceof ni),(0,pe.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(f,b){const O=[];for(const z of b){z.providers&&!z._injector&&(z._injector=(0,y.MMx)(z.providers,f,`Route: ${z.path}`));const Z=z._injector??f,Te=z._loadedInjector??Z;z.loadChildren&&!z._loadedRoutes&&void 0===z.canLoad||z.loadComponent&&!z._loadedComponent?O.push(this.preloadConfig(Z,z)):(z.children||z._loadedRoutes)&&O.push(this.processRoutes(Te,z.children??z._loadedRoutes))}return(0,$.D)(O).pipe((0,pn.J)())}preloadConfig(f,b){return this.preloadingStrategy.preload(b,()=>{let O;O=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(f,b):(0,j.of)(null);const z=O.pipe((0,N.z)(Z=>null===Z?(0,j.of)(void 0):(b._loadedRoutes=Z.routes,b._loadedInjector=Z.injector,this.processRoutes(Z.injector??f,Z.routes))));if(b.loadComponent&&!b._loadedComponent){const Z=this.loader.loadComponent(b);return(0,$.D)([z,Z]).pipe((0,pn.J)())}return z})}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(mi),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(gs),y.LFG(oi))},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();const Jo=new y.OlP("");let ca=(()=>{class _{constructor(f,b,O,z,Z={}){this.urlSerializer=f,this.transitions=b,this.viewportScroller=O,this.zone=z,this.options=Z,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Z.scrollPositionRestoration=Z.scrollPositionRestoration||"disabled",Z.anchorScrolling=Z.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof ir?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=f.navigationTrigger,this.restoredId=f.restoredState?f.restoredState.navigationId:0):f instanceof ni&&(this.lastId=f.id,this.scheduleScrollEvent(f,this.urlSerializer.parse(f.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(f=>{f instanceof li&&(f.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(f.position):f.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(f.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(f,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new li(f,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return _.\u0275fac=function(f){y.$Z()},_.\u0275prov=y.Yz7({token:_,factory:_.\u0275fac}),_})();function ro(_,I){return{\u0275kind:_,\u0275providers:I}}function io(){const _=(0,y.f3M)(y.zs3);return I=>{const f=_.get(y.z2F);if(I!==f.components[0])return;const b=_.get(mi),O=_.get(Bo);1===_.get(So)&&b.initialNavigation(),_.get(Ja,null,y.XFs.Optional)?.setUpPreloading(),_.get(Jo,null,y.XFs.Optional)?.init(),b.resetRootComponentType(f.componentTypes[0]),O.closed||(O.next(),O.unsubscribe())}}const Bo=new y.OlP("",{factory:()=>new $e.x}),So=new y.OlP("",{providedIn:"root",factory:()=>1});const Ja=new y.OlP("");function Xa(_){return ro(0,[{provide:Ja,useExisting:Ms},{provide:gs,useExisting:_}])}const ha=new y.OlP("ROUTER_FORROOT_GUARD"),Ma=[Je.Ye,{provide:Nn,useClass:ei},mi,hs,{provide:Ds,useFactory:function ba(_){return _.routerState.root},deps:[mi]},oi,[]];function Ra(){return new y.PXZ("Router",mi)}let tl=(()=>{class _{constructor(f){}static forRoot(f,b){return{ngModule:_,providers:[Ma,[],{provide:Pn,multi:!0,useValue:f},{provide:ha,useFactory:br,deps:[[mi,new y.FiY,new y.tp0]]},{provide:Co,useValue:b||{}},b?.useHash?{provide:Je.S$,useClass:Je.Do}:{provide:Je.S$,useClass:Je.b0},{provide:Jo,useFactory:()=>{const _=(0,y.f3M)(Je.EM),I=(0,y.f3M)(y.R0b),f=(0,y.f3M)(Co),b=(0,y.f3M)(Zi),O=(0,y.f3M)(Nn);return f.scrollOffset&&_.setOffset(f.scrollOffset),new ca(O,b,_,I,f)}},b?.preloadingStrategy?Xa(b.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:Ra},b?.initialNavigation?na(b):[],[{provide:Ao,useFactory:io},{provide:y.tb,multi:!0,useExisting:Ao}]]}}static forChild(f){return{ngModule:_,providers:[{provide:Pn,multi:!0,useValue:f}]}}}return _.\u0275fac=function(f){return new(f||_)(y.LFG(ha,8))},_.\u0275mod=y.oAB({type:_}),_.\u0275inj=y.cJS({imports:[Pr]}),_})();function br(_){return"guarded"}function na(_){return["disabled"===_.initialNavigation?ro(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const I=(0,y.f3M)(mi);return()=>{I.setUpLocationChangeListener()}}},{provide:So,useValue:2}]).\u0275providers:[],"enabledBlocking"===_.initialNavigation?ro(2,[{provide:So,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:I=>{const f=I.get(Je.V_,Promise.resolve());return()=>f.then(()=>new Promise(O=>{const z=I.get(mi),Z=I.get(Bo);(function b(O){I.get(mi).events.pipe((0,nt.h)(Z=>Z instanceof ni||Z instanceof Pi||Z instanceof ks),(0,Se.U)(Z=>Z instanceof ni||Z instanceof Pi&&(0===Z.code||1===Z.code)&&null),(0,nt.h)(Z=>null!==Z),(0,Fe.q)(1)).subscribe(()=>{O()})})(()=>{O(!0)}),I.get(Zi).afterPreactivation=()=>(O(!0),Z.closed?(0,j.of)(void 0):Z),z.initialNavigation()}))}}]).\u0275providers:[]]}const Ao=new y.OlP("")},3942:(ft,Pe,F)=>{F.d(Pe,{Z:()=>st});var y=F(2090),$=F(4859),j=F(9681),ae=F(1877);class ue{constructor(Le,Ye){this._delegate=Le,this.firebase=Ye,(0,j._addComponent)(Le,new $.wA("app-compat",()=>this,"PUBLIC")),this.container=Le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Le){this._delegate.automaticDataCollectionEnabled=Le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Le=>{this._delegate.checkDestroyed(),Le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,j.deleteApp)(this._delegate)))}_getService(Le,Ye=j._DEFAULT_ENTRY_NAME){var $e;this._delegate.checkDestroyed();const Je=this._delegate.container.getProvider(Le);return!Je.isInitialized()&&"EXPLICIT"===(null===($e=Je.getComponent())||void 0===$e?void 0:$e.instantiationMode)&&Je.initialize(),Je.getImmediate({identifier:Ye})}_removeServiceInstance(Le,Ye=j._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Le).clearInstance(Ye)}_addComponent(Le){(0,j._addComponent)(this._delegate,Le)}_addOrOverwriteComponent(Le){(0,j._addOrOverwriteComponent)(this._delegate,Le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new y.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ne=function ye(){const pt=function _e(pt){const Le={},Ye={__esModule:!0,initializeApp:function Se(nt,N={}){const Be=j.initializeApp(nt,N);if((0,y.r3)(Le,Be.name))return Le[Be.name];const pe=new pt(Be,Ye);return Le[Be.name]=pe,pe},app:Je,registerVersion:j.registerVersion,setLogLevel:j.setLogLevel,onLog:j.onLog,apps:null,SDK_VERSION:j.SDK_VERSION,INTERNAL:{registerComponent:function Fe(nt){const N=nt.name,Be=N.replace("-compat","");if(j._registerComponent(nt)&&"PUBLIC"===nt.type){const pe=(ve=Je())=>{if("function"!=typeof ve[Be])throw Ce.create("invalid-app-argument",{appName:N});return ve[Be]()};void 0!==nt.serviceProps&&(0,y.ZB)(pe,nt.serviceProps),Ye[Be]=pe,pt.prototype[Be]=function(...ve){return this._getService.bind(this,N).apply(this,nt.multipleInstances?ve:[])}}return"PUBLIC"===nt.type?Ye[Be]:null},removeApp:function $e(nt){delete Le[nt]},useAsService:function et(nt,N){return"serverAuth"===N?null:N},modularAPIs:j}};function Je(nt){if(!(0,y.r3)(Le,nt=nt||j._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:nt});return Le[nt]}return Ye.default=Ye,Object.defineProperty(Ye,"apps",{get:function fe(){return Object.keys(Le).map(nt=>Le[nt])}}),Je.App=pt,Ye}(ue);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function Le(Ye){(0,y.ZB)(pt,Ye)},createSubscribe:y.ne,ErrorFactory:y.LL,deepExtend:y.ZB}),pt}(),re=new ae.Yd("@firebase/app-compat");if((0,y.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const st=ne;!function We(pt){(0,j.registerVersion)("@firebase/app-compat","0.2.1",pt)}()},9681:(ft,Pe,F)=>{F.r(Pe),F.d(Pe,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>jn,_addComponent:()=>pn,_addOrOverwriteComponent:()=>ur,_apps:()=>tn,_clearComponents:()=>cr,_components:()=>Ot,_getProvider:()=>Rt,_registerComponent:()=>kt,_removeServiceInstance:()=>ln,deleteApp:()=>An,getApp:()=>Wr,getApps:()=>rr,initializeApp:()=>gr,onLog:()=>Pt,registerVersion:()=>Wn,setLogLevel:()=>zr});var y=F(5861),$=F(4859),j=F(1877),ae=F(2090),ue=F(8766);class ge{constructor(qe){this.container=qe}getPlatformInfoString(){return this.container.getProviders().map(_t=>{if(function Ce(ut){return"VERSION"===ut.getComponent()?.type}(_t)){const Lt=_t.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(_t=>_t).join(" ")}}const _e="@firebase/app",ne=new j.Yd("@firebase/app"),jn="[DEFAULT]",Qt={[_e]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,Ot=new Map;function pn(ut,qe){try{ut.container.addComponent(qe)}catch(_t){ne.debug(`Component ${qe.name} failed to register with FirebaseApp ${ut.name}`,_t)}}function ur(ut,qe){ut.container.addOrOverwriteComponent(qe)}function kt(ut){const qe=ut.name;if(Ot.has(qe))return ne.debug(`There were multiple attempts to register component ${qe}.`),!1;Ot.set(qe,ut);for(const _t of tn.values())pn(_t,ut);return!0}function Rt(ut,qe){const _t=ut.container.getProvider("heartbeat").getImmediate({optional:!0});return _t&&_t.triggerHeartbeat(),ut.container.getProvider(qe)}function ln(ut,qe,_t=jn){Rt(ut,qe).clearInstance(_t)}function cr(){Ot.clear()}const nr=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gn{constructor(qe,_t,Lt){this._isDeleted=!1,this._options=Object.assign({},qe),this._config=Object.assign({},_t),this._name=_t.name,this._automaticDataCollectionEnabled=_t.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new $.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(qe){this._isDeleted=qe}checkDestroyed(){if(this.isDeleted)throw nr.create("app-deleted",{appName:this._name})}}const vi="9.16.0";function gr(ut,qe={}){let _t=ut;"object"!=typeof qe&&(qe={name:qe});const Lt=Object.assign({name:jn,automaticDataCollectionEnabled:!1},qe),$t=Lt.name;if("string"!=typeof $t||!$t)throw nr.create("bad-app-name",{appName:String($t)});if(_t||(_t=(0,ae.aH)()),!_t)throw nr.create("no-options");const Xt=tn.get($t);if(Xt){if((0,ae.vZ)(_t,Xt.options)&&(0,ae.vZ)(Lt,Xt.config))return Xt;throw nr.create("duplicate-app",{appName:$t})}const se=new $.H0($t);for(const me of Ot.values())se.addComponent(me);const te=new gn(_t,Lt,se);return tn.set($t,te),te}function Wr(ut=jn){const qe=tn.get(ut);if(!qe&&ut===jn)return gr();if(!qe)throw nr.create("no-app",{appName:ut});return qe}function rr(){return Array.from(tn.values())}function An(ut){return rn.apply(this,arguments)}function rn(){return(rn=(0,y.Z)(function*(ut){const qe=ut.name;tn.has(qe)&&(tn.delete(qe),yield Promise.all(ut.container.getProviders().map(_t=>_t.delete())),ut.isDeleted=!0)})).apply(this,arguments)}function Wn(ut,qe,_t){var Lt;let $t=null!==(Lt=Qt[ut])&&void 0!==Lt?Lt:ut;_t&&($t+=`-${_t}`);const Xt=$t.match(/\s|\//),se=qe.match(/\s|\//);if(Xt||se){const te=[`Unable to register library "${$t}" with version "${qe}":`];return Xt&&te.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),Xt&&se&&te.push("and"),se&&te.push(`version name "${qe}" contains illegal characters (whitespace or "/")`),void ne.warn(te.join(" "))}kt(new $.wA(`${$t}-version`,()=>({library:$t,version:qe}),"VERSION"))}function Pt(ut,qe){if(null!==ut&&"function"!=typeof ut)throw nr.create("invalid-log-argument");(0,j.Am)(ut,qe)}function zr(ut){(0,j.Ub)(ut)}const mr="firebase-heartbeat-store";let Qi=null;function Jt(){return Qi||(Qi=(0,ue.X3)("firebase-heartbeat-database",1,{upgrade:(ut,qe)=>{0===qe&&ut.createObjectStore(mr)}}).catch(ut=>{throw nr.create("idb-open",{originalErrorMessage:ut.message})})),Qi}function Ft(){return(Ft=(0,y.Z)(function*(ut){try{return(yield Jt()).transaction(mr).objectStore(mr).get(zn(ut))}catch(qe){if(qe instanceof ae.ZR)ne.warn(qe.message);else{const _t=nr.create("idb-get",{originalErrorMessage:qe?.message});ne.warn(_t.message)}}})).apply(this,arguments)}function Nr(ut,qe){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,y.Z)(function*(ut,qe){try{const Lt=(yield Jt()).transaction(mr,"readwrite");return yield Lt.objectStore(mr).put(qe,zn(ut)),Lt.done}catch(_t){if(_t instanceof ae.ZR)ne.warn(_t.message);else{const Lt=nr.create("idb-set",{originalErrorMessage:_t?.message});ne.warn(Lt.message)}}})).apply(this,arguments)}function zn(ut){return`${ut.name}!${ut.options.appId}`}class Ei{constructor(qe){this.container=qe,this._heartbeatsCache=null;const _t=this.container.getProvider("app").getImmediate();this._storage=new Tn(_t),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var qe=this;return(0,y.Z)(function*(){const Lt=qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Nn();if(null===qe._heartbeatsCache&&(qe._heartbeatsCache=yield qe._heartbeatsCachePromise),qe._heartbeatsCache.lastSentHeartbeatDate!==$t&&!qe._heartbeatsCache.heartbeats.some(Xt=>Xt.date===$t))return qe._heartbeatsCache.heartbeats.push({date:$t,agent:Lt}),qe._heartbeatsCache.heartbeats=qe._heartbeatsCache.heartbeats.filter(Xt=>{const se=new Date(Xt.date).valueOf();return Date.now()-se<=2592e6}),qe._storage.overwrite(qe._heartbeatsCache)})()}getHeartbeatsHeader(){var qe=this;return(0,y.Z)(function*(){if(null===qe._heartbeatsCache&&(yield qe._heartbeatsCachePromise),null===qe._heartbeatsCache||0===qe._heartbeatsCache.heartbeats.length)return"";const _t=Nn(),{heartbeatsToSend:Lt,unsentEntries:$t}=function ei(ut,qe=1024){const _t=[];let Lt=ut.slice();for(const $t of ut){const Xt=_t.find(se=>se.agent===$t.agent);if(Xt){if(Xt.dates.push($t.date),sr(_t)>qe){Xt.dates.pop();break}}else if(_t.push({agent:$t.agent,dates:[$t.date]}),sr(_t)>qe){_t.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:_t,unsentEntries:Lt}}(qe._heartbeatsCache.heartbeats),Xt=(0,ae.L)(JSON.stringify({version:2,heartbeats:Lt}));return qe._heartbeatsCache.lastSentHeartbeatDate=_t,$t.length>0?(qe._heartbeatsCache.heartbeats=$t,yield qe._storage.overwrite(qe._heartbeatsCache)):(qe._heartbeatsCache.heartbeats=[],qe._storage.overwrite(qe._heartbeatsCache)),Xt})()}}function Nn(){return(new Date).toISOString().substring(0,10)}class Tn{constructor(qe){this.app=qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var qe=this;return(0,y.Z)(function*(){return(yield qe._canUseIndexedDBPromise)&&(yield function Mt(ut){return Ft.apply(this,arguments)}(qe.app))||{heartbeats:[]}})()}overwrite(qe){var _t=this;return(0,y.Z)(function*(){var Lt;if(yield _t._canUseIndexedDBPromise){const Xt=yield _t.read();return Nr(_t.app,{lastSentHeartbeatDate:null!==(Lt=qe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Xt.lastSentHeartbeatDate,heartbeats:qe.heartbeats})}})()}add(qe){var _t=this;return(0,y.Z)(function*(){var Lt;if(yield _t._canUseIndexedDBPromise){const Xt=yield _t.read();return Nr(_t.app,{lastSentHeartbeatDate:null!==(Lt=qe.lastSentHeartbeatDate)&&void 0!==Lt?Lt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...qe.heartbeats]})}})()}}function sr(ut){return(0,ae.L)(JSON.stringify({version:2,heartbeats:ut})).length}!function Gr(ut){kt(new $.wA("platform-logger",qe=>new ge(qe),"PRIVATE")),kt(new $.wA("heartbeat",qe=>new Ei(qe),"PRIVATE")),Wn(_e,"0.9.1",ut),Wn(_e,"0.9.1","esm2017"),Wn("fire-js","")}("")},4859:(ft,Pe,F)=>{F.d(Pe,{H0:()=>_e,wA:()=>j,zt:()=>ue});var y=F(5861),$=F(2090);class j{constructor(ne,re,de){this.name=ne,this.instanceFactory=re,this.type=de,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ne){return this.instantiationMode=ne,this}setMultipleInstances(ne){return this.multipleInstances=ne,this}setServiceProps(ne){return this.serviceProps=ne,this}setInstanceCreatedCallback(ne){return this.onInstanceCreated=ne,this}}const ae="[DEFAULT]";class ue{constructor(ne,re){this.name=ne,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ne){const re=this.normalizeInstanceIdentifier(ne);if(!this.instancesDeferred.has(re)){const de=new $.BH;if(this.instancesDeferred.set(re,de),this.isInitialized(re)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:re});Qe&&de.resolve(Qe)}catch{}}return this.instancesDeferred.get(re).promise}getImmediate(ne){var re;const de=this.normalizeInstanceIdentifier(ne?.identifier),Qe=null!==(re=ne?.optional)&&void 0!==re&&re;if(!this.isInitialized(de)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:de})}catch(We){if(Qe)return null;throw We}}getComponent(){return this.component}setComponent(ne){if(ne.name!==this.name)throw Error(`Mismatching Component ${ne.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ne,this.shouldAutoInitialize()){if(function Ce(ye){return"EAGER"===ye.instantiationMode}(ne))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[re,de]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(re);try{const We=this.getOrInitializeService({instanceIdentifier:Qe});de.resolve(We)}catch{}}}}clearInstance(ne=ae){this.instancesDeferred.delete(ne),this.instancesOptions.delete(ne),this.instances.delete(ne)}delete(){var ne=this;return(0,y.Z)(function*(){const re=Array.from(ne.instances.values());yield Promise.all([...re.filter(de=>"INTERNAL"in de).map(de=>de.INTERNAL.delete()),...re.filter(de=>"_delete"in de).map(de=>de._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ne=ae){return this.instances.has(ne)}getOptions(ne=ae){return this.instancesOptions.get(ne)||{}}initialize(ne={}){const{options:re={}}=ne,de=this.normalizeInstanceIdentifier(ne.instanceIdentifier);if(this.isInitialized(de))throw Error(`${this.name}(${de}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:de,options:re});for(const[We,st]of this.instancesDeferred.entries())de===this.normalizeInstanceIdentifier(We)&&st.resolve(Qe);return Qe}onInit(ne,re){var de;const Qe=this.normalizeInstanceIdentifier(re),We=null!==(de=this.onInitCallbacks.get(Qe))&&void 0!==de?de:new Set;We.add(ne),this.onInitCallbacks.set(Qe,We);const st=this.instances.get(Qe);return st&&ne(st,Qe),()=>{We.delete(ne)}}invokeOnInitCallbacks(ne,re){const de=this.onInitCallbacks.get(re);if(de)for(const Qe of de)try{Qe(ne,re)}catch{}}getOrInitializeService({instanceIdentifier:ne,options:re={}}){let de=this.instances.get(ne);if(!de&&this.component&&(de=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=ne,ye===ae?void 0:ye),options:re}),this.instances.set(ne,de),this.instancesOptions.set(ne,re),this.invokeOnInitCallbacks(de,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,de)}catch{}var ye;return de||null}normalizeInstanceIdentifier(ne=ae){return this.component?this.component.multipleInstances?ne:ae:ne}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class _e{constructor(ne){this.name=ne,this.providers=new Map}addComponent(ne){const re=this.getProvider(ne.name);if(re.isComponentSet())throw new Error(`Component ${ne.name} has already been registered with ${this.name}`);re.setComponent(ne)}addOrOverwriteComponent(ne){this.getProvider(ne.name).isComponentSet()&&this.providers.delete(ne.name),this.addComponent(ne)}getProvider(ne){if(this.providers.has(ne))return this.providers.get(ne);const re=new ue(ne,this);return this.providers.set(ne,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Pe,F)=>{F.d(Pe,{Am:()=>ye,Ub:()=>_e,Yd:()=>Ce,in:()=>$});const y=[];var $=(()=>{return(ne=$||($={}))[ne.DEBUG=0]="DEBUG",ne[ne.VERBOSE=1]="VERBOSE",ne[ne.INFO=2]="INFO",ne[ne.WARN=3]="WARN",ne[ne.ERROR=4]="ERROR",ne[ne.SILENT=5]="SILENT",$;var ne})();const j={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},ae=$.INFO,ue={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},ge=(ne,re,...de)=>{if(re<ne.logLevel)return;const Qe=(new Date).toISOString(),We=ue[re];if(!We)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[We](`[${Qe}]  ${ne.name}:`,...de)};class Ce{constructor(re){this.name=re,this._logLevel=ae,this._logHandler=ge,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in $))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?j[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...re),this._logHandler(this,$.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...re),this._logHandler(this,$.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,$.INFO,...re),this._logHandler(this,$.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,$.WARN,...re),this._logHandler(this,$.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...re),this._logHandler(this,$.ERROR,...re)}}function _e(ne){y.forEach(re=>{re.setLogLevel(ne)})}function ye(ne,re){for(const de of y){let Qe=null;re&&re.level&&(Qe=j[re.level]),de.userLogHandler=null===ne?null:(We,st,...pt)=>{const Le=pt.map(Ye=>{if(null==Ye)return null;if("string"==typeof Ye)return Ye;if("number"==typeof Ye||"boolean"==typeof Ye)return Ye.toString();if(Ye instanceof Error)return Ye.message;try{return JSON.stringify(Ye)}catch{return null}}).filter(Ye=>Ye).join(" ");st>=(Qe??We.logLevel)&&ne({level:$[st].toLowerCase(),message:Le,args:pt,type:We.name})}}}},259:(ft,Pe,F)=>{F.d(Pe,{C6:()=>y.getApps,Mq:()=>y.getApp});var y=F(9681);(0,y.registerVersion)("firebase","9.16.0","app")},9260:(ft,Pe,F)=>{F.d(Pe,{Z:()=>y.Z});var y=F(3942);y.Z.registerVersion("firebase","9.16.0","app-compat")},750:(ft,Pe,F)=>{F.r(Pe);var y=F(5861),$=F(3942),j=F(2090),ae=F(9681),ue=F(1877),ge=F(655),Ce=F(4859);const st=function Qe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pt=function We(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Le=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$e=new ue.Yd("@firebase/auth");function Je(p,...u){$e.logLevel<=ue.in.ERROR&&$e.error(`Auth (${ae.SDK_VERSION}): ${p}`,...u)}function Se(p,...u){throw nt(p,...u)}function fe(p,...u){return nt(p,...u)}function Fe(p,u,d){const v=Object.assign(Object.assign({},pt()),{[u]:d});return new j.LL("auth","Firebase",v).create(u,{appName:p.name})}function et(p,u,d){if(!(u instanceof d))throw d.name!==u.constructor.name&&Se(p,"argument-error"),Fe(p,"argument-error",`Type of ${u.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function nt(p,...u){if("string"!=typeof p){const d=u[0],v=[...u.slice(1)];return v[0]&&(v[0].appName=p.name),p._errorFactory.create(d,...v)}return Le.create(p,...u)}function N(p,u,...d){if(!p)throw nt(u,...d)}function Be(p){const u="INTERNAL ASSERTION FAILED: "+p;throw Je(u),new Error(u)}function pe(p,u){p||Be(u)}const ve=new Map;function Re(p){pe(p instanceof Function,"Expected a class definition");let u=ve.get(p);return u?(pe(u instanceof p,"Instance stored in cache mismatched with class"),u):(u=new p,ve.set(p,u),u)}function ot(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.href)||""}function At(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var p;return typeof self<"u"&&(null===(p=self.location)||void 0===p?void 0:p.protocol)||null}class tn{constructor(u,d){this.shortDelay=u,this.longDelay=d,pe(d>u,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function jn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ot(p,u){pe(p.emulator,"Emulator should always be set here");const{url:d}=p.emulator;return u?`${d}${u.startsWith("/")?u.slice(1):u}`:d}class pn{static initialize(u,d,v){this.fetchImpl=u,d&&(this.headersImpl=d),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ur={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},kt=new tn(3e4,6e4);function Rt(p,u){return p.tenantId&&!u.tenantId?Object.assign(Object.assign({},u),{tenantId:p.tenantId}):u}function ln(p,u,d,v){return cr.apply(this,arguments)}function cr(){return(cr=(0,y.Z)(function*(p,u,d,v,x={}){return jr(p,x,(0,y.Z)(function*(){let K={},Ee={};v&&("GET"===u?Ee=v:K={body:JSON.stringify(v)});const Ke=(0,j.xO)(Object.assign({key:p.config.apiKey},Ee)).slice(1),gt=yield p._getAdditionalHeaders();return gt["Content-Type"]="application/json",p.languageCode&&(gt["X-Firebase-Locale"]=p.languageCode),pn.fetch()(gr(p,p.config.apiHost,d,Ke),Object.assign({method:u,headers:gt,referrerPolicy:"no-referrer"},K))}))})).apply(this,arguments)}function jr(p,u,d){return nr.apply(this,arguments)}function nr(){return(nr=(0,y.Z)(function*(p,u,d){p._canInitEmulator=!1;const v=Object.assign(Object.assign({},ur),u);try{const x=new Wr(p),K=yield Promise.race([d(),x.promise]);x.clearNetworkTimeout();const Ee=yield K.json();if("needConfirmation"in Ee)throw rr(p,"account-exists-with-different-credential",Ee);if(K.ok&&!("errorMessage"in Ee))return Ee;{const Ke=K.ok?Ee.errorMessage:Ee.error.message,[gt,vt]=Ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===gt)throw rr(p,"credential-already-in-use",Ee);if("EMAIL_EXISTS"===gt)throw rr(p,"email-already-in-use",Ee);if("USER_DISABLED"===gt)throw rr(p,"user-disabled",Ee);const an=v[gt]||gt.toLowerCase().replace(/[_\s]+/g,"-");if(vt)throw Fe(p,an,vt);Se(p,an)}}catch(x){if(x instanceof j.ZR)throw x;Se(p,"network-request-failed")}})).apply(this,arguments)}function gn(p,u,d,v){return vi.apply(this,arguments)}function vi(){return(vi=(0,y.Z)(function*(p,u,d,v,x={}){const K=yield ln(p,u,d,v,x);return"mfaPendingCredential"in K&&Se(p,"multi-factor-auth-required",{_serverResponse:K}),K})).apply(this,arguments)}function gr(p,u,d,v){const x=`${u}${d}?${v}`;return p.config.emulator?Ot(p.config,x):`${p.config.apiScheme}://${x}`}class Wr{constructor(u){this.auth=u,this.timer=null,this.promise=new Promise((d,v)=>{this.timer=setTimeout(()=>v(fe(this.auth,"network-request-failed")),kt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(p,u,d){const v={appName:p.name};d.email&&(v.email=d.email),d.phoneNumber&&(v.phoneNumber=d.phoneNumber);const x=fe(p,u,v);return x.customData._tokenResponse=d,x}function rn(){return(rn=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:delete",u)})).apply(this,arguments)}function Wn(p,u){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function zr(p,u){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:lookup",u)})).apply(this,arguments)}function un(p){if(p)try{const u=new Date(Number(p));if(!isNaN(u.getTime()))return u.toUTCString()}catch{}}function Jt(){return(Jt=(0,y.Z)(function*(p,u=!1){const d=(0,j.m9)(p),v=yield d.getIdToken(u),x=Ft(v);N(x&&x.exp&&x.auth_time&&x.iat,d.auth,"internal-error");const K="object"==typeof x.firebase?x.firebase:void 0,Ee=K?.sign_in_provider;return{claims:x,token:v,authTime:un(Mt(x.auth_time)),issuedAtTime:un(Mt(x.iat)),expirationTime:un(Mt(x.exp)),signInProvider:Ee||null,signInSecondFactor:K?.sign_in_second_factor||null}})).apply(this,arguments)}function Mt(p){return 1e3*Number(p)}function Ft(p){const[u,d,v]=p.split(".");if(void 0===u||void 0===d||void 0===v)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,j.tV)(d);return x?JSON.parse(x):(Je("Failed to decode base64 JWT payload"),null)}catch(x){return Je("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Dt(p,u){return zn.apply(this,arguments)}function zn(){return(zn=(0,y.Z)(function*(p,u,d=!1){if(d)return u;try{return yield u}catch(v){throw v instanceof j.ZR&&Sr(v)&&p.auth.currentUser===p&&(yield p.auth.signOut()),v}})).apply(this,arguments)}function Sr({code:p}){return"auth/user-disabled"===p||"auth/user-token-expired"===p}class Zn{constructor(u){this.user=u,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(u){var d;if(u){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const x=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(u=!1){var d=this;if(!this.isRunning)return;const v=this.getInterval(u);this.timerId=setTimeout((0,y.Z)(function*(){yield d.iteration()}),v)}iteration(){var u=this;return(0,y.Z)(function*(){try{yield u.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&u.schedule(!0))}u.schedule()})()}}class Ei{constructor(u,d){this.createdAt=u,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=un(this.lastLoginAt),this.creationTime=un(this.createdAt)}_copy(u){this.createdAt=u.createdAt,this.lastLoginAt=u.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Nn(p){return ei.apply(this,arguments)}function ei(){return(ei=(0,y.Z)(function*(p){var u;const d=p.auth,v=yield p.getIdToken(),x=yield Dt(p,zr(d,{idToken:v}));N(x?.users.length,d,"internal-error");const K=x.users[0];p._notifyReloadListener(K);const Ee=null!==(u=K.providerUserInfo)&&void 0!==u&&u.length?ut(K.providerUserInfo):[],Ke=Gr(p.providerData,Ee),an=!!p.isAnonymous&&!(p.email&&K.passwordHash||Ke?.length),qt={uid:K.localId,displayName:K.displayName||null,photoURL:K.photoUrl||null,email:K.email||null,emailVerified:K.emailVerified||!1,phoneNumber:K.phoneNumber||null,tenantId:K.tenantId||null,providerData:Ke,metadata:new Ei(K.createdAt,K.lastLoginAt),isAnonymous:an};Object.assign(p,qt)})).apply(this,arguments)}function sr(){return(sr=(0,y.Z)(function*(p){const u=(0,j.m9)(p);yield Nn(u),yield u.auth._persistUserIfCurrent(u),u.auth._notifyListenersIfCurrent(u)})).apply(this,arguments)}function Gr(p,u){return[...p.filter(v=>!u.some(x=>x.providerId===v.providerId)),...u]}function ut(p){return p.map(u=>{var{providerId:d}=u,v=(0,ge._T)(u,["providerId"]);return{providerId:d,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function _t(){return(_t=(0,y.Z)(function*(p,u){const d=yield jr(p,{},(0,y.Z)(function*(){const v=(0,j.xO)({grant_type:"refresh_token",refresh_token:u}).slice(1),{tokenApiHost:x,apiKey:K}=p.config,Ee=gr(p,x,"/v1/token",`key=${K}`),Ke=yield p._getAdditionalHeaders();return Ke["Content-Type"]="application/x-www-form-urlencoded",pn.fetch()(Ee,{method:"POST",headers:Ke,body:v})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}class Lt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(u){N(u.idToken,"internal-error"),N(typeof u.idToken<"u","internal-error"),N(typeof u.refreshToken<"u","internal-error");const d="expiresIn"in u&&typeof u.expiresIn<"u"?Number(u.expiresIn):function Nr(p){const u=Ft(p);return N(u,"internal-error"),N(typeof u.exp<"u","internal-error"),N(typeof u.iat<"u","internal-error"),Number(u.exp)-Number(u.iat)}(u.idToken);this.updateTokensAndExpiration(u.idToken,u.refreshToken,d)}getToken(u,d=!1){var v=this;return(0,y.Z)(function*(){return N(!v.accessToken||v.refreshToken,u,"user-token-expired"),d||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(u,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(u,d){var v=this;return(0,y.Z)(function*(){const{accessToken:x,refreshToken:K,expiresIn:Ee}=yield function qe(p,u){return _t.apply(this,arguments)}(u,d);v.updateTokensAndExpiration(x,K,Number(Ee))})()}updateTokensAndExpiration(u,d,v){this.refreshToken=d||null,this.accessToken=u||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(u,d){const{refreshToken:v,accessToken:x,expirationTime:K}=d,Ee=new Lt;return v&&(N("string"==typeof v,"internal-error",{appName:u}),Ee.refreshToken=v),x&&(N("string"==typeof x,"internal-error",{appName:u}),Ee.accessToken=x),K&&(N("number"==typeof K,"internal-error",{appName:u}),Ee.expirationTime=K),Ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(u){this.accessToken=u.accessToken,this.refreshToken=u.refreshToken,this.expirationTime=u.expirationTime}_clone(){return Object.assign(new Lt,this.toJSON())}_performRefresh(){return Be("not implemented")}}function $t(p,u){N("string"==typeof p||typeof p>"u","internal-error",{appName:u})}class Xt{constructor(u){var{uid:d,auth:v,stsTokenManager:x}=u,K=(0,ge._T)(u,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=v,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=K.displayName||null,this.email=K.email||null,this.emailVerified=K.emailVerified||!1,this.phoneNumber=K.phoneNumber||null,this.photoURL=K.photoURL||null,this.isAnonymous=K.isAnonymous||!1,this.tenantId=K.tenantId||null,this.providerData=K.providerData?[...K.providerData]:[],this.metadata=new Ei(K.createdAt||void 0,K.lastLoginAt||void 0)}getIdToken(u){var d=this;return(0,y.Z)(function*(){const v=yield Dt(d,d.stsTokenManager.getToken(d.auth,u));return N(v,d.auth,"internal-error"),d.accessToken!==v&&(d.accessToken=v,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),v})()}getIdTokenResult(u){return function Qi(p){return Jt.apply(this,arguments)}(this,u)}reload(){return function Tn(p){return sr.apply(this,arguments)}(this)}_assign(u){this!==u&&(N(this.uid===u.uid,this.auth,"internal-error"),this.displayName=u.displayName,this.photoURL=u.photoURL,this.email=u.email,this.emailVerified=u.emailVerified,this.phoneNumber=u.phoneNumber,this.isAnonymous=u.isAnonymous,this.tenantId=u.tenantId,this.providerData=u.providerData.map(d=>Object.assign({},d)),this.metadata._copy(u.metadata),this.stsTokenManager._assign(u.stsTokenManager))}_clone(u){return new Xt(Object.assign(Object.assign({},this),{auth:u,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(u){N(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=u,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(u){this.reloadListener?this.reloadListener(u):this.reloadUserInfo=u}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(u,d=!1){var v=this;return(0,y.Z)(function*(){let x=!1;u.idToken&&u.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(u),x=!0),d&&(yield Nn(v)),yield v.auth._persistUserIfCurrent(v),x&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var u=this;return(0,y.Z)(function*(){const d=yield u.getIdToken();return yield Dt(u,function An(p,u){return rn.apply(this,arguments)}(u.auth,{idToken:d})),u.stsTokenManager.clearRefreshToken(),u.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(u=>Object.assign({},u)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(u,d){var v,x,K,Ee,Ke,gt,vt,an;const qt=null!==(v=d.displayName)&&void 0!==v?v:void 0,Ai=null!==(x=d.email)&&void 0!==x?x:void 0,No=null!==(K=d.phoneNumber)&&void 0!==K?K:void 0,kl=null!==(Ee=d.photoURL)&&void 0!==Ee?Ee:void 0,Cc=null!==(Ke=d.tenantId)&&void 0!==Ke?Ke:void 0,ul=null!==(gt=d._redirectEventId)&&void 0!==gt?gt:void 0,Wo=null!==(vt=d.createdAt)&&void 0!==vt?vt:void 0,cl=null!==(an=d.lastLoginAt)&&void 0!==an?an:void 0,{uid:xl,emailVerified:Hu,isAnonymous:ju,providerData:hd,stsTokenManager:bc}=d;N(xl&&bc,u,"internal-error");const hh=Lt.fromJSON(this.name,bc);N("string"==typeof xl,u,"internal-error"),$t(qt,u.name),$t(Ai,u.name),N("boolean"==typeof Hu,u,"internal-error"),N("boolean"==typeof ju,u,"internal-error"),$t(No,u.name),$t(kl,u.name),$t(Cc,u.name),$t(ul,u.name),$t(Wo,u.name),$t(cl,u.name);const Ll=new Xt({uid:xl,auth:u,email:Ai,emailVerified:Hu,displayName:qt,isAnonymous:ju,photoURL:kl,phoneNumber:No,tenantId:Cc,stsTokenManager:hh,createdAt:Wo,lastLoginAt:cl});return hd&&Array.isArray(hd)&&(Ll.providerData=hd.map(Wu=>Object.assign({},Wu))),ul&&(Ll._redirectEventId=ul),Ll}static _fromIdTokenResponse(u,d,v=!1){return(0,y.Z)(function*(){const x=new Lt;x.updateFromServerResponse(d);const K=new Xt({uid:d.localId,auth:u,stsTokenManager:x,isAnonymous:v});return yield Nn(K),K})()}}const te=(()=>{class p{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,y.Z)(function*(){return!0})()}_set(d,v){var x=this;return(0,y.Z)(function*(){x.storage[d]=v})()}_get(d){var v=this;return(0,y.Z)(function*(){const x=v.storage[d];return void 0===x?null:x})()}_remove(d){var v=this;return(0,y.Z)(function*(){delete v.storage[d]})()}_addListener(d,v){}_removeListener(d,v){}}return p.type="NONE",p})();function me(p,u,d){return`firebase:${p}:${u}:${d}`}class je{constructor(u,d,v){this.persistence=u,this.auth=d,this.userKey=v;const{config:x,name:K}=this.auth;this.fullUserKey=me(this.userKey,x.apiKey,K),this.fullPersistenceKey=me("persistence",x.apiKey,K),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(u){return this.persistence._set(this.fullUserKey,u.toJSON())}getCurrentUser(){var u=this;return(0,y.Z)(function*(){const d=yield u.persistence._get(u.fullUserKey);return d?Xt._fromJSON(u.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(u){var d=this;return(0,y.Z)(function*(){if(d.persistence===u)return;const v=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=u,v?d.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(u,d,v="authUser"){return(0,y.Z)(function*(){if(!d.length)return new je(Re(te),u,v);const x=(yield Promise.all(d.map(function(){var vt=(0,y.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return vt.apply(this,arguments)}}()))).filter(vt=>vt);let K=x[0]||Re(te);const Ee=me(v,u.config.apiKey,u.name);let Ke=null;for(const vt of d)try{const an=yield vt._get(Ee);if(an){const qt=Xt._fromJSON(u,an);vt!==K&&(Ke=qt),K=vt;break}}catch{}const gt=x.filter(vt=>vt._shouldAllowMigration);return K._shouldAllowMigration&&gt.length?(K=gt[0],Ke&&(yield K._set(Ee,Ke.toJSON())),yield Promise.all(d.map(function(){var vt=(0,y.Z)(function*(an){if(an!==K)try{yield an._remove(Ee)}catch{}});return function(an){return vt.apply(this,arguments)}}())),new je(K,u,v)):new je(K,u,v)})()}}function Me(p){const u=p.toLowerCase();if(u.includes("opera/")||u.includes("opr/")||u.includes("opios/"))return"Opera";if(Un(u))return"IEMobile";if(u.includes("msie")||u.includes("trident/"))return"IE";if(u.includes("edge/"))return"Edge";if(wt(u))return"Firefox";if(u.includes("silk/"))return"Silk";if(he(u))return"Blackberry";if(Q(u))return"Webos";if(sn(u))return"Safari";if((u.includes("chrome/")||mn(u))&&!u.includes("edge/"))return"Chrome";if(ce(u))return"Android";{const v=p.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function wt(p=(0,j.z$)()){return/firefox\//i.test(p)}function sn(p=(0,j.z$)()){const u=p.toLowerCase();return u.includes("safari/")&&!u.includes("chrome/")&&!u.includes("crios/")&&!u.includes("android")}function mn(p=(0,j.z$)()){return/crios\//i.test(p)}function Un(p=(0,j.z$)()){return/iemobile/i.test(p)}function ce(p=(0,j.z$)()){return/android/i.test(p)}function he(p=(0,j.z$)()){return/blackberry/i.test(p)}function Q(p=(0,j.z$)()){return/webos/i.test(p)}function De(p=(0,j.z$)()){return/iphone|ipad|ipod/i.test(p)||/macintosh/i.test(p)&&/mobile/i.test(p)}function kr(p=(0,j.z$)()){return De(p)||ce(p)||Q(p)||he(p)||/windows phone/i.test(p)||Un(p)}function Ri(p,u=[]){let d;switch(p){case"Browser":d=Me((0,j.z$)());break;case"Worker":d=`${Me((0,j.z$)())}-${p}`;break;default:d=p}const v=u.length?u.join(","):"FirebaseCore-web";return`${d}/JsCore/${ae.SDK_VERSION}/${v}`}class Ui{constructor(u){this.auth=u,this.queue=[]}pushCallback(u,d){const v=K=>new Promise((Ee,Ke)=>{try{Ee(u(K))}catch(gt){Ke(gt)}});v.onAbort=d,this.queue.push(v);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(u){var d=this;return(0,y.Z)(function*(){if(d.auth.currentUser===u)return;const v=[];try{for(const x of d.queue)yield x(u),x.onAbort&&v.push(x.onAbort)}catch(x){v.reverse();for(const K of v)try{K()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class ls{constructor(u,d,v){this.app=u,this.heartbeatServiceProvider=d,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Io(this),this.idTokenSubscription=new Io(this),this.beforeStateQueue=new Ui(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=u.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(u,d){var v=this;return d&&(this._popupRedirectResolver=Re(d)),this._initializationPromise=this.queue((0,y.Z)(function*(){var x,K;if(!v._deleted&&(v.persistenceManager=yield je.create(v,u),!v._deleted)){if(null!==(x=v._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(d),v.lastNotifiedUid=(null===(K=v.currentUser)||void 0===K?void 0:K.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var u=this;return(0,y.Z)(function*(){if(u._deleted)return;const d=yield u.assertedPersistence.getCurrentUser();if(u.currentUser||d){if(u.currentUser&&d&&u.currentUser.uid===d.uid)return u._currentUser._assign(d),void(yield u.currentUser.getIdToken());yield u._updateCurrentUser(d,!0)}})()}initializeCurrentUser(u){var d=this;return(0,y.Z)(function*(){var v;const x=yield d.assertedPersistence.getCurrentUser();let K=x,Ee=!1;if(u&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const Ke=null===(v=d.redirectUser)||void 0===v?void 0:v._redirectEventId,gt=K?._redirectEventId,vt=yield d.tryRedirectSignIn(u);(!Ke||Ke===gt)&&vt?.user&&(K=vt.user,Ee=!0)}if(!K)return d.directlySetCurrentUser(null);if(!K._redirectEventId){if(Ee)try{yield d.beforeStateQueue.runMiddleware(K)}catch(Ke){K=x,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(Ke))}return K?d.reloadAndSetCurrentUserOrClear(K):d.directlySetCurrentUser(null)}return N(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===K._redirectEventId?d.directlySetCurrentUser(K):d.reloadAndSetCurrentUserOrClear(K)})()}tryRedirectSignIn(u){var d=this;return(0,y.Z)(function*(){let v=null;try{v=yield d._popupRedirectResolver._completeRedirectFn(d,u,!0)}catch{yield d._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(u){var d=this;return(0,y.Z)(function*(){try{yield Nn(u)}catch(v){if("auth/network-request-failed"!==v?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(u)})()}useDeviceLanguage(){this.languageCode=function Qt(){if(typeof navigator>"u")return null;const p=navigator;return p.languages&&p.languages[0]||p.language||null}()}_delete(){var u=this;return(0,y.Z)(function*(){u._deleted=!0})()}updateCurrentUser(u){var d=this;return(0,y.Z)(function*(){const v=u?(0,j.m9)(u):null;return v&&N(v.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(v&&v._clone(d))})()}_updateCurrentUser(u,d=!1){var v=this;return(0,y.Z)(function*(){if(!v._deleted)return u&&N(v.tenantId===u.tenantId,v,"tenant-id-mismatch"),d||(yield v.beforeStateQueue.runMiddleware(u)),v.queue((0,y.Z)(function*(){yield v.directlySetCurrentUser(u),v.notifyAuthListeners()}))})()}signOut(){var u=this;return(0,y.Z)(function*(){return yield u.beforeStateQueue.runMiddleware(null),(u.redirectPersistenceManager||u._popupRedirectResolver)&&(yield u._setRedirectUser(null)),u._updateCurrentUser(null,!0)})()}setPersistence(u){var d=this;return this.queue((0,y.Z)(function*(){yield d.assertedPersistence.setPersistence(Re(u))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(u){this._errorFactory=new j.LL("auth","Firebase",u())}onAuthStateChanged(u,d,v){return this.registerStateListener(this.authStateSubscription,u,d,v)}beforeAuthStateChanged(u,d){return this.beforeStateQueue.pushCallback(u,d)}onIdTokenChanged(u,d,v){return this.registerStateListener(this.idTokenSubscription,u,d,v)}toJSON(){var u;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(u=this._currentUser)||void 0===u?void 0:u.toJSON()}}_setRedirectUser(u,d){var v=this;return(0,y.Z)(function*(){const x=yield v.getOrInitRedirectPersistenceManager(d);return null===u?x.removeCurrentUser():x.setCurrentUser(u)})()}getOrInitRedirectPersistenceManager(u){var d=this;return(0,y.Z)(function*(){if(!d.redirectPersistenceManager){const v=u&&Re(u)||d._popupRedirectResolver;N(v,d,"argument-error"),d.redirectPersistenceManager=yield je.create(d,[Re(v._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(u){var d=this;return(0,y.Z)(function*(){var v,x;return d._isInitialized&&(yield d.queue((0,y.Z)(function*(){}))),(null===(v=d._currentUser)||void 0===v?void 0:v._redirectEventId)===u?d._currentUser:(null===(x=d.redirectUser)||void 0===x?void 0:x._redirectEventId)===u?d.redirectUser:null})()}_persistUserIfCurrent(u){var d=this;return(0,y.Z)(function*(){if(u===d.currentUser)return d.queue((0,y.Z)(function*(){return d.directlySetCurrentUser(u)}))})()}_notifyListenersIfCurrent(u){u===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var u,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(d=null===(u=this.currentUser)||void 0===u?void 0:u.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(u,d,v,x){if(this._deleted)return()=>{};const K="function"==typeof d?d:d.next.bind(d),Ee=this._isInitialized?Promise.resolve():this._initializationPromise;return N(Ee,this,"internal-error"),Ee.then(()=>K(this.currentUser)),"function"==typeof d?u.addObserver(d,v,x):u.addObserver(d)}directlySetCurrentUser(u){var d=this;return(0,y.Z)(function*(){d.currentUser&&d.currentUser!==u&&d._currentUser._stopProactiveRefresh(),u&&d.isProactiveRefreshEnabled&&u._startProactiveRefresh(),d.currentUser=u,u?yield d.assertedPersistence.setCurrentUser(u):yield d.assertedPersistence.removeCurrentUser()})()}queue(u){return this.operations=this.operations.then(u,u),this.operations}get assertedPersistence(){return N(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(u){!u||this.frameworks.includes(u)||(this.frameworks.push(u),this.frameworks.sort(),this.clientVersion=Ri(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var u=this;return(0,y.Z)(function*(){var d;const v={"X-Client-Version":u.clientVersion};u.app.options.appId&&(v["X-Firebase-gmpid"]=u.app.options.appId);const x=yield null===(d=u.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();return x&&(v["X-Firebase-Client"]=x),v})()}}function Yn(p){return(0,j.m9)(p)}class Io{constructor(u){this.auth=u,this.observer=null,this.addObserver=(0,j.ne)(d=>this.observer=d)}get next(){return N(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ar(p){const u=p.indexOf(":");return u<0?"":p.substr(0,u+1)}function Mn(p){if(!p)return null;const u=Number(p);return isNaN(u)?null:u}class Er{constructor(u,d){this.providerId=u,this.signInMethod=d}toJSON(){return Be("not implemented")}_getIdTokenResponse(u){return Be("not implemented")}_linkToIdToken(u,d){return Be("not implemented")}_getReauthenticationResolver(u){return Be("not implemented")}}function Qn(p,u){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:resetPassword",Rt(p,u))})).apply(this,arguments)}function ti(p,u){return yt.apply(this,arguments)}function yt(){return(yt=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function Kt(p,u){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:update",Rt(p,u))})).apply(this,arguments)}function Bi(){return(Bi=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithPassword",Rt(p,u))})).apply(this,arguments)}function Jn(p,u){return _r.apply(this,arguments)}function _r(){return(_r=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:sendOobCode",Rt(p,u))})).apply(this,arguments)}function ir(p,u){return ni.apply(this,arguments)}function ni(){return(ni=(0,y.Z)(function*(p,u){return Jn(p,u)})).apply(this,arguments)}function Pi(p,u){return nn.apply(this,arguments)}function nn(){return(nn=(0,y.Z)(function*(p,u){return Jn(p,u)})).apply(this,arguments)}function ks(p,u){return us.apply(this,arguments)}function us(){return(us=(0,y.Z)(function*(p,u){return Jn(p,u)})).apply(this,arguments)}function co(p,u){return Di.apply(this,arguments)}function Di(){return(Di=(0,y.Z)(function*(p,u){return Jn(p,u)})).apply(this,arguments)}function vs(){return(vs=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithEmailLink",Rt(p,u))})).apply(this,arguments)}function xr(){return(xr=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithEmailLink",Rt(p,u))})).apply(this,arguments)}class Oi extends Er{constructor(u,d,v,x=null){super("password",v),this._email=u,this._password=d,this._tenantId=x}static _fromEmailAndPassword(u,d){return new Oi(u,d,"password")}static _fromEmailAndCode(u,d,v=null){return new Oi(u,d,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(u){var d=this;return(0,y.Z)(function*(){switch(d.signInMethod){case"password":return function Kr(p,u){return Bi.apply(this,arguments)}(u,{returnSecureToken:!0,email:d._email,password:d._password});case"emailLink":return function Zr(p,u){return vs.apply(this,arguments)}(u,{email:d._email,oobCode:d._password});default:Se(u,"internal-error")}})()}_linkToIdToken(u,d){var v=this;return(0,y.Z)(function*(){switch(v.signInMethod){case"password":return ti(u,{idToken:d,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Es(p,u){return xr.apply(this,arguments)}(u,{idToken:d,email:v._email,oobCode:v._password});default:Se(u,"internal-error")}})()}_getReauthenticationResolver(u){return this._getIdTokenResponse(u)}}function wi(p,u){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithIdp",Rt(p,u))})).apply(this,arguments)}class li extends Er{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(u){const d=new li(u.providerId,u.signInMethod);return u.idToken||u.accessToken?(u.idToken&&(d.idToken=u.idToken),u.accessToken&&(d.accessToken=u.accessToken),u.nonce&&!u.pendingToken&&(d.nonce=u.nonce),u.pendingToken&&(d.pendingToken=u.pendingToken)):u.oauthToken&&u.oauthTokenSecret?(d.accessToken=u.oauthToken,d.secret=u.oauthTokenSecret):Se("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:x}=d,K=(0,ge._T)(d,["providerId","signInMethod"]);if(!v||!x)return null;const Ee=new li(v,x);return Ee.idToken=K.idToken||void 0,Ee.accessToken=K.accessToken||void 0,Ee.secret=K.secret,Ee.nonce=K.nonce,Ee.pendingToken=K.pendingToken||null,Ee}_getIdTokenResponse(u){return wi(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,wi(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,wi(u,d)}buildRequest(){const u={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)u.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),u.postBody=(0,j.xO)(d)}return u}}function $n(p,u){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:sendVerificationCode",Rt(p,u))})).apply(this,arguments)}function yr(){return(yr=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithPhoneNumber",Rt(p,u))})).apply(this,arguments)}function cs(){return(cs=(0,y.Z)(function*(p,u){const d=yield gn(p,"POST","/v1/accounts:signInWithPhoneNumber",Rt(p,u));if(d.temporaryProof)throw rr(p,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const Br={USER_NOT_FOUND:"user-not-found"};function ui(){return(ui=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithPhoneNumber",Rt(p,Object.assign(Object.assign({},u),{operation:"REAUTH"})),Br)})).apply(this,arguments)}class In extends Er{constructor(u){super("phone","phone"),this.params=u}static _fromVerification(u,d){return new In({verificationId:u,verificationCode:d})}static _fromTokenResponse(u,d){return new In({phoneNumber:u,temporaryProof:d})}_getIdTokenResponse(u){return function en(p,u){return yr.apply(this,arguments)}(u,this._makeVerificationRequest())}_linkToIdToken(u,d){return function yn(p,u){return cs.apply(this,arguments)}(u,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(u){return function Tr(p,u){return ui.apply(this,arguments)}(u,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:u,phoneNumber:d,verificationId:v,verificationCode:x}=this.params;return u&&d?{temporaryProof:u,phoneNumber:d}:{sessionInfo:v,code:x}}toJSON(){const u={providerId:this.providerId};return this.params.phoneNumber&&(u.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(u.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(u.verificationCode=this.params.verificationCode),this.params.verificationId&&(u.verificationId=this.params.verificationId),u}static fromJSON(u){"string"==typeof u&&(u=JSON.parse(u));const{verificationId:d,verificationCode:v,phoneNumber:x,temporaryProof:K}=u;return v||d||x||K?new In({verificationId:d,verificationCode:v,phoneNumber:x,temporaryProof:K}):null}}class Is{constructor(u){var d,v,x,K,Ee,Ke;const gt=(0,j.zd)((0,j.pd)(u)),vt=null!==(d=gt.apiKey)&&void 0!==d?d:null,an=null!==(v=gt.oobCode)&&void 0!==v?v:null,qt=function cn(p){switch(p){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=gt.mode)&&void 0!==x?x:null);N(vt&&an&&qt,"argument-error"),this.apiKey=vt,this.operation=qt,this.code=an,this.continueUrl=null!==(K=gt.continueUrl)&&void 0!==K?K:null,this.languageCode=null!==(Ee=gt.languageCode)&&void 0!==Ee?Ee:null,this.tenantId=null!==(Ke=gt.tenantId)&&void 0!==Ke?Ke:null}static parseLink(u){const d=function qn(p){const u=(0,j.zd)((0,j.pd)(p)).link,d=u?(0,j.zd)((0,j.pd)(u)).deep_link_id:null,v=(0,j.zd)((0,j.pd)(p)).deep_link_id;return(v?(0,j.zd)((0,j.pd)(v)).link:null)||v||d||u||p}(u);try{return new Is(d)}catch{return null}}}let ri=(()=>{class p{constructor(){this.providerId=p.PROVIDER_ID}static credential(d,v){return Oi._fromEmailAndPassword(d,v)}static credentialWithLink(d,v){const x=Is.parseLink(v);return N(x,"argument-error"),Oi._fromEmailAndCode(d,x.code,x.tenantId)}}return p.PROVIDER_ID="password",p.EMAIL_PASSWORD_SIGN_IN_METHOD="password",p.EMAIL_LINK_SIGN_IN_METHOD="emailLink",p})();class Ji{constructor(u){this.providerId=u,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(u){this.defaultLanguageCode=u}setCustomParameters(u){return this.customParameters=u,this}getCustomParameters(){return this.customParameters}}class Vi extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(u){return this.scopes.includes(u)||this.scopes.push(u),this}getScopes(){return[...this.scopes]}}class ds extends Vi{static credentialFromJSON(u){const d="string"==typeof u?JSON.parse(u):u;return N("providerId"in d&&"signInMethod"in d,"argument-error"),li._fromParams(d)}credential(u){return this._credential(Object.assign(Object.assign({},u),{nonce:u.rawNonce}))}_credential(u){return N(u.idToken||u.accessToken,"argument-error"),li._fromParams(Object.assign(Object.assign({},u),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(u){return ds.oauthCredentialFromTaggedObject(u)}static credentialFromError(u){return ds.oauthCredentialFromTaggedObject(u.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{oauthIdToken:d,oauthAccessToken:v,oauthTokenSecret:x,pendingToken:K,nonce:Ee,providerId:Ke}=u;if(!v&&!x&&!d&&!K||!Ke)return null;try{return new ds(Ke)._credential({idToken:d,accessToken:v,nonce:Ee,pendingToken:K})}catch{return null}}}let ws=(()=>{class p extends Vi{constructor(){super("facebook.com")}static credential(d){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.FACEBOOK_SIGN_IN_METHOD="facebook.com",p.PROVIDER_ID="facebook.com",p})(),Cs=(()=>{class p extends Vi{constructor(){super("google.com"),this.addScope("profile")}static credential(d,v){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:v})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:v,oauthAccessToken:x}=d;if(!v&&!x)return null;try{return p.credential(v,x)}catch{return null}}}return p.GOOGLE_SIGN_IN_METHOD="google.com",p.PROVIDER_ID="google.com",p})(),Qs=(()=>{class p extends Vi{constructor(){super("github.com")}static credential(d){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return p.credential(d.oauthAccessToken)}catch{return null}}}return p.GITHUB_SIGN_IN_METHOD="github.com",p.PROVIDER_ID="github.com",p})();class Ls extends Er{constructor(u,d){super(u,u),this.pendingToken=d}_getIdTokenResponse(u){return wi(u,this.buildRequest())}_linkToIdToken(u,d){const v=this.buildRequest();return v.idToken=d,wi(u,v)}_getReauthenticationResolver(u){const d=this.buildRequest();return d.autoCreate=!1,wi(u,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(u){const d="string"==typeof u?JSON.parse(u):u,{providerId:v,signInMethod:x,pendingToken:K}=d;return v&&x&&K&&v===x?new Ls(v,K):null}static _create(u,d){return new Ls(u,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $i extends Ji{constructor(u){N(u.startsWith("saml."),"argument-error"),super(u)}static credentialFromResult(u){return $i.samlCredentialFromTaggedObject(u)}static credentialFromError(u){return $i.samlCredentialFromTaggedObject(u.customData||{})}static credentialFromJSON(u){const d=Ls.fromJSON(u);return N(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:u}){if(!u)return null;const{pendingToken:d,providerId:v}=u;if(!d||!v)return null;try{return Ls._create(v,d)}catch{return null}}}let oa=(()=>{class p extends Vi{constructor(){super("twitter.com")}static credential(d,v){return li._fromParams({providerId:p.PROVIDER_ID,signInMethod:p.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:v})}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:v,oauthTokenSecret:x}=d;if(!v||!x)return null;try{return p.credential(v,x)}catch{return null}}}return p.TWITTER_SIGN_IN_METHOD="twitter.com",p.PROVIDER_ID="twitter.com",p})();function Fs(p,u){return Js.apply(this,arguments)}function Js(){return(Js=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signUp",Rt(p,u))})).apply(this,arguments)}class Ir{constructor(u){this.user=u.user,this.providerId=u.providerId,this._tokenResponse=u._tokenResponse,this.operationType=u.operationType}static _fromIdTokenResponse(u,d,v,x=!1){return(0,y.Z)(function*(){const K=yield Xt._fromIdTokenResponse(u,v,x),Ee=dn(v);return new Ir({user:K,providerId:Ee,_tokenResponse:v,operationType:d})})()}static _forOperation(u,d,v){return(0,y.Z)(function*(){yield u._updateTokensIfNecessary(v,!0);const x=dn(v);return new Ir({user:u,providerId:x,_tokenResponse:v,operationType:d})})()}}function dn(p){return p.providerId?p.providerId:"phoneNumber"in p?"phone":null}function bs(){return(bs=(0,y.Z)(function*(p){var u;const d=Yn(p);if(yield d._initializationPromise,null!==(u=d.currentUser)&&void 0!==u&&u.isAnonymous)return new Ir({user:d.currentUser,providerId:null,operationType:"signIn"});const v=yield Fs(d,{returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(d,"signIn",v,!0);return yield d._updateCurrentUser(x.user),x})).apply(this,arguments)}class hs extends j.ZR{constructor(u,d,v,x){var K;super(d.code,d.message),this.operationType=v,this.user=x,Object.setPrototypeOf(this,hs.prototype),this.customData={appName:u.name,tenantId:null!==(K=u.tenantId)&&void 0!==K?K:void 0,_serverResponse:d.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(u,d,v,x){return new hs(u,d,v,x)}}function Rr(p,u,d,v){return("reauthenticate"===u?d._getReauthenticationResolver(p):d._getIdTokenResponse(p)).catch(K=>{throw"auth/multi-factor-auth-required"===K.code?hs._fromErrorAndOperation(p,K,u,v):K})}function bi(p){return new Set(p.map(({providerId:u})=>u).filter(u=>!!u))}function Ts(){return(Ts=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p);yield Hi(!0,d,u);const{providerUserInfo:v}=yield Wn(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[u]}),x=bi(v||[]);return d.providerData=d.providerData.filter(K=>x.has(K.providerId)),x.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d})).apply(this,arguments)}function Pr(p,u){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,y.Z)(function*(p,u,d=!1){const v=yield Dt(p,u._linkToIdToken(p.auth,yield p.getIdToken()),d);return Ir._forOperation(p,"link",v)})).apply(this,arguments)}function Hi(p,u,d){return ji.apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(p,u,d){yield Nn(u);const x=!1===p?"provider-already-linked":"no-such-provider";N(bi(u.providerData).has(d)===p,u.auth,x)})).apply(this,arguments)}function Do(p,u){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,y.Z)(function*(p,u,d=!1){const{auth:v}=p,x="reauthenticate";try{const K=yield Dt(p,Rr(v,x,u,p),d);N(K.idToken,v,"internal-error");const Ee=Ft(K.idToken);N(Ee,v,"internal-error");const{sub:Ke}=Ee;return N(p.uid===Ke,v,"user-mismatch"),Ir._forOperation(p,x,K)}catch(K){throw"auth/user-not-found"===K?.code&&Se(v,"user-mismatch"),K}})).apply(this,arguments)}function Xi(p,u){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,y.Z)(function*(p,u,d=!1){const v="signIn",x=yield Rr(p,v,u),K=yield Ir._fromIdTokenResponse(p,v,x);return d||(yield p._updateCurrentUser(K.user)),K})).apply(this,arguments)}function Xn(p,u){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,y.Z)(function*(p,u){return Xi(Yn(p),u)})).apply(this,arguments)}function er(p,u){return ii.apply(this,arguments)}function ii(){return(ii=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p);return yield Hi(!1,d,u.providerId),Pr(d,u)})).apply(this,arguments)}function es(p,u){return or.apply(this,arguments)}function or(){return(or=(0,y.Z)(function*(p,u){return Do((0,j.m9)(p),u)})).apply(this,arguments)}function Kn(p,u){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,y.Z)(function*(p,u){return gn(p,"POST","/v1/accounts:signInWithCustomToken",Rt(p,u))})).apply(this,arguments)}function hr(){return(hr=(0,y.Z)(function*(p,u){const d=Yn(p),v=yield Kn(d,{token:u,returnSecureToken:!0}),x=yield Ir._fromIdTokenResponse(d,"signIn",v);return yield d._updateCurrentUser(x.user),x})).apply(this,arguments)}class Ss{constructor(u,d){this.factorId=u,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(u,d){return"phoneInfo"in d?Ti._fromServerResponse(u,d):Se(u,"internal-error")}}class Ti extends Ss{constructor(u){super("phone",u),this.phoneNumber=u.phoneInfo}static _fromServerResponse(u,d){return new Ti(d)}}function $r(p,u,d){var v;N((null===(v=d.url)||void 0===v?void 0:v.length)>0,p,"invalid-continue-uri"),N(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,p,"invalid-dynamic-link-domain"),u.continueUrl=d.url,u.dynamicLinkDomain=d.dynamicLinkDomain,u.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(N(d.iOS.bundleId.length>0,p,"missing-ios-bundle-id"),u.iOSBundleId=d.iOS.bundleId),d.android&&(N(d.android.packageName.length>0,p,"missing-android-pkg-name"),u.androidInstallApp=d.android.installApp,u.androidMinimumVersionCode=d.android.minimumVersion,u.androidPackageName=d.android.packageName)}function Zt(){return(Zt=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),x={requestType:"PASSWORD_RESET",email:u};d&&$r(v,x,d),yield Pi(v,x)})).apply(this,arguments)}function Ut(){return(Ut=(0,y.Z)(function*(p,u,d){yield Qn((0,j.m9)(p),{oobCode:u,newPassword:d})})).apply(this,arguments)}function ar(){return(ar=(0,y.Z)(function*(p,u){yield Kt((0,j.m9)(p),{oobCode:u})})).apply(this,arguments)}function As(p,u){return wo.apply(this,arguments)}function wo(){return(wo=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p),v=yield Qn(d,{oobCode:u}),x=v.requestType;switch(N(x,d,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":N(v.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":N(v.mfaInfo,d,"internal-error");default:N(v.email,d,"internal-error")}let K=null;return v.mfaInfo&&(K=Ss._fromServerResponse(Yn(d),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:K},operation:x}})).apply(this,arguments)}function to(){return(to=(0,y.Z)(function*(p,u){const{data:d}=yield As((0,j.m9)(p),u);return d.email})).apply(this,arguments)}function Hs(){return(Hs=(0,y.Z)(function*(p,u,d){const v=Yn(p),x=yield Fs(v,{returnSecureToken:!0,email:u,password:d}),K=yield Ir._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser(K.user),K})).apply(this,arguments)}function ts(){return(ts=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),x={requestType:"EMAIL_SIGNIN",email:u};N(d.handleCodeInApp,v,"argument-error"),d&&$r(v,x,d),yield ks(v,x)})).apply(this,arguments)}function fs(){return(fs=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),x=ri.credentialWithLink(u,d||ot());return N(x._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),Xn(v,x)})).apply(this,arguments)}function ho(p,u){return pi.apply(this,arguments)}function pi(){return(pi=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:createAuthUri",Rt(p,u))})).apply(this,arguments)}function js(){return(js=(0,y.Z)(function*(p,u){const v={identifier:u,continueUri:At()?ot():"http://localhost"},{signinMethods:x}=yield ho((0,j.m9)(p),v);return x||[]})).apply(this,arguments)}function Ws(){return(Ws=(0,y.Z)(function*(p,u){const d=(0,j.m9)(p),x={requestType:"VERIFY_EMAIL",idToken:yield p.getIdToken()};u&&$r(d.auth,x,u);const{email:K}=yield ir(d.auth,x);K!==p.email&&(yield p.reload())})).apply(this,arguments)}function fr(){return(fr=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),K={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield p.getIdToken(),newEmail:u};d&&$r(v.auth,K,d);const{email:Ee}=yield co(v.auth,K);Ee!==p.email&&(yield p.reload())})).apply(this,arguments)}function di(p,u){return zi.apply(this,arguments)}function zi(){return(zi=(0,y.Z)(function*(p,u){return ln(p,"POST","/v1/accounts:update",u)})).apply(this,arguments)}function xi(){return(xi=(0,y.Z)(function*(p,{displayName:u,photoURL:d}){if(void 0===u&&void 0===d)return;const v=(0,j.m9)(p),K={idToken:yield v.getIdToken(),displayName:u,photoUrl:d,returnSecureToken:!0},Ee=yield Dt(v,di(v.auth,K));v.displayName=Ee.displayName||null,v.photoURL=Ee.photoUrl||null;const Ke=v.providerData.find(({providerId:gt})=>"password"===gt);Ke&&(Ke.displayName=v.displayName,Ke.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Ee)})).apply(this,arguments)}function U(p,u,d){return m.apply(this,arguments)}function m(){return(m=(0,y.Z)(function*(p,u,d){const{auth:v}=p,K={idToken:yield p.getIdToken(),returnSecureToken:!0};u&&(K.email=u),d&&(K.password=d);const Ee=yield Dt(p,ti(v,K));yield p._updateTokensIfNecessary(Ee,!0)})).apply(this,arguments)}class M{constructor(u,d,v={}){this.isNewUser=u,this.providerId=d,this.profile=v}}class B extends M{constructor(u,d,v,x){super(u,d,v),this.username=x}}class q extends M{constructor(u,d){super(u,"facebook.com",d)}}class oe extends B{constructor(u,d){super(u,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class le extends M{constructor(u,d){super(u,"google.com",d)}}class Ae extends B{constructor(u,d,v){super(u,"twitter.com",d,v)}}function Ze(p){const{user:u,_tokenResponse:d}=p;return u.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function E(p){var u,d;if(!p)return null;const{providerId:v}=p,x=p.rawUserInfo?JSON.parse(p.rawUserInfo):{},K=p.isNewUser||"identitytoolkit#SignupNewUserResponse"===p.kind;if(!v&&p?.idToken){const Ee=null===(d=null===(u=Ft(p.idToken))||void 0===u?void 0:u.firebase)||void 0===d?void 0:d.sign_in_provider;if(Ee)return new M(K,"anonymous"!==Ee&&"custom"!==Ee?Ee:null)}if(!v)return null;switch(v){case"facebook.com":return new q(K,x);case"github.com":return new oe(K,x);case"google.com":return new le(K,x);case"twitter.com":return new Ae(K,x,p.screenName||null);case"custom":case"anonymous":return new M(K,null);default:return new M(K,v,x)}}(d)}class lr{constructor(u,d,v){this.type=u,this.credential=d,this.auth=v}static _fromIdtoken(u,d){return new lr("enroll",u,d)}static _fromMfaPendingCredential(u){return new lr("signin",u)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(u){var d,v;if(u?.multiFactorSession){if(null!==(d=u.multiFactorSession)&&void 0!==d&&d.pendingCredential)return lr._fromMfaPendingCredential(u.multiFactorSession.pendingCredential);if(null!==(v=u.multiFactorSession)&&void 0!==v&&v.idToken)return lr._fromIdtoken(u.multiFactorSession.idToken)}return null}}class Or{constructor(u,d,v){this.session=u,this.hints=d,this.signInResolver=v}static _fromError(u,d){const v=Yn(u),x=d.customData._serverResponse,K=(x.mfaInfo||[]).map(Ke=>Ss._fromServerResponse(v,Ke));N(x.mfaPendingCredential,v,"internal-error");const Ee=lr._fromMfaPendingCredential(x.mfaPendingCredential);return new Or(Ee,K,function(){var Ke=(0,y.Z)(function*(gt){const vt=yield gt._process(v,Ee);delete x.mfaInfo,delete x.mfaPendingCredential;const an=Object.assign(Object.assign({},x),{idToken:vt.idToken,refreshToken:vt.refreshToken});switch(d.operationType){case"signIn":const qt=yield Ir._fromIdTokenResponse(v,d.operationType,an);return yield v._updateCurrentUser(qt.user),qt;case"reauthenticate":return N(d.user,v,"internal-error"),Ir._forOperation(d.user,d.operationType,an);default:Se(v,"internal-error")}});return function(gt){return Ke.apply(this,arguments)}}())}resolveSignIn(u){var d=this;return(0,y.Z)(function*(){return d.signInResolver(u)})()}}function gi(p,u){return ln(p,"POST","/v2/accounts/mfaEnrollment:start",Rt(p,u))}class qr{constructor(u){this.user=u,this.enrolledFactors=[],u._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(v=>Ss._fromServerResponse(u.auth,v)))})}static _fromUser(u){return new qr(u)}getSession(){var u=this;return(0,y.Z)(function*(){return lr._fromIdtoken(yield u.user.getIdToken(),u.user.auth)})()}enroll(u,d){var v=this;return(0,y.Z)(function*(){const x=u,K=yield v.getSession(),Ee=yield Dt(v.user,x._process(v.user.auth,K,d));return yield v.user._updateTokensIfNecessary(Ee),v.user.reload()})()}unenroll(u){var d=this;return(0,y.Z)(function*(){const v="string"==typeof u?u:u.uid,x=yield d.user.getIdToken(),K=yield Dt(d.user,function Ki(p,u){return ln(p,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(p,u))}(d.user.auth,{idToken:x,mfaEnrollmentId:v}));d.enrolledFactors=d.enrolledFactors.filter(({uid:Ee})=>Ee!==v),yield d.user._updateTokensIfNecessary(K);try{yield d.user.reload()}catch(Ee){if("auth/user-token-expired"!==Ee?.code)throw Ee}})()}}const C=new WeakMap,S="__sak";class V{constructor(u,d){this.storageRetriever=u,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(S,"1"),this.storage.removeItem(S),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(u,d){return this.storage.setItem(u,JSON.stringify(d)),Promise.resolve()}_get(u){const d=this.storage.getItem(u);return Promise.resolve(d?JSON.parse(d):null)}_remove(u){return this.storage.removeItem(u),Promise.resolve()}get storage(){return this.storageRetriever()}}const ct=(()=>{class p extends V{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,v)=>this.onStorageEvent(d,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function X(){const p=(0,j.z$)();return sn(p)||De(p)}()&&function dr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=kr(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const v of Object.keys(this.listeners)){const x=this.storage.getItem(v),K=this.localCache[v];x!==K&&d(v,K,x)}}onStorageEvent(d,v=!1){if(!d.key)return void this.forAllChangedKeys((Ke,gt,vt)=>{this.notifyListeners(Ke,vt)});const x=d.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ke=this.storage.getItem(x);if(d.newValue!==Ke)null!==d.newValue?this.storage.setItem(x,d.newValue):this.storage.removeItem(x);else if(this.localCache[x]===d.newValue&&!v)return}const K=()=>{const Ke=this.storage.getItem(x);!v&&this.localCache[x]===Ke||this.notifyListeners(x,Ke)},Ee=this.storage.getItem(x);!function _n(){return(0,j.w1)()&&10===document.documentMode}()||Ee===d.newValue||d.newValue===d.oldValue?K():setTimeout(K,10)}notifyListeners(d,v){this.localCache[d]=v;const x=this.listeners[d];if(x)for(const K of Array.from(x))K(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,v,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:v,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,v){var x=()=>super._set,K=this;return(0,y.Z)(function*(){yield x().call(K,d,v),K.localCache[d]=JSON.stringify(v)})()}_get(d){var v=()=>super._get,x=this;return(0,y.Z)(function*(){const K=yield v().call(x,d);return x.localCache[d]=JSON.stringify(K),K})()}_remove(d){var v=()=>super._remove,x=this;return(0,y.Z)(function*(){yield v().call(x,d),delete x.localCache[d]})()}}return p.type="LOCAL",p})(),Ht=(()=>{class p extends V{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,v){}_removeListener(d,v){}}return p.type="SESSION",p})();let kn=(()=>{class p{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const v=this.receivers.find(K=>K.isListeningto(d));if(v)return v;const x=new p(d);return this.receivers.push(x),x}isListeningto(d){return this.eventTarget===d}handleEvent(d){var v=this;return(0,y.Z)(function*(){const x=d,{eventId:K,eventType:Ee,data:Ke}=x.data,gt=v.handlersMap[Ee];if(!gt?.size)return;x.ports[0].postMessage({status:"ack",eventId:K,eventType:Ee});const vt=Array.from(gt).map(function(){var qt=(0,y.Z)(function*(Ai){return Ai(x.origin,Ke)});return function(Ai){return qt.apply(this,arguments)}}()),an=yield function jt(p){return Promise.all(p.map(function(){var u=(0,y.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(v){return{fulfilled:!1,reason:v}}});return function(d){return u.apply(this,arguments)}}()))}(vt);x.ports[0].postMessage({status:"done",eventId:K,eventType:Ee,response:an})})()}_subscribe(d,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(v)}_unsubscribe(d,v){this.handlersMap[d]&&v&&this.handlersMap[d].delete(v),(!v||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return p.receivers=[],p})();function En(p="",u=10){let d="";for(let v=0;v<u;v++)d+=Math.floor(10*Math.random());return p+d}class fn{constructor(u){this.target=u,this.handlers=new Set}removeMessageHandler(u){u.messageChannel&&(u.messageChannel.port1.removeEventListener("message",u.onMessage),u.messageChannel.port1.close()),this.handlers.delete(u)}_send(u,d,v=50){var x=this;return(0,y.Z)(function*(){const K=typeof MessageChannel<"u"?new MessageChannel:null;if(!K)throw new Error("connection_unavailable");let Ee,Ke;return new Promise((gt,vt)=>{const an=En("",20);K.port1.start();const qt=setTimeout(()=>{vt(new Error("unsupported_event"))},v);Ke={messageChannel:K,onMessage(Ai){const No=Ai;if(No.data.eventId===an)switch(No.data.status){case"ack":clearTimeout(qt),Ee=setTimeout(()=>{vt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ee),gt(No.data.response);break;default:clearTimeout(qt),clearTimeout(Ee),vt(new Error("invalid_response"))}}},x.handlers.add(Ke),K.port1.addEventListener("message",Ke.onMessage),x.target.postMessage({eventType:u,eventId:an,data:d},[K.port2])}).finally(()=>{Ke&&x.removeMessageHandler(Ke)})})()}}function Pn(){return window}function tr(){return typeof Pn().WorkerGlobalScope<"u"&&"function"==typeof Pn().importScripts}function Cr(){return(Cr=(0,y.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ko="firebaseLocalStorageDb",no="firebaseLocalStorage",Yo="fbase_key";class Uo{constructor(u){this.request=u}toPromise(){return new Promise((u,d)=>{this.request.addEventListener("success",()=>{u(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function qo(p,u){return p.transaction([no],u?"readwrite":"readonly").objectStore(no)}function wa(){const p=indexedDB.open(Ko,1);return new Promise((u,d)=>{p.addEventListener("error",()=>{d(p.error)}),p.addEventListener("upgradeneeded",()=>{const v=p.result;try{v.createObjectStore(no,{keyPath:Yo})}catch(x){d(x)}}),p.addEventListener("success",(0,y.Z)(function*(){const v=p.result;v.objectStoreNames.contains(no)?u(v):(v.close(),yield function Co(){const p=indexedDB.deleteDatabase(Ko);return new Uo(p).toPromise()}(),u(yield wa()))}))})}function rs(p,u,d){return bo.apply(this,arguments)}function bo(){return(bo=(0,y.Z)(function*(p,u,d){const v=qo(p,!0).put({[Yo]:u,value:d});return new Uo(v).toPromise()})).apply(this,arguments)}function go(){return(go=(0,y.Z)(function*(p,u){const d=qo(p,!1).get(u),v=yield new Uo(d).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function To(p,u){const d=qo(p,!0).delete(u);return new Uo(d).toPromise()}const Gs=(()=>{class p{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,y.Z)(function*(){return d.db||(d.db=yield wa()),d.db})()}_withRetries(d){var v=this;return(0,y.Z)(function*(){let x=0;for(;;)try{const K=yield v._openDb();return yield d(K)}catch(K){if(x++>3)throw K;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,y.Z)(function*(){return tr()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,y.Z)(function*(){d.receiver=kn._getInstance(function ps(){return tr()?self:null}()),d.receiver._subscribe("keyChanged",function(){var v=(0,y.Z)(function*(x,K){return{keyProcessed:(yield d._poll()).includes(K.key)}});return function(x,K){return v.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var v=(0,y.Z)(function*(x,K){return["keyChanged"]});return function(x,K){return v.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,y.Z)(function*(){var v,x;if(d.activeServiceWorker=yield function wr(){return Cr.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new fn(d.activeServiceWorker);const K=yield d.sender._send("ping",{},800);K&&null!==(v=K[0])&&void 0!==v&&v.fulfilled&&null!==(x=K[0])&&void 0!==x&&x.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var v=this;return(0,y.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Zi(){var p;return(null===(p=navigator?.serviceWorker)||void 0===p?void 0:p.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:d},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,y.Z)(function*(){try{if(!indexedDB)return!1;const d=yield wa();return yield rs(d,S,"1"),yield To(d,S),!0}catch{}return!1})()}_withPendingWrite(d){var v=this;return(0,y.Z)(function*(){v.pendingWrites++;try{yield d()}finally{v.pendingWrites--}})()}_set(d,v){var x=this;return(0,y.Z)(function*(){return x._withPendingWrite((0,y.Z)(function*(){return yield x._withRetries(K=>rs(K,d,v)),x.localCache[d]=v,x.notifyServiceWorker(d)}))})()}_get(d){var v=this;return(0,y.Z)(function*(){const x=yield v._withRetries(K=>function po(p,u){return go.apply(this,arguments)}(K,d));return v.localCache[d]=x,x})()}_remove(d){var v=this;return(0,y.Z)(function*(){return v._withPendingWrite((0,y.Z)(function*(){return yield v._withRetries(x=>To(x,d)),delete v.localCache[d],v.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,y.Z)(function*(){const v=yield d._withRetries(Ee=>{const Ke=qo(Ee,!1).getAll();return new Uo(Ke).toPromise()});if(!v)return[];if(0!==d.pendingWrites)return[];const x=[],K=new Set;for(const{fbase_key:Ee,value:Ke}of v)K.add(Ee),JSON.stringify(d.localCache[Ee])!==JSON.stringify(Ke)&&(d.notifyListeners(Ee,Ke),x.push(Ee));for(const Ee of Object.keys(d.localCache))d.localCache[Ee]&&!K.has(Ee)&&(d.notifyListeners(Ee,null),x.push(Ee));return x})()}notifyListeners(d,v){this.localCache[d]=v;const x=this.listeners[d];if(x)for(const K of Array.from(x))K(v)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,y.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(v)}_removeListener(d,v){this.listeners[d]&&(this.listeners[d].delete(v),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return p.type="LOCAL",p})();function la(p,u){return ln(p,"POST","/v2/accounts/mfaSignIn:start",Rt(p,u))}function Qo(){return(Qo=(0,y.Z)(function*(p){return(yield ln(p,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ms(p){return new Promise((u,d)=>{const v=document.createElement("script");v.setAttribute("src",p),v.onload=u,v.onerror=x=>{const K=fe("internal-error");K.customData=x,d(K)},v.type="text/javascript",v.charset="UTF-8",function ua(){var p,u;return null!==(u=null===(p=document.getElementsByTagName("head"))||void 0===p?void 0:p[0])&&void 0!==u?u:document}().appendChild(v)})}function Jo(p){return`__${p}${Math.floor(1e6*Math.random())}`}const is=1e12;class ba{constructor(u){this.auth=u,this.counter=is,this._widgets=new Map}render(u,d){const v=this.counter;return this._widgets.set(v,new ro(u,this.auth.name,d||{})),this.counter++,v}reset(u){var d;const v=u||is;null===(d=this._widgets.get(v))||void 0===d||d.delete(),this._widgets.delete(v)}getResponse(u){var d;return(null===(d=this._widgets.get(u||is))||void 0===d?void 0:d.getResponse())||""}execute(u){var d=this;return(0,y.Z)(function*(){var v;return null===(v=d._widgets.get(u||is))||void 0===v||v.execute(),""})()}}class ro{constructor(u,d,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof u?document.getElementById(u):u;N(x,"argument-error",{appName:d}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xo(p){const u=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<p;v++)u.push(d.charAt(Math.floor(Math.random()*d.length)));return u.join("")}(50);const{callback:u,"expired-callback":d}=this.params;if(u)try{u(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ta=Jo("rcb"),Sa=new tn(3e4,6e4);class io{constructor(){var u;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(u=Pn().grecaptcha)||void 0===u||!u.render)}load(u,d=""){return N(function Bo(p){return p.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(p)}(d),u,"argument-error"),this.shouldResolveImmediately(d)?Promise.resolve(Pn().grecaptcha):new Promise((v,x)=>{const K=Pn().setTimeout(()=>{x(fe(u,"network-request-failed"))},Sa.get());Pn()[Ta]=()=>{Pn().clearTimeout(K),delete Pn()[Ta];const Ke=Pn().grecaptcha;if(!Ke)return void x(fe(u,"internal-error"));const gt=Ke.render;Ke.render=(vt,an)=>{const qt=gt(vt,an);return this.counter++,qt},this.hostLanguage=d,v(Ke)},Ms(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:Ta,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(K),x(fe(u,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(u){var d;return!(null===(d=Pn().grecaptcha)||void 0===d||!d.render)&&(u===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class So{load(u){return(0,y.Z)(function*(){return new ba(u)})()}clearedOneInstance(){}}const qa="recaptcha",Qa={theme:"light",type:"image"};class ea{constructor(u,d=Object.assign({},Qa),v){this.parameters=d,this.type=qa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Yn(v),this.isInvisible="invisible"===this.parameters.size,N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof u?document.getElementById(u):u;N(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new So:new io,this.validateStartingState()}verify(){var u=this;return(0,y.Z)(function*(){u.assertNotDestroyed();const d=yield u.render(),v=u.getAssertedRecaptcha();return v.getResponse(d)||new Promise(K=>{const Ee=Ke=>{Ke&&(u.tokenChangeListeners.delete(Ee),K(Ke))};u.tokenChangeListeners.add(Ee),u.isInvisible&&v.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(u){return Promise.reject(u)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(u=>{throw this.renderPromise=null,u})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(u=>{this.container.removeChild(u)})}validateStartingState(){N(!this.parameters.sitekey,this.auth,"argument-error"),N(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),N(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(u){return d=>{if(this.tokenChangeListeners.forEach(v=>v(d)),"function"==typeof u)u(d);else if("string"==typeof u){const v=Pn()[u];"function"==typeof v&&v(d)}}}assertNotDestroyed(){N(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var u=this;return(0,y.Z)(function*(){if(yield u.init(),!u.widgetId){let d=u.container;if(!u.isInvisible){const v=document.createElement("div");d.appendChild(v),d=v}u.widgetId=u.getAssertedRecaptcha().render(d,u.parameters)}return u.widgetId})()}init(){var u=this;return(0,y.Z)(function*(){N(At()&&!tr(),u.auth,"internal-error"),yield function Ja(){let p=null;return new Promise(u=>{"complete"!==document.readyState?(p=()=>u(),window.addEventListener("load",p)):u()}).catch(u=>{throw p&&window.removeEventListener("load",p),u})}(),u.recaptcha=yield u._recaptchaLoader.load(u.auth,u.auth.languageCode||void 0);const d=yield function gs(p){return Qo.apply(this,arguments)}(u.auth);N(d,u.auth,"internal-error"),u.parameters.sitekey=d})()}getAssertedRecaptcha(){return N(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xa{constructor(u,d){this.verificationId=u,this.onConfirmation=d}confirm(u){const d=In._fromVerification(this.verificationId,u);return this.onConfirmation(d)}}function Aa(){return(Aa=(0,y.Z)(function*(p,u,d){const v=Yn(p),x=yield Ra(v,u,(0,j.m9)(d));return new Xa(x,K=>Xn(v,K))})).apply(this,arguments)}function el(){return(el=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);yield Hi(!1,v,"phone");const x=yield Ra(v.auth,u,(0,j.m9)(d));return new Xa(x,K=>er(v,K))})).apply(this,arguments)}function Ma(){return(Ma=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p),x=yield Ra(v.auth,u,(0,j.m9)(d));return new Xa(x,K=>es(v,K))})).apply(this,arguments)}function Ra(p,u,d){return tl.apply(this,arguments)}function tl(){return(tl=(0,y.Z)(function*(p,u,d){var v;const x=yield d.verify();try{let K;if(N("string"==typeof x,p,"argument-error"),N(d.type===qa,p,"argument-error"),K="string"==typeof u?{phoneNumber:u}:u,"session"in K){const Ee=K.session;if("phoneNumber"in K)return N("enroll"===Ee.type,p,"internal-error"),(yield gi(p,{idToken:Ee.credential,phoneEnrollmentInfo:{phoneNumber:K.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{N("signin"===Ee.type,p,"internal-error");const Ke=(null===(v=K.multiFactorHint)||void 0===v?void 0:v.uid)||K.multiFactorUid;return N(Ke,p,"missing-multi-factor-info"),(yield la(p,{mfaPendingCredential:Ee.credential,mfaEnrollmentId:Ke,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ee}=yield $n(p,{phoneNumber:K.phoneNumber,recaptchaToken:x});return Ee}}finally{d._reset()}})).apply(this,arguments)}function pa(){return(pa=(0,y.Z)(function*(p,u){yield Pr((0,j.m9)(p),u)})).apply(this,arguments)}let ta=(()=>{class p{constructor(d){this.providerId=p.PROVIDER_ID,this.auth=Yn(d)}verifyPhoneNumber(d,v){return Ra(this.auth,d,(0,j.m9)(v))}static credential(d,v){return In._fromVerification(d,v)}static credentialFromResult(d){return p.credentialFromTaggedObject(d)}static credentialFromError(d){return p.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:v,temporaryProof:x}=d;return v&&x?In._fromTokenResponse(v,x):null}}return p.PROVIDER_ID="phone",p.PHONE_SIGN_IN_METHOD="phone",p})();function br(p,u){return u?Re(u):(N(p._popupRedirectResolver,p,"argument-error"),p._popupRedirectResolver)}class na extends Er{constructor(u){super("custom","custom"),this.params=u}_getIdTokenResponse(u){return wi(u,this._buildIdpRequest())}_linkToIdToken(u,d){return wi(u,this._buildIdpRequest(d))}_getReauthenticationResolver(u){return wi(u,this._buildIdpRequest())}_buildIdpRequest(u){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return u&&(d.idToken=u),d}}function Ao(p){return Xi(p.auth,new na(p),p.bypassAuthState)}function Ks(p){const{auth:u,user:d}=p;return N(d,u,"internal-error"),Do(d,new na(p),p.bypassAuthState)}function Yi(p){return _.apply(this,arguments)}function _(){return(_=(0,y.Z)(function*(p){const{auth:u,user:d}=p;return N(d,u,"internal-error"),Pr(d,new na(p),p.bypassAuthState)})).apply(this,arguments)}class I{constructor(u,d,v,x,K=!1){this.auth=u,this.resolver=v,this.user=x,this.bypassAuthState=K,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var u=this;return new Promise(function(){var d=(0,y.Z)(function*(v,x){u.pendingPromise={resolve:v,reject:x};try{u.eventManager=yield u.resolver._initialize(u.auth),yield u.onExecution(),u.eventManager.registerConsumer(u)}catch(K){u.reject(K)}});return function(v,x){return d.apply(this,arguments)}}())}onAuthEvent(u){var d=this;return(0,y.Z)(function*(){const{urlResponse:v,sessionId:x,postBody:K,tenantId:Ee,error:Ke,type:gt}=u;if(Ke)return void d.reject(Ke);const vt={auth:d.auth,requestUri:v,sessionId:x,tenantId:Ee||void 0,postBody:K||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(gt)(vt))}catch(an){d.reject(an)}})()}onError(u){this.reject(u)}getIdpTask(u){switch(u){case"signInViaPopup":case"signInViaRedirect":return Ao;case"linkViaPopup":case"linkViaRedirect":return Yi;case"reauthViaPopup":case"reauthViaRedirect":return Ks;default:Se(this.auth,"internal-error")}}resolve(u){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(u),this.unregisterAndCleanUp()}reject(u){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(u),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const f=new tn(2e3,1e4);function O(){return(O=(0,y.Z)(function*(p,u,d){const v=Yn(p);et(p,u,Ji);const x=br(v,d);return new Ct(v,"signInViaPopup",u,x).executeNotNull()})).apply(this,arguments)}function Z(){return(Z=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);et(v.auth,u,Ji);const x=br(v.auth,d);return new Ct(v.auth,"reauthViaPopup",u,x,v).executeNotNull()})).apply(this,arguments)}function Ge(){return(Ge=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);et(v.auth,u,Ji);const x=br(v.auth,d);return new Ct(v.auth,"linkViaPopup",u,x,v).executeNotNull()})).apply(this,arguments)}let Ct=(()=>{class p extends I{constructor(d,v,x,K,Ee){super(d,v,K,Ee),this.provider=x,this.authWindow=null,this.pollId=null,p.currentPopupAction&&p.currentPopupAction.cancel(),p.currentPopupAction=this}executeNotNull(){var d=this;return(0,y.Z)(function*(){const v=yield d.execute();return N(v,d.auth,"internal-error"),v})()}onExecution(){var d=this;return(0,y.Z)(function*(){pe(1===d.filter.length,"Popup operations only handle one event");const v=En();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],v),d.authWindow.associatedEvent=v,d.resolver._originValidation(d.auth).catch(x=>{d.reject(x)}),d.resolver._isIframeWebStorageSupported(d.auth,x=>{x||d.reject(fe(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,p.currentPopupAction=null}pollUserCancellation(){const d=()=>{var v,x;this.pollId=null!==(x=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(d,f.get())};d()}}return p.currentPopupAction=null,p})();const Ln=new Map;class ai extends I{constructor(u,d,v=!1){super(u,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,v),this.eventId=null}execute(){var u=()=>super.execute,d=this;return(0,y.Z)(function*(){let v=Ln.get(d.auth._key());if(!v){try{const K=(yield function mo(p,u){return _i.apply(this,arguments)}(d.resolver,d.auth))?yield u().call(d):null;v=()=>Promise.resolve(K)}catch(x){v=()=>Promise.reject(x)}Ln.set(d.auth._key(),v)}return d.bypassAuthState||Ln.set(d.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(u){var d=()=>super.onAuthEvent,v=this;return(0,y.Z)(function*(){if("signInViaRedirect"===u.type)return d().call(v,u);if("unknown"!==u.type){if(u.eventId){const x=yield v.auth._redirectUserForId(u.eventId);if(x)return v.user=x,d().call(v,u);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,y.Z)(function*(){})()}cleanUp(){}}function _i(){return(_i=(0,y.Z)(function*(p,u){const d=Pa(u),v=_o(p);if(!(yield v._isAvailable()))return!1;const x="true"===(yield v._get(d));return yield v._remove(d),x})).apply(this,arguments)}function ms(p,u){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,y.Z)(function*(p,u){return _o(p)._set(Pa(u),"true")})).apply(this,arguments)}function Vo(p,u){Ln.set(p._key(),u)}function _o(p){return Re(p._redirectPersistence)}function Pa(p){return me("pendingRedirect",p.config.apiKey,p.name)}function A(){return(A=(0,y.Z)(function*(p,u,d){const v=Yn(p);et(p,u,Ji),yield v._initializationPromise;const x=br(v,d);return yield ms(x,v),x._openRedirect(v,u,"signInViaRedirect")})).apply(this,arguments)}function ee(){return(ee=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);et(v.auth,u,Ji),yield v.auth._initializationPromise;const x=br(v.auth,d);yield ms(x,v.auth);const K=yield Dn(v);return x._openRedirect(v.auth,u,"reauthViaRedirect",K)})).apply(this,arguments)}function it(){return(it=(0,y.Z)(function*(p,u,d){const v=(0,j.m9)(p);et(v.auth,u,Ji),yield v.auth._initializationPromise;const x=br(v.auth,d);yield Hi(!1,v,u.providerId),yield ms(x,v.auth);const K=yield Dn(v);return x._openRedirect(v.auth,u,"linkViaRedirect",K)})).apply(this,arguments)}function xt(){return(xt=(0,y.Z)(function*(p,u){return yield Yn(p)._initializationPromise,Vt(p,u,!1)})).apply(this,arguments)}function Vt(p,u){return On.apply(this,arguments)}function On(){return(On=(0,y.Z)(function*(p,u,d=!1){const v=Yn(p),x=br(v,u),Ee=yield new ai(v,x,d).execute();return Ee&&!d&&(delete Ee.user._redirectEventId,yield v._persistUserIfCurrent(Ee.user),yield v._setRedirectUser(null,u)),Ee})).apply(this,arguments)}function Dn(p){return ss.apply(this,arguments)}function ss(){return(ss=(0,y.Z)(function*(p){const u=En(`${p.uid}:::`);return p._redirectEventId=u,yield p.auth._setRedirectUser(p),yield p.auth._persistUserIfCurrent(p),u})).apply(this,arguments)}class Na{constructor(u){this.auth=u,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(u){this.consumers.add(u),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,u)&&(this.sendToConsumer(this.queuedRedirectEvent,u),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(u){this.consumers.delete(u)}onEvent(u){if(this.hasEventBeenHandled(u))return!1;let d=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(u,v)&&(d=!0,this.sendToConsumer(u,v),this.saveEventToCache(u))}),this.hasHandledPotentialRedirect||!function so(p){switch(p.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ga(p);default:return!1}}(u)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=u,d=!0)),d}sendToConsumer(u,d){var v;if(u.error&&!ga(u)){const x=(null===(v=u.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";d.onError(fe(this.auth,x))}else d.onAuthEvent(u)}isEventForConsumer(u,d){const v=null===d.eventId||!!u.eventId&&u.eventId===d.eventId;return d.filter.includes(u.type)&&v}hasEventBeenHandled(u){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(nl(u))}saveEventToCache(u){this.cachedEventUids.add(nl(u)),this.lastProcessedEventTime=Date.now()}}function nl(p){return[p.type,p.eventId,p.sessionId,p.tenantId].filter(u=>u).join("-")}function ga({type:p,error:u}){return"unknown"===p&&"auth/no-auth-event"===u?.code}function yo(p){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,y.Z)(function*(p,u={}){return ln(p,"GET","/v1/projects",u)})).apply(this,arguments)}const Hl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Du=/^https?/;function ma(){return(ma=(0,y.Z)(function*(p){if(p.config.emulator)return;const{authorizedDomains:u}=yield yo(p);for(const d of u)try{if(jl(d))return}catch{}Se(p,"unauthorized-domain")})).apply(this,arguments)}function jl(p){const u=ot(),{protocol:d,hostname:v}=new URL(u);if(p.startsWith("chrome-extension://")){const Ee=new URL(p);return""===Ee.hostname&&""===v?"chrome-extension:"===d&&p.replace("chrome-extension://","")===u.replace("chrome-extension://",""):"chrome-extension:"===d&&Ee.hostname===v}if(!Du.test(d))return!1;if(Hl.test(p))return v===p;const x=p.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(v)}const rd=new tn(3e4,6e4);function cc(){const p=Pn().___jsl;if(p?.H)for(const u of Object.keys(p.H))if(p.H[u].r=p.H[u].r||[],p.H[u].L=p.H[u].L||[],p.H[u].r=[...p.H[u].L],p.CP)for(let d=0;d<p.CP.length;d++)p.CP[d]=null}let ka=null;function lh(p){return ka=ka||function Wl(p){return new Promise((u,d)=>{var v,x,K;function Ee(){cc(),gapi.load("gapi.iframes",{callback:()=>{u(gapi.iframes.getContext())},ontimeout:()=>{cc(),d(fe(p,"network-request-failed"))},timeout:rd.get()})}if(null!==(x=null===(v=Pn().gapi)||void 0===v?void 0:v.iframes)&&void 0!==x&&x.Iframe)u(gapi.iframes.getContext());else{if(null===(K=Pn().gapi)||void 0===K||!K.load){const Ke=Jo("iframefcb");return Pn()[Ke]=()=>{gapi.load?Ee():d(fe(p,"network-request-failed"))},Ms(`https://apis.google.com/js/api.js?onload=${Ke}`).catch(gt=>d(gt))}Ee()}}).catch(u=>{throw ka=null,u})}(p),ka}const zl=new tn(5e3,15e3),ch={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dc(p){const u=p.config;N(u.authDomain,p,"auth-domain-config-required");const d=u.emulator?Ot(u,"emulator/auth/iframe"):`https://${p.config.authDomain}/__/auth/iframe`,v={apiKey:u.apiKey,appName:p.name,v:ae.SDK_VERSION},x=dh.get(p.config.apiHost);x&&(v.eid=x);const K=p._getFrameworks();return K.length&&(v.fw=K.join(",")),`${d}?${(0,j.xO)(v).slice(1)}`}function Gl(){return Gl=(0,y.Z)(function*(p){const u=yield lh(p),d=Pn().gapi;return N(d,p,"internal-error"),u.open({where:document.body,url:dc(p),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ch,dontclear:!0},v=>new Promise(function(){var x=(0,y.Z)(function*(K,Ee){yield v.restyle({setHideOnLeave:!1});const Ke=fe(p,"network-request-failed"),gt=Pn().setTimeout(()=>{Ee(Ke)},zl.get());function vt(){Pn().clearTimeout(gt),K(v)}v.ping(vt).then(vt,()=>{Ee(Ke)})});return function(K,Ee){return x.apply(this,arguments)}}()))}),Gl.apply(this,arguments)}const hc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vo{constructor(u){this.window=u,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _s(p,u,d,v,x,K){N(p.config.authDomain,p,"auth-domain-config-required"),N(p.config.apiKey,p,"invalid-api-key");const Ee={apiKey:p.config.apiKey,appName:p.name,authType:d,redirectUrl:v,v:ae.SDK_VERSION,eventId:x};if(u instanceof Ji){u.setDefaultLanguage(p.languageCode),Ee.providerId=u.providerId||"",(0,j.xb)(u.getCustomParameters())||(Ee.customParameters=JSON.stringify(u.getCustomParameters()));for(const[gt,vt]of Object.entries(K||{}))Ee[gt]=vt}if(u instanceof Vi){const gt=u.getScopes().filter(vt=>""!==vt);gt.length>0&&(Ee.scopes=gt.join(","))}p.tenantId&&(Ee.tid=p.tenantId);const Ke=Ee;for(const gt of Object.keys(Ke))void 0===Ke[gt]&&delete Ke[gt];return`${function gc({config:p}){return p.emulator?Ot(p,"emulator/auth/handler"):`https://${p.authDomain}/__/auth/handler`}(p)}?${(0,j.xO)(Ke).slice(1)}`}const bu="webStorageSupport",Zl=class Kl{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ht,this._completeRedirectFn=Vt,this._overrideRedirectResult=Vo}_openPopup(u,d,v,x){var K=this;return(0,y.Z)(function*(){var Ee;pe(null===(Ee=K.eventManagers[u._key()])||void 0===Ee?void 0:Ee.manager,"_initialize() not called before _openPopup()");const Ke=_s(u,d,v,ot(),x);return function Cu(p,u,d,v=500,x=600){const K=Math.max((window.screen.availHeight-x)/2,0).toString(),Ee=Math.max((window.screen.availWidth-v)/2,0).toString();let Ke="";const gt=Object.assign(Object.assign({},hc),{width:v.toString(),height:x.toString(),top:K,left:Ee}),vt=(0,j.z$)().toLowerCase();d&&(Ke=mn(vt)?"_blank":d),wt(vt)&&(u=u||"http://localhost",gt.scrollbars="yes");const an=Object.entries(gt).reduce((Ai,[No,kl])=>`${Ai}${No}=${kl},`,"");if(function St(p=(0,j.z$)()){var u;return De(p)&&!(null===(u=window.navigator)||void 0===u||!u.standalone)}(vt)&&"_self"!==Ke)return function vl(p,u){const d=document.createElement("a");d.href=p,d.target=u;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(v)}(u||"",Ke),new vo(null);const qt=window.open(u||"",Ke,an);N(qt,p,"popup-blocked");try{qt.focus()}catch{}return new vo(qt)}(u,Ke,En())})()}_openRedirect(u,d,v,x){var K=this;return(0,y.Z)(function*(){return yield K._originValidation(u),function oi(p){Pn().location.href=p}(_s(u,d,v,ot(),x)),new Promise(()=>{})})()}_initialize(u){const d=u._key();if(this.eventManagers[d]){const{manager:x,promise:K}=this.eventManagers[d];return x?Promise.resolve(x):(pe(K,"If manager is not set, promise should be"),K)}const v=this.initAndGetManager(u);return this.eventManagers[d]={promise:v},v.catch(()=>{delete this.eventManagers[d]}),v}initAndGetManager(u){var d=this;return(0,y.Z)(function*(){const v=yield function wu(p){return Gl.apply(this,arguments)}(u),x=new Na(u);return v.register("authEvent",K=>(N(K?.authEvent,u,"invalid-auth-event"),{status:x.onEvent(K.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[u._key()]={manager:x},d.iframes[u._key()]=v,x})()}_isIframeWebStorageSupported(u,d){this.iframes[u._key()].send(bu,{type:bu},x=>{var K;const Ee=null===(K=x?.[0])||void 0===K?void 0:K[bu];void 0!==Ee&&d(!!Ee),Se(u,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function _l(p){return ma.apply(this,arguments)}(u)),this.originValidationPromises[d]}get _shouldInitProactively(){return kr()||sn()||De()}};class oo{constructor(u){this.factorId=u}_process(u,d,v){switch(d.type){case"enroll":return this._finalizeEnroll(u,d.credential,v);case"signin":return this._finalizeSignIn(u,d.credential);default:return Be("unexpected MultiFactorSessionType")}}}class Yl extends oo{constructor(u){super("phone"),this.credential=u}static _fromCredential(u){return new Yl(u)}_finalizeEnroll(u,d,v){return function Ur(p,u){return ln(p,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(p,u))}(u,{idToken:d,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(u,d){return function Za(p,u){return ln(p,"POST","/v2/accounts/mfaSignIn:finalize",Rt(p,u))}(u,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zs=(()=>{class p{constructor(){}static assertion(d){return Yl._fromCredential(d)}}return p.FACTOR_ID="phone",p})();var Il="@firebase/auth";class Su{constructor(u){this.auth=u,this.internalListeners=new Map}getUid(){var u;return this.assertAuthConfigured(),(null===(u=this.auth.currentUser)||void 0===u?void 0:u.uid)||null}getToken(u){var d=this;return(0,y.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(u)}:null})()}addAuthTokenListener(u){if(this.assertAuthConfigured(),this.internalListeners.has(u))return;const d=this.auth.onIdTokenChanged(v=>{u(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(u,d),this.updateProactiveRefresh()}removeAuthTokenListener(u){this.assertAuthConfigured();const d=this.internalListeners.get(u);d&&(this.internalListeners.delete(u),d(),this.updateProactiveRefresh())}assertAuthConfigured(){N(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Po(){return window}function Ru(){return(Ru=(0,y.Z)(function*(p,u,d){var v;const{BuildInfo:x}=Po();pe(u.sessionId,"AuthEvent did not contain a session ID");const K=yield Pu(u.sessionId),Ee={};return De()?Ee.ibi=x.packageName:ce()?Ee.apn=x.packageName:Se(p,"operation-not-supported-in-this-environment"),x.displayName&&(Ee.appDisplayName=x.displayName),Ee.sessionId=K,_s(p,d,u.type,void 0,null!==(v=u.eventId)&&void 0!==v?v:void 0,Ee)})).apply(this,arguments)}function Dl(){return(Dl=(0,y.Z)(function*(p){const{BuildInfo:u}=Po(),d={};De()?d.iosBundleId=u.packageName:ce()?d.androidPackageName=u.packageName:Se(p,"operation-not-supported-in-this-environment"),yield yo(p,d)})).apply(this,arguments)}function La(){return(La=(0,y.Z)(function*(p,u,d){const{cordova:v}=Po();let x=()=>{};try{yield new Promise((K,Ee)=>{let Ke=null;function gt(){var qt;K();const Ai=null===(qt=v.plugins.browsertab)||void 0===qt?void 0:qt.close;"function"==typeof Ai&&Ai(),"function"==typeof d?.close&&d.close()}function vt(){Ke||(Ke=window.setTimeout(()=>{Ee(fe(p,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&vt()}u.addPassiveListener(gt),document.addEventListener("resume",vt,!1),ce()&&document.addEventListener("visibilitychange",an,!1),x=()=>{u.removePassiveListener(gt),document.removeEventListener("resume",vt,!1),document.removeEventListener("visibilitychange",an,!1),Ke&&window.clearTimeout(Ke)}})}finally{x()}})).apply(this,arguments)}function Pu(p){return ol.apply(this,arguments)}function ol(){return(ol=(0,y.Z)(function*(p){const u=Ou(p),d=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(d)).map(x=>x.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ou(p){if(pe(/[0-9a-zA-Z]+/.test(p),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(p);const u=new ArrayBuffer(p.length),d=new Uint8Array(u);for(let v=0;v<p.length;v++)d[v]=p.charCodeAt(v);return d}(0,j.Pz)("authIdTokenMaxAge"),function il(p){(0,ae._registerComponent)(new Ce.wA("auth",(u,{options:d})=>{const v=u.getProvider("app").getImmediate(),x=u.getProvider("heartbeat"),{apiKey:K,authDomain:Ee}=v.options;return((Ke,gt)=>{N(K&&!K.includes(":"),"invalid-api-key",{appName:Ke.name}),N(!Ee?.includes(":"),"argument-error",{appName:Ke.name});const vt={apiKey:K,authDomain:Ee,clientPlatform:p,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ri(p)},an=new ls(Ke,gt,vt);return function at(p,u){const d=u?.persistence||[],v=(Array.isArray(d)?d:[d]).map(Re);u?.errorMap&&p._updateErrorMap(u.errorMap),p._initializeWithPersistence(v,u?.popupRedirectResolver)}(an,d),an})(v,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((u,d,v)=>{u.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Ce.wA("auth-internal",u=>{const d=Yn(u.getProvider("auth").getImmediate());return new Su(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(Il,"0.21.1",function ys(p){switch(p){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(p)),(0,ae.registerVersion)(Il,"0.21.1","esm2017")}("Browser");class ao extends Na{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(u)),super.onEvent(u)}initialized(){var u=this;return(0,y.Z)(function*(){yield u.initPromise})()}}function wl(p){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,y.Z)(function*(p){const u=yield Xl()._get(eu(p));return u&&(yield Xl()._remove(eu(p))),u})).apply(this,arguments)}function ld(){const p=[],u="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let d=0;d<20;d++){const v=Math.floor(Math.random()*u.length);p.push(u.charAt(v))}return p.join("")}function Xl(){return Re(ct)}function eu(p){return me("authEvent",p.config.apiKey,p.name)}function Ua(p){if(!p?.includes("?"))return{};const[u,...d]=p.split("?");return(0,j.zd)(d.join("?"))}const ku=class vc{constructor(){this._redirectPersistence=Ht,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Vt,this._overrideRedirectResult=Vo}_initialize(u){var d=this;return(0,y.Z)(function*(){const v=u._key();let x=d.eventManagers.get(v);return x||(x=new ao(u),d.eventManagers.set(v,x),d.attachCallbackListeners(u,x)),x})()}_openPopup(u){Se(u,"operation-not-supported-in-this-environment")}_openRedirect(u,d,v,x){var K=this;return(0,y.Z)(function*(){!function ad(p){var u,d,v,x,K,Ee,Ke,gt,vt,an;const qt=Po();N("function"==typeof(null===(u=qt?.universalLinks)||void 0===u?void 0:u.subscribe),p,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),N(typeof(null===(d=qt?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),N("function"==typeof(null===(K=null===(x=null===(v=qt?.cordova)||void 0===v?void 0:v.plugins)||void 0===x?void 0:x.browsertab)||void 0===K?void 0:K.openUrl),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(gt=null===(Ke=null===(Ee=qt?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ke?void 0:Ke.browsertab)||void 0===gt?void 0:gt.isAvailable),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),N("function"==typeof(null===(an=null===(vt=qt?.cordova)||void 0===vt?void 0:vt.InAppBrowser)||void 0===an?void 0:an.open),p,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const Ee=yield K._initialize(u);yield Ee.initialized(),Ee.resetRedirect(),function Iu(){Ln.clear()}(),yield K._originValidation(u);const Ke=function Nu(p,u,d=null){return{type:u,eventId:d,urlResponse:null,sessionId:ld(),postBody:null,tenantId:p.tenantId,error:fe(p,"no-auth-event")}}(u,v,x);yield function Jl(p,u){return Xl()._set(eu(p),u)}(u,Ke);const gt=yield function ql(p,u,d){return Ru.apply(this,arguments)}(u,Ke,d),vt=yield function Ql(p){const{cordova:u}=Po();return new Promise(d=>{u.plugins.browsertab.isAvailable(v=>{let x=null;v?u.plugins.browsertab.openUrl(p):x=u.InAppBrowser.open(p,function Xe(p=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(p)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(p)}()?"_blank":"_system","location=yes"),d(x)})})}(gt);return function od(p,u,d){return La.apply(this,arguments)}(u,Ee,vt)})()}_isIframeWebStorageSupported(u,d){throw new Error("Method not implemented.")}_originValidation(u){const d=u._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function sd(p){return Dl.apply(this,arguments)}(u)),this.originValidationPromises[d]}attachCallbackListeners(u,d){const{universalLinks:v,handleOpenURL:x,BuildInfo:K}=Po(),Ee=setTimeout((0,y.Z)(function*(){yield wl(u),d.onEvent(nu())}),500),Ke=function(){var an=(0,y.Z)(function*(qt){clearTimeout(Ee);const Ai=yield wl(u);let No=null;Ai&&qt?.url&&(No=function al(p,u){var d,v;const x=function tu(p){const u=Ua(p),d=u.link?decodeURIComponent(u.link):void 0,v=Ua(d).link,x=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return Ua(x).link||x||v||d||p}(u);if(x.includes("/__/auth/callback")){const K=Ua(x),Ee=K.firebaseError?function yc(p){try{return JSON.parse(p)}catch{return null}}(decodeURIComponent(K.firebaseError)):null,Ke=null===(v=null===(d=Ee?.code)||void 0===d?void 0:d.split("auth/"))||void 0===v?void 0:v[1],gt=Ke?fe(Ke):null;return gt?{type:p.type,eventId:p.eventId,tenantId:p.tenantId,error:gt,urlResponse:null,sessionId:null,postBody:null}:{type:p.type,eventId:p.eventId,tenantId:p.tenantId,sessionId:p.sessionId,urlResponse:x,postBody:null}}return null}(Ai,qt.url)),d.onEvent(No||nu())});return function(Ai){return an.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,Ke);const gt=x,vt=`${K.packageName.toLowerCase()}://`;Po().handleOpenURL=function(){var an=(0,y.Z)(function*(qt){if(qt.toLowerCase().startsWith(vt)&&Ke({url:qt}),"function"==typeof gt)try{gt(qt)}catch(Ai){console.error(Ai)}});return function(qt){return an.apply(this,arguments)}}()}};function nu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:fe("no-auth-event")}}function Ba(){var p;return(null===(p=self?.location)||void 0===p?void 0:p.protocol)||null}function Lu(p=(0,j.z$)()){return!("file:"!==Ba()&&"ionic:"!==Ba()&&"capacitor:"!==Ba()||!p.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ys(){try{const p=self.localStorage,u=En();if(p)return p.setItem(u,"1"),p.removeItem(u),!function Tl(p=(0,j.z$)()){return function Va(){return(0,j.w1)()&&11===document?.documentMode}()||function ya(p=(0,j.z$)()){return/Edge\/\d+/.test(p)}(p)}()||(0,j.hl)()}catch{return Ho()&&(0,j.hl)()}return!1}function Ho(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ll(){return(function ru(){return"http:"===Ba()||"https:"===Ba()}()||(0,j.ru)()||Lu())&&!function lo(){return(0,j.b$)()||(0,j.UG)()}()&&Ys()&&!Ho()}function iu(){return Lu()&&typeof document<"u"}function Sl(){return(Sl=(0,y.Z)(function*(){return!!iu()&&new Promise(p=>{const u=setTimeout(()=>{p(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),p(!0)})})})).apply(this,arguments)}const Rs={LOCAL:"local",NONE:"none",SESSION:"session"},ra=N,su="persistence";function Fu(p){return ou.apply(this,arguments)}function ou(){return(ou=(0,y.Z)(function*(p){yield p._initializationPromise;const u=Rl(),d=me(su,p.config.apiKey,p.name);u&&u.setItem(d,p._getPersistence())})).apply(this,arguments)}function Rl(){var p;try{return(null===(p=function Ic(){return typeof window<"u"?window:null}())||void 0===p?void 0:p.sessionStorage)||null}catch{return null}}const Pl=N;class Oo{constructor(){this.browserResolver=Re(Zl),this.cordovaResolver=Re(ku),this.underlyingResolver=null,this._redirectPersistence=Ht,this._completeRedirectFn=Vt,this._overrideRedirectResult=Vo}_initialize(u){var d=this;return(0,y.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,d,v,x){var K=this;return(0,y.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openPopup(u,d,v,x)})()}_openRedirect(u,d,v,x){var K=this;return(0,y.Z)(function*(){return yield K.selectUnderlyingResolver(),K.assertedUnderlyingResolver._openRedirect(u,d,v,x)})()}_isIframeWebStorageSupported(u,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,d)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return iu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Pl(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,y.Z)(function*(){if(u.underlyingResolver)return;const d=yield function jo(){return Sl.apply(this,arguments)}();u.underlyingResolver=d?u.cordovaResolver:u.browserResolver})()}}function au(p){return p.unwrap()}function lu(p){return Uu(p)}function Uu(p){const{_tokenResponse:u}=p instanceof j.ZR?p.customData:p;if(!u)return null;if(!(p instanceof j.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return ta.credentialFromResult(p);const d=u.providerId;if(!d||"password"===d)return null;let v;switch(d){case"google.com":v=Cs;break;case"facebook.com":v=ws;break;case"github.com":v=Qs;break;case"twitter.com":v=oa;break;default:const{oauthIdToken:x,oauthAccessToken:K,oauthTokenSecret:Ee,pendingToken:Ke,nonce:gt}=u;return K||Ee||x||Ke?Ke?d.startsWith("saml.")?Ls._create(d,Ke):li._fromParams({providerId:d,signInMethod:d,pendingToken:Ke,idToken:x,accessToken:K}):new ds(d).credential({idToken:x,accessToken:K,rawNonce:gt}):null}return p instanceof j.ZR?v.credentialFromError(p):v.credentialFromResult(p)}function Jr(p,u){return u.catch(d=>{throw d instanceof j.ZR&&function va(p,u){var d;const v=null===(d=u.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new $u(p,function Dr(p,u){var d;const v=(0,j.m9)(p),x=u;return N(u.customData.operationType,v,"argument-error"),N(null===(d=x.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,v,"argument-error"),Or._fromError(v,x)}(p,u));else if(v){const x=Uu(u),K=u;x&&(K.credential=x,K.tenantId=v.tenantId||void 0,K.email=v.email||void 0,K.phoneNumber=v.phoneNumber||void 0)}}(p,d),d}).then(d=>{const x=d.user;return{operationType:d.operationType,credential:lu(d),additionalUserInfo:Ze(d),user:ia.getOrCreate(x)}})}function Bu(p,u){return Vu.apply(this,arguments)}function Vu(){return(Vu=(0,y.Z)(function*(p,u){const d=yield u;return{verificationId:d.verificationId,confirm:v=>Jr(p,d.confirm(v))}})).apply(this,arguments)}class $u{constructor(u,d){this.resolver=d,this.auth=function Ol(p){return p.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return Jr(au(this.auth),this.resolver.resolveSignIn(u))}}class ia{constructor(u){this._delegate=u,this.multiFactor=function L(p){const u=(0,j.m9)(p);return C.has(u)||C.set(u,qr._fromUser(u)),C.get(u)}(u)}static getOrCreate(u){return ia.USER_MAP.has(u)||ia.USER_MAP.set(u,new ia(u)),ia.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var d=this;return(0,y.Z)(function*(){return Jr(d.auth,er(d._delegate,u))})()}linkWithPhoneNumber(u,d){var v=this;return(0,y.Z)(function*(){return Bu(v.auth,function da(p,u,d){return el.apply(this,arguments)}(v._delegate,u,d))})()}linkWithPopup(u){var d=this;return(0,y.Z)(function*(){return Jr(d.auth,function Te(p,u,d){return Ge.apply(this,arguments)}(d._delegate,u,Oo))})()}linkWithRedirect(u){var d=this;return(0,y.Z)(function*(){return yield Fu(Yn(d.auth)),function be(p,u,d){return function xe(p,u,d){return it.apply(this,arguments)}(p,u,d)}(d._delegate,u,Oo)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var d=this;return(0,y.Z)(function*(){return Jr(d.auth,es(d._delegate,u))})()}reauthenticateWithPhoneNumber(u,d){return Bu(this.auth,function ha(p,u,d){return Ma.apply(this,arguments)}(this._delegate,u,d))}reauthenticateWithPopup(u){return Jr(this.auth,function z(p,u,d){return Z.apply(this,arguments)}(this._delegate,u,Oo))}reauthenticateWithRedirect(u){var d=this;return(0,y.Z)(function*(){return yield Fu(Yn(d.auth)),function P(p,u,d){return function W(p,u,d){return ee.apply(this,arguments)}(p,u,d)}(d._delegate,u,Oo)})()}sendEmailVerification(u){return function Fo(p,u){return Ws.apply(this,arguments)}(this._delegate,u)}unlink(u){var d=this;return(0,y.Z)(function*(){return yield function ci(p,u){return Ts.apply(this,arguments)}(d._delegate,u),d})()}updateEmail(u){return function ns(p,u){return U((0,j.m9)(p),u,null)}(this._delegate,u)}updatePassword(u){return function si(p,u){return U((0,j.m9)(p),null,u)}(this._delegate,u)}updatePhoneNumber(u){return function fa(p,u){return pa.apply(this,arguments)}(this._delegate,u)}updateProfile(u){return function Gi(p,u){return xi.apply(this,arguments)}(this._delegate,u)}verifyBeforeUpdateEmail(u,d){return function zs(p,u,d){return fr.apply(this,arguments)}(this._delegate,u,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ia.USER_MAP=new WeakMap;const $a=N;let Nl=(()=>{class p{constructor(d,v){if(this.app=d,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:x}=d.options;$a(x,"invalid-api-key",{appName:d.name}),$a(x,"invalid-api-key",{appName:d.name});const K=typeof window<"u"?Oo:void 0;this._delegate=v.initialize({options:{persistence:Dc(x,d.name),popupRedirectResolver:K}}),this._delegate._updateErrorMap(st),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,v){!function uo(p,u,d){const v=Yn(p);N(v._canInitEmulator,v,"emulator-config-failed"),N(/^https?:\/\//.test(u),v,"invalid-emulator-scheme");const x=!!d?.disableWarnings,K=Ar(u),{host:Ee,port:Ke}=function Ii(p){const u=Ar(p),d=/(\/\/)?([^?#/]+)/.exec(p.substr(u.length));if(!d)return{host:"",port:null};const v=d[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(v);if(x){const K=x[1];return{host:K,port:Mn(v.substr(K.length+1))}}{const[K,Ee]=v.split(":");return{host:K,port:Mn(Ee)}}}(u);v.config.emulator={url:`${K}//${Ee}${null===Ke?"":`:${Ke}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Ee,port:Ke,protocol:K.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function vr(){function p(){const u=document.createElement("p"),d=u.style;u.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",u.classList.add("firebase-emulator-warning"),document.body.appendChild(u)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",p):p())}()}(this._delegate,d,v)}applyActionCode(d){return function Wi(p,u){return ar.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return As(this._delegate,d)}confirmPasswordReset(d,v){return function eo(p,u,d){return Ut.apply(this,arguments)}(this._delegate,d,v)}createUserWithEmailAndPassword(d,v){var x=this;return(0,y.Z)(function*(){return Jr(x._delegate,function $s(p,u,d){return Hs.apply(this,arguments)}(x._delegate,d,v))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function fo(p,u){return js.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function ki(p,u){return"EMAIL_SIGNIN"===Is.parseLink(u)?.operation}(0,d)}getRedirectResult(){var d=this;return(0,y.Z)(function*(){$a(ll(),d._delegate,"operation-not-supported-in-this-environment");const v=yield function Nt(p,u){return xt.apply(this,arguments)}(d._delegate,Oo);return v?Jr(d._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function ud(p,u){Yn(p)._logFramework(u)}(this._delegate,d)}onAuthStateChanged(d,v,x){const{next:K,error:Ee,complete:Ke}=uu(d,v,x);return this._delegate.onAuthStateChanged(K,Ee,Ke)}onIdTokenChanged(d,v,x){const{next:K,error:Ee,complete:Ke}=uu(d,v,x);return this._delegate.onIdTokenChanged(K,Ee,Ke)}sendSignInLinkToEmail(d,v){return function Sn(p,u,d){return ts.apply(this,arguments)}(this._delegate,d,v)}sendPasswordResetEmail(d,v){return function Fr(p,u,d){return Zt.apply(this,arguments)}(this._delegate,d,v||void 0)}setPersistence(d){var v=this;return(0,y.Z)(function*(){let x;switch(function Al(p,u){ra(Object.values(Rs).includes(u),p,"invalid-persistence-type"),(0,j.b$)()?ra(u!==Rs.SESSION,p,"unsupported-persistence-type"):(0,j.UG)()?ra(u===Rs.NONE,p,"unsupported-persistence-type"):Ho()?ra(u===Rs.NONE||u===Rs.LOCAL&&(0,j.hl)(),p,"unsupported-persistence-type"):ra(u===Rs.NONE||Ys(),p,"unsupported-persistence-type")}(v._delegate,d),d){case Rs.SESSION:x=Ht;break;case Rs.LOCAL:x=(yield Re(Gs)._isAvailable())?Gs:ct;break;case Rs.NONE:x=te;break;default:return Se("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(x)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return Jr(this._delegate,function Us(p){return bs.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return Jr(this._delegate,Xn(this._delegate,d))}signInWithCustomToken(d){return Jr(this._delegate,function fi(p,u){return hr.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,v){return Jr(this._delegate,function He(p,u,d){return Xn((0,j.m9)(p),ri.credential(u,d))}(this._delegate,d,v))}signInWithEmailLink(d,v){return Jr(this._delegate,function Hr(p,u,d){return fs.apply(this,arguments)}(this._delegate,d,v))}signInWithPhoneNumber(d,v){return Bu(this._delegate,function pr(p,u,d){return Aa.apply(this,arguments)}(this._delegate,d,v))}signInWithPopup(d){var v=this;return(0,y.Z)(function*(){return $a(ll(),v._delegate,"operation-not-supported-in-this-environment"),Jr(v._delegate,function b(p,u,d){return O.apply(this,arguments)}(v._delegate,d,Oo))})()}signInWithRedirect(d){var v=this;return(0,y.Z)(function*(){return $a(ll(),v._delegate,"operation-not-supported-in-this-environment"),yield Fu(v._delegate),function $o(p,u,d){return function Oa(p,u,d){return A.apply(this,arguments)}(p,u,d)}(v._delegate,d,Oo)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function Vs(p,u){return to.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return p.Persistence=Rs,p})();function uu(p,u,d){let v=p;"function"!=typeof p&&({next:v,error:u,complete:d}=p);const x=v;return{next:Ee=>x(Ee&&ia.getOrCreate(Ee)),error:u,complete:d}}function Dc(p,u){const d=function Ml(p,u){const d=Rl();if(!d)return[];const v=me(su,p,u);switch(d.getItem(v)){case Rs.NONE:return[te];case Rs.LOCAL:return[Gs,Ht];case Rs.SESSION:return[Ht];default:return[]}}(p,u);if(typeof self<"u"&&!d.includes(Gs)&&d.push(Gs),typeof window<"u")for(const v of[ct,Ht])d.includes(v)||d.push(v);return d.includes(te)||d.push(te),d}class cu{constructor(){this.providerId="phone",this._delegate=new ta(au($.Z.auth()))}static credential(u,d){return ta.credential(u,d)}verifyPhoneNumber(u,d){return this._delegate.verifyPhoneNumber(u,d)}unwrap(){return this._delegate}}cu.PHONE_SIGN_IN_METHOD=ta.PHONE_SIGN_IN_METHOD,cu.PROVIDER_ID=ta.PROVIDER_ID;const wc=N;class Ha{constructor(u,d,v=$.Z.app()){var x;wc(null===(x=v.options)||void 0===x?void 0:x.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new ea(u,d,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function dd(p){p.INTERNAL.registerComponent(new Ce.wA("auth-compat",u=>{const d=u.getProvider("app-compat").getImmediate(),v=u.getProvider("auth");return new Nl(d,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ri,FacebookAuthProvider:ws,GithubAuthProvider:Qs,GoogleAuthProvider:Cs,OAuthProvider:ds,SAMLAuthProvider:$i,PhoneAuthProvider:cu,PhoneMultiFactorGenerator:Zs,RecaptchaVerifier:Ha,TwitterAuthProvider:oa,Auth:Nl,AuthCredential:Er,Error:j.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),p.registerVersion("@firebase/auth-compat","0.3.1")}($.Z)},8766:(ft,Pe,F)=>{F.d(Pe,{Lj:()=>Se,X3:()=>Je});var y=F(5861);let j,ae;const Ce=new WeakMap,_e=new WeakMap,ye=new WeakMap,ne=new WeakMap,re=new WeakMap;let We={get(N,Be,pe){if(N instanceof IDBTransaction){if("done"===Be)return _e.get(N);if("objectStoreNames"===Be)return N.objectStoreNames||ye.get(N);if("store"===Be)return pe.objectStoreNames[1]?void 0:pe.objectStore(pe.objectStoreNames[0])}return Ye(N[Be])},set:(N,Be,pe)=>(N[Be]=pe,!0),has:(N,Be)=>N instanceof IDBTransaction&&("done"===Be||"store"===Be)||Be in N};function Le(N){return"function"==typeof N?function pt(N){return N!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(N)?function(...Be){return N.apply($e(this),Be),Ye(Ce.get(this))}:function(...Be){return Ye(N.apply($e(this),Be))}:function(Be,...pe){const ve=N.call($e(this),Be,...pe);return ye.set(ve,Be.sort?Be.sort():[Be]),Ye(ve)}}(N):(N instanceof IDBTransaction&&function Qe(N){if(_e.has(N))return;const Be=new Promise((pe,ve)=>{const Re=()=>{N.removeEventListener("complete",Oe),N.removeEventListener("error",at),N.removeEventListener("abort",at)},Oe=()=>{pe(),Re()},at=()=>{ve(N.error||new DOMException("AbortError","AbortError")),Re()};N.addEventListener("complete",Oe),N.addEventListener("error",at),N.addEventListener("abort",at)});_e.set(N,Be)}(N),((N,Be)=>Be.some(pe=>N instanceof pe))(N,function ue(){return j||(j=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(N,We):N)}function Ye(N){if(N instanceof IDBRequest)return function de(N){const Be=new Promise((pe,ve)=>{const Re=()=>{N.removeEventListener("success",Oe),N.removeEventListener("error",at)},Oe=()=>{pe(Ye(N.result)),Re()},at=()=>{ve(N.error),Re()};N.addEventListener("success",Oe),N.addEventListener("error",at)});return Be.then(pe=>{pe instanceof IDBCursor&&Ce.set(pe,N)}).catch(()=>{}),re.set(Be,N),Be}(N);if(ne.has(N))return ne.get(N);const Be=Le(N);return Be!==N&&(ne.set(N,Be),re.set(Be,N)),Be}const $e=N=>re.get(N);function Je(N,Be,{blocked:pe,upgrade:ve,blocking:Re,terminated:Oe}={}){const at=indexedDB.open(N,Be),ot=Ye(at);return ve&&at.addEventListener("upgradeneeded",At=>{ve(Ye(at.result),At.oldVersion,At.newVersion,Ye(at.transaction))}),pe&&at.addEventListener("blocked",()=>pe()),ot.then(At=>{Oe&&At.addEventListener("close",()=>Oe()),Re&&At.addEventListener("versionchange",()=>Re())}).catch(()=>{}),ot}function Se(N,{blocked:Be}={}){const pe=indexedDB.deleteDatabase(N);return Be&&pe.addEventListener("blocked",()=>Be()),Ye(pe).then(()=>{})}const fe=["get","getKey","getAll","getAllKeys","count"],Fe=["put","add","delete","clear"],et=new Map;function nt(N,Be){if(!(N instanceof IDBDatabase)||Be in N||"string"!=typeof Be)return;if(et.get(Be))return et.get(Be);const pe=Be.replace(/FromIndex$/,""),ve=Be!==pe,Re=Fe.includes(pe);if(!(pe in(ve?IDBIndex:IDBObjectStore).prototype)||!Re&&!fe.includes(pe))return;const Oe=function(){var at=(0,y.Z)(function*(ot,...At){const Cn=this.transaction(ot,Re?"readwrite":"readonly");let jn=Cn.store;return ve&&(jn=jn.index(At.shift())),(yield Promise.all([jn[pe](...At),Re&&Cn.done]))[0]});return function(At){return at.apply(this,arguments)}}();return et.set(Be,Oe),Oe}!function st(N){We=N(We)}(N=>({...N,get:(Be,pe,ve)=>nt(Be,pe)||N.get(Be,pe,ve),has:(Be,pe)=>!!nt(Be,pe)||N.has(Be,pe)}))},5861:(ft,Pe,F)=>{function y(j,ae,ue,ge,Ce,_e,ye){try{var ne=j[_e](ye),re=ne.value}catch(de){return void ue(de)}ne.done?ae(re):Promise.resolve(re).then(ge,Ce)}function $(j){return function(){var ae=this,ue=arguments;return new Promise(function(ge,Ce){var _e=j.apply(ae,ue);function ye(re){y(_e,ge,Ce,ye,ne,"next",re)}function ne(re){y(_e,ge,Ce,ye,ne,"throw",re)}ye(void 0)})}}F.d(Pe,{Z:()=>$})}},ft=>{ft(ft.s=4662)}]);